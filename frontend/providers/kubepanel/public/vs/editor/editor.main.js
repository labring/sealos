/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var te=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/common/event","vs/base/browser/dom","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/base/common/strings","vs/css!vs/editor/editor.main","vs/editor/common/core/position","vs/base/common/arrays","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/types","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/theme/common/themeService","vs/editor/common/core/selection","vs/platform/commands/common/commands","vs/base/common/codicons","vs/base/common/themables","vs/platform/configuration/common/configuration","vs/editor/common/languages","vs/platform/actions/common/actions","vs/platform/theme/common/colorRegistry","vs/editor/common/languages/languageConfigurationRegistry","vs/editor/browser/services/codeEditorService","vs/platform/keybinding/common/keybinding","vs/platform/registry/common/platform","vs/base/common/color","vs/editor/common/model/textModel","vs/base/browser/fastDomNode","vs/editor/common/config/editorOptions","vs/base/common/observable","vs/base/common/actions","vs/editor/common/languages/language","vs/base/common/iterator","vs/base/browser/keyboardEvent","vs/base/browser/ui/aria/aria","vs/base/common/resources","vs/platform/instantiation/common/extensions","vs/platform/notification/common/notification","vs/editor/common/model","vs/editor/common/services/model","vs/base/browser/browser","vs/base/common/objects","vs/editor/browser/view/viewPart","vs/base/common/network","vs/platform/opener/common/opener","vs/base/common/map","vs/base/common/htmlContent","vs/platform/contextview/browser/contextView","vs/base/common/stopwatch","vs/base/browser/mouseEvent","vs/base/browser/touch","vs/base/common/keyCodes","vs/base/common/linkedList","vs/editor/common/core/lineRange","vs/editor/common/services/resolverService","vs/platform/log/common/log","vs/platform/quickinput/common/quickInput","vs/base/common/arraysFind","vs/base/common/filters","vs/editor/browser/config/domFontInfo","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/platform/telemetry/common/telemetry","vs/platform/theme/common/iconRegistry","vs/editor/common/core/editorColorRegistry","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/editor/common/core/offsetRange","vs/editor/common/viewModel","vs/base/browser/ui/widget","vs/base/browser/ui/scrollbar/scrollableElement","vs/platform/progress/common/progress","vs/platform/theme/common/theme","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/platform/accessibility/common/accessibility","vs/platform/storage/common/storage","vs/base/browser/trustedTypes","vs/editor/common/tokens/lineTokens","vs/base/common/path","vs/editor/common/standaloneStrings","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/base/common/assert","vs/base/common/lazy","vs/base/common/severity","vs/editor/contrib/hover/browser/hoverTypes","vs/editor/browser/widget/diffEditor/utils","vs/editor/common/core/stringBuilder","vs/platform/clipboard/common/clipboardService","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/browser/defaultStyles","vs/base/common/decorators","vs/base/common/functional","vs/base/common/mime","vs/editor/common/diff/rangeMapping","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/base/browser/ui/list/listWidget","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/services/editorWorker","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/keybinding/common/keybindingsRegistry","vs/base/common/keybindings","vs/base/common/iconLabels","vs/editor/browser/stableEditorScroll","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/commands/replaceCommand","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/contrib/snippet/browser/snippetParser","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/observableInternal/logging","vs/base/common/hash","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/diffAlgorithm","vs/editor/common/editorFeatures","vs/editor/common/viewEventHandler","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/sash/sash","vs/base/browser/ui/toggle/toggle","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/audioCues/browser/audioCueService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/observableInternal/base","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/base/browser/markdownRenderer","vs/base/browser/ui/tree/abstractTree","vs/editor/browser/controller/textAreaInput","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/browser/coreCommands","vs/editor/contrib/message/browser/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/diff/defaultLinesDiffComputer/utils","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/contextkey/common/contextkeys","vs/platform/environment/common/environment","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/collections","vs/base/common/observableInternal/autorun","vs/base/common/ime","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/config/diffEditor","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm","vs/editor/common/diff/defaultLinesDiffComputer/heuristicSequenceOptimizations","vs/editor/common/diff/defaultLinesDiffComputer/linesSliceCharSequence","vs/editor/common/diff/defaultLinesDiffComputer/defaultLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/process","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/button/button","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/widget/diffEditor/movedBlocksLines","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/widget/diffEditor/diffEditorViewModel","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/browser/controller/mouseTarget","vs/platform/quickinput/browser/quickInputList","vs/editor/browser/widget/diffEditor/overviewRulerPart","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/browser/widget/diffEditor/decorations","vs/editor/browser/widget/diffEditor/diffEditorWidget","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableInternal/derived","vs/base/common/observableInternal/utils","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/base/common/tfIdf","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/diffEditor/accessibleDiffViewer","vs/css!vs/editor/browser/widget/diffEditor/style","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditor/delegatingEditorImpl","vs/editor/browser/widget/diffEditor/outlineModel","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/defaultLinesDiffComputer/lineSequence","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/defaultLinesDiffComputer/computeMovedLines","vs/editor/common/diff/legacyLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/hover/hoverWidget","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/hotReload","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/widget/codeEditorContributions","vs/editor/browser/widget/diffEditor/diffEditorSash","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageSelector","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor/accessibleDiffViewer","vs/nls!vs/editor/browser/widget/diffEditor/colors","vs/nls!vs/editor/browser/widget/diffEditor/decorations","vs/nls!vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditor/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditor/hideUnchangedRegionsFeature","vs/nls!vs/editor/browser/widget/diffEditor/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditor/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditor/movedBlocksLines","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/widget/diffEditor/diffEditorOptions","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/editor/browser/widget/diffEditor/renderLines","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/audioCues/browser/audioCueService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputController","vs/nls!vs/platform/quickinput/browser/quickInputList","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/browser/widget/diffEditor/hideUnchangedRegionsFeature","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/actions/common/menuService","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/widget/diffEditor/workerBasedDocumentDiffProvider","vs/editor/browser/widget/diffEditor/diffProviderFactoryService","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/actions/browser/toolbar","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/diffEditor/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditor/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/platform/quickinput/browser/quickInput","vs/platform/quickinput/browser/quickInputController","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditor/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditor/diffEditorDecorations","vs/editor/browser/widget/diffEditor/lineAlignment","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],ie=function($){for(var e=[],L=0,I=$.length;L<I;L++)e[L]=te[$[L]];return e};define(te[925],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function L(m,_,v,C){if(C=C||{},(C["vs/css"]||{}).disabled){v({});return}const i=_.toUrl(m+".css");I(m,i,()=>{v({})},n=>{typeof v.error=="function"&&v.error("Could not find "+i+".")})}e.load=L;function I(m,_,v,C){if(y(m,_)){v();return}D(m,_,v,C)}function y(m,_){const v=document.getElementsByTagName("link");for(let C=0,s=v.length;C<s;C++){const i=v[C].getAttribute("data-name"),n=v[C].getAttribute("href");if(i===m||n===_)return!0}return!1}function D(m,_,v,C){const s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("data-name",m),S(m,s,v,C),s.setAttribute("href",_),(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}function S(m,_,v,C){const s=()=>{_.removeEventListener("load",i),_.removeEventListener("error",n)},i=t=>{s(),v()},n=t=>{s(),C(t)};_.addEventListener("load",i),_.addEventListener("error",n)}});var be=this&&this.__awaiter||function($,e,L,I){function y(D){return D instanceof L?D:new L(function(S){S(D)})}return new(L||(L=Promise))(function(D,S){function m(C){try{v(I.next(C))}catch(s){S(s)}}function _(C){try{v(I.throw(C))}catch(s){S(s)}}function v(C){C.done?D(C.value):y(C.value).then(m,_)}v((I=I.apply($,e||[])).next())})};define(te[3],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize=void 0;let L=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const I="i-default";function y(t,r){let u;return r.length===0?u=t:u=t.replace(/\{(\d+)\}/g,(f,d)=>{const l=d[0],o=r[l];let c=f;return typeof o=="string"?c=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(c=String(o)),c}),L&&(u="\uFF3B"+u.replace(/[aouei]/g,"$&$&")+"\uFF3D"),u}function D(t,r){let u=t[r];return u||(u=t["*"],u)?u:null}function S(t){return t.charAt(t.length-1)==="/"?t:t+"/"}function m(t,r,u){return be(this,void 0,void 0,function*(){const f=S(t)+S(r)+"vscode/"+S(u),d=yield fetch(f);if(d.ok)return yield d.json();throw new Error(`${d.status} - ${d.statusText}`)})}function _(t){return function(r,u){const f=Array.prototype.slice.call(arguments,2);return y(t[r],f)}}function v(t,r,...u){return y(r,u)}e.localize=v;function C(t){}e.getConfiguredDefaultLocale=C;function s(t){L=t}e.setPseudoTranslation=s;function i(t,r){var u;return{localize:_(r[t]),getConfiguredDefaultLocale:(u=r.getConfiguredDefaultLocale)!==null&&u!==void 0?u:f=>{}}}e.create=i;function n(t,r,u,f){var d;const l=(d=f["vs/nls"])!==null&&d!==void 0?d:{};if(!t||t.length===0)return u({localize:v,getConfiguredDefaultLocale:()=>{var h;return(h=l.availableLanguages)===null||h===void 0?void 0:h["*"]}});const o=l.availableLanguages?D(l.availableLanguages,t):null,c=o===null||o===I;let a=".nls";c||(a=a+"."+o);const g=h=>{Array.isArray(h)?h.localize=_(h):h.localize=_(h[t]),h.getConfiguredDefaultLocale=()=>{var p;return(p=l.availableLanguages)===null||p===void 0?void 0:p["*"]},u(h)};typeof l.loadBundle=="function"?l.loadBundle(t,o,(h,p)=>{h?r([t+".nls"],g):g(p)}):l.translationServiceUrl&&!c?be(this,void 0,void 0,function*(){var h;try{const p=yield m(l.translationServiceUrl,o,t);return g(p)}catch(p){if(!o.includes("-"))return console.error(p),r([t+".nls"],g);try{const b=o.split("-")[0],w=yield m(l.translationServiceUrl,b,t);return(h=l.availableLanguages)!==null&&h!==void 0||(l.availableLanguages={}),l.availableLanguages["*"]=b,g(w)}catch(b){return console.error(b),r([t+".nls"],g)}}}):r([t+a],g,h=>{if(a===".nls"){console.error("Failed trying to load default language strings",h);return}console.error(`Failed to load message bundle for language ${o}. Falling back to the default language:`,h),r([t+".nls"],g)})}e.load=n});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Wt,setPrototypeOf:Vt,isFrozen:Yt,getPrototypeOf:Qt,getOwnPropertyDescriptor:Xt}=Object;let{freeze:ut,seal:pt,create:Jt}=Object,{apply:At,construct:Rt}=typeof Reflect<"u"&&Reflect;At||(At=function(e,L,I){return e.apply(L,I)}),ut||(ut=function(e){return e}),pt||(pt=function(e){return e}),Rt||(Rt=function(e,L){return new e(...L)});const ei=mt(Array.prototype.forEach),zt=mt(Array.prototype.pop),It=mt(Array.prototype.push),Tt=mt(String.prototype.toLowerCase),Pt=mt(String.prototype.toString),ti=mt(String.prototype.match),vt=mt(String.prototype.replace),ii=mt(String.prototype.indexOf),ni=mt(String.prototype.trim),gt=mt(RegExp.prototype.test),kt=si(TypeError);function mt($){return function(e){for(var L=arguments.length,I=new Array(L>1?L-1:0),y=1;y<L;y++)I[y-1]=arguments[y];return At($,e,I)}}function si($){return function(){for(var e=arguments.length,L=new Array(e),I=0;I<e;I++)L[I]=arguments[I];return Rt($,L)}}function $e($,e,L){var I;L=(I=L)!==null&&I!==void 0?I:Tt,Vt&&Vt($,null);let y=e.length;for(;y--;){let D=e[y];if(typeof D=="string"){const S=L(D);S!==D&&(Yt(e)||(e[y]=S),D=S)}$[D]=!0}return $}function Et($){const e=Jt(null);for(const[L,I]of Wt($))e[L]=I;return e}function Mt($,e){for(;$!==null;){const I=Xt($,e);if(I){if(I.get)return mt(I.get);if(typeof I.value=="function")return mt(I.value)}$=Qt($)}function L(I){return console.warn("fallback value for",I),null}return L}const Ht=ut(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ot=ut(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ft=ut(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oi=ut(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bt=ut(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ri=ut(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ut=ut(["#text"]),Kt=ut(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),xt=ut(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qt=ut(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nt=ut(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ai=pt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),li=pt(/<%[\w\W]*|[\w\W]*%>/gm),di=pt(/\${[\w\W]*}/gm),ci=pt(/^data-[\-\w.\u00B7-\uFFFF]/),ui=pt(/^aria-[\-\w]+$/),jt=pt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hi=pt(/^(?:\w+script|data):/i),gi=pt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gt=pt(/^html$/i);var $t=Object.freeze({__proto__:null,MUSTACHE_EXPR:ai,ERB_EXPR:li,TMPLIT_EXPR:di,DATA_ATTR:ci,ARIA_ATTR:ui,IS_ALLOWED_URI:jt,IS_SCRIPT_OR_DATA:hi,ATTR_WHITESPACE:gi,DOCTYPE_NAME:Gt});const fi=()=>typeof window>"u"?null:window,mi=function(e,L){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let I=null;const y="data-tt-policy-suffix";L&&L.hasAttribute(y)&&(I=L.getAttribute(y));const D="dompurify"+(I?"#"+I:"");try{return e.createPolicy(D,{createHTML(S){return S},createScriptURL(S){return S}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Zt(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fi();const e=He=>Zt(He);if(e.version="3.0.5",e.removed=[],!$||!$.document||$.document.nodeType!==9)return e.isSupported=!1,e;const L=$.document,I=L.currentScript;let{document:y}=$;const{DocumentFragment:D,HTMLTemplateElement:S,Node:m,Element:_,NodeFilter:v,NamedNodeMap:C=$.NamedNodeMap||$.MozNamedAttrMap,HTMLFormElement:s,DOMParser:i,trustedTypes:n}=$,t=_.prototype,r=Mt(t,"cloneNode"),u=Mt(t,"nextSibling"),f=Mt(t,"childNodes"),d=Mt(t,"parentNode");if(typeof S=="function"){const He=y.createElement("template");He.content&&He.content.ownerDocument&&(y=He.content.ownerDocument)}let l,o="";const{implementation:c,createNodeIterator:a,createDocumentFragment:g,getElementsByTagName:h}=y,{importNode:p}=L;let b={};e.isSupported=typeof Wt=="function"&&typeof d=="function"&&c&&c.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:w,ERB_EXPR:E,TMPLIT_EXPR:k,DATA_ATTR:M,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:T}=$t;let{IS_ALLOWED_URI:N}=$t,A=null;const P=$e({},[...Ht,...Ot,...Ft,...Bt,...Ut]);let O=null;const x=$e({},[...Kt,...xt,...qt,...Nt]);let W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,F=null,G=!0,Y=!0,ne=!1,se=!0,J=!1,q=!1,H=!1,V=!1,Z=!1,ee=!1,le=!1,ue=!0,de=!1;const ce="user-content-";let ae=!0,X=!1,K={},z=null;const Q=$e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let j=null;const re=$e({},["audio","video","img","source","image","track"]);let oe=null;const he=$e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let we=ve,Le=!1,Ee=null;const Ae=$e({},[me,pe,ve],Pt);let Re;const Be=["application/xhtml+xml","text/html"],ye="text/html";let De,fe=null;const Ce=y.createElement("form"),Me=function(Te){return Te instanceof RegExp||Te instanceof Function},Pe=function(Te){if(!(fe&&fe===Te)){if((!Te||typeof Te!="object")&&(Te={}),Te=Et(Te),Re=Be.indexOf(Te.PARSER_MEDIA_TYPE)===-1?Re=ye:Re=Te.PARSER_MEDIA_TYPE,De=Re==="application/xhtml+xml"?Pt:Tt,A="ALLOWED_TAGS"in Te?$e({},Te.ALLOWED_TAGS,De):P,O="ALLOWED_ATTR"in Te?$e({},Te.ALLOWED_ATTR,De):x,Ee="ALLOWED_NAMESPACES"in Te?$e({},Te.ALLOWED_NAMESPACES,Pt):Ae,oe="ADD_URI_SAFE_ATTR"in Te?$e(Et(he),Te.ADD_URI_SAFE_ATTR,De):he,j="ADD_DATA_URI_TAGS"in Te?$e(Et(re),Te.ADD_DATA_URI_TAGS,De):re,z="FORBID_CONTENTS"in Te?$e({},Te.FORBID_CONTENTS,De):Q,U="FORBID_TAGS"in Te?$e({},Te.FORBID_TAGS,De):{},F="FORBID_ATTR"in Te?$e({},Te.FORBID_ATTR,De):{},K="USE_PROFILES"in Te?Te.USE_PROFILES:!1,G=Te.ALLOW_ARIA_ATTR!==!1,Y=Te.ALLOW_DATA_ATTR!==!1,ne=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,se=Te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,J=Te.SAFE_FOR_TEMPLATES||!1,q=Te.WHOLE_DOCUMENT||!1,Z=Te.RETURN_DOM||!1,ee=Te.RETURN_DOM_FRAGMENT||!1,le=Te.RETURN_TRUSTED_TYPE||!1,V=Te.FORCE_BODY||!1,ue=Te.SANITIZE_DOM!==!1,de=Te.SANITIZE_NAMED_PROPS||!1,ae=Te.KEEP_CONTENT!==!1,X=Te.IN_PLACE||!1,N=Te.ALLOWED_URI_REGEXP||jt,we=Te.NAMESPACE||ve,W=Te.CUSTOM_ELEMENT_HANDLING||{},Te.CUSTOM_ELEMENT_HANDLING&&Me(Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&Me(Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&typeof Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),J&&(Y=!1),ee&&(Z=!0),K&&(A=$e({},[...Ut]),O=[],K.html===!0&&($e(A,Ht),$e(O,Kt)),K.svg===!0&&($e(A,Ot),$e(O,xt),$e(O,Nt)),K.svgFilters===!0&&($e(A,Ft),$e(O,xt),$e(O,Nt)),K.mathMl===!0&&($e(A,Bt),$e(O,qt),$e(O,Nt))),Te.ADD_TAGS&&(A===P&&(A=Et(A)),$e(A,Te.ADD_TAGS,De)),Te.ADD_ATTR&&(O===x&&(O=Et(O)),$e(O,Te.ADD_ATTR,De)),Te.ADD_URI_SAFE_ATTR&&$e(oe,Te.ADD_URI_SAFE_ATTR,De),Te.FORBID_CONTENTS&&(z===Q&&(z=Et(z)),$e(z,Te.FORBID_CONTENTS,De)),ae&&(A["#text"]=!0),q&&$e(A,["html","head","body"]),A.table&&($e(A,["tbody"]),delete U.tbody),Te.TRUSTED_TYPES_POLICY){if(typeof Te.TRUSTED_TYPES_POLICY.createHTML!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');l=Te.TRUSTED_TYPES_POLICY,o=l.createHTML("")}else l===void 0&&(l=mi(n,I)),l!==null&&typeof o=="string"&&(o=l.createHTML(""));ut&&ut(Te),fe=Te}},Se=$e({},["mi","mo","mn","ms","mtext"]),_e=$e({},["foreignobject","desc","title","annotation-xml"]),ke=$e({},["title","style","font","a","script"]),Oe=$e({},Ot);$e(Oe,Ft),$e(Oe,oi);const We=$e({},Bt);$e(We,ri);const qe=function(Te){let Fe=d(Te);(!Fe||!Fe.tagName)&&(Fe={namespaceURI:we,tagName:"template"});const Ve=Tt(Te.tagName),Ye=Tt(Fe.tagName);return Ee[Te.namespaceURI]?Te.namespaceURI===pe?Fe.namespaceURI===ve?Ve==="svg":Fe.namespaceURI===me?Ve==="svg"&&(Ye==="annotation-xml"||Se[Ye]):!!Oe[Ve]:Te.namespaceURI===me?Fe.namespaceURI===ve?Ve==="math":Fe.namespaceURI===pe?Ve==="math"&&_e[Ye]:!!We[Ve]:Te.namespaceURI===ve?Fe.namespaceURI===pe&&!_e[Ye]||Fe.namespaceURI===me&&!Se[Ye]?!1:!We[Ve]&&(ke[Ve]||!Oe[Ve]):!!(Re==="application/xhtml+xml"&&Ee[Te.namespaceURI]):!1},Ge=function(Te){It(e.removed,{element:Te});try{Te.parentNode.removeChild(Te)}catch{Te.remove()}},je=function(Te,Fe){try{It(e.removed,{attribute:Fe.getAttributeNode(Te),from:Fe})}catch{It(e.removed,{attribute:null,from:Fe})}if(Fe.removeAttribute(Te),Te==="is"&&!O[Te])if(Z||ee)try{Ge(Fe)}catch{}else try{Fe.setAttribute(Te,"")}catch{}},it=function(Te){let Fe,Ve;if(V)Te="<remove></remove>"+Te;else{const ot=ti(Te,/^[\r\n\t ]+/);Ve=ot&&ot[0]}Re==="application/xhtml+xml"&&we===ve&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");const Ye=l?l.createHTML(Te):Te;if(we===ve)try{Fe=new i().parseFromString(Ye,Re)}catch{}if(!Fe||!Fe.documentElement){Fe=c.createDocument(we,"template",null);try{Fe.documentElement.innerHTML=Le?o:Ye}catch{}}const st=Fe.body||Fe.documentElement;return Te&&Ve&&st.insertBefore(y.createTextNode(Ve),st.childNodes[0]||null),we===ve?h.call(Fe,q?"html":"body")[0]:q?Fe.documentElement:st},Ze=function(Te){return a.call(Te.ownerDocument||Te,Te,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},dt=function(Te){return Te instanceof s&&(typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof C)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"||typeof Te.hasChildNodes!="function")},at=function(Te){return typeof m=="object"?Te instanceof m:Te&&typeof Te=="object"&&typeof Te.nodeType=="number"&&typeof Te.nodeName=="string"},nt=function(Te,Fe,Ve){b[Te]&&ei(b[Te],Ye=>{Ye.call(e,Fe,Ve,fe)})},Ct=function(Te){let Fe;if(nt("beforeSanitizeElements",Te,null),dt(Te))return Ge(Te),!0;const Ve=De(Te.nodeName);if(nt("uponSanitizeElement",Te,{tagName:Ve,allowedTags:A}),Te.hasChildNodes()&&!at(Te.firstElementChild)&&(!at(Te.content)||!at(Te.content.firstElementChild))&&gt(/<[/\w]/g,Te.innerHTML)&&gt(/<[/\w]/g,Te.textContent))return Ge(Te),!0;if(!A[Ve]||U[Ve]){if(!U[Ve]&&bt(Ve)&&(W.tagNameCheck instanceof RegExp&&gt(W.tagNameCheck,Ve)||W.tagNameCheck instanceof Function&&W.tagNameCheck(Ve)))return!1;if(ae&&!z[Ve]){const Ye=d(Te)||Te.parentNode,st=f(Te)||Te.childNodes;if(st&&Ye){const ot=st.length;for(let Ue=ot-1;Ue>=0;--Ue)Ye.insertBefore(r(st[Ue],!0),u(Te))}}return Ge(Te),!0}return Te instanceof _&&!qe(Te)||(Ve==="noscript"||Ve==="noembed"||Ve==="noframes")&&gt(/<\/no(script|embed|frames)/i,Te.innerHTML)?(Ge(Te),!0):(J&&Te.nodeType===3&&(Fe=Te.textContent,Fe=vt(Fe,w," "),Fe=vt(Fe,E," "),Fe=vt(Fe,k," "),Te.textContent!==Fe&&(It(e.removed,{element:Te.cloneNode()}),Te.textContent=Fe)),nt("afterSanitizeElements",Te,null),!1)},ht=function(Te,Fe,Ve){if(ue&&(Fe==="id"||Fe==="name")&&(Ve in y||Ve in Ce))return!1;if(!(Y&&!F[Fe]&&gt(M,Fe))){if(!(G&&gt(R,Fe))){if(!O[Fe]||F[Fe]){if(!(bt(Te)&&(W.tagNameCheck instanceof RegExp&&gt(W.tagNameCheck,Te)||W.tagNameCheck instanceof Function&&W.tagNameCheck(Te))&&(W.attributeNameCheck instanceof RegExp&&gt(W.attributeNameCheck,Fe)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(Fe))||Fe==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&gt(W.tagNameCheck,Ve)||W.tagNameCheck instanceof Function&&W.tagNameCheck(Ve))))return!1}else if(!oe[Fe]){if(!gt(N,vt(Ve,T,""))){if(!((Fe==="src"||Fe==="xlink:href"||Fe==="href")&&Te!=="script"&&ii(Ve,"data:")===0&&j[Te])){if(!(ne&&!gt(B,vt(Ve,T,"")))){if(Ve)return!1}}}}}}return!0},bt=function(Te){return Te.indexOf("-")>0},ft=function(Te){let Fe,Ve,Ye,st;nt("beforeSanitizeAttributes",Te,null);const{attributes:ot}=Te;if(!ot)return;const Ue={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O};for(st=ot.length;st--;){Fe=ot[st];const{name:Ne,namespaceURI:xe}=Fe;if(Ve=Ne==="value"?Fe.value:ni(Fe.value),Ye=De(Ne),Ue.attrName=Ye,Ue.attrValue=Ve,Ue.keepAttr=!0,Ue.forceKeepAttr=void 0,nt("uponSanitizeAttribute",Te,Ue),Ve=Ue.attrValue,Ue.forceKeepAttr||(je(Ne,Te),!Ue.keepAttr))continue;if(!se&&gt(/\/>/i,Ve)){je(Ne,Te);continue}J&&(Ve=vt(Ve,w," "),Ve=vt(Ve,E," "),Ve=vt(Ve,k," "));const ze=De(Te.nodeName);if(ht(ze,Ye,Ve)){if(de&&(Ye==="id"||Ye==="name")&&(je(Ne,Te),Ve=ce+Ve),l&&typeof n=="object"&&typeof n.getAttributeType=="function"&&!xe)switch(n.getAttributeType(ze,Ye)){case"TrustedHTML":{Ve=l.createHTML(Ve);break}case"TrustedScriptURL":{Ve=l.createScriptURL(Ve);break}}try{xe?Te.setAttributeNS(xe,Ne,Ve):Te.setAttribute(Ne,Ve),zt(e.removed)}catch{}}}nt("afterSanitizeAttributes",Te,null)},_t=function He(Te){let Fe;const Ve=Ze(Te);for(nt("beforeSanitizeShadowDOM",Te,null);Fe=Ve.nextNode();)nt("uponSanitizeShadowNode",Fe,null),!Ct(Fe)&&(Fe.content instanceof D&&He(Fe.content),ft(Fe));nt("afterSanitizeShadowDOM",Te,null)};return e.sanitize=function(He){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe,Ve,Ye,st;if(Le=!He,Le&&(He="<!-->"),typeof He!="string"&&!at(He))if(typeof He.toString=="function"){if(He=He.toString(),typeof He!="string")throw kt("dirty is not a string, aborting")}else throw kt("toString is not a function");if(!e.isSupported)return He;if(H||Pe(Te),e.removed=[],typeof He=="string"&&(X=!1),X){if(He.nodeName){const Ne=De(He.nodeName);if(!A[Ne]||U[Ne])throw kt("root node is forbidden and cannot be sanitized in-place")}}else if(He instanceof m)Fe=it("<!---->"),Ve=Fe.ownerDocument.importNode(He,!0),Ve.nodeType===1&&Ve.nodeName==="BODY"||Ve.nodeName==="HTML"?Fe=Ve:Fe.appendChild(Ve);else{if(!Z&&!J&&!q&&He.indexOf("<")===-1)return l&&le?l.createHTML(He):He;if(Fe=it(He),!Fe)return Z?null:le?o:""}Fe&&V&&Ge(Fe.firstChild);const ot=Ze(X?He:Fe);for(;Ye=ot.nextNode();)Ct(Ye)||(Ye.content instanceof D&&_t(Ye.content),ft(Ye));if(X)return He;if(Z){if(ee)for(st=g.call(Fe.ownerDocument);Fe.firstChild;)st.appendChild(Fe.firstChild);else st=Fe;return(O.shadowroot||O.shadowrootmode)&&(st=p.call(L,st,!0)),st}let Ue=q?Fe.outerHTML:Fe.innerHTML;return q&&A["!doctype"]&&Fe.ownerDocument&&Fe.ownerDocument.doctype&&Fe.ownerDocument.doctype.name&&gt(Gt,Fe.ownerDocument.doctype.name)&&(Ue="<!DOCTYPE "+Fe.ownerDocument.doctype.name+`>
`+Ue),J&&(Ue=vt(Ue,w," "),Ue=vt(Ue,E," "),Ue=vt(Ue,k," ")),l&&le?l.createHTML(Ue):Ue},e.setConfig=function(He){Pe(He),H=!0},e.clearConfig=function(){fe=null,H=!1},e.isValidAttribute=function(He,Te,Fe){fe||Pe({});const Ve=De(He),Ye=De(Te);return ht(Ve,Ye,Fe)},e.addHook=function(He,Te){typeof Te=="function"&&(b[He]=b[He]||[],It(b[He],Te))},e.removeHook=function(He){if(b[He])return zt(b[He])},e.removeHooks=function(He){b[He]&&(b[He]=[])},e.removeAllHooks=function(){b={}},e}var pi=Zt();define("vs/base/browser/dompurify/dompurify",function(){return pi}),define(te[38],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class L{constructor(S){this.domNode=S,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(S){const m=I(S);this._maxWidth!==m&&(this._maxWidth=m,this.domNode.style.maxWidth=this._maxWidth)}setWidth(S){const m=I(S);this._width!==m&&(this._width=m,this.domNode.style.width=this._width)}setHeight(S){const m=I(S);this._height!==m&&(this._height=m,this.domNode.style.height=this._height)}setTop(S){const m=I(S);this._top!==m&&(this._top=m,this.domNode.style.top=this._top)}setLeft(S){const m=I(S);this._left!==m&&(this._left=m,this.domNode.style.left=this._left)}setBottom(S){const m=I(S);this._bottom!==m&&(this._bottom=m,this.domNode.style.bottom=this._bottom)}setRight(S){const m=I(S);this._right!==m&&(this._right=m,this.domNode.style.right=this._right)}setPaddingLeft(S){const m=I(S);this._paddingLeft!==m&&(this._paddingLeft=m,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(S){this._fontFamily!==S&&(this._fontFamily=S,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(S){this._fontWeight!==S&&(this._fontWeight=S,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(S){const m=I(S);this._fontSize!==m&&(this._fontSize=m,this.domNode.style.fontSize=this._fontSize)}setFontStyle(S){this._fontStyle!==S&&(this._fontStyle=S,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(S){this._fontFeatureSettings!==S&&(this._fontFeatureSettings=S,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(S){this._fontVariationSettings!==S&&(this._fontVariationSettings=S,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(S){this._textDecoration!==S&&(this._textDecoration=S,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(S){const m=I(S);this._lineHeight!==m&&(this._lineHeight=m,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(S){const m=I(S);this._letterSpacing!==m&&(this._letterSpacing=m,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(S){this._className!==S&&(this._className=S,this.domNode.className=this._className)}toggleClassName(S,m){this.domNode.classList.toggle(S,m),this._className=this.domNode.className}setDisplay(S){this._display!==S&&(this._display=S,this.domNode.style.display=this._display)}setPosition(S){this._position!==S&&(this._position=S,this.domNode.style.position=this._position)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this.domNode.style.visibility=this._visibility)}setColor(S){this._color!==S&&(this._color=S,this.domNode.style.color=this._color)}setBackgroundColor(S){this._backgroundColor!==S&&(this._backgroundColor=S,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(S){this._layerHint!==S&&(this._layerHint=S,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(S){this._boxShadow!==S&&(this._boxShadow=S,this.domNode.style.boxShadow=S)}setContain(S){this._contain!==S&&(this._contain=S,this.domNode.style.contain=this._contain)}setAttribute(S,m){this.domNode.setAttribute(S,m)}removeAttribute(S){this.domNode.removeAttribute(S)}appendChild(S){this.domNode.appendChild(S.domNode)}removeChild(S){this.domNode.removeChild(S.domNode)}}e.FastDomNode=L;function I(D){return typeof D=="number"?`${D}px`:D}function y(D){return new L(D)}e.createFastDomNode=y}),define(te[384],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let L=!1,I=null;function y(S){if(!S.parent||S.parent===S)return null;try{const m=S.location,_=S.parent.location;if(m.origin!=="null"&&_.origin!=="null"&&m.origin!==_.origin)return L=!0,null}catch{return L=!0,null}return S.parent}class D{static getSameOriginWindowChain(){if(!I){I=[];let m=window,_;do _=y(m),_?I.push({window:m,iframeElement:m.frameElement||null}):I.push({window:m,iframeElement:null}),m=_;while(m)}return I.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(m,_){if(!_||m===_)return{top:0,left:0};let v=0,C=0;const s=this.getSameOriginWindowChain();for(const i of s){if(v+=i.window.scrollY,C+=i.window.scrollX,i.window===_||!i.iframeElement)break;const n=i.iframeElement.getBoundingClientRect();v+=n.top,C+=n.left}return{top:v,left:C}}}e.IframeUtils=D}),define(te[258],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var L;(function(I){const y={total:0,min:Number.MAX_VALUE,max:0},D=Object.assign({},y),S=Object.assign({},y),m=Object.assign({},y);let _=0;const v={keydown:0,input:0,render:0};function C(){o(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),v.keydown=1,queueMicrotask(s)}I.onKeyDown=C;function s(){v.keydown===1&&(performance.mark("keydown/end"),v.keydown=2)}function i(){performance.mark("input/start"),v.input=1,l()}I.onBeforeInput=i;function n(){v.input===0&&i(),queueMicrotask(t)}I.onInput=n;function t(){v.input===1&&(performance.mark("input/end"),v.input=2)}function r(){o()}I.onKeyUp=r;function u(){o()}I.onSelectionChange=u;function f(){v.keydown===2&&v.input===2&&v.render===0&&(performance.mark("render/start"),v.render=1,queueMicrotask(d),l())}I.onRenderStart=f;function d(){v.render===1&&(performance.mark("render/end"),v.render=2)}function l(){setTimeout(o)}function o(){v.keydown===2&&v.input===2&&v.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),c("keydown",y),c("input",D),c("render",S),c("inputlatency",m),_++,a())}function c(b,w){const E=performance.getEntriesByName(b)[0].duration;w.total+=E,w.min=Math.min(w.min,E),w.max=Math.max(w.max,E)}function a(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),v.keydown=0,v.input=0,v.render=0}function g(){if(_===0)return;const b={keydown:h(y),input:h(D),render:h(S),total:h(m),sampleCount:_};return p(y),p(D),p(S),p(m),_=0,b}I.getAndClearMeasurements=g;function h(b){return{average:b.total/_,max:b.max,min:b.min}}function p(b){b.total=0,b.min=Number.MAX_VALUE,b.max=0}})(L||(e.inputLatency=L={}))}),define(te[385],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class L extends Error{constructor(y,D){super(`ListError [${y}] ${D}`)}}e.ListError=L}),define(te[386],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class L{constructor(y){this.spliceables=y}splice(y,D,S){this.spliceables.forEach(m=>m.splice(y,D,S))}}e.CombinedSpliceable=L}),define(te[195],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const L=20;class I{constructor(D,S,m,_,v,C){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(m),this._arrowSize=Math.round(D),this._visibleSize=_,this._scrollSize=v,this._scrollPosition=C,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new I(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const S=Math.round(D);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(D){const S=Math.round(D);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const S=Math.round(D);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,S,m,_,v){const C=Math.max(0,m-D),s=Math.max(0,C-2*S),i=_>0&&_>m;if(!i)return{computedAvailableSize:Math.round(C),computedIsNeeded:i,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const n=Math.round(Math.max(L,Math.floor(m*s/_))),t=(s-n)/(_-m),r=v*t;return{computedAvailableSize:Math.round(C),computedIsNeeded:i,computedSliderSize:Math.round(n),computedSliderRatio:t,computedSliderPosition:Math.round(r)}}_refreshComputedValues(){const D=I._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize;let m=this._scrollPosition;return S<this._computedSliderPosition?m-=this._visibleSize:m+=this._visibleSize,m}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+D;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=I}),define(te[137],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var L;(function(S){S[S.Expanded=0]="Expanded",S[S.Collapsed=1]="Collapsed",S[S.PreserveOrExpanded=2]="PreserveOrExpanded",S[S.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(L||(e.ObjectTreeElementCollapseState=L={}));var I;(function(S){S[S.Unknown=0]="Unknown",S[S.Twistie=1]="Twistie",S[S.Element=2]="Element",S[S.Filter=3]="Filter"})(I||(e.TreeMouseEventTarget=I={}));class y extends Error{constructor(m,_){super(`TreeError [${m}] ${_}`)}}e.TreeError=y;class D{constructor(m){this.fn=m,this._map=new WeakMap}map(m){let _=this._map.get(m);return _||(_=this.fn(m),this._map.set(m,_)),_}}e.WeakMapper=D}),define(te[13],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackIterable=e.ArrayQueue=e.reverseOrder=e.booleanComparator=e.numberComparator=e.tieBreakComparators=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesceInPlace=e.coalesce=e.forEachWithNeighbors=e.forEachAdjacent=e.groupAdjacentBy=e.groupBy=e.quickSelect=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function L(P,O=0){return P[P.length-(1+O)]}e.tail=L;function I(P){if(P.length===0)throw new Error("Invalid tail call");return[P.slice(0,P.length-1),P[P.length-1]]}e.tail2=I;function y(P,O,x=(W,U)=>W===U){if(P===O)return!0;if(!P||!O||P.length!==O.length)return!1;for(let W=0,U=P.length;W<U;W++)if(!x(P[W],O[W]))return!1;return!0}e.equals=y;function D(P,O){const x=P.length-1;O<x&&(P[O]=P[x]),P.pop()}e.removeFastWithoutKeepingOrder=D;function S(P,O,x){return m(P.length,W=>x(P[W],O))}e.binarySearch=S;function m(P,O){let x=0,W=P-1;for(;x<=W;){const U=(x+W)/2|0,F=O(U);if(F<0)x=U+1;else if(F>0)W=U-1;else return U}return-(x+1)}e.binarySearch2=m;function _(P,O,x){if(P=P|0,P>=O.length)throw new TypeError("invalid index");const W=O[Math.floor(O.length*Math.random())],U=[],F=[],G=[];for(const Y of O){const ne=x(Y,W);ne<0?U.push(Y):ne>0?F.push(Y):G.push(Y)}return P<U.length?_(P,U,x):P<U.length+G.length?G[0]:_(P-(U.length+G.length),F,x)}e.quickSelect=_;function v(P,O){const x=[];let W;for(const U of P.slice(0).sort(O))!W||O(W[0],U)!==0?(W=[U],x.push(W)):W.push(U);return x}e.groupBy=v;function*C(P,O){let x,W;for(const U of P)W!==void 0&&O(W,U)?x.push(U):(x&&(yield x),x=[U]),W=U;x&&(yield x)}e.groupAdjacentBy=C;function s(P,O){for(let x=0;x<=P.length;x++)O(x===0?void 0:P[x-1],x===P.length?void 0:P[x])}e.forEachAdjacent=s;function i(P,O){for(let x=0;x<P.length;x++)O(x===0?void 0:P[x-1],P[x],x+1===P.length?void 0:P[x+1])}e.forEachWithNeighbors=i;function n(P){return P.filter(O=>!!O)}e.coalesce=n;function t(P){let O=0;for(let x=0;x<P.length;x++)P[x]&&(P[O]=P[x],O+=1);P.length=O}e.coalesceInPlace=t;function r(P){return!Array.isArray(P)||P.length===0}e.isFalsyOrEmpty=r;function u(P){return Array.isArray(P)&&P.length>0}e.isNonEmptyArray=u;function f(P,O=x=>x){const x=new Set;return P.filter(W=>{const U=O(W);return x.has(U)?!1:(x.add(U),!0)})}e.distinct=f;function d(P,O){return P.length>0?P[0]:O}e.firstOrDefault=d;function l(P,O){let x=typeof O=="number"?P:0;typeof O=="number"?x=P:(x=0,O=P);const W=[];if(x<=O)for(let U=x;U<O;U++)W.push(U);else for(let U=x;U>O;U--)W.push(U);return W}e.range=l;function o(P,O,x){const W=P.slice(0,O),U=P.slice(O);return W.concat(x,U)}e.arrayInsert=o;function c(P,O){const x=P.indexOf(O);x>-1&&(P.splice(x,1),P.unshift(O))}e.pushToStart=c;function a(P,O){const x=P.indexOf(O);x>-1&&(P.splice(x,1),P.push(O))}e.pushToEnd=a;function g(P,O){for(const x of O)P.push(x)}e.pushMany=g;function h(P){return Array.isArray(P)?P:[P]}e.asArray=h;function p(P,O,x){const W=w(P,O),U=P.length,F=x.length;P.length=U+F;for(let G=U-1;G>=W;G--)P[G+F]=P[G];for(let G=0;G<F;G++)P[G+W]=x[G]}e.insertInto=p;function b(P,O,x,W){const U=w(P,O);let F=P.splice(U,x);return F===void 0&&(F=[]),p(P,U,W),F}e.splice=b;function w(P,O){return O<0?Math.max(O+P.length,0):Math.min(O,P.length)}var E;(function(P){function O(F){return F<0}P.isLessThan=O;function x(F){return F<=0}P.isLessThanOrEqual=x;function W(F){return F>0}P.isGreaterThan=W;function U(F){return F===0}P.isNeitherLessOrGreaterThan=U,P.greaterThan=1,P.lessThan=-1,P.neitherLessOrGreaterThan=0})(E||(e.CompareResult=E={}));function k(P,O){return(x,W)=>O(P(x),P(W))}e.compareBy=k;function M(...P){return(O,x)=>{for(const W of P){const U=W(O,x);if(!E.isNeitherLessOrGreaterThan(U))return U}return E.neitherLessOrGreaterThan}}e.tieBreakComparators=M;const R=(P,O)=>P-O;e.numberComparator=R;const B=(P,O)=>(0,e.numberComparator)(P?1:0,O?1:0);e.booleanComparator=B;function T(P){return(O,x)=>-P(O,x)}e.reverseOrder=T;class N{constructor(O){this.items=O,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(O){let x=this.firstIdx;for(;x<this.items.length&&O(this.items[x]);)x++;const W=x===this.firstIdx?null:this.items.slice(this.firstIdx,x);return this.firstIdx=x,W}takeFromEndWhile(O){let x=this.lastIdx;for(;x>=0&&O(this.items[x]);)x--;const W=x===this.lastIdx?null:this.items.slice(x+1,this.lastIdx+1);return this.lastIdx=x,W}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const O=this.items[this.firstIdx];return this.firstIdx++,O}takeCount(O){const x=this.items.slice(this.firstIdx,this.firstIdx+O);return this.firstIdx+=O,x}}e.ArrayQueue=N;class A{constructor(O){this.iterate=O}toArray(){const O=[];return this.iterate(x=>(O.push(x),!0)),O}filter(O){return new A(x=>this.iterate(W=>O(W)?x(W):!0))}map(O){return new A(x=>this.iterate(W=>x(O(W))))}findLast(O){let x;return this.iterate(W=>(O(W)&&(x=W),!0)),x}findLastMaxBy(O){let x,W=!0;return this.iterate(U=>((W||E.isGreaterThan(O(U,x)))&&(W=!1,x=U),!0)),x}}e.CallbackIterable=A,A.empty=new A(P=>{})}),define(te[68],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapFindFirst=e.findMaxIdxBy=e.findFirstMinBy=e.findLastMaxBy=e.findFirstMaxBy=e.MonotonousArray=e.findFirstIdxMonotonousOrArrLen=e.findFirstMonotonous=e.findLastIdxMonotonous=e.findLastMonotonous=e.findLastIdx=e.findLast=void 0;function L(t,r,u){const f=I(t,r);if(f!==-1)return t[f]}e.findLast=L;function I(t,r,u=t.length-1){for(let f=u;f>=0;f--){const d=t[f];if(r(d))return f}return-1}e.findLastIdx=I;function y(t,r){const u=D(t,r);return u===-1?void 0:t[u]}e.findLastMonotonous=y;function D(t,r,u=0,f=t.length){let d=u,l=f;for(;d<l;){const o=Math.floor((d+l)/2);r(t[o])?d=o+1:l=o}return d-1}e.findLastIdxMonotonous=D;function S(t,r){const u=m(t,r);return u===t.length?void 0:t[u]}e.findFirstMonotonous=S;function m(t,r,u=0,f=t.length){let d=u,l=f;for(;d<l;){const o=Math.floor((d+l)/2);r(t[o])?l=o:d=o+1}return d}e.findFirstIdxMonotonousOrArrLen=m;class _{constructor(r){this._array=r,this._findLastMonotonousLastIdx=0}findLastMonotonous(r){if(_.assertInvariants){if(this._prevFindLastPredicate){for(const f of this._array)if(this._prevFindLastPredicate(f)&&!r(f))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=r}const u=D(this._array,r,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=u+1,u===-1?void 0:this._array[u]}}e.MonotonousArray=_,_.assertInvariants=!1;function v(t,r){if(t.length===0)return;let u=t[0];for(let f=1;f<t.length;f++){const d=t[f];r(d,u)>0&&(u=d)}return u}e.findFirstMaxBy=v;function C(t,r){if(t.length===0)return;let u=t[0];for(let f=1;f<t.length;f++){const d=t[f];r(d,u)>=0&&(u=d)}return u}e.findLastMaxBy=C;function s(t,r){return v(t,(u,f)=>-r(u,f))}e.findFirstMinBy=s;function i(t,r){if(t.length===0)return-1;let u=0;for(let f=1;f<t.length;f++){const d=t[f];r(d,t[u])>0&&(u=f)}return u}e.findMaxIdxBy=i;function n(t,r){for(const u of t){const f=r(u);if(f!==void 0)return f}}e.mapFindFirst=n}),define(te[259],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class L{constructor(D){this.fn=D,this.lastCache=void 0,this.lastArgKey=void 0}get(D){const S=JSON.stringify(D);return this.lastArgKey!==S&&(this.lastArgKey=S,this.lastCache=this.fn(D)),this.lastCache}}e.LRUCachedFunction=L;class I{get cachedValues(){return this._map}constructor(D){this.fn=D,this._map=new Map}get(D){if(this._map.has(D))return this._map.get(D);const S=this.fn(D);return this._map.set(D,S),S}}e.CachedFunction=I}),define(te[260],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intersection=e.diffSets=void 0;function L(y,D){const S=[],m=[];for(const _ of y)D.has(_)||S.push(_);for(const _ of D)y.has(_)||m.push(_);return{removed:S,added:m}}e.diffSets=L;function I(y,D){const S=new Set;for(const m of D)y.has(m)&&S.add(m);return S}e.intersection=I}),define(te[36],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function L(m,_){const v=Math.pow(10,_);return Math.round(m*v)/v}class I{constructor(_,v,C,s=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,_))|0,this.g=Math.min(255,Math.max(0,v))|0,this.b=Math.min(255,Math.max(0,C))|0,this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,v){return _.r===v.r&&_.g===v.g&&_.b===v.b&&_.a===v.a}}e.RGBA=I;class y{constructor(_,v,C,s){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=L(Math.max(Math.min(1,v),0),3),this.l=L(Math.max(Math.min(1,C),0),3),this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,v){return _.h===v.h&&_.s===v.s&&_.l===v.l&&_.a===v.a}static fromRGBA(_){const v=_.r/255,C=_.g/255,s=_.b/255,i=_.a,n=Math.max(v,C,s),t=Math.min(v,C,s);let r=0,u=0;const f=(t+n)/2,d=n-t;if(d>0){switch(u=Math.min(f<=.5?d/(2*f):d/(2-2*f),1),n){case v:r=(C-s)/d+(C<s?6:0);break;case C:r=(s-v)/d+2;break;case s:r=(v-C)/d+4;break}r*=60,r=Math.round(r)}return new y(r,u,f,i)}static _hue2rgb(_,v,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?_+(v-_)*6*C:C<1/2?v:C<2/3?_+(v-_)*(2/3-C)*6:_}static toRGBA(_){const v=_.h/360,{s:C,l:s,a:i}=_;let n,t,r;if(C===0)n=t=r=s;else{const u=s<.5?s*(1+C):s+C-s*C,f=2*s-u;n=y._hue2rgb(f,u,v+1/3),t=y._hue2rgb(f,u,v),r=y._hue2rgb(f,u,v-1/3)}return new I(Math.round(n*255),Math.round(t*255),Math.round(r*255),i)}}e.HSLA=y;class D{constructor(_,v,C,s){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=L(Math.max(Math.min(1,v),0),3),this.v=L(Math.max(Math.min(1,C),0),3),this.a=L(Math.max(Math.min(1,s),0),3)}static equals(_,v){return _.h===v.h&&_.s===v.s&&_.v===v.v&&_.a===v.a}static fromRGBA(_){const v=_.r/255,C=_.g/255,s=_.b/255,i=Math.max(v,C,s),n=Math.min(v,C,s),t=i-n,r=i===0?0:t/i;let u;return t===0?u=0:i===v?u=((C-s)/t%6+6)%6:i===C?u=(s-v)/t+2:u=(v-C)/t+4,new D(Math.round(u*60),r,i,_.a)}static toRGBA(_){const{h:v,s:C,v:s,a:i}=_,n=s*C,t=n*(1-Math.abs(v/60%2-1)),r=s-n;let[u,f,d]=[0,0,0];return v<60?(u=n,f=t):v<120?(u=t,f=n):v<180?(f=n,d=t):v<240?(f=t,d=n):v<300?(u=t,d=n):v<=360&&(u=n,d=t),u=Math.round((u+r)*255),f=Math.round((f+r)*255),d=Math.round((d+r)*255),new I(u,f,d,i)}}e.HSVA=D;class S{static fromHex(_){return S.Format.CSS.parseHex(_)||S.red}static equals(_,v){return!_&&!v?!0:!_||!v?!1:_.equals(v)}get hsla(){return this._hsla?this._hsla:y.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(_){if(_)if(_ instanceof I)this.rgba=_;else if(_ instanceof y)this._hsla=_,this.rgba=y.toRGBA(_);else if(_ instanceof D)this._hsva=_,this.rgba=D.toRGBA(_);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(_){return!!_&&I.equals(this.rgba,_.rgba)&&y.equals(this.hsla,_.hsla)&&D.equals(this.hsva,_.hsva)}getRelativeLuminance(){const _=S._relativeLuminanceForComponent(this.rgba.r),v=S._relativeLuminanceForComponent(this.rgba.g),C=S._relativeLuminanceForComponent(this.rgba.b),s=.2126*_+.7152*v+.0722*C;return L(s,4)}static _relativeLuminanceForComponent(_){const v=_/255;return v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(_){const v=this.getRelativeLuminance(),C=_.getRelativeLuminance();return v>C}isDarkerThan(_){const v=this.getRelativeLuminance(),C=_.getRelativeLuminance();return v<C}lighten(_){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*_,this.hsla.a))}darken(_){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*_,this.hsla.a))}transparent(_){const{r:v,g:C,b:s,a:i}=this.rgba;return new S(new I(v,C,s,i*_))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new I(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(_){if(this.isOpaque()||_.rgba.a!==1)return this;const{r:v,g:C,b:s,a:i}=this.rgba;return new S(new I(_.rgba.r-i*(_.rgba.r-v),_.rgba.g-i*(_.rgba.g-C),_.rgba.b-i*(_.rgba.b-s),1))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(_,v,C){if(_.isLighterThan(v))return _;C=C||.5;const s=_.getRelativeLuminance(),i=v.getRelativeLuminance();return C=C*(i-s)/i,_.lighten(C)}static getDarkerColor(_,v,C){if(_.isDarkerThan(v))return _;C=C||.5;const s=_.getRelativeLuminance(),i=v.getRelativeLuminance();return C=C*(s-i)/s,_.darken(C)}}e.Color=S,S.white=new S(new I(255,255,255,1)),S.black=new S(new I(0,0,0,1)),S.red=new S(new I(255,0,0,1)),S.blue=new S(new I(0,0,255,1)),S.green=new S(new I(0,255,0,1)),S.cyan=new S(new I(0,255,255,1)),S.lightgrey=new S(new I(211,211,211,1)),S.transparent=new S(new I(0,0,0,0)),function(m){let _;(function(v){let C;(function(s){function i(a){return a.rgba.a===1?`rgb(${a.rgba.r}, ${a.rgba.g}, ${a.rgba.b})`:m.Format.CSS.formatRGBA(a)}s.formatRGB=i;function n(a){return`rgba(${a.rgba.r}, ${a.rgba.g}, ${a.rgba.b}, ${+a.rgba.a.toFixed(2)})`}s.formatRGBA=n;function t(a){return a.hsla.a===1?`hsl(${a.hsla.h}, ${(a.hsla.s*100).toFixed(2)}%, ${(a.hsla.l*100).toFixed(2)}%)`:m.Format.CSS.formatHSLA(a)}s.formatHSL=t;function r(a){return`hsla(${a.hsla.h}, ${(a.hsla.s*100).toFixed(2)}%, ${(a.hsla.l*100).toFixed(2)}%, ${a.hsla.a.toFixed(2)})`}s.formatHSLA=r;function u(a){const g=a.toString(16);return g.length!==2?"0"+g:g}function f(a){return`#${u(a.rgba.r)}${u(a.rgba.g)}${u(a.rgba.b)}`}s.formatHex=f;function d(a,g=!1){return g&&a.rgba.a===1?m.Format.CSS.formatHex(a):`#${u(a.rgba.r)}${u(a.rgba.g)}${u(a.rgba.b)}${u(Math.round(a.rgba.a*255))}`}s.formatHexA=d;function l(a){return a.isOpaque()?m.Format.CSS.formatHex(a):m.Format.CSS.formatRGBA(a)}s.format=l;function o(a){const g=a.length;if(g===0||a.charCodeAt(0)!==35)return null;if(g===7){const h=16*c(a.charCodeAt(1))+c(a.charCodeAt(2)),p=16*c(a.charCodeAt(3))+c(a.charCodeAt(4)),b=16*c(a.charCodeAt(5))+c(a.charCodeAt(6));return new m(new I(h,p,b,1))}if(g===9){const h=16*c(a.charCodeAt(1))+c(a.charCodeAt(2)),p=16*c(a.charCodeAt(3))+c(a.charCodeAt(4)),b=16*c(a.charCodeAt(5))+c(a.charCodeAt(6)),w=16*c(a.charCodeAt(7))+c(a.charCodeAt(8));return new m(new I(h,p,b,w/255))}if(g===4){const h=c(a.charCodeAt(1)),p=c(a.charCodeAt(2)),b=c(a.charCodeAt(3));return new m(new I(16*h+h,16*p+p,16*b+b))}if(g===5){const h=c(a.charCodeAt(1)),p=c(a.charCodeAt(2)),b=c(a.charCodeAt(3)),w=c(a.charCodeAt(4));return new m(new I(16*h+h,16*p+p,16*b+b,(16*w+w)/255))}return null}s.parseHex=o;function c(a){switch(a){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(C=v.CSS||(v.CSS={}))})(_=m.Format||(m.Format={}))}(S||(e.Color=S={}))}),define(te[105],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function L(I,y,D){let S=null,m=null;if(typeof D.value=="function"?(S="value",m=D.value,m.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(S="get",m=D.get),!m)throw new Error("not supported");const _=`$memoize$${y}`;D[S]=function(...v){return this.hasOwnProperty(_)||Object.defineProperty(this,_,{configurable:!1,enumerable:!1,writable:!1,value:m.apply(this,v)}),this[_]}}e.memoize=L}),define(te[387],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class L{constructor(y,D,S,m){this.originalStart=y,this.originalLength=D,this.modifiedStart=S,this.modifiedLength=m}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=L}),define(te[9],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class L{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(u){setTimeout(()=>{throw u.stack?n.isErrorNoTelemetry(u)?new n(u.message+`

`+u.stack):new Error(u.message+`

`+u.stack):u},0)}}emit(u){this.listeners.forEach(f=>{f(u)})}onUnexpectedError(u){this.unexpectedErrorHandler(u),this.emit(u)}onUnexpectedExternalError(u){this.unexpectedErrorHandler(u)}}e.ErrorHandler=L,e.errorHandler=new L;function I(r){m(r)||e.errorHandler.onUnexpectedError(r)}e.onUnexpectedError=I;function y(r){m(r)||e.errorHandler.onUnexpectedExternalError(r)}e.onUnexpectedExternalError=y;function D(r){if(r instanceof Error){const{name:u,message:f}=r,d=r.stacktrace||r.stack;return{$isError:!0,name:u,message:f,stack:d,noTelemetry:n.isErrorNoTelemetry(r)}}return r}e.transformErrorForSerialization=D;const S="Canceled";function m(r){return r instanceof _?!0:r instanceof Error&&r.name===S&&r.message===S}e.isCancellationError=m;class _ extends Error{constructor(){super(S),this.name=this.message}}e.CancellationError=_;function v(){const r=new Error(S);return r.name=r.message,r}e.canceled=v;function C(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}e.illegalArgument=C;function s(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}e.illegalState=s;class i extends Error{constructor(u){super("NotSupported"),u&&(this.message=u)}}e.NotSupportedError=i;class n extends Error{constructor(u){super(u),this.name="CodeExpectedError"}static fromError(u){if(u instanceof n)return u;const f=new n;return f.message=u.message,f.stack=u.stack,f}static isErrorNoTelemetry(u){return u.name==="CodeExpectedError"}}e.ErrorNoTelemetry=n;class t extends Error{constructor(u){super(u||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}}e.BugIndicatingError=t}),define(te[90],ie([1,0,9]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=void 0;function I(y,D){var S;const m=globalThis.MonacoEnvironment;if(m?.createTrustedTypesPolicy)try{return m.createTrustedTypesPolicy(y,D)}catch(_){(0,L.onUnexpectedError)(_);return}try{return(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy(y,D)}catch(_){(0,L.onUnexpectedError)(_);return}}e.createTrustedTypesPolicy=I}),define(te[96],ie([1,0,9]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkAdjacentItems=e.assertFn=e.assertNever=e.ok=void 0;function I(m,_){if(!m)throw new Error(_?`Assertion failed (${_})`:"Assertion Failed")}e.ok=I;function y(m,_="Unreachable"){throw new Error(_)}e.assertNever=y;function D(m){if(!m()){debugger;m(),(0,L.onUnexpectedError)(new L.BugIndicatingError("Assertion Failed"))}}e.assertFn=D;function S(m,_){let v=0;for(;v<m.length-1;){const C=m[v],s=m[v+1];if(!_(C,s))return!1;v++}return!0}e.checkAdjacentItems=S}),define(te[106],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSingleCallFunction=void 0;function L(I){const y=this;let D=!1,S;return function(){return D||(D=!0,S=I.apply(y,arguments)),S}}e.createSingleCallFunction=L}),define(te[163],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class L{constructor(y){this._prefix=y,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=L,e.defaultGenerator=new L("id#")}),define(te[43],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var L;(function(I){function y(c){return c&&typeof c=="object"&&typeof c[Symbol.iterator]=="function"}I.is=y;const D=Object.freeze([]);function S(){return D}I.empty=S;function*m(c){yield c}I.single=m;function _(c){return y(c)?c:m(c)}I.wrap=_;function v(c){return c||D}I.from=v;function*C(c){for(let a=c.length-1;a>=0;a--)yield c[a]}I.reverse=C;function s(c){return!c||c[Symbol.iterator]().next().done===!0}I.isEmpty=s;function i(c){return c[Symbol.iterator]().next().value}I.first=i;function n(c,a){for(const g of c)if(a(g))return!0;return!1}I.some=n;function t(c,a){for(const g of c)if(a(g))return g}I.find=t;function*r(c,a){for(const g of c)a(g)&&(yield g)}I.filter=r;function*u(c,a){let g=0;for(const h of c)yield a(h,g++)}I.map=u;function*f(...c){for(const a of c)for(const g of a)yield g}I.concat=f;function d(c,a,g){let h=g;for(const p of c)h=a(h,p);return h}I.reduce=d;function*l(c,a,g=c.length){for(a<0&&(a+=c.length),g<0?g+=c.length:g>c.length&&(g=c.length);a<g;a++)yield c[a]}I.slice=l;function o(c,a=Number.POSITIVE_INFINITY){const g=[];if(a===0)return[g,c];const h=c[Symbol.iterator]();for(let p=0;p<a;p++){const b=h.next();if(b.done)return[g,I.empty()];g.push(b.value)}return[g,{[Symbol.iterator](){return h}}]}I.consume=o})(L||(e.Iterable=L={}))}),define(te[62],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class L{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(i,n){this._keyCodeToStr[i]=n,this._strToKeyCode[n.toLowerCase()]=i}keyCodeToStr(i){return this._keyCodeToStr[i]}strToKeyCode(i){return this._strToKeyCode[i.toLowerCase()]||0}}const I=new L,y=new L,D=new L;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const S=[],m=Object.create(null),_=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let s=0;s<=193;s++)e.IMMUTABLE_CODE_TO_KEY_CODE[s]=-1;for(let s=0;s<=132;s++)e.IMMUTABLE_KEY_CODE_TO_CODE[s]=-1;(function(){const s="",i=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",s,s],[1,1,"Hyper",0,s,0,s,s,s],[1,2,"Super",0,s,0,s,s,s],[1,3,"Fn",0,s,0,s,s,s],[1,4,"FnLock",0,s,0,s,s,s],[1,5,"Suspend",0,s,0,s,s,s],[1,6,"Resume",0,s,0,s,s,s],[1,7,"Turbo",0,s,0,s,s,s],[1,8,"Sleep",0,s,0,"VK_SLEEP",s,s],[1,9,"WakeUp",0,s,0,s,s,s],[0,10,"KeyA",31,"A",65,"VK_A",s,s],[0,11,"KeyB",32,"B",66,"VK_B",s,s],[0,12,"KeyC",33,"C",67,"VK_C",s,s],[0,13,"KeyD",34,"D",68,"VK_D",s,s],[0,14,"KeyE",35,"E",69,"VK_E",s,s],[0,15,"KeyF",36,"F",70,"VK_F",s,s],[0,16,"KeyG",37,"G",71,"VK_G",s,s],[0,17,"KeyH",38,"H",72,"VK_H",s,s],[0,18,"KeyI",39,"I",73,"VK_I",s,s],[0,19,"KeyJ",40,"J",74,"VK_J",s,s],[0,20,"KeyK",41,"K",75,"VK_K",s,s],[0,21,"KeyL",42,"L",76,"VK_L",s,s],[0,22,"KeyM",43,"M",77,"VK_M",s,s],[0,23,"KeyN",44,"N",78,"VK_N",s,s],[0,24,"KeyO",45,"O",79,"VK_O",s,s],[0,25,"KeyP",46,"P",80,"VK_P",s,s],[0,26,"KeyQ",47,"Q",81,"VK_Q",s,s],[0,27,"KeyR",48,"R",82,"VK_R",s,s],[0,28,"KeyS",49,"S",83,"VK_S",s,s],[0,29,"KeyT",50,"T",84,"VK_T",s,s],[0,30,"KeyU",51,"U",85,"VK_U",s,s],[0,31,"KeyV",52,"V",86,"VK_V",s,s],[0,32,"KeyW",53,"W",87,"VK_W",s,s],[0,33,"KeyX",54,"X",88,"VK_X",s,s],[0,34,"KeyY",55,"Y",89,"VK_Y",s,s],[0,35,"KeyZ",56,"Z",90,"VK_Z",s,s],[0,36,"Digit1",22,"1",49,"VK_1",s,s],[0,37,"Digit2",23,"2",50,"VK_2",s,s],[0,38,"Digit3",24,"3",51,"VK_3",s,s],[0,39,"Digit4",25,"4",52,"VK_4",s,s],[0,40,"Digit5",26,"5",53,"VK_5",s,s],[0,41,"Digit6",27,"6",54,"VK_6",s,s],[0,42,"Digit7",28,"7",55,"VK_7",s,s],[0,43,"Digit8",29,"8",56,"VK_8",s,s],[0,44,"Digit9",30,"9",57,"VK_9",s,s],[0,45,"Digit0",21,"0",48,"VK_0",s,s],[1,46,"Enter",3,"Enter",13,"VK_RETURN",s,s],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",s,s],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",s,s],[1,49,"Tab",2,"Tab",9,"VK_TAB",s,s],[1,50,"Space",10,"Space",32,"VK_SPACE",s,s],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,s,0,s,s,s],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",s,s],[1,64,"F1",59,"F1",112,"VK_F1",s,s],[1,65,"F2",60,"F2",113,"VK_F2",s,s],[1,66,"F3",61,"F3",114,"VK_F3",s,s],[1,67,"F4",62,"F4",115,"VK_F4",s,s],[1,68,"F5",63,"F5",116,"VK_F5",s,s],[1,69,"F6",64,"F6",117,"VK_F6",s,s],[1,70,"F7",65,"F7",118,"VK_F7",s,s],[1,71,"F8",66,"F8",119,"VK_F8",s,s],[1,72,"F9",67,"F9",120,"VK_F9",s,s],[1,73,"F10",68,"F10",121,"VK_F10",s,s],[1,74,"F11",69,"F11",122,"VK_F11",s,s],[1,75,"F12",70,"F12",123,"VK_F12",s,s],[1,76,"PrintScreen",0,s,0,s,s,s],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",s,s],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",s,s],[1,79,"Insert",19,"Insert",45,"VK_INSERT",s,s],[1,80,"Home",14,"Home",36,"VK_HOME",s,s],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",s,s],[1,82,"Delete",20,"Delete",46,"VK_DELETE",s,s],[1,83,"End",13,"End",35,"VK_END",s,s],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",s,s],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",s],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",s],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",s],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",s],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",s,s],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",s,s],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",s,s],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",s,s],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",s,s],[1,94,"NumpadEnter",3,s,0,s,s,s],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",s,s],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",s,s],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",s,s],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",s,s],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",s,s],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",s,s],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",s,s],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",s,s],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",s,s],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",s,s],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",s,s],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",s,s],[1,107,"ContextMenu",58,"ContextMenu",93,s,s,s],[1,108,"Power",0,s,0,s,s,s],[1,109,"NumpadEqual",0,s,0,s,s,s],[1,110,"F13",71,"F13",124,"VK_F13",s,s],[1,111,"F14",72,"F14",125,"VK_F14",s,s],[1,112,"F15",73,"F15",126,"VK_F15",s,s],[1,113,"F16",74,"F16",127,"VK_F16",s,s],[1,114,"F17",75,"F17",128,"VK_F17",s,s],[1,115,"F18",76,"F18",129,"VK_F18",s,s],[1,116,"F19",77,"F19",130,"VK_F19",s,s],[1,117,"F20",78,"F20",131,"VK_F20",s,s],[1,118,"F21",79,"F21",132,"VK_F21",s,s],[1,119,"F22",80,"F22",133,"VK_F22",s,s],[1,120,"F23",81,"F23",134,"VK_F23",s,s],[1,121,"F24",82,"F24",135,"VK_F24",s,s],[1,122,"Open",0,s,0,s,s,s],[1,123,"Help",0,s,0,s,s,s],[1,124,"Select",0,s,0,s,s,s],[1,125,"Again",0,s,0,s,s,s],[1,126,"Undo",0,s,0,s,s,s],[1,127,"Cut",0,s,0,s,s,s],[1,128,"Copy",0,s,0,s,s,s],[1,129,"Paste",0,s,0,s,s,s],[1,130,"Find",0,s,0,s,s,s],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",s,s],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",s,s],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",s,s],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",s,s],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",s,s],[1,136,"KanaMode",0,s,0,s,s,s],[0,137,"IntlYen",0,s,0,s,s,s],[1,138,"Convert",0,s,0,s,s,s],[1,139,"NonConvert",0,s,0,s,s,s],[1,140,"Lang1",0,s,0,s,s,s],[1,141,"Lang2",0,s,0,s,s,s],[1,142,"Lang3",0,s,0,s,s,s],[1,143,"Lang4",0,s,0,s,s,s],[1,144,"Lang5",0,s,0,s,s,s],[1,145,"Abort",0,s,0,s,s,s],[1,146,"Props",0,s,0,s,s,s],[1,147,"NumpadParenLeft",0,s,0,s,s,s],[1,148,"NumpadParenRight",0,s,0,s,s,s],[1,149,"NumpadBackspace",0,s,0,s,s,s],[1,150,"NumpadMemoryStore",0,s,0,s,s,s],[1,151,"NumpadMemoryRecall",0,s,0,s,s,s],[1,152,"NumpadMemoryClear",0,s,0,s,s,s],[1,153,"NumpadMemoryAdd",0,s,0,s,s,s],[1,154,"NumpadMemorySubtract",0,s,0,s,s,s],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",s,s],[1,156,"NumpadClearEntry",0,s,0,s,s,s],[1,0,s,5,"Ctrl",17,"VK_CONTROL",s,s],[1,0,s,4,"Shift",16,"VK_SHIFT",s,s],[1,0,s,6,"Alt",18,"VK_MENU",s,s],[1,0,s,57,"Meta",91,"VK_COMMAND",s,s],[1,157,"ControlLeft",5,s,0,"VK_LCONTROL",s,s],[1,158,"ShiftLeft",4,s,0,"VK_LSHIFT",s,s],[1,159,"AltLeft",6,s,0,"VK_LMENU",s,s],[1,160,"MetaLeft",57,s,0,"VK_LWIN",s,s],[1,161,"ControlRight",5,s,0,"VK_RCONTROL",s,s],[1,162,"ShiftRight",4,s,0,"VK_RSHIFT",s,s],[1,163,"AltRight",6,s,0,"VK_RMENU",s,s],[1,164,"MetaRight",57,s,0,"VK_RWIN",s,s],[1,165,"BrightnessUp",0,s,0,s,s,s],[1,166,"BrightnessDown",0,s,0,s,s,s],[1,167,"MediaPlay",0,s,0,s,s,s],[1,168,"MediaRecord",0,s,0,s,s,s],[1,169,"MediaFastForward",0,s,0,s,s,s],[1,170,"MediaRewind",0,s,0,s,s,s],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",s,s],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",s,s],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",s,s],[1,174,"Eject",0,s,0,s,s,s],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",s,s],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",s,s],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",s,s],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",s,s],[1,179,"LaunchApp1",0,s,0,"VK_MEDIA_LAUNCH_APP1",s,s],[1,180,"SelectTask",0,s,0,s,s,s],[1,181,"LaunchScreenSaver",0,s,0,s,s,s],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",s,s],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",s,s],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",s,s],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",s,s],[1,186,"BrowserStop",0,s,0,"VK_BROWSER_STOP",s,s],[1,187,"BrowserRefresh",0,s,0,"VK_BROWSER_REFRESH",s,s],[1,188,"BrowserFavorites",0,s,0,"VK_BROWSER_FAVORITES",s,s],[1,189,"ZoomToggle",0,s,0,s,s,s],[1,190,"MailReply",0,s,0,s,s,s],[1,191,"MailForward",0,s,0,s,s,s],[1,192,"MailSend",0,s,0,s,s,s],[1,0,s,114,"KeyInComposition",229,s,s,s],[1,0,s,116,"ABNT_C2",194,"VK_ABNT_C2",s,s],[1,0,s,96,"OEM_8",223,"VK_OEM_8",s,s],[1,0,s,0,s,0,"VK_KANA",s,s],[1,0,s,0,s,0,"VK_HANGUL",s,s],[1,0,s,0,s,0,"VK_JUNJA",s,s],[1,0,s,0,s,0,"VK_FINAL",s,s],[1,0,s,0,s,0,"VK_HANJA",s,s],[1,0,s,0,s,0,"VK_KANJI",s,s],[1,0,s,0,s,0,"VK_CONVERT",s,s],[1,0,s,0,s,0,"VK_NONCONVERT",s,s],[1,0,s,0,s,0,"VK_ACCEPT",s,s],[1,0,s,0,s,0,"VK_MODECHANGE",s,s],[1,0,s,0,s,0,"VK_SELECT",s,s],[1,0,s,0,s,0,"VK_PRINT",s,s],[1,0,s,0,s,0,"VK_EXECUTE",s,s],[1,0,s,0,s,0,"VK_SNAPSHOT",s,s],[1,0,s,0,s,0,"VK_HELP",s,s],[1,0,s,0,s,0,"VK_APPS",s,s],[1,0,s,0,s,0,"VK_PROCESSKEY",s,s],[1,0,s,0,s,0,"VK_PACKET",s,s],[1,0,s,0,s,0,"VK_DBE_SBCSCHAR",s,s],[1,0,s,0,s,0,"VK_DBE_DBCSCHAR",s,s],[1,0,s,0,s,0,"VK_ATTN",s,s],[1,0,s,0,s,0,"VK_CRSEL",s,s],[1,0,s,0,s,0,"VK_EXSEL",s,s],[1,0,s,0,s,0,"VK_EREOF",s,s],[1,0,s,0,s,0,"VK_PLAY",s,s],[1,0,s,0,s,0,"VK_ZOOM",s,s],[1,0,s,0,s,0,"VK_NONAME",s,s],[1,0,s,0,s,0,"VK_PA1",s,s],[1,0,s,0,s,0,"VK_OEM_CLEAR",s,s]],n=[],t=[];for(const r of i){const[u,f,d,l,o,c,a,g,h]=r;if(t[f]||(t[f]=!0,S[f]=d,m[d]=f,_[d.toLowerCase()]=f,u&&(e.IMMUTABLE_CODE_TO_KEY_CODE[f]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[l]=f))),!n[l]){if(n[l]=!0,!o)throw new Error(`String representation missing for key code ${l} around scan code ${d}`);I.define(l,o),y.define(l,g||o),D.define(l,h||g||o)}c&&(e.EVENT_KEY_CODE_MAP[c]=l),a&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[a]=l)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var v;(function(s){function i(d){return I.keyCodeToStr(d)}s.toString=i;function n(d){return I.strToKeyCode(d)}s.fromString=n;function t(d){return y.keyCodeToStr(d)}s.toUserSettingsUS=t;function r(d){return D.keyCodeToStr(d)}s.toUserSettingsGeneral=r;function u(d){return y.strToKeyCode(d)||D.strToKeyCode(d)}s.fromUserSettings=u;function f(d){if(d>=98&&d<=113)return null;switch(d){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return I.keyCodeToStr(d)}s.toElectronAccelerator=f})(v||(e.KeyCodeUtils=v={}));function C(s,i){const n=(i&65535)<<16>>>0;return(s|n)>>>0}e.KeyChord=C}),define(te[118],ie([1,0,9]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=e.createSimpleKeybinding=e.decodeKeybinding=void 0;function I(C,s){if(typeof C=="number"){if(C===0)return null;const i=(C&65535)>>>0,n=(C&4294901760)>>>16;return n!==0?new m([y(i,s),y(n,s)]):new m([y(i,s)])}else{const i=[];for(let n=0;n<C.length;n++)i.push(y(C[n],s));return new m(i)}}e.decodeKeybinding=I;function y(C,s){const i=!!(C&2048),n=!!(C&256),t=s===2?n:i,r=!!(C&1024),u=!!(C&512),f=s===2?i:n,d=C&255;return new D(t,r,u,f,d)}e.createSimpleKeybinding=y;class D{constructor(s,i,n,t,r){this.ctrlKey=s,this.shiftKey=i,this.altKey=n,this.metaKey=t,this.keyCode=r}equals(s){return s instanceof D&&this.ctrlKey===s.ctrlKey&&this.shiftKey===s.shiftKey&&this.altKey===s.altKey&&this.metaKey===s.metaKey&&this.keyCode===s.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=D;class S{constructor(s,i,n,t,r){this.ctrlKey=s,this.shiftKey=i,this.altKey=n,this.metaKey=t,this.scanCode=r}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=S;class m{constructor(s){if(s.length===0)throw(0,L.illegalArgument)("chords");this.chords=s}}e.Keybinding=m;class _{constructor(s,i,n,t,r,u){this.ctrlKey=s,this.shiftKey=i,this.altKey=n,this.metaKey=t,this.keyLabel=r,this.keyAriaLabel=u}}e.ResolvedChord=_;class v{}e.ResolvedKeybinding=v}),define(te[97],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class L{constructor(y){this.executor=y,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(y){this._error=y}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=L}),define(te[138],ie([1,0,97]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const I=typeof Buffer<"u",y=new L.Lazy(()=>new Uint8Array(256));let D;class S{static wrap(t){return I&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new S(t)}constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}toString(){return I?this.buffer.toString():(D||(D=new TextDecoder),D.decode(this.buffer))}}e.VSBuffer=S;function m(n,t){return n[t+0]<<0>>>0|n[t+1]<<8>>>0}e.readUInt16LE=m;function _(n,t,r){n[r+0]=t&255,t=t>>>8,n[r+1]=t&255}e.writeUInt16LE=_;function v(n,t){return n[t]*Math.pow(2,24)+n[t+1]*Math.pow(2,16)+n[t+2]*Math.pow(2,8)+n[t+3]}e.readUInt32BE=v;function C(n,t,r){n[r+3]=t,t=t>>>8,n[r+2]=t,t=t>>>8,n[r+1]=t,t=t>>>8,n[r]=t}e.writeUInt32BE=C;function s(n,t){return n[t]}e.readUInt8=s;function i(n,t,r){n[r]=t}e.writeUInt8=i}),define(te[388],ie([1,0,97]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const I=new L.Lazy(()=>{const v=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:v,collatorIsNumeric:v.resolvedOptions().numeric}}),y=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function S(v,C,s=!1){const i=v||"",n=C||"",t=I.value.collator.compare(i,n);return I.value.collatorIsNumeric&&t===0&&i!==n?i<n?-1:1:t}e.compareFileNames=S;function m(v,C,s){const i=v.toLowerCase(),n=C.toLowerCase(),t=_(v,C,s);if(t)return t;const r=i.endsWith(s),u=n.endsWith(s);if(r!==u)return r?-1:1;const f=S(i,n);return f!==0?f:i.localeCompare(n)}e.compareAnything=m;function _(v,C,s){const i=v.toLowerCase(),n=C.toLowerCase(),t=i.startsWith(s),r=n.startsWith(s);if(t!==r)return t?-1:1;if(t&&r){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}e.compareByPrefix=_}),define(te[2],ie([1,0,106,43]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.markAsSingleton=e.markAsDisposed=e.trackDisposable=e.setDisposableTracker=void 0;const y=!1;let D=null;function S(a){D=a}if(e.setDisposableTracker=S,y){const a="__is_disposable_tracked__";S(new class{trackDisposable(g){const h=new Error("Potentially leaked disposable").stack;setTimeout(()=>{g[a]||console.log(h)},3e3)}setParent(g,h){if(g&&g!==f.None)try{g[a]=!0}catch{}}markAsDisposed(g){if(g&&g!==f.None)try{g[a]=!0}catch{}}markAsSingleton(g){}})}function m(a){return D?.trackDisposable(a),a}e.trackDisposable=m;function _(a){D?.markAsDisposed(a)}e.markAsDisposed=_;function v(a,g){D?.setParent(a,g)}function C(a,g){if(D)for(const h of a)D.setParent(h,g)}function s(a){return D?.markAsSingleton(a),a}e.markAsSingleton=s;function i(a){return typeof a.dispose=="function"&&a.dispose.length===0}e.isDisposable=i;function n(a){if(I.Iterable.is(a)){const g=[];for(const h of a)if(h)try{h.dispose()}catch(p){g.push(p)}if(g.length===1)throw g[0];if(g.length>1)throw new AggregateError(g,"Encountered errors while disposing of store");return Array.isArray(a)?[]:a}else if(a)return a.dispose(),a}e.dispose=n;function t(...a){const g=r(()=>n(a));return C(a,g),g}e.combinedDisposable=t;function r(a){const g=m({dispose:(0,L.createSingleCallFunction)(()=>{_(g),a()})});return g}e.toDisposable=r;class u{constructor(){this._toDispose=new Set,this._isDisposed=!1,m(this)}dispose(){this._isDisposed||(_(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{n(this._toDispose)}finally{this._toDispose.clear()}}add(g){if(!g)return g;if(g===this)throw new Error("Cannot register a disposable on itself!");return v(g,this),this._isDisposed?u.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(g),g}deleteAndLeak(g){g&&this._toDispose.has(g)&&(this._toDispose.delete(g),v(g,null))}}e.DisposableStore=u,u.DISABLE_DISPOSED_WARNING=!1;class f{constructor(){this._store=new u,m(this),v(this._store,this)}dispose(){_(this),this._store.dispose()}_register(g){if(g===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(g)}}e.Disposable=f,f.None=Object.freeze({dispose(){}});class d{constructor(){this._isDisposed=!1,m(this)}get value(){return this._isDisposed?void 0:this._value}set value(g){var h;this._isDisposed||g===this._value||((h=this._value)===null||h===void 0||h.dispose(),g&&v(g,this),this._value=g)}clear(){this.value=void 0}dispose(){var g;this._isDisposed=!0,_(this),(g=this._value)===null||g===void 0||g.dispose(),this._value=void 0}}e.MutableDisposable=d;class l{constructor(g){this._disposable=g,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=l;class o{constructor(g){this.object=g}dispose(){}}e.ImmortalReference=o;class c{constructor(){this._store=new Map,this._isDisposed=!1,m(this)}dispose(){_(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{n(this._store.values())}finally{this._store.clear()}}get(g){return this._store.get(g)}set(g,h,p=!1){var b;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),p||(b=this._store.get(g))===null||b===void 0||b.dispose(),this._store.set(g,h)}deleteAndDispose(g){var h;(h=this._store.get(g))===null||h===void 0||h.dispose(),this._store.delete(g)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=c}),define(te[63],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class L{constructor(D){this.element=D,this.next=L.Undefined,this.prev=L.Undefined}}L.Undefined=new L(void 0);class I{constructor(){this._first=L.Undefined,this._last=L.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===L.Undefined}clear(){let D=this._first;for(;D!==L.Undefined;){const S=D.next;D.prev=L.Undefined,D.next=L.Undefined,D=S}this._first=L.Undefined,this._last=L.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,S){const m=new L(D);if(this._first===L.Undefined)this._first=m,this._last=m;else if(S){const v=this._last;this._last=m,m.prev=v,v.next=m}else{const v=this._first;this._first=m,m.next=v,v.prev=m}this._size+=1;let _=!1;return()=>{_||(_=!0,this._remove(m))}}shift(){if(this._first!==L.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==L.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==L.Undefined&&D.next!==L.Undefined){const S=D.prev;S.next=D.next,D.next.prev=S}else D.prev===L.Undefined&&D.next===L.Undefined?(this._first=L.Undefined,this._last=L.Undefined):D.next===L.Undefined?(this._last=this._last.prev,this._last.next=L.Undefined):D.prev===L.Undefined&&(this._first=this._first.next,this._first.prev=L.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==L.Undefined;)yield D.element,D=D.next}}e.LinkedList=I});var Ie=this&&this.__decorate||function($,e,L,I){var y=arguments.length,D=y<3?e:I===null?I=Object.getOwnPropertyDescriptor(e,L):I,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate($,e,L,I);else for(var m=$.length-1;m>=0;m--)(S=$[m])&&(D=(y<3?S(D):y>3?S(e,L,D):S(e,L))||D);return y>3&&D&&Object.defineProperty(e,L,D),D};define(te[389],ie([1,0,105]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLinkedText=e.LinkedText=void 0;class I{constructor(m){this.nodes=m}toString(){return this.nodes.map(m=>typeof m=="string"?m:m.label).join("")}}e.LinkedText=I,Ie([L.memoize],I.prototype,"toString",null);const y=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function D(S){const m=[];let _=0,v;for(;v=y.exec(S);){v.index-_>0&&m.push(S.substring(_,v.index));const[,C,s,,i]=v;i?m.push({label:C,href:s,title:i}):m.push({label:C,href:s}),_=v.index+v[0].length}return _<S.length&&m.push(S.substring(_)),new I(m)}e.parseLinkedText=D}),define(te[56],ie([1,0]),function($,e){"use strict";var L,I;Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.BidirectionalMap=e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class y{constructor(i,n){this.uri=i,this.value=n}}function D(s){return Array.isArray(s)}class S{constructor(i,n){if(this[L]="ResourceMap",i instanceof S)this.map=new Map(i.map),this.toKey=n??S.defaultToKey;else if(D(i)){this.map=new Map,this.toKey=n??S.defaultToKey;for(const[t,r]of i)this.set(t,r)}else this.map=new Map,this.toKey=i??S.defaultToKey}set(i,n){return this.map.set(this.toKey(i),new y(i,n)),this}get(i){var n;return(n=this.map.get(this.toKey(i)))===null||n===void 0?void 0:n.value}has(i){return this.map.has(this.toKey(i))}get size(){return this.map.size}clear(){this.map.clear()}delete(i){return this.map.delete(this.toKey(i))}forEach(i,n){typeof n<"u"&&(i=i.bind(n));for(const[t,r]of this.map)i(r.value,r.uri,this)}*values(){for(const i of this.map.values())yield i.value}*keys(){for(const i of this.map.values())yield i.uri}*entries(){for(const i of this.map.values())yield[i.uri,i.value]}*[(L=Symbol.toStringTag,Symbol.iterator)](){for(const[,i]of this.map)yield[i.uri,i.value]}}e.ResourceMap=S,S.defaultToKey=s=>s.toString();class m{constructor(){this[I]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var i;return(i=this._head)===null||i===void 0?void 0:i.value}get last(){var i;return(i=this._tail)===null||i===void 0?void 0:i.value}has(i){return this._map.has(i)}get(i,n=0){const t=this._map.get(i);if(t)return n!==0&&this.touch(t,n),t.value}set(i,n,t=0){let r=this._map.get(i);if(r)r.value=n,t!==0&&this.touch(r,t);else{switch(r={key:i,value:n,next:void 0,previous:void 0},t){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(i,r),this._size++}return this}delete(i){return!!this.remove(i)}remove(i){const n=this._map.get(i);if(n)return this._map.delete(i),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const i=this._head;return this._map.delete(i.key),this.removeItem(i),this._size--,i.value}forEach(i,n){const t=this._state;let r=this._head;for(;r;){if(n?i.bind(n)(r.value,r.key,this):i(r.value,r.key,this),this._state!==t)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const i=this,n=this._state;let t=this._head;const r={[Symbol.iterator](){return r},next(){if(i._state!==n)throw new Error("LinkedMap got modified during iteration.");if(t){const u={value:t.key,done:!1};return t=t.next,u}else return{value:void 0,done:!0}}};return r}values(){const i=this,n=this._state;let t=this._head;const r={[Symbol.iterator](){return r},next(){if(i._state!==n)throw new Error("LinkedMap got modified during iteration.");if(t){const u={value:t.value,done:!1};return t=t.next,u}else return{value:void 0,done:!0}}};return r}entries(){const i=this,n=this._state;let t=this._head;const r={[Symbol.iterator](){return r},next(){if(i._state!==n)throw new Error("LinkedMap got modified during iteration.");if(t){const u={value:[t.key,t.value],done:!1};return t=t.next,u}else return{value:void 0,done:!0}}};return r}[(I=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(i){if(i>=this.size)return;if(i===0){this.clear();return}let n=this._head,t=this.size;for(;n&&t>i;)this._map.delete(n.key),n=n.next,t--;this._head=n,this._size=t,n&&(n.previous=void 0),this._state++}addItemFirst(i){if(!this._head&&!this._tail)this._tail=i;else if(this._head)i.next=this._head,this._head.previous=i;else throw new Error("Invalid list");this._head=i,this._state++}addItemLast(i){if(!this._head&&!this._tail)this._head=i;else if(this._tail)i.previous=this._tail,this._tail.next=i;else throw new Error("Invalid list");this._tail=i,this._state++}removeItem(i){if(i===this._head&&i===this._tail)this._head=void 0,this._tail=void 0;else if(i===this._head){if(!i.next)throw new Error("Invalid list");i.next.previous=void 0,this._head=i.next}else if(i===this._tail){if(!i.previous)throw new Error("Invalid list");i.previous.next=void 0,this._tail=i.previous}else{const n=i.next,t=i.previous;if(!n||!t)throw new Error("Invalid list");n.previous=t,t.next=n}i.next=void 0,i.previous=void 0,this._state++}touch(i,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(i===this._head)return;const t=i.next,r=i.previous;i===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),i.previous=void 0,i.next=this._head,this._head.previous=i,this._head=i,this._state++}else if(n===2){if(i===this._tail)return;const t=i.next,r=i.previous;i===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),i.next=void 0,i.previous=this._tail,this._tail.next=i,this._tail=i,this._state++}}}toJSON(){const i=[];return this.forEach((n,t)=>{i.push([t,n])}),i}fromJSON(i){this.clear();for(const[n,t]of i)this.set(n,t)}}e.LinkedMap=m;class _ extends m{constructor(i,n=1){super(),this._limit=i,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(i){this._limit=i,this.checkTrim()}get(i,n=2){return super.get(i,n)}peek(i){return super.get(i,0)}set(i,n){return super.set(i,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=_;class v{constructor(i){if(this._m1=new Map,this._m2=new Map,i)for(const[n,t]of i)this.set(n,t)}clear(){this._m1.clear(),this._m2.clear()}set(i,n){this._m1.set(i,n),this._m2.set(n,i)}get(i){return this._m1.get(i)}getKey(i){return this._m2.get(i)}delete(i){const n=this._m1.get(i);return n===void 0?!1:(this._m1.delete(i),this._m2.delete(n),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}e.BidirectionalMap=v;class C{constructor(){this.map=new Map}add(i,n){let t=this.map.get(i);t||(t=new Set,this.map.set(i,t)),t.add(n)}delete(i,n){const t=this.map.get(i);t&&(t.delete(n),t.size===0&&this.map.delete(i))}forEach(i,n){const t=this.map.get(i);t&&t.forEach(n)}get(i){const n=this.map.get(i);return n||new Set}}e.SetMap=C}),function($,e){typeof define=="function"&&define.amd?define(te[390],ie([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):($=typeof globalThis<"u"?globalThis:$||self,e($.marked={}))}(this,function($){"use strict";function e(ce,ae){for(var X=0;X<ae.length;X++){var K=ae[X];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(ce,K.key,K)}}function L(ce,ae,X){return ae&&e(ce.prototype,ae),X&&e(ce,X),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function I(ce,ae){if(ce){if(typeof ce=="string")return y(ce,ae);var X=Object.prototype.toString.call(ce).slice(8,-1);if(X==="Object"&&ce.constructor&&(X=ce.constructor.name),X==="Map"||X==="Set")return Array.from(ce);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return y(ce,ae)}}function y(ce,ae){(ae==null||ae>ce.length)&&(ae=ce.length);for(var X=0,K=new Array(ae);X<ae;X++)K[X]=ce[X];return K}function D(ce,ae){var X=typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(X)return(X=X.call(ce)).next.bind(X);if(Array.isArray(ce)||(X=I(ce))||ae&&ce&&typeof ce.length=="number"){X&&(ce=X);var K=0;return function(){return K>=ce.length?{done:!0}:{done:!1,value:ce[K++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}$.defaults=S();function m(ce){$.defaults=ce}var _=/[&<>"']/,v=/[&<>"']/g,C=/[<>"']|&(?!#?\w+;)/,s=/[<>"']|&(?!#?\w+;)/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=function(ae){return i[ae]};function t(ce,ae){if(ae){if(_.test(ce))return ce.replace(v,n)}else if(C.test(ce))return ce.replace(s,n);return ce}var r=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function u(ce){return ce.replace(r,function(ae,X){return X=X.toLowerCase(),X==="colon"?":":X.charAt(0)==="#"?X.charAt(1)==="x"?String.fromCharCode(parseInt(X.substring(2),16)):String.fromCharCode(+X.substring(1)):""})}var f=/(^|[^\[])\^/g;function d(ce,ae){ce=typeof ce=="string"?ce:ce.source,ae=ae||"";var X={replace:function(z,Q){return Q=Q.source||Q,Q=Q.replace(f,"$1"),ce=ce.replace(z,Q),X},getRegex:function(){return new RegExp(ce,ae)}};return X}var l=/[^\w:]/g,o=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function c(ce,ae,X){if(ce){var K;try{K=decodeURIComponent(u(X)).replace(l,"").toLowerCase()}catch{return null}if(K.indexOf("javascript:")===0||K.indexOf("vbscript:")===0||K.indexOf("data:")===0)return null}ae&&!o.test(X)&&(X=b(ae,X));try{X=encodeURI(X).replace(/%25/g,"%")}catch{return null}return X}var a={},g=/^[^:]+:\/*[^/]*$/,h=/^([^:]+:)[\s\S]*$/,p=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(ce,ae){a[" "+ce]||(g.test(ce)?a[" "+ce]=ce+"/":a[" "+ce]=M(ce,"/",!0)),ce=a[" "+ce];var X=ce.indexOf(":")===-1;return ae.substring(0,2)==="//"?X?ae:ce.replace(h,"$1")+ae:ae.charAt(0)==="/"?X?ae:ce.replace(p,"$1")+ae:ce+ae}var w={exec:function(){}};function E(ce){for(var ae=1,X,K;ae<arguments.length;ae++){X=arguments[ae];for(K in X)Object.prototype.hasOwnProperty.call(X,K)&&(ce[K]=X[K])}return ce}function k(ce,ae){var X=ce.replace(/\|/g,function(Q,j,re){for(var oe=!1,he=j;--he>=0&&re[he]==="\\";)oe=!oe;return oe?"|":" |"}),K=X.split(/ \|/),z=0;if(K[0].trim()||K.shift(),K.length>0&&!K[K.length-1].trim()&&K.pop(),K.length>ae)K.splice(ae);else for(;K.length<ae;)K.push("");for(;z<K.length;z++)K[z]=K[z].trim().replace(/\\\|/g,"|");return K}function M(ce,ae,X){var K=ce.length;if(K===0)return"";for(var z=0;z<K;){var Q=ce.charAt(K-z-1);if(Q===ae&&!X)z++;else if(Q!==ae&&X)z++;else break}return ce.slice(0,K-z)}function R(ce,ae){if(ce.indexOf(ae[1])===-1)return-1;for(var X=ce.length,K=0,z=0;z<X;z++)if(ce[z]==="\\")z++;else if(ce[z]===ae[0])K++;else if(ce[z]===ae[1]&&(K--,K<0))return z;return-1}function B(ce){ce&&ce.sanitize&&!ce.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function T(ce,ae){if(ae<1)return"";for(var X="";ae>1;)ae&1&&(X+=ce),ae>>=1,ce+=ce;return X+ce}function N(ce,ae,X,K){var z=ae.href,Q=ae.title?t(ae.title):null,j=ce[1].replace(/\\([\[\]])/g,"$1");if(ce[0].charAt(0)!=="!"){K.state.inLink=!0;var re={type:"link",raw:X,href:z,title:Q,text:j,tokens:K.inlineTokens(j)};return K.state.inLink=!1,re}return{type:"image",raw:X,href:z,title:Q,text:t(j)}}function A(ce,ae){var X=ce.match(/^(\s+)(?:```)/);if(X===null)return ae;var K=X[1];return ae.split(`
`).map(function(z){var Q=z.match(/^\s+/);if(Q===null)return z;var j=Q[0];return j.length>=K.length?z.slice(K.length):z}).join(`
`)}var P=function(){function ce(X){this.options=X||$.defaults}var ae=ce.prototype;return ae.space=function(K){var z=this.rules.block.newline.exec(K);if(z&&z[0].length>0)return{type:"space",raw:z[0]}},ae.code=function(K){var z=this.rules.block.code.exec(K);if(z){var Q=z[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:z[0],codeBlockStyle:"indented",text:this.options.pedantic?Q:M(Q,`
`)}}},ae.fences=function(K){var z=this.rules.block.fences.exec(K);if(z){var Q=z[0],j=A(Q,z[3]||"");return{type:"code",raw:Q,lang:z[2]?z[2].trim():z[2],text:j}}},ae.heading=function(K){var z=this.rules.block.heading.exec(K);if(z){var Q=z[2].trim();if(/#$/.test(Q)){var j=M(Q,"#");(this.options.pedantic||!j||/ $/.test(j))&&(Q=j.trim())}return{type:"heading",raw:z[0],depth:z[1].length,text:Q,tokens:this.lexer.inline(Q)}}},ae.hr=function(K){var z=this.rules.block.hr.exec(K);if(z)return{type:"hr",raw:z[0]}},ae.blockquote=function(K){var z=this.rules.block.blockquote.exec(K);if(z){var Q=z[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:z[0],tokens:this.lexer.blockTokens(Q,[]),text:Q}}},ae.list=function(K){var z=this.rules.block.list.exec(K);if(z){var Q,j,re,oe,he,me,pe,ve,we,Le,Ee,Ae,Re=z[1].trim(),Be=Re.length>1,ye={type:"list",raw:"",ordered:Be,start:Be?+Re.slice(0,-1):"",loose:!1,items:[]};Re=Be?"\\d{1,9}\\"+Re.slice(-1):"\\"+Re,this.options.pedantic&&(Re=Be?Re:"[*+-]");for(var De=new RegExp("^( {0,3}"+Re+")((?:[	 ][^\\n]*)?(?:\\n|$))");K&&(Ae=!1,!(!(z=De.exec(K))||this.rules.block.hr.test(K)));){if(Q=z[0],K=K.substring(Q.length),ve=z[2].split(`
`,1)[0],we=K.split(`
`,1)[0],this.options.pedantic?(oe=2,Ee=ve.trimLeft()):(oe=z[2].search(/[^ ]/),oe=oe>4?1:oe,Ee=ve.slice(oe),oe+=z[1].length),me=!1,!ve&&/^ *$/.test(we)&&(Q+=we+`
`,K=K.substring(we.length+1),Ae=!0),!Ae)for(var fe=new RegExp("^ {0,"+Math.min(3,oe-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ce=new RegExp("^ {0,"+Math.min(3,oe-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Me=new RegExp("^ {0,"+Math.min(3,oe-1)+"}(?:```|~~~)"),Pe=new RegExp("^ {0,"+Math.min(3,oe-1)+"}#");K&&(Le=K.split(`
`,1)[0],ve=Le,this.options.pedantic&&(ve=ve.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Me.test(ve)||Pe.test(ve)||fe.test(ve)||Ce.test(K)));){if(ve.search(/[^ ]/)>=oe||!ve.trim())Ee+=`
`+ve.slice(oe);else if(!me)Ee+=`
`+ve;else break;!me&&!ve.trim()&&(me=!0),Q+=Le+`
`,K=K.substring(Le.length+1)}ye.loose||(pe?ye.loose=!0:/\n *\n *$/.test(Q)&&(pe=!0)),this.options.gfm&&(j=/^\[[ xX]\] /.exec(Ee),j&&(re=j[0]!=="[ ] ",Ee=Ee.replace(/^\[[ xX]\] +/,""))),ye.items.push({type:"list_item",raw:Q,task:!!j,checked:re,loose:!1,text:Ee}),ye.raw+=Q}ye.items[ye.items.length-1].raw=Q.trimRight(),ye.items[ye.items.length-1].text=Ee.trimRight(),ye.raw=ye.raw.trimRight();var Se=ye.items.length;for(he=0;he<Se;he++){this.lexer.state.top=!1,ye.items[he].tokens=this.lexer.blockTokens(ye.items[he].text,[]);var _e=ye.items[he].tokens.filter(function(Oe){return Oe.type==="space"}),ke=_e.every(function(Oe){for(var We=Oe.raw.split(""),qe=0,Ge=D(We),je;!(je=Ge()).done;){var it=je.value;if(it===`
`&&(qe+=1),qe>1)return!0}return!1});!ye.loose&&_e.length&&ke&&(ye.loose=!0,ye.items[he].loose=!0)}return ye}},ae.html=function(K){var z=this.rules.block.html.exec(K);if(z){var Q={type:"html",raw:z[0],pre:!this.options.sanitizer&&(z[1]==="pre"||z[1]==="script"||z[1]==="style"),text:z[0]};if(this.options.sanitize){var j=this.options.sanitizer?this.options.sanitizer(z[0]):t(z[0]);Q.type="paragraph",Q.text=j,Q.tokens=this.lexer.inline(j)}return Q}},ae.def=function(K){var z=this.rules.block.def.exec(K);if(z){z[3]&&(z[3]=z[3].substring(1,z[3].length-1));var Q=z[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Q,raw:z[0],href:z[2],title:z[3]}}},ae.table=function(K){var z=this.rules.block.table.exec(K);if(z){var Q={type:"table",header:k(z[1]).map(function(pe){return{text:pe}}),align:z[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:z[3]&&z[3].trim()?z[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Q.header.length===Q.align.length){Q.raw=z[0];var j=Q.align.length,re,oe,he,me;for(re=0;re<j;re++)/^ *-+: *$/.test(Q.align[re])?Q.align[re]="right":/^ *:-+: *$/.test(Q.align[re])?Q.align[re]="center":/^ *:-+ *$/.test(Q.align[re])?Q.align[re]="left":Q.align[re]=null;for(j=Q.rows.length,re=0;re<j;re++)Q.rows[re]=k(Q.rows[re],Q.header.length).map(function(pe){return{text:pe}});for(j=Q.header.length,oe=0;oe<j;oe++)Q.header[oe].tokens=this.lexer.inline(Q.header[oe].text);for(j=Q.rows.length,oe=0;oe<j;oe++)for(me=Q.rows[oe],he=0;he<me.length;he++)me[he].tokens=this.lexer.inline(me[he].text);return Q}}},ae.lheading=function(K){var z=this.rules.block.lheading.exec(K);if(z)return{type:"heading",raw:z[0],depth:z[2].charAt(0)==="="?1:2,text:z[1],tokens:this.lexer.inline(z[1])}},ae.paragraph=function(K){var z=this.rules.block.paragraph.exec(K);if(z){var Q=z[1].charAt(z[1].length-1)===`
`?z[1].slice(0,-1):z[1];return{type:"paragraph",raw:z[0],text:Q,tokens:this.lexer.inline(Q)}}},ae.text=function(K){var z=this.rules.block.text.exec(K);if(z)return{type:"text",raw:z[0],text:z[0],tokens:this.lexer.inline(z[0])}},ae.escape=function(K){var z=this.rules.inline.escape.exec(K);if(z)return{type:"escape",raw:z[0],text:t(z[1])}},ae.tag=function(K){var z=this.rules.inline.tag.exec(K);if(z)return!this.lexer.state.inLink&&/^<a /i.test(z[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(z[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(z[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(z[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:z[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(z[0]):t(z[0]):z[0]}},ae.link=function(K){var z=this.rules.inline.link.exec(K);if(z){var Q=z[2].trim();if(!this.options.pedantic&&/^</.test(Q)){if(!/>$/.test(Q))return;var j=M(Q.slice(0,-1),"\\");if((Q.length-j.length)%2===0)return}else{var re=R(z[2],"()");if(re>-1){var oe=z[0].indexOf("!")===0?5:4,he=oe+z[1].length+re;z[2]=z[2].substring(0,re),z[0]=z[0].substring(0,he).trim(),z[3]=""}}var me=z[2],pe="";if(this.options.pedantic){var ve=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(me);ve&&(me=ve[1],pe=ve[3])}else pe=z[3]?z[3].slice(1,-1):"";return me=me.trim(),/^</.test(me)&&(this.options.pedantic&&!/>$/.test(Q)?me=me.slice(1):me=me.slice(1,-1)),N(z,{href:me&&me.replace(this.rules.inline._escapes,"$1"),title:pe&&pe.replace(this.rules.inline._escapes,"$1")},z[0],this.lexer)}},ae.reflink=function(K,z){var Q;if((Q=this.rules.inline.reflink.exec(K))||(Q=this.rules.inline.nolink.exec(K))){var j=(Q[2]||Q[1]).replace(/\s+/g," ");if(j=z[j.toLowerCase()],!j||!j.href){var re=Q[0].charAt(0);return{type:"text",raw:re,text:re}}return N(Q,j,Q[0],this.lexer)}},ae.emStrong=function(K,z,Q){Q===void 0&&(Q="");var j=this.rules.inline.emStrong.lDelim.exec(K);if(j&&!(j[3]&&Q.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var re=j[1]||j[2]||"";if(!re||re&&(Q===""||this.rules.inline.punctuation.exec(Q))){var oe=j[0].length-1,he,me,pe=oe,ve=0,we=j[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(we.lastIndex=0,z=z.slice(-1*K.length+oe);(j=we.exec(z))!=null;)if(he=j[1]||j[2]||j[3]||j[4]||j[5]||j[6],!!he){if(me=he.length,j[3]||j[4]){pe+=me;continue}else if((j[5]||j[6])&&oe%3&&!((oe+me)%3)){ve+=me;continue}if(pe-=me,!(pe>0)){if(me=Math.min(me,me+pe+ve),Math.min(oe,me)%2){var Le=K.slice(1,oe+j.index+me);return{type:"em",raw:K.slice(0,oe+j.index+me+1),text:Le,tokens:this.lexer.inlineTokens(Le)}}var Ee=K.slice(2,oe+j.index+me-1);return{type:"strong",raw:K.slice(0,oe+j.index+me+1),text:Ee,tokens:this.lexer.inlineTokens(Ee)}}}}}},ae.codespan=function(K){var z=this.rules.inline.code.exec(K);if(z){var Q=z[2].replace(/\n/g," "),j=/[^ ]/.test(Q),re=/^ /.test(Q)&&/ $/.test(Q);return j&&re&&(Q=Q.substring(1,Q.length-1)),Q=t(Q,!0),{type:"codespan",raw:z[0],text:Q}}},ae.br=function(K){var z=this.rules.inline.br.exec(K);if(z)return{type:"br",raw:z[0]}},ae.del=function(K){var z=this.rules.inline.del.exec(K);if(z)return{type:"del",raw:z[0],text:z[2],tokens:this.lexer.inlineTokens(z[2])}},ae.autolink=function(K,z){var Q=this.rules.inline.autolink.exec(K);if(Q){var j,re;return Q[2]==="@"?(j=t(this.options.mangle?z(Q[1]):Q[1]),re="mailto:"+j):(j=t(Q[1]),re=j),{type:"link",raw:Q[0],text:j,href:re,tokens:[{type:"text",raw:j,text:j}]}}},ae.url=function(K,z){var Q;if(Q=this.rules.inline.url.exec(K)){var j,re;if(Q[2]==="@")j=t(this.options.mangle?z(Q[0]):Q[0]),re="mailto:"+j;else{var oe;do oe=Q[0],Q[0]=this.rules.inline._backpedal.exec(Q[0])[0];while(oe!==Q[0]);j=t(Q[0]),Q[1]==="www."?re="http://"+j:re=j}return{type:"link",raw:Q[0],text:j,href:re,tokens:[{type:"text",raw:j,text:j}]}}},ae.inlineText=function(K,z){var Q=this.rules.inline.text.exec(K);if(Q){var j;return this.lexer.state.inRawBlock?j=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Q[0]):t(Q[0]):Q[0]:j=t(this.options.smartypants?z(Q[0]):Q[0]),{type:"text",raw:Q[0],text:j}}},ce}(),O={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:w,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};O._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,O._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,O.def=d(O.def).replace("label",O._label).replace("title",O._title).getRegex(),O.bullet=/(?:[*+-]|\d{1,9}[.)])/,O.listItemStart=d(/^( *)(bull) */).replace("bull",O.bullet).getRegex(),O.list=d(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O.def.source+")").getRegex(),O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O.html=d(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O.paragraph=d(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.blockquote=d(O.blockquote).replace("paragraph",O.paragraph).getRegex(),O.normal=E({},O),O.gfm=E({},O.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O.gfm.table=d(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.gfm.paragraph=d(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",O.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.pedantic=E({},O.normal,{html:d(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,paragraph:d(O.normal._paragraph).replace("hr",O.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",O.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var x={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};x._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",x.punctuation=d(x.punctuation).replace(/punctuation/g,x._punctuation).getRegex(),x.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,x.escapedEmSt=/\\\*|\\_/g,x._comment=d(O._comment).replace("(?:-->|$)","-->").getRegex(),x.emStrong.lDelim=d(x.emStrong.lDelim).replace(/punct/g,x._punctuation).getRegex(),x.emStrong.rDelimAst=d(x.emStrong.rDelimAst,"g").replace(/punct/g,x._punctuation).getRegex(),x.emStrong.rDelimUnd=d(x.emStrong.rDelimUnd,"g").replace(/punct/g,x._punctuation).getRegex(),x._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,x._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,x._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,x.autolink=d(x.autolink).replace("scheme",x._scheme).replace("email",x._email).getRegex(),x._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,x.tag=d(x.tag).replace("comment",x._comment).replace("attribute",x._attribute).getRegex(),x._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,x._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,x._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,x.link=d(x.link).replace("label",x._label).replace("href",x._href).replace("title",x._title).getRegex(),x.reflink=d(x.reflink).replace("label",x._label).replace("ref",O._label).getRegex(),x.nolink=d(x.nolink).replace("ref",O._label).getRegex(),x.reflinkSearch=d(x.reflinkSearch,"g").replace("reflink",x.reflink).replace("nolink",x.nolink).getRegex(),x.normal=E({},x),x.pedantic=E({},x.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",x._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",x._label).getRegex()}),x.gfm=E({},x.normal,{escape:d(x.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),x.gfm.url=d(x.gfm.url,"i").replace("email",x.gfm._extended_email).getRegex(),x.breaks=E({},x.gfm,{br:d(x.br).replace("{2,}","*").getRegex(),text:d(x.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function W(ce){return ce.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function U(ce){var ae="",X,K,z=ce.length;for(X=0;X<z;X++)K=ce.charCodeAt(X),Math.random()>.5&&(K="x"+K.toString(16)),ae+="&#"+K+";";return ae}var F=function(){function ce(X){this.tokens=[],this.tokens.links=Object.create(null),this.options=X||$.defaults,this.options.tokenizer=this.options.tokenizer||new P,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var K={block:O.normal,inline:x.normal};this.options.pedantic?(K.block=O.pedantic,K.inline=x.pedantic):this.options.gfm&&(K.block=O.gfm,this.options.breaks?K.inline=x.breaks:K.inline=x.gfm),this.tokenizer.rules=K}ce.lex=function(K,z){var Q=new ce(z);return Q.lex(K)},ce.lexInline=function(K,z){var Q=new ce(z);return Q.inlineTokens(K)};var ae=ce.prototype;return ae.lex=function(K){K=K.replace(/\r\n|\r/g,`
`),this.blockTokens(K,this.tokens);for(var z;z=this.inlineQueue.shift();)this.inlineTokens(z.src,z.tokens);return this.tokens},ae.blockTokens=function(K,z){var Q=this;z===void 0&&(z=[]),this.options.pedantic?K=K.replace(/\t/g,"    ").replace(/^ +$/gm,""):K=K.replace(/^( *)(\t+)/gm,function(pe,ve,we){return ve+"    ".repeat(we.length)});for(var j,re,oe,he;K;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(pe){return(j=pe.call({lexer:Q},K,z))?(K=K.substring(j.raw.length),z.push(j),!0):!1}))){if(j=this.tokenizer.space(K)){K=K.substring(j.raw.length),j.raw.length===1&&z.length>0?z[z.length-1].raw+=`
`:z.push(j);continue}if(j=this.tokenizer.code(K)){K=K.substring(j.raw.length),re=z[z.length-1],re&&(re.type==="paragraph"||re.type==="text")?(re.raw+=`
`+j.raw,re.text+=`
`+j.text,this.inlineQueue[this.inlineQueue.length-1].src=re.text):z.push(j);continue}if(j=this.tokenizer.fences(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.heading(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.hr(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.blockquote(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.list(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.html(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.def(K)){K=K.substring(j.raw.length),re=z[z.length-1],re&&(re.type==="paragraph"||re.type==="text")?(re.raw+=`
`+j.raw,re.text+=`
`+j.raw,this.inlineQueue[this.inlineQueue.length-1].src=re.text):this.tokens.links[j.tag]||(this.tokens.links[j.tag]={href:j.href,title:j.title});continue}if(j=this.tokenizer.table(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.lheading(K)){K=K.substring(j.raw.length),z.push(j);continue}if(oe=K,this.options.extensions&&this.options.extensions.startBlock&&function(){var pe=1/0,ve=K.slice(1),we=void 0;Q.options.extensions.startBlock.forEach(function(Le){we=Le.call({lexer:this},ve),typeof we=="number"&&we>=0&&(pe=Math.min(pe,we))}),pe<1/0&&pe>=0&&(oe=K.substring(0,pe+1))}(),this.state.top&&(j=this.tokenizer.paragraph(oe))){re=z[z.length-1],he&&re.type==="paragraph"?(re.raw+=`
`+j.raw,re.text+=`
`+j.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=re.text):z.push(j),he=oe.length!==K.length,K=K.substring(j.raw.length);continue}if(j=this.tokenizer.text(K)){K=K.substring(j.raw.length),re=z[z.length-1],re&&re.type==="text"?(re.raw+=`
`+j.raw,re.text+=`
`+j.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=re.text):z.push(j);continue}if(K){var me="Infinite loop on byte: "+K.charCodeAt(0);if(this.options.silent){console.error(me);break}else throw new Error(me)}}return this.state.top=!0,z},ae.inline=function(K,z){return z===void 0&&(z=[]),this.inlineQueue.push({src:K,tokens:z}),z},ae.inlineTokens=function(K,z){var Q=this;z===void 0&&(z=[]);var j,re,oe,he=K,me,pe,ve;if(this.tokens.links){var we=Object.keys(this.tokens.links);if(we.length>0)for(;(me=this.tokenizer.rules.inline.reflinkSearch.exec(he))!=null;)we.includes(me[0].slice(me[0].lastIndexOf("[")+1,-1))&&(he=he.slice(0,me.index)+"["+T("a",me[0].length-2)+"]"+he.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(me=this.tokenizer.rules.inline.blockSkip.exec(he))!=null;)he=he.slice(0,me.index)+"["+T("a",me[0].length-2)+"]"+he.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(me=this.tokenizer.rules.inline.escapedEmSt.exec(he))!=null;)he=he.slice(0,me.index)+"++"+he.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;K;)if(pe||(ve=""),pe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ee){return(j=Ee.call({lexer:Q},K,z))?(K=K.substring(j.raw.length),z.push(j),!0):!1}))){if(j=this.tokenizer.escape(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.tag(K)){K=K.substring(j.raw.length),re=z[z.length-1],re&&j.type==="text"&&re.type==="text"?(re.raw+=j.raw,re.text+=j.text):z.push(j);continue}if(j=this.tokenizer.link(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.reflink(K,this.tokens.links)){K=K.substring(j.raw.length),re=z[z.length-1],re&&j.type==="text"&&re.type==="text"?(re.raw+=j.raw,re.text+=j.text):z.push(j);continue}if(j=this.tokenizer.emStrong(K,he,ve)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.codespan(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.br(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.del(K)){K=K.substring(j.raw.length),z.push(j);continue}if(j=this.tokenizer.autolink(K,U)){K=K.substring(j.raw.length),z.push(j);continue}if(!this.state.inLink&&(j=this.tokenizer.url(K,U))){K=K.substring(j.raw.length),z.push(j);continue}if(oe=K,this.options.extensions&&this.options.extensions.startInline&&function(){var Ee=1/0,Ae=K.slice(1),Re=void 0;Q.options.extensions.startInline.forEach(function(Be){Re=Be.call({lexer:this},Ae),typeof Re=="number"&&Re>=0&&(Ee=Math.min(Ee,Re))}),Ee<1/0&&Ee>=0&&(oe=K.substring(0,Ee+1))}(),j=this.tokenizer.inlineText(oe,W)){K=K.substring(j.raw.length),j.raw.slice(-1)!=="_"&&(ve=j.raw.slice(-1)),pe=!0,re=z[z.length-1],re&&re.type==="text"?(re.raw+=j.raw,re.text+=j.text):z.push(j);continue}if(K){var Le="Infinite loop on byte: "+K.charCodeAt(0);if(this.options.silent){console.error(Le);break}else throw new Error(Le)}}return z},L(ce,null,[{key:"rules",get:function(){return{block:O,inline:x}}}]),ce}(),G=function(){function ce(X){this.options=X||$.defaults}var ae=ce.prototype;return ae.code=function(K,z,Q){var j=(z||"").match(/\S*/)[0];if(this.options.highlight){var re=this.options.highlight(K,j);re!=null&&re!==K&&(Q=!0,K=re)}return K=K.replace(/\n$/,"")+`
`,j?'<pre><code class="'+this.options.langPrefix+t(j,!0)+'">'+(Q?K:t(K,!0))+`</code></pre>
`:"<pre><code>"+(Q?K:t(K,!0))+`</code></pre>
`},ae.blockquote=function(K){return`<blockquote>
`+K+`</blockquote>
`},ae.html=function(K){return K},ae.heading=function(K,z,Q,j){if(this.options.headerIds){var re=this.options.headerPrefix+j.slug(Q);return"<h"+z+' id="'+re+'">'+K+"</h"+z+`>
`}return"<h"+z+">"+K+"</h"+z+`>
`},ae.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ae.list=function(K,z,Q){var j=z?"ol":"ul",re=z&&Q!==1?' start="'+Q+'"':"";return"<"+j+re+`>
`+K+"</"+j+`>
`},ae.listitem=function(K){return"<li>"+K+`</li>
`},ae.checkbox=function(K){return"<input "+(K?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ae.paragraph=function(K){return"<p>"+K+`</p>
`},ae.table=function(K,z){return z&&(z="<tbody>"+z+"</tbody>"),`<table>
<thead>
`+K+`</thead>
`+z+`</table>
`},ae.tablerow=function(K){return`<tr>
`+K+`</tr>
`},ae.tablecell=function(K,z){var Q=z.header?"th":"td",j=z.align?"<"+Q+' align="'+z.align+'">':"<"+Q+">";return j+K+("</"+Q+`>
`)},ae.strong=function(K){return"<strong>"+K+"</strong>"},ae.em=function(K){return"<em>"+K+"</em>"},ae.codespan=function(K){return"<code>"+K+"</code>"},ae.br=function(){return this.options.xhtml?"<br/>":"<br>"},ae.del=function(K){return"<del>"+K+"</del>"},ae.link=function(K,z,Q){if(K=c(this.options.sanitize,this.options.baseUrl,K),K===null)return Q;var j='<a href="'+t(K)+'"';return z&&(j+=' title="'+z+'"'),j+=">"+Q+"</a>",j},ae.image=function(K,z,Q){if(K=c(this.options.sanitize,this.options.baseUrl,K),K===null)return Q;var j='<img src="'+K+'" alt="'+Q+'"';return z&&(j+=' title="'+z+'"'),j+=this.options.xhtml?"/>":">",j},ae.text=function(K){return K},ce}(),Y=function(){function ce(){}var ae=ce.prototype;return ae.strong=function(K){return K},ae.em=function(K){return K},ae.codespan=function(K){return K},ae.del=function(K){return K},ae.html=function(K){return K},ae.text=function(K){return K},ae.link=function(K,z,Q){return""+Q},ae.image=function(K,z,Q){return""+Q},ae.br=function(){return""},ce}(),ne=function(){function ce(){this.seen={}}var ae=ce.prototype;return ae.serialize=function(K){return K.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ae.getNextSafeSlug=function(K,z){var Q=K,j=0;if(this.seen.hasOwnProperty(Q)){j=this.seen[K];do j++,Q=K+"-"+j;while(this.seen.hasOwnProperty(Q))}return z||(this.seen[K]=j,this.seen[Q]=0),Q},ae.slug=function(K,z){z===void 0&&(z={});var Q=this.serialize(K);return this.getNextSafeSlug(Q,z.dryrun)},ce}(),se=function(){function ce(X){this.options=X||$.defaults,this.options.renderer=this.options.renderer||new G,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Y,this.slugger=new ne}ce.parse=function(K,z){var Q=new ce(z);return Q.parse(K)},ce.parseInline=function(K,z){var Q=new ce(z);return Q.parseInline(K)};var ae=ce.prototype;return ae.parse=function(K,z){z===void 0&&(z=!0);var Q="",j,re,oe,he,me,pe,ve,we,Le,Ee,Ae,Re,Be,ye,De,fe,Ce,Me,Pe,Se=K.length;for(j=0;j<Se;j++){if(Ee=K[j],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ee.type]&&(Pe=this.options.extensions.renderers[Ee.type].call({parser:this},Ee),Pe!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ee.type))){Q+=Pe||"";continue}switch(Ee.type){case"space":continue;case"hr":{Q+=this.renderer.hr();continue}case"heading":{Q+=this.renderer.heading(this.parseInline(Ee.tokens),Ee.depth,u(this.parseInline(Ee.tokens,this.textRenderer)),this.slugger);continue}case"code":{Q+=this.renderer.code(Ee.text,Ee.lang,Ee.escaped);continue}case"table":{for(we="",ve="",he=Ee.header.length,re=0;re<he;re++)ve+=this.renderer.tablecell(this.parseInline(Ee.header[re].tokens),{header:!0,align:Ee.align[re]});for(we+=this.renderer.tablerow(ve),Le="",he=Ee.rows.length,re=0;re<he;re++){for(pe=Ee.rows[re],ve="",me=pe.length,oe=0;oe<me;oe++)ve+=this.renderer.tablecell(this.parseInline(pe[oe].tokens),{header:!1,align:Ee.align[oe]});Le+=this.renderer.tablerow(ve)}Q+=this.renderer.table(we,Le);continue}case"blockquote":{Le=this.parse(Ee.tokens),Q+=this.renderer.blockquote(Le);continue}case"list":{for(Ae=Ee.ordered,Re=Ee.start,Be=Ee.loose,he=Ee.items.length,Le="",re=0;re<he;re++)De=Ee.items[re],fe=De.checked,Ce=De.task,ye="",De.task&&(Me=this.renderer.checkbox(fe),Be?De.tokens.length>0&&De.tokens[0].type==="paragraph"?(De.tokens[0].text=Me+" "+De.tokens[0].text,De.tokens[0].tokens&&De.tokens[0].tokens.length>0&&De.tokens[0].tokens[0].type==="text"&&(De.tokens[0].tokens[0].text=Me+" "+De.tokens[0].tokens[0].text)):De.tokens.unshift({type:"text",text:Me}):ye+=Me),ye+=this.parse(De.tokens,Be),Le+=this.renderer.listitem(ye,Ce,fe);Q+=this.renderer.list(Le,Ae,Re);continue}case"html":{Q+=this.renderer.html(Ee.text);continue}case"paragraph":{Q+=this.renderer.paragraph(this.parseInline(Ee.tokens));continue}case"text":{for(Le=Ee.tokens?this.parseInline(Ee.tokens):Ee.text;j+1<Se&&K[j+1].type==="text";)Ee=K[++j],Le+=`
`+(Ee.tokens?this.parseInline(Ee.tokens):Ee.text);Q+=z?this.renderer.paragraph(Le):Le;continue}default:{var _e='Token with "'+Ee.type+'" type was not found.';if(this.options.silent){console.error(_e);return}else throw new Error(_e)}}}return Q},ae.parseInline=function(K,z){z=z||this.renderer;var Q="",j,re,oe,he=K.length;for(j=0;j<he;j++){if(re=K[j],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[re.type]&&(oe=this.options.extensions.renderers[re.type].call({parser:this},re),oe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(re.type))){Q+=oe||"";continue}switch(re.type){case"escape":{Q+=z.text(re.text);break}case"html":{Q+=z.html(re.text);break}case"link":{Q+=z.link(re.href,re.title,this.parseInline(re.tokens,z));break}case"image":{Q+=z.image(re.href,re.title,re.text);break}case"strong":{Q+=z.strong(this.parseInline(re.tokens,z));break}case"em":{Q+=z.em(this.parseInline(re.tokens,z));break}case"codespan":{Q+=z.codespan(re.text);break}case"br":{Q+=z.br();break}case"del":{Q+=z.del(this.parseInline(re.tokens,z));break}case"text":{Q+=z.text(re.text);break}default:{var me='Token with "'+re.type+'" type was not found.';if(this.options.silent){console.error(me);return}else throw new Error(me)}}}return Q},ce}();function J(ce,ae,X){if(typeof ce>"u"||ce===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ce!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ce)+", string expected");if(typeof ae=="function"&&(X=ae,ae=null),ae=E({},J.defaults,ae||{}),B(ae),X){var K=ae.highlight,z;try{z=F.lex(ce,ae)}catch(he){return X(he)}var Q=function(me){var pe;if(!me)try{ae.walkTokens&&J.walkTokens(z,ae.walkTokens),pe=se.parse(z,ae)}catch(ve){me=ve}return ae.highlight=K,me?X(me):X(null,pe)};if(!K||K.length<3||(delete ae.highlight,!z.length))return Q();var j=0;J.walkTokens(z,function(he){he.type==="code"&&(j++,setTimeout(function(){K(he.text,he.lang,function(me,pe){if(me)return Q(me);pe!=null&&pe!==he.text&&(he.text=pe,he.escaped=!0),j--,j===0&&Q()})},0))}),j===0&&Q();return}function re(he){if(he.message+=`
Please report this to https://github.com/markedjs/marked.`,ae.silent)return"<p>An error occurred:</p><pre>"+t(he.message+"",!0)+"</pre>";throw he}try{var oe=F.lex(ce,ae);if(ae.walkTokens){if(ae.async)return Promise.all(J.walkTokens(oe,ae.walkTokens)).then(function(){return se.parse(oe,ae)}).catch(re);J.walkTokens(oe,ae.walkTokens)}return se.parse(oe,ae)}catch(he){re(he)}}J.options=J.setOptions=function(ce){return E(J.defaults,ce),m(J.defaults),J},J.getDefaults=S,J.defaults=$.defaults,J.use=function(){for(var ce=arguments.length,ae=new Array(ce),X=0;X<ce;X++)ae[X]=arguments[X];var K=E.apply(void 0,[{}].concat(ae)),z=J.defaults.extensions||{renderers:{},childTokens:{}},Q;ae.forEach(function(j){if(j.extensions&&(Q=!0,j.extensions.forEach(function(oe){if(!oe.name)throw new Error("extension name required");if(oe.renderer){var he=z.renderers?z.renderers[oe.name]:null;he?z.renderers[oe.name]=function(){for(var me=arguments.length,pe=new Array(me),ve=0;ve<me;ve++)pe[ve]=arguments[ve];var we=oe.renderer.apply(this,pe);return we===!1&&(we=he.apply(this,pe)),we}:z.renderers[oe.name]=oe.renderer}if(oe.tokenizer){if(!oe.level||oe.level!=="block"&&oe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");z[oe.level]?z[oe.level].unshift(oe.tokenizer):z[oe.level]=[oe.tokenizer],oe.start&&(oe.level==="block"?z.startBlock?z.startBlock.push(oe.start):z.startBlock=[oe.start]:oe.level==="inline"&&(z.startInline?z.startInline.push(oe.start):z.startInline=[oe.start]))}oe.childTokens&&(z.childTokens[oe.name]=oe.childTokens)})),j.renderer&&function(){var oe=J.defaults.renderer||new G,he=function(ve){var we=oe[ve];oe[ve]=function(){for(var Le=arguments.length,Ee=new Array(Le),Ae=0;Ae<Le;Ae++)Ee[Ae]=arguments[Ae];var Re=j.renderer[ve].apply(oe,Ee);return Re===!1&&(Re=we.apply(oe,Ee)),Re}};for(var me in j.renderer)he(me);K.renderer=oe}(),j.tokenizer&&function(){var oe=J.defaults.tokenizer||new P,he=function(ve){var we=oe[ve];oe[ve]=function(){for(var Le=arguments.length,Ee=new Array(Le),Ae=0;Ae<Le;Ae++)Ee[Ae]=arguments[Ae];var Re=j.tokenizer[ve].apply(oe,Ee);return Re===!1&&(Re=we.apply(oe,Ee)),Re}};for(var me in j.tokenizer)he(me);K.tokenizer=oe}(),j.walkTokens){var re=J.defaults.walkTokens;K.walkTokens=function(oe){var he=[];return he.push(j.walkTokens.call(this,oe)),re&&(he=he.concat(re.call(this,oe))),he}}Q&&(K.extensions=z),J.setOptions(K)})},J.walkTokens=function(ce,ae){for(var X=[],K=function(){var re=Q.value;switch(X=X.concat(ae.call(J,re)),re.type){case"table":{for(var oe=D(re.header),he;!(he=oe()).done;){var me=he.value;X=X.concat(J.walkTokens(me.tokens,ae))}for(var pe=D(re.rows),ve;!(ve=pe()).done;)for(var we=ve.value,Le=D(we),Ee;!(Ee=Le()).done;){var Ae=Ee.value;X=X.concat(J.walkTokens(Ae.tokens,ae))}break}case"list":{X=X.concat(J.walkTokens(re.items,ae));break}default:J.defaults.extensions&&J.defaults.extensions.childTokens&&J.defaults.extensions.childTokens[re.type]?J.defaults.extensions.childTokens[re.type].forEach(function(Re){X=X.concat(J.walkTokens(re[Re],ae))}):re.tokens&&(X=X.concat(J.walkTokens(re.tokens,ae)))}},z=D(ce),Q;!(Q=z()).done;)K();return X},J.parseInline=function(ce,ae){if(typeof ce>"u"||ce===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ce!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ce)+", string expected");ae=E({},J.defaults,ae||{}),B(ae);try{var X=F.lexInline(ce,ae);return ae.walkTokens&&J.walkTokens(X,ae.walkTokens),se.parseInline(X,ae)}catch(K){if(K.message+=`
Please report this to https://github.com/markedjs/marked.`,ae.silent)return"<p>An error occurred:</p><pre>"+t(K.message+"",!0)+"</pre>";throw K}},J.Parser=se,J.parser=se.parse,J.Renderer=G,J.TextRenderer=Y,J.Lexer=F,J.lexer=F.lex,J.Tokenizer=P,J.Slugger=ne,J.parse=J;var q=J.options,H=J.setOptions,V=J.use,Z=J.walkTokens,ee=J.parseInline,le=J,ue=se.parse,de=F.lex;$.Lexer=F,$.Parser=se,$.Renderer=G,$.Slugger=ne,$.TextRenderer=Y,$.Tokenizer=P,$.getDefaults=S,$.lexer=de,$.marked=J,$.options=q,$.parse=le,$.parseInline=ee,$.parser=ue,$.setOptions=H,$.use=V,$.walkTokens=Z,Object.defineProperty($,"__esModule",{value:!0})}),define(te[107],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(te[196],ie([1,0,107]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:L.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(te[391],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class L{constructor(y,D=0,S=y.length,m=D-1){this.items=y,this.start=D,this.end=S,this.index=m}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=L}),define(te[392],ie([1,0,391]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class I{constructor(D=[],S=10){this._initialize(D),this._limit=S,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new L.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const S of D)this._history.add(S)}get _elements(){const D=[];return this._history.forEach(S=>D.push(S)),D}}e.HistoryNavigator=I}),define(te[139],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function L(D,S,m){return Math.min(Math.max(D,S),m)}e.clamp=L;class I{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=I;class y{constructor(S){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(S),this._values.fill(0,0,S)}update(S){const m=this._values[this._index];return this._values[this._index]=S,this._index=(this._index+1)%this._values.length,this._sum-=m,this._sum+=S,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=y}),define(te[140],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=e.getLogger=e.setLogger=void 0;let L;function I(r){L=r}e.setLogger=I;function y(){return L}e.getLogger=y;class D{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(u){return S([m(n("|  ",this.indentation)),u])}formatInfo(u){return u.hadValue?u.didChange?[m(" "),v(C(u.oldValue,70),{color:"red",strikeThrough:!0}),m(" "),v(C(u.newValue,60),{color:"green"})]:[m(" (unchanged)")]:[m(" "),v(C(u.newValue,60),{color:"green"}),m(" (initial)")]}handleObservableChanged(u,f){console.log(...this.textToConsoleArgs([_("observable value changed"),v(u.debugName,{color:"BlueViolet"}),...this.formatInfo(f)]))}formatChanges(u){if(u.size!==0)return v(" (changed deps: "+[...u].map(f=>f.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(u){const f=u.handleChange;this.changedObservablesSets.set(u,new Set),u.handleChange=(d,l)=>(this.changedObservablesSets.get(u).add(d),f.apply(u,[d,l]))}handleDerivedRecomputed(u,f){const d=this.changedObservablesSets.get(u);console.log(...this.textToConsoleArgs([_("derived recomputed"),v(u.debugName,{color:"BlueViolet"}),...this.formatInfo(f),this.formatChanges(d),{data:[{fn:u._computeFn}]}])),d.clear()}handleFromEventObservableTriggered(u,f){console.log(...this.textToConsoleArgs([_("observable from event triggered"),v(u.debugName,{color:"BlueViolet"}),...this.formatInfo(f),{data:[{fn:u._getValue}]}]))}handleAutorunCreated(u){const f=u.handleChange;this.changedObservablesSets.set(u,new Set),u.handleChange=(d,l)=>(this.changedObservablesSets.get(u).add(d),f.apply(u,[d,l]))}handleAutorunTriggered(u){const f=this.changedObservablesSets.get(u);console.log(...this.textToConsoleArgs([_("autorun"),v(u.debugName,{color:"BlueViolet"}),this.formatChanges(f),{data:[{fn:u._runFn}]}])),f.clear(),this.indentation++}handleAutorunFinished(u){this.indentation--}handleBeginTransaction(u){let f=u.getDebugName();f===void 0&&(f=""),console.log(...this.textToConsoleArgs([_("transaction"),v(f,{color:"BlueViolet"}),{data:[{fn:u._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=D;function S(r){const u=new Array,f=[];let d="";function l(c){if("length"in c)for(const a of c)a&&l(a);else"text"in c?(d+=`%c${c.text}`,u.push(c.style),c.data&&f.push(...c.data)):"data"in c&&f.push(...c.data)}l(r);const o=[d,...u];return o.push(...f),o}function m(r){return v(r,{color:"black"})}function _(r){return v(t(`${r}: `,10),{color:"black",bold:!0})}function v(r,u={color:"black"}){function f(l){return Object.entries(l).reduce((o,[c,a])=>`${o}${c}:${a};`,"")}const d={color:u.color};return u.strikeThrough&&(d["text-decoration"]="line-through"),u.bold&&(d["font-weight"]="bold"),{text:r,style:f(d)}}function C(r,u){switch(typeof r){case"number":return""+r;case"string":return r.length+2<=u?`"${r}"`:`"${r.substr(0,u-7)}"+...`;case"boolean":return r?"true":"false";case"undefined":return"undefined";case"object":return r===null?"null":Array.isArray(r)?s(r,u):i(r,u);case"symbol":return r.toString();case"function":return`[[Function${r.name?" "+r.name:""}]]`;default:return""+r}}function s(r,u){let f="[ ",d=!0;for(const l of r){if(d||(f+=", "),f.length-5>u){f+="...";break}d=!1,f+=`${C(l,u-f.length)}`}return f+=" ]",f}function i(r,u){let f="{ ",d=!0;for(const[l,o]of Object.entries(r)){if(d||(f+=", "),f.length-5>u){f+="...";break}d=!1,f+=`${l}: ${C(o,u-f.length)}`}return f+=" }",f}function n(r,u){let f="";for(let d=1;d<=u;d++)f+=r;return f}function t(r,u){for(;r.length<u;)r+=" ";return r}}),define(te[164],ie([1,0,140]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.disposableObservableValue=e.ObservableValue=e.observableValue=e.getFunctionName=e.getDebugName=e.TransactionImpl=e.subtransaction=e.transaction=e.BaseObservable=e.ConvenientObservable=e._setDerivedOpts=void 0;let I;function y(u){I=u}e._setDerivedOpts=y;class D{get TChange(){return null}reportChanges(){this.get()}read(f){return f?f.readObservable(this):this.get()}map(f,d){const l=d===void 0?void 0:f,o=d===void 0?f:d;return I({owner:l,debugName:()=>{const c=s(o);if(c!==void 0)return c;const g=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(o.toString());if(g)return`${this.debugName}.${g[2]}`;if(!l)return`${this.debugName} (mapped)`}},c=>o(this.read(c),c))}}e.ConvenientObservable=D;class S extends D{constructor(){super(...arguments),this.observers=new Set}addObserver(f){const d=this.observers.size;this.observers.add(f),d===0&&this.onFirstObserverAdded()}removeObserver(f){this.observers.delete(f)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=S;function m(u,f){const d=new v(u,f);try{u(d)}finally{d.finish()}}e.transaction=m;function _(u,f,d){u?f(u):m(f,d)}e.subtransaction=_;class v{constructor(f,d){var l;this._fn=f,this._getDebugName=d,this.updatingObservers=[],(l=(0,L.getLogger)())===null||l===void 0||l.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():s(this._fn)}updateObserver(f,d){this.updatingObservers.push({observer:f,observable:d}),f.beginUpdate(d)}finish(){var f;const d=this.updatingObservers;this.updatingObservers=null;for(const{observer:l,observable:o}of d)l.endUpdate(o);(f=(0,L.getLogger)())===null||f===void 0||f.handleEndTransaction()}}e.TransactionImpl=v;function C(u,f,d,l){let o;if(u!==void 0)if(typeof u=="function"){if(o=u(),o!==void 0)return o}else return u;if(f!==void 0&&(o=s(f),o!==void 0))return o;if(d!==void 0){for(const c in d)if(d[c]===l)return c}}e.getDebugName=C;function s(u){const f=u.toString(),l=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(f),o=l?l[1]:void 0;return o?.trim()}e.getFunctionName=s;function i(u,f){return typeof u=="string"?new n(void 0,u,f):new n(u,void 0,f)}e.observableValue=i;class n extends S{get debugName(){var f;return(f=C(this._debugName,void 0,this._owner,this))!==null&&f!==void 0?f:"ObservableValue"}constructor(f,d,l){super(),this._owner=f,this._debugName=d,this._value=l}get(){return this._value}set(f,d,l){var o;if(this._value===f)return;let c;d||(d=c=new v(()=>{},()=>`Setting ${this.debugName}`));try{const a=this._value;this._setValue(f),(o=(0,L.getLogger)())===null||o===void 0||o.handleObservableChanged(this,{oldValue:a,newValue:f,change:l,didChange:!0,hadValue:!0});for(const g of this.observers)d.updateObserver(g,this),g.handleChange(this,l)}finally{c&&c.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(f){this._value=f}}e.ObservableValue=n;function t(u,f){return typeof u=="string"?new r(void 0,u,f):new r(u,void 0,f)}e.disposableObservableValue=t;class r extends n{_setValue(f){this._value!==f&&(this._value&&this._value.dispose(),this._value=f)}dispose(){var f;(f=this._value)===null||f===void 0||f.dispose()}}e.DisposableObservableValue=r}),define(te[261],ie([1,0,96,2,164,140]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.autorunOpts=void 0;function S(s,i){return new C(s.debugName,i,void 0,void 0)}e.autorunOpts=S;function m(s){return new C(void 0,s,void 0,void 0)}e.autorun=m;function _(s,i){return new C(s.debugName,i,s.createEmptyChangeSummary,s.handleChange)}e.autorunHandleChanges=_;function v(s){const i=new I.DisposableStore,n=S({debugName:()=>(0,y.getFunctionName)(s)||"(anonymous)"},t=>{i.clear(),s(t,i)});return(0,I.toDisposable)(()=>{n.dispose(),i.dispose()})}e.autorunWithStore=v;class C{get debugName(){if(typeof this._debugName=="string")return this._debugName;if(typeof this._debugName=="function"){const n=this._debugName();if(n!==void 0)return n}const i=(0,y.getFunctionName)(this._runFn);return i!==void 0?i:"(anonymous)"}constructor(i,n,t,r){var u,f;this._debugName=i,this._runFn=n,this.createChangeSummary=t,this._handleChange=r,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(u=this.createChangeSummary)===null||u===void 0?void 0:u.call(this),(f=(0,D.getLogger)())===null||f===void 0||f.handleAutorunCreated(this),this._runIfNeeded(),(0,I.trackDisposable)(this)}dispose(){this.disposed=!0;for(const i of this.dependencies)i.removeObserver(this);this.dependencies.clear(),(0,I.markAsDisposed)(this)}_runIfNeeded(){var i,n,t;if(this.state===3)return;const r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r,this.state=3;try{if(!this.disposed){(i=(0,D.getLogger)())===null||i===void 0||i.handleAutorunTriggered(this);const u=this.changeSummary;this.changeSummary=(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this),this._runFn(this,u)}}finally{(t=(0,D.getLogger)())===null||t===void 0||t.handleAutorunFinished(this);for(const u of this.dependenciesToBeRemoved)u.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const i of this.dependencies)if(i.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,L.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(i){this.state===3&&this.dependencies.has(i)&&!this.dependenciesToBeRemoved.has(i)&&(this.state=1)}handleChange(i,n){this.dependencies.has(i)&&!this.dependenciesToBeRemoved.has(i)&&(!this._handleChange||this._handleChange({changedObservable:i,change:n,didChange:r=>r===i},this.changeSummary))&&(this.state=2)}readObservable(i){if(this.disposed)return i.get();i.addObserver(this);const n=i.get();return this.dependencies.add(i),this.dependenciesToBeRemoved.delete(i),n}}e.AutorunObserver=C,function(s){s.Observer=C}(m||(e.autorun=m={}))}),define(te[393],ie([1,0,9,2,164,140]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Derived=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=void 0;const S=(i,n)=>i===n;function m(i,n){return n!==void 0?new s(i,void 0,n,void 0,void 0,void 0,S):new s(void 0,void 0,i,void 0,void 0,void 0,S)}e.derived=m;function _(i,n){var t;return new s(i.owner,i.debugName,n,void 0,void 0,void 0,(t=i.equalityComparer)!==null&&t!==void 0?t:S)}e.derivedOpts=_;function v(i,n){var t;return new s(i.owner,i.debugName,n,i.createEmptyChangeSummary,i.handleChange,void 0,(t=i.equalityComparer)!==null&&t!==void 0?t:S)}e.derivedHandleChanges=v;function C(i,n){let t,r;n===void 0?(t=i,r=void 0):(r=i,t=n);const u=new I.DisposableStore;return new s(r,()=>{var f;return(f=(0,y.getFunctionName)(t))!==null&&f!==void 0?f:"(anonymous)"},f=>(u.clear(),t(f,u)),void 0,void 0,()=>u.dispose(),S)}e.derivedWithStore=C,(0,y._setDerivedOpts)(m);class s extends y.BaseObservable{get debugName(){var n;return(n=(0,y.getDebugName)(this._debugName,this._computeFn,this._owner,this))!==null&&n!==void 0?n:"(anonymous)"}constructor(n,t,r,u,f,d=void 0,l){var o,c;super(),this._owner=n,this._debugName=t,this._computeFn=r,this.createChangeSummary=u,this._handleChange=f,this._handleLastObserverRemoved=d,this._equalityComparator=l,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(o=this.createChangeSummary)===null||o===void 0?void 0:o.call(this),(c=(0,D.getLogger)())===null||c===void 0||c.handleDerivedCreated(this)}onLastObserverRemoved(){var n;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(n=this._handleLastObserverRemoved)===null||n===void 0||n.call(this)}get(){var n;if(this.observers.size===0){const t=this._computeFn(this,(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var n,t;if(this.state===3)return;const r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;const u=this.state!==0,f=this.value;this.state=3;const d=this.changeSummary;this.changeSummary=(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this);try{this.value=this._computeFn(this,d)}finally{for(const o of this.dependenciesToBeRemoved)o.removeObserver(this);this.dependenciesToBeRemoved.clear()}const l=u&&!this._equalityComparator(f,this.value);if((t=(0,D.getLogger)())===null||t===void 0||t.handleDerivedRecomputed(this,{oldValue:f,newValue:this.value,change:void 0,didChange:l,hadValue:u}),l)for(const o of this.observers)o.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(n){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const r of this.observers)r.handlePossibleChange(this);if(t)for(const r of this.observers)r.beginUpdate(this)}endUpdate(n){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const r of t)r.endUpdate(this)}if(this.updateCount<0)throw new L.BugIndicatingError}handlePossibleChange(n){if(this.state===3&&this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(n,t){if(this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){const r=this._handleChange?this._handleChange({changedObservable:n,change:t,didChange:f=>f===n},this.changeSummary):!0,u=this.state===3;if(r&&(this.state===1||u)&&(this.state=2,u))for(const f of this.observers)f.handlePossibleChange(this)}}readObservable(n){n.addObserver(this);const t=n.get();return this.dependencies.add(n),this.dependenciesToBeRemoved.delete(n),t}addObserver(n){const t=!this.observers.has(n)&&this.updateCount>0;super.addObserver(n),t&&n.beginUpdate(this)}removeObserver(n){const t=this.observers.has(n)&&this.updateCount>0;super.removeObserver(n),t&&n.endUpdate(this)}}e.Derived=s}),define(te[394],ie([1,0,2,261,164,140]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeInitiallyAndOnChange=e.observableSignal=e.observableSignalFromEvent=e.FromEventObservable=e.observableFromEvent=e.waitForState=e.constObservable=void 0;function S(f){return new m(f)}e.constObservable=S;class m extends y.ConvenientObservable{constructor(d){super(),this.value=d}get debugName(){return this.toString()}get(){return this.value}addObserver(d){}removeObserver(d){}toString(){return`Const: ${this.value}`}}function _(f,d){return new Promise(l=>{let o=!1,c=!1;const a=(0,I.autorun)(g=>{const h=f.read(g);d(h)&&(o?a.dispose():c=!0,l(h))});o=!0,c&&a.dispose()})}e.waitForState=_;function v(f,d){return new C(f,d)}e.observableFromEvent=v;class C extends y.BaseObservable{constructor(d,l){super(),this.event=d,this._getValue=l,this.hasValue=!1,this.handleEvent=o=>{var c;const a=this._getValue(o),g=!this.hasValue||this.value!==a;(c=(0,D.getLogger)())===null||c===void 0||c.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:a,change:void 0,didChange:g,hadValue:this.hasValue}),g&&(this.value=a,this.hasValue&&(0,y.transaction)(h=>{for(const p of this.observers)h.updateObserver(p,this),p.handleChange(this,void 0)},()=>{const h=this.getDebugName();return"Event fired"+(h?`: ${h}`:"")}),this.hasValue=!0)}}getDebugName(){return(0,y.getFunctionName)(this._getValue)}get debugName(){const d=this.getDebugName();return"From Event"+(d?`: ${d}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}e.FromEventObservable=C,function(f){f.Observer=C}(v||(e.observableFromEvent=v={}));function s(f,d){return new i(f,d)}e.observableSignalFromEvent=s;class i extends y.BaseObservable{constructor(d,l){super(),this.debugName=d,this.event=l,this.handleEvent=()=>{(0,y.transaction)(o=>{for(const c of this.observers)o.updateObserver(c,this),c.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function n(f){return typeof f=="string"?new t(f):new t(void 0,f)}e.observableSignal=n;class t extends y.BaseObservable{get debugName(){var d;return(d=(0,y.getDebugName)(this._debugName,void 0,this._owner,this))!==null&&d!==void 0?d:"Observable Signal"}constructor(d,l){super(),this._debugName=d,this._owner=l}trigger(d,l){if(!d){(0,y.transaction)(o=>{this.trigger(o,l)},()=>`Trigger signal ${this.debugName}`);return}for(const o of this.observers)d.updateObserver(o,this),o.handleChange(this,l)}get(){}}function r(f){const d=new u(!0);return f.addObserver(d),f.reportChanges(),(0,L.toDisposable)(()=>{f.removeObserver(d)})}e.recomputeInitiallyAndOnChange=r;class u{constructor(d){this.forceRecompute=d,this.counter=0}beginUpdate(d){this.counter++}endUpdate(d){this.counter--,this.counter===0&&this.forceRecompute&&d.reportChanges()}handlePossibleChange(d){}handleChange(d,l){}}}),define(te[40],ie([1,0,164,393,261,394,140]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.constObservable=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return L.observableValue}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return L.disposableObservableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return L.transaction}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return L.subtransaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return I.derived}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return I.derivedOpts}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return I.derivedHandleChanges}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return I.derivedWithStore}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return y.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return y.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return y.autorunWithStore}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return y.autorunOpts}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return D.constObservable}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return D.recomputeInitiallyAndOnChange}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return D.observableFromEvent}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return D.observableSignal}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return D.observableSignalFromEvent}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return D.waitForState}}),!1&&(0,S.setLogger)(new S.ConsoleObservableLogger)}),define(te[165],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var L;(function(I){function y(_,v){if(_.start>=v.end||v.start>=_.end)return{start:0,end:0};const C=Math.max(_.start,v.start),s=Math.min(_.end,v.end);return s-C<=0?{start:0,end:0}:{start:C,end:s}}I.intersect=y;function D(_){return _.end-_.start<=0}I.isEmpty=D;function S(_,v){return!D(y(_,v))}I.intersects=S;function m(_,v){const C=[],s={start:_.start,end:Math.min(v.start,_.end)},i={start:Math.max(v.end,_.start),end:_.end};return D(s)||C.push(s),D(i)||C.push(i),C}I.relativeComplement=m})(L||(e.Range=L={}))}),define(te[395],ie([1,0,165]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function I(_,v){const C=[];for(const s of v){if(_.start>=s.range.end)continue;if(_.end<s.range.start)break;const i=L.Range.intersect(_,s.range);L.Range.isEmpty(i)||C.push({range:i,size:s.size})}return C}e.groupIntersect=I;function y({start:_,end:v},C){return{start:_+C,end:v+C}}e.shift=y;function D(_){const v=[];let C=null;for(const s of _){const i=s.range.start,n=s.range.end,t=s.size;if(C&&t===C.size){C.range.end=n;continue}C={range:{start:i,end:n},size:t},v.push(C)}return v}e.consolidate=D;function S(..._){return D(_.reduce((v,C)=>v.concat(C),[]))}class m{get paddingTop(){return this._paddingTop}set paddingTop(v){this._size=this._size+v-this._paddingTop,this._paddingTop=v}constructor(v){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=v??0,this._size=this._paddingTop}splice(v,C,s=[]){const i=s.length-C,n=I({start:0,end:v},this.groups),t=I({start:v+C,end:Number.POSITIVE_INFINITY},this.groups).map(u=>({range:y(u.range,i),size:u.size})),r=s.map((u,f)=>({range:{start:v+f,end:v+f+1},size:u.size}));this.groups=S(n,r,t),this._size=this._paddingTop+this.groups.reduce((u,f)=>u+f.size*(f.range.end-f.range.start),0)}get count(){const v=this.groups.length;return v?this.groups[v-1].range.end:0}get size(){return this._size}indexAt(v){if(v<0)return-1;if(v<this._paddingTop)return 0;let C=0,s=this._paddingTop;for(const i of this.groups){const n=i.range.end-i.range.start,t=s+n*i.size;if(v<t)return C+Math.floor((v-s)/i.size);C+=n,s=t}return C}indexAfter(v){return Math.min(this.indexAt(v)+1,this.count)}positionAt(v){if(v<0)return-1;let C=0,s=0;for(const i of this.groups){const n=i.range.end-i.range.start,t=s+n;if(v<t)return this._paddingTop+C+(v-s)*i.size;C+=n*i.size,s=t}return-1}}e.RangeMap=m}),define(te[59],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const L=globalThis.performance&&typeof globalThis.performance.now=="function";class I{static create(D){return new I(D)}constructor(D){this._now=L&&D===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=I}),define(te[6],ie([1,0,9,106,2,63,59]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const m=!1,_=!1;var v;(function(b){b.None=()=>y.Disposable.None;function w(ce){if(_){const{onDidAddListener:ae}=ce,X=n.create();let K=0;ce.onDidAddListener=()=>{++K===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),X.print()),ae?.()}}}function E(ce,ae){return x(ce,()=>{},0,void 0,!0,void 0,ae)}b.defer=E;function k(ce){return(ae,X=null,K)=>{let z=!1,Q;return Q=ce(j=>{if(!z)return Q?Q.dispose():z=!0,ae.call(X,j)},null,K),z&&Q.dispose(),Q}}b.once=k;function M(ce,ae,X){return P((K,z=null,Q)=>ce(j=>K.call(z,ae(j)),null,Q),X)}b.map=M;function R(ce,ae,X){return P((K,z=null,Q)=>ce(j=>{ae(j),K.call(z,j)},null,Q),X)}b.forEach=R;function B(ce,ae,X){return P((K,z=null,Q)=>ce(j=>ae(j)&&K.call(z,j),null,Q),X)}b.filter=B;function T(ce){return ce}b.signal=T;function N(...ce){return(ae,X=null,K)=>{const z=(0,y.combinedDisposable)(...ce.map(Q=>Q(j=>ae.call(X,j))));return O(z,K)}}b.any=N;function A(ce,ae,X,K){let z=X;return M(ce,Q=>(z=ae(z,Q),z),K)}b.reduce=A;function P(ce,ae){let X;const K={onWillAddFirstListener(){X=ce(z.fire,z)},onDidRemoveLastListener(){X?.dispose()}};ae||w(K);const z=new f(K);return ae?.add(z),z.event}function O(ce,ae){return ae instanceof Array?ae.push(ce):ae&&ae.add(ce),ce}function x(ce,ae,X=100,K=!1,z=!1,Q,j){let re,oe,he,me=0,pe;const ve={leakWarningThreshold:Q,onWillAddFirstListener(){re=ce(Le=>{me++,oe=ae(oe,Le),K&&!he&&(we.fire(oe),oe=void 0),pe=()=>{const Ee=oe;oe=void 0,he=void 0,(!K||me>1)&&we.fire(Ee),me=0},typeof X=="number"?(clearTimeout(he),he=setTimeout(pe,X)):he===void 0&&(he=0,queueMicrotask(pe))})},onWillRemoveListener(){z&&me>0&&pe?.()},onDidRemoveLastListener(){pe=void 0,re.dispose()}};j||w(ve);const we=new f(ve);return j?.add(we),we.event}b.debounce=x;function W(ce,ae=0,X){return b.debounce(ce,(K,z)=>K?(K.push(z),K):[z],ae,void 0,!0,void 0,X)}b.accumulate=W;function U(ce,ae=(K,z)=>K===z,X){let K=!0,z;return B(ce,Q=>{const j=K||!ae(Q,z);return K=!1,z=Q,j},X)}b.latch=U;function F(ce,ae,X){return[b.filter(ce,ae,X),b.filter(ce,K=>!ae(K),X)]}b.split=F;function G(ce,ae=!1,X=[],K){let z=X.slice(),Q=ce(oe=>{z?z.push(oe):re.fire(oe)});K&&K.add(Q);const j=()=>{z?.forEach(oe=>re.fire(oe)),z=null},re=new f({onWillAddFirstListener(){Q||(Q=ce(oe=>re.fire(oe)),K&&K.add(Q))},onDidAddFirstListener(){z&&(ae?setTimeout(j):j())},onDidRemoveLastListener(){Q&&Q.dispose(),Q=null}});return K&&K.add(re),re.event}b.buffer=G;function Y(ce,ae){return(K,z,Q)=>{const j=ae(new se);return ce(function(re){const oe=j.evaluate(re);oe!==ne&&K.call(z,oe)},void 0,Q)}}b.chain=Y;const ne=Symbol("HaltChainable");class se{constructor(){this.steps=[]}map(ae){return this.steps.push(ae),this}forEach(ae){return this.steps.push(X=>(ae(X),X)),this}filter(ae){return this.steps.push(X=>ae(X)?X:ne),this}reduce(ae,X){let K=X;return this.steps.push(z=>(K=ae(K,z),K)),this}latch(ae=(X,K)=>X===K){let X=!0,K;return this.steps.push(z=>{const Q=X||!ae(z,K);return X=!1,K=z,Q?z:ne}),this}evaluate(ae){for(const X of this.steps)if(ae=X(ae),ae===ne)break;return ae}}function J(ce,ae,X=K=>K){const K=(...re)=>j.fire(X(...re)),z=()=>ce.on(ae,K),Q=()=>ce.removeListener(ae,K),j=new f({onWillAddFirstListener:z,onDidRemoveLastListener:Q});return j.event}b.fromNodeEventEmitter=J;function q(ce,ae,X=K=>K){const K=(...re)=>j.fire(X(...re)),z=()=>ce.addEventListener(ae,K),Q=()=>ce.removeEventListener(ae,K),j=new f({onWillAddFirstListener:z,onDidRemoveLastListener:Q});return j.event}b.fromDOMEventEmitter=q;function H(ce){return new Promise(ae=>k(ce)(ae))}b.toPromise=H;function V(ce){const ae=new f;return ce.then(X=>{ae.fire(X)},()=>{ae.fire(void 0)}).finally(()=>{ae.dispose()}),ae.event}b.fromPromise=V;function Z(ce,ae){return ae(void 0),ce(X=>ae(X))}b.runAndSubscribe=Z;function ee(ce,ae){let X=null;function K(Q){X?.dispose(),X=new y.DisposableStore,ae(Q,X)}K(void 0);const z=ce(Q=>K(Q));return(0,y.toDisposable)(()=>{z.dispose(),X?.dispose()})}b.runAndSubscribeWithStore=ee;class le{constructor(ae,X){this._observable=ae,this._counter=0,this._hasChanged=!1;const K={onWillAddFirstListener:()=>{ae.addObserver(this)},onDidRemoveLastListener:()=>{ae.removeObserver(this)}};X||w(K),this.emitter=new f(K),X&&X.add(this.emitter)}beginUpdate(ae){this._counter++}handlePossibleChange(ae){}handleChange(ae,X){this._hasChanged=!0}endUpdate(ae){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function ue(ce,ae){return new le(ce,ae).emitter.event}b.fromObservable=ue;function de(ce){return ae=>{let X=0,K=!1;const z={beginUpdate(){X++},endUpdate(){X--,X===0&&(ce.reportChanges(),K&&(K=!1,ae()))},handlePossibleChange(){},handleChange(){K=!0}};return ce.addObserver(z),ce.reportChanges(),{dispose(){ce.removeObserver(z)}}}}b.fromObservableLight=de})(v||(e.Event=v={}));class C{constructor(w){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${w}_${C._idPool++}`,C.all.add(this)}start(w){this._stopWatch=new S.StopWatch,this.listenerCount=w}stop(){if(this._stopWatch){const w=this._stopWatch.elapsed();this.durations.push(w),this.elapsedOverall+=w,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=C,C.all=new Set,C._idPool=0;let s=-1;class i{constructor(w,E=Math.random().toString(18).slice(2,5)){this.threshold=w,this.name=E,this._warnCountdown=0}dispose(){var w;(w=this._stacks)===null||w===void 0||w.clear()}check(w,E){const k=this.threshold;if(k<=0||E<k)return;this._stacks||(this._stacks=new Map);const M=this._stacks.get(w.value)||0;if(this._stacks.set(w.value,M+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=k*.5;let R,B=0;for(const[T,N]of this._stacks)(!R||B<N)&&(R=T,B=N);console.warn(`[${this.name}] potential listener LEAK detected, having ${E} listeners already. MOST frequent listener (${B}):`),console.warn(R)}return()=>{const R=this._stacks.get(w.value)||0;this._stacks.set(w.value,R-1)}}}class n{static create(){var w;return new n((w=new Error().stack)!==null&&w!==void 0?w:"")}constructor(w){this.value=w}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class t{constructor(w){this.value=w}}const r=2,u=(b,w)=>{if(b instanceof t)w(b);else for(let E=0;E<b.length;E++){const k=b[E];k&&w(k)}};class f{constructor(w){var E,k,M,R,B;this._size=0,this._options=w,this._leakageMon=s>0||!((E=this._options)===null||E===void 0)&&E.leakWarningThreshold?new i((M=(k=this._options)===null||k===void 0?void 0:k.leakWarningThreshold)!==null&&M!==void 0?M:s):void 0,this._perfMon=!((R=this._options)===null||R===void 0)&&R._profName?new C(this._options._profName):void 0,this._deliveryQueue=(B=this._options)===null||B===void 0?void 0:B.deliveryQueue}dispose(){var w,E,k,M;if(!this._disposed){if(this._disposed=!0,((w=this._deliveryQueue)===null||w===void 0?void 0:w.current)===this&&this._deliveryQueue.reset(),this._listeners){if(m){const R=this._listeners;queueMicrotask(()=>{u(R,B=>{var T;return(T=B.stack)===null||T===void 0?void 0:T.print()})})}this._listeners=void 0,this._size=0}(k=(E=this._options)===null||E===void 0?void 0:E.onDidRemoveLastListener)===null||k===void 0||k.call(E),(M=this._leakageMon)===null||M===void 0||M.dispose()}}get event(){var w;return(w=this._event)!==null&&w!==void 0||(this._event=(E,k,M)=>{var R,B,T,N,A;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),y.Disposable.None;if(this._disposed)return y.Disposable.None;k&&(E=E.bind(k));const P=new t(E);let O,x;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(P.stack=n.create(),O=this._leakageMon.check(P.stack,this._size+1)),m&&(P.stack=x??n.create()),this._listeners?this._listeners instanceof t?((A=this._deliveryQueue)!==null&&A!==void 0||(this._deliveryQueue=new l),this._listeners=[this._listeners,P]):this._listeners.push(P):((B=(R=this._options)===null||R===void 0?void 0:R.onWillAddFirstListener)===null||B===void 0||B.call(R,this),this._listeners=P,(N=(T=this._options)===null||T===void 0?void 0:T.onDidAddFirstListener)===null||N===void 0||N.call(T,this)),this._size++;const W=(0,y.toDisposable)(()=>{O?.(),this._removeListener(P)});return M instanceof y.DisposableStore?M.add(W):Array.isArray(M)&&M.push(W),W}),this._event}_removeListener(w){var E,k,M,R;if((k=(E=this._options)===null||E===void 0?void 0:E.onWillRemoveListener)===null||k===void 0||k.call(E,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(R=(M=this._options)===null||M===void 0?void 0:M.onDidRemoveLastListener)===null||R===void 0||R.call(M,this),this._size=0;return}const B=this._listeners,T=B.indexOf(w);if(T===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,B[T]=void 0;const N=this._deliveryQueue.current===this;if(this._size*r<=B.length){let A=0;for(let P=0;P<B.length;P++)B[P]?B[A++]=B[P]:N&&(this._deliveryQueue.end--,A<this._deliveryQueue.i&&this._deliveryQueue.i--);B.length=A}}_deliver(w,E){var k;if(!w)return;const M=((k=this._options)===null||k===void 0?void 0:k.onListenerError)||L.onUnexpectedError;if(!M){w.value(E);return}try{w.value(E)}catch(R){M(R)}}_deliverQueue(w){const E=w.current._listeners;for(;w.i<w.end;)this._deliver(E[w.i++],w.value);w.reset()}fire(w){var E,k,M,R;if(!((E=this._deliveryQueue)===null||E===void 0)&&E.current&&(this._deliverQueue(this._deliveryQueue),(k=this._perfMon)===null||k===void 0||k.stop()),(M=this._perfMon)===null||M===void 0||M.start(this._size),this._listeners)if(this._listeners instanceof t)this._deliver(this._listeners,w);else{const B=this._deliveryQueue;B.enqueue(this,w,this._listeners.length),this._deliverQueue(B)}(R=this._perfMon)===null||R===void 0||R.stop()}hasListeners(){return this._size>0}}e.Emitter=f;const d=()=>new l;e.createEventDeliveryQueue=d;class l{constructor(){this.i=-1,this.end=0}enqueue(w,E,k){this.i=0,this.end=k,this.current=w,this.value=E}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class o extends f{constructor(w){super(w),this._isPaused=0,this._eventQueue=new D.LinkedList,this._mergeFn=w?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const w=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(w))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(w){this._size&&(this._isPaused!==0?this._eventQueue.push(w):super.fire(w))}}e.PauseableEmitter=o;class c extends o{constructor(w){var E;super(w),this._delay=(E=w.delay)!==null&&E!==void 0?E:100}fire(w){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(w)}}e.DebounceEmitter=c;class a extends f{constructor(w){super(w),this._queuedEvents=[],this._mergeFn=w?.merge}fire(w){this.hasListeners()&&(this._queuedEvents.push(w),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(E=>super.fire(E)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=a;class g{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new f({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(w){const E={event:w,listener:null};this.events.push(E),this.hasListeners&&this.hook(E);const k=()=>{this.hasListeners&&this.unhook(E);const M=this.events.indexOf(E);this.events.splice(M,1)};return(0,y.toDisposable)((0,I.createSingleCallFunction)(k))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(w=>this.hook(w))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(w=>this.unhook(w))}hook(w){w.listener=w.event(E=>this.emitter.fire(E))}unhook(w){w.listener&&w.listener.dispose(),w.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=g;class h{constructor(){this.buffers=[]}wrapEvent(w){return(E,k,M)=>w(R=>{const B=this.buffers[this.buffers.length-1];B?B.push(()=>E.call(k,R)):E.call(k,R)},void 0,M)}bufferEvents(w){const E=[];this.buffers.push(E);const k=w();return this.buffers.pop(),E.forEach(M=>M()),k}}e.EventBufferer=h;class p{constructor(){this.listening=!1,this.inputEvent=v.None,this.inputEventListener=y.Disposable.None,this.emitter=new f({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(w){this.inputEvent=w,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=w(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=p}),define(te[51],ie([1,0,6,2]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class y{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}y.INSTANCE=new y;class D extends I.Disposable{constructor(){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(t){var r;(r=this._mediaQueryList)===null||r===void 0||r.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class S extends I.Disposable{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const t=this._register(new D);this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const t=document.createElement("canvas").getContext("2d"),r=window.devicePixelRatio||1,u=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return r/u}}class m{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,I.markAsSingleton)(new S)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function _(n,t){typeof n=="string"&&(n=window.matchMedia(n)),n.addEventListener("change",t)}e.addMatchMediaChangeListener=_,e.PixelRatio=new m;function v(){return y.INSTANCE.getZoomFactor()}e.getZoomFactor=v;const C=navigator.userAgent;e.isFirefox=C.indexOf("Firefox")>=0,e.isWebKit=C.indexOf("AppleWebKit")>=0,e.isChrome=C.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&C.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=C.indexOf("Electron/")>=0,e.isAndroid=C.indexOf("Android")>=0;let s=!1;if(window.matchMedia){const n=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=window.matchMedia("(display-mode: fullscreen)");s=n.matches,_(n,({matches:r})=>{s&&t.matches||(s=r)})}function i(){return s}e.isStandalone=i}),define(te[79],ie([1,0,6]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class I{get event(){return this.emitter.event}constructor(D,S,m){const _=v=>this.emitter.fire(v);this.emitter=new L.Emitter({onWillAddFirstListener:()=>D.addEventListener(S,_,m),onDidRemoveLastListener:()=>D.removeEventListener(S,_,m)})}dispose(){this.emitter.dispose()}}e.DomEmitter=I}),define(te[19],ie([1,0,6]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const I=Object.freeze(function(m,_){const v=setTimeout(m.bind(_),0);return{dispose(){clearTimeout(v)}}});var y;(function(m){function _(v){return v===m.None||v===m.Cancelled||v instanceof D?!0:!v||typeof v!="object"?!1:typeof v.isCancellationRequested=="boolean"&&typeof v.onCancellationRequested=="function"}m.isCancellationToken=_,m.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:L.Event.None}),m.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:I})})(y||(e.CancellationToken=y={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?I:(this._emitter||(this._emitter=new L.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(_){this._token=void 0,this._parentListener=void 0,this._parentListener=_&&_.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=y.Cancelled}dispose(_=!1){var v;_&&this.cancel(),(v=this._parentListener)===null||v===void 0||v.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=y.None}}e.CancellationTokenSource=S}),define(te[262],ie([1,0,6]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class I{constructor(){this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=I,e.IME=new I}),define(te[166],ie([1,0,6,2]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class y{constructor(n,t,r,u,f,d,l){this._forceIntegerValues=n,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,r=r|0,u=u|0,f=f|0,d=d|0,l=l|0),this.rawScrollLeft=u,this.rawScrollTop=l,t<0&&(t=0),u+t>r&&(u=r-t),u<0&&(u=0),f<0&&(f=0),l+f>d&&(l=d-f),l<0&&(l=0),this.width=t,this.scrollWidth=r,this.scrollLeft=u,this.height=f,this.scrollHeight=d,this.scrollTop=l}equals(n){return this.rawScrollLeft===n.rawScrollLeft&&this.rawScrollTop===n.rawScrollTop&&this.width===n.width&&this.scrollWidth===n.scrollWidth&&this.scrollLeft===n.scrollLeft&&this.height===n.height&&this.scrollHeight===n.scrollHeight&&this.scrollTop===n.scrollTop}withScrollDimensions(n,t){return new y(this._forceIntegerValues,typeof n.width<"u"?n.width:this.width,typeof n.scrollWidth<"u"?n.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof n.height<"u"?n.height:this.height,typeof n.scrollHeight<"u"?n.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(n){return new y(this._forceIntegerValues,this.width,this.scrollWidth,typeof n.scrollLeft<"u"?n.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof n.scrollTop<"u"?n.scrollTop:this.rawScrollTop)}createScrollEvent(n,t){const r=this.width!==n.width,u=this.scrollWidth!==n.scrollWidth,f=this.scrollLeft!==n.scrollLeft,d=this.height!==n.height,l=this.scrollHeight!==n.scrollHeight,o=this.scrollTop!==n.scrollTop;return{inSmoothScrolling:t,oldWidth:n.width,oldScrollWidth:n.scrollWidth,oldScrollLeft:n.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:n.height,oldScrollHeight:n.scrollHeight,oldScrollTop:n.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:u,scrollLeftChanged:f,heightChanged:d,scrollHeightChanged:l,scrollTopChanged:o}}}e.ScrollState=y;class D extends I.Disposable{constructor(n){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new L.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=n.smoothScrollDuration,this._scheduleAtNextAnimationFrame=n.scheduleAtNextAnimationFrame,this._state=new y(n.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(n){this._smoothScrollDuration=n}validateScrollPosition(n){return this._state.withScrollPosition(n)}getScrollDimensions(){return this._state}setScrollDimensions(n,t){var r;const u=this._state.withScrollDimensions(n,t);this._setState(u,!!this._smoothScrolling),(r=this._smoothScrolling)===null||r===void 0||r.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(n){const t=this._state.withScrollPosition(n);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(n,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(n);if(this._smoothScrolling){n={scrollLeft:typeof n.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:n.scrollLeft,scrollTop:typeof n.scrollTop>"u"?this._smoothScrolling.to.scrollTop:n.scrollTop};const r=this._state.withScrollPosition(n);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let u;t?u=new v(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):u=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=u}else{const r=this._state.withScrollPosition(n);this._smoothScrolling=v.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const n=this._smoothScrolling.tick(),t=this._state.withScrollPosition(n);if(this._setState(t,!0),!!this._smoothScrolling){if(n.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(n,t){const r=this._state;r.equals(n)||(this._state=n,this._onScroll.fire(this._state.createScrollEvent(r,t)))}}e.Scrollable=D;class S{constructor(n,t,r){this.scrollLeft=n,this.scrollTop=t,this.isDone=r}}e.SmoothScrollingUpdate=S;function m(i,n){const t=n-i;return function(r){return i+t*s(r)}}function _(i,n,t){return function(r){return r<t?i(r/t):n((r-t)/(1-t))}}class v{constructor(n,t,r,u){this.from=n,this.to=t,this.duration=u,this.startTime=r,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(n,t,r){if(Math.abs(n-t)>2.5*r){let f,d;return n<t?(f=n+.75*r,d=t-.75*r):(f=n-.75*r,d=t+.75*r),_(m(n,f),m(d,t),.33)}return m(n,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(n){this.to=n.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(n){const t=(n-this.startTime)/this.duration;if(t<1){const r=this.scrollLeft(t),u=this.scrollTop(t);return new S(r,u,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(n,t,r){return v.start(n,t,r)}static start(n,t,r){r=r+10;const u=Date.now()-10;return new v(n,t,u,r)}}e.SmoothScrollingOperation=v;function C(i){return Math.pow(i,3)}function s(i){return 1-C(1-i)}}),define(te[10],ie([1,0,259,97]),function($,e,L,I){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D(j){return!j||typeof j!="string"?!0:j.trim().length===0}e.isFalsyOrWhitespace=D;const S=/{(\d+)}/g;function m(j,...re){return re.length===0?j:j.replace(S,function(oe,he){const me=parseInt(he,10);return isNaN(me)||me<0||me>=re.length?oe:re[me]})}e.format=m;function _(j){return j.replace(/[<>&]/g,function(re){switch(re){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return re}})}e.escape=_;function v(j){return j.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=v;function C(j,re=" "){const oe=s(j,re);return i(oe,re)}e.trim=C;function s(j,re){if(!j||!re)return j;const oe=re.length;if(oe===0||j.length===0)return j;let he=0;for(;j.indexOf(re,he)===he;)he=he+oe;return j.substring(he)}e.ltrim=s;function i(j,re){if(!j||!re)return j;const oe=re.length,he=j.length;if(oe===0||he===0)return j;let me=he,pe=-1;for(;pe=j.lastIndexOf(re,me-1),!(pe===-1||pe+oe!==me);){if(pe===0)return"";me=pe}return j.substring(0,me)}e.rtrim=i;function n(j){return j.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=n;function t(j){return j.replace(/\*/g,"")}e.stripWildcards=t;function r(j,re,oe={}){if(!j)throw new Error("Cannot create regex from empty string");re||(j=v(j)),oe.wholeWord&&(/\B/.test(j.charAt(0))||(j="\\b"+j),/\B/.test(j.charAt(j.length-1))||(j=j+"\\b"));let he="";return oe.global&&(he+="g"),oe.matchCase||(he+="i"),oe.multiline&&(he+="m"),oe.unicode&&(he+="u"),new RegExp(j,he)}e.createRegExp=r;function u(j){return j.source==="^"||j.source==="^$"||j.source==="$"||j.source==="^\\s*$"?!1:!!(j.exec("")&&j.lastIndex===0)}e.regExpLeadsToEndlessLoop=u;function f(j){return j.split(/\r\n|\r|\n/)}e.splitLines=f;function d(j){for(let re=0,oe=j.length;re<oe;re++){const he=j.charCodeAt(re);if(he!==32&&he!==9)return re}return-1}e.firstNonWhitespaceIndex=d;function l(j,re=0,oe=j.length){for(let he=re;he<oe;he++){const me=j.charCodeAt(he);if(me!==32&&me!==9)return j.substring(re,he)}return j.substring(re,oe)}e.getLeadingWhitespace=l;function o(j,re=j.length-1){for(let oe=re;oe>=0;oe--){const he=j.charCodeAt(oe);if(he!==32&&he!==9)return oe}return-1}e.lastNonWhitespaceIndex=o;function c(j,re){return j<re?-1:j>re?1:0}e.compare=c;function a(j,re,oe=0,he=j.length,me=0,pe=re.length){for(;oe<he&&me<pe;oe++,me++){const Le=j.charCodeAt(oe),Ee=re.charCodeAt(me);if(Le<Ee)return-1;if(Le>Ee)return 1}const ve=he-oe,we=pe-me;return ve<we?-1:ve>we?1:0}e.compareSubstring=a;function g(j,re){return h(j,re,0,j.length,0,re.length)}e.compareIgnoreCase=g;function h(j,re,oe=0,he=j.length,me=0,pe=re.length){for(;oe<he&&me<pe;oe++,me++){let Le=j.charCodeAt(oe),Ee=re.charCodeAt(me);if(Le===Ee)continue;if(Le>=128||Ee>=128)return a(j.toLowerCase(),re.toLowerCase(),oe,he,me,pe);b(Le)&&(Le-=32),b(Ee)&&(Ee-=32);const Ae=Le-Ee;if(Ae!==0)return Ae}const ve=he-oe,we=pe-me;return ve<we?-1:ve>we?1:0}e.compareSubstringIgnoreCase=h;function p(j){return j>=48&&j<=57}e.isAsciiDigit=p;function b(j){return j>=97&&j<=122}e.isLowerAsciiLetter=b;function w(j){return j>=65&&j<=90}e.isUpperAsciiLetter=w;function E(j,re){return j.length===re.length&&h(j,re)===0}e.equalsIgnoreCase=E;function k(j,re){const oe=re.length;return re.length>j.length?!1:h(j,re,0,oe)===0}e.startsWithIgnoreCase=k;function M(j,re){const oe=Math.min(j.length,re.length);let he;for(he=0;he<oe;he++)if(j.charCodeAt(he)!==re.charCodeAt(he))return he;return oe}e.commonPrefixLength=M;function R(j,re){const oe=Math.min(j.length,re.length);let he;const me=j.length-1,pe=re.length-1;for(he=0;he<oe;he++)if(j.charCodeAt(me-he)!==re.charCodeAt(pe-he))return he;return oe}e.commonSuffixLength=R;function B(j){return 55296<=j&&j<=56319}e.isHighSurrogate=B;function T(j){return 56320<=j&&j<=57343}e.isLowSurrogate=T;function N(j,re){return(j-55296<<10)+(re-56320)+65536}e.computeCodePoint=N;function A(j,re,oe){const he=j.charCodeAt(oe);if(B(he)&&oe+1<re){const me=j.charCodeAt(oe+1);if(T(me))return N(he,me)}return he}e.getNextCodePoint=A;function P(j,re){const oe=j.charCodeAt(re-1);if(T(oe)&&re>1){const he=j.charCodeAt(re-2);if(B(he))return N(he,oe)}return oe}class O{get offset(){return this._offset}constructor(re,oe=0){this._str=re,this._len=re.length,this._offset=oe}setOffset(re){this._offset=re}prevCodePoint(){const re=P(this._str,this._offset);return this._offset-=re>=65536?2:1,re}nextCodePoint(){const re=A(this._str,this._len,this._offset);return this._offset+=re>=65536?2:1,re}eol(){return this._offset>=this._len}}e.CodePointIterator=O;class x{get offset(){return this._iterator.offset}constructor(re,oe=0){this._iterator=new O(re,oe)}nextGraphemeLength(){const re=de.getInstance(),oe=this._iterator,he=oe.offset;let me=re.getGraphemeBreakType(oe.nextCodePoint());for(;!oe.eol();){const pe=oe.offset,ve=re.getGraphemeBreakType(oe.nextCodePoint());if(ue(me,ve)){oe.setOffset(pe);break}me=ve}return oe.offset-he}prevGraphemeLength(){const re=de.getInstance(),oe=this._iterator,he=oe.offset;let me=re.getGraphemeBreakType(oe.prevCodePoint());for(;oe.offset>0;){const pe=oe.offset,ve=re.getGraphemeBreakType(oe.prevCodePoint());if(ue(ve,me)){oe.setOffset(pe);break}me=ve}return he-oe.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=x;function W(j,re){return new x(j,re).nextGraphemeLength()}e.nextCharLength=W;function U(j,re){return new x(j,re).prevGraphemeLength()}e.prevCharLength=U;function F(j,re){re>0&&T(j.charCodeAt(re))&&re--;const oe=re+W(j,re);return[oe-U(j,oe),oe]}e.getCharContainingOffset=F;let G;function Y(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function ne(j){return G||(G=Y()),G.test(j)}e.containsRTL=ne;const se=/^[\t\n\r\x20-\x7E]*$/;function J(j){return se.test(j)}e.isBasicASCII=J,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function q(j){return e.UNUSUAL_LINE_TERMINATORS.test(j)}e.containsUnusualLineTerminators=q;function H(j){return j>=11904&&j<=55215||j>=63744&&j<=64255||j>=65281&&j<=65374}e.isFullWidthCharacter=H;function V(j){return j>=127462&&j<=127487||j===8986||j===8987||j===9200||j===9203||j>=9728&&j<=10175||j===11088||j===11093||j>=127744&&j<=128591||j>=128640&&j<=128764||j>=128992&&j<=129008||j>=129280&&j<=129535||j>=129648&&j<=129782}e.isEmojiImprecise=V,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function Z(j){return!!(j&&j.length>0&&j.charCodeAt(0)===65279)}e.startsWithUTF8BOM=Z;function ee(j,re=!1){return j?(re&&(j=j.replace(/\\./g,"")),j.toLowerCase()!==j):!1}e.containsUppercaseCharacter=ee;function le(j){return j=j%(2*26),j<26?String.fromCharCode(97+j):String.fromCharCode(65+j-26)}e.singleLetterHash=le;function ue(j,re){return j===0?re!==5&&re!==7:j===2&&re===3?!1:j===4||j===2||j===3||re===4||re===2||re===3?!0:!(j===8&&(re===8||re===9||re===11||re===12)||(j===11||j===9)&&(re===9||re===10)||(j===12||j===10)&&re===10||re===5||re===13||re===7||j===1||j===13&&re===14||j===6&&re===6)}class de{static getInstance(){return de._INSTANCE||(de._INSTANCE=new de),de._INSTANCE}constructor(){this._data=ce()}getGraphemeBreakType(re){if(re<32)return re===10?3:re===13?2:4;if(re<127)return 0;const oe=this._data,he=oe.length/3;let me=1;for(;me<=he;)if(re<oe[3*me])me=2*me;else if(re>oe[3*me+1])me=2*me+1;else return oe[3*me+2];return 0}}de._INSTANCE=null;function ce(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function ae(j,re){if(j===0)return 0;const oe=X(j,re);if(oe!==void 0)return oe;const he=new O(re,j);return he.prevCodePoint(),he.offset}e.getLeftDeleteOffset=ae;function X(j,re){const oe=new O(re,j);let he=oe.prevCodePoint();for(;K(he)||he===65039||he===8419;){if(oe.offset===0)return;he=oe.prevCodePoint()}if(!V(he))return;let me=oe.offset;return me>0&&oe.prevCodePoint()===8205&&(me=oe.offset),me}function K(j){return 127995<=j&&j<=127999}e.noBreakWhitespace="\xA0";class z{static getInstance(re){return y.cache.get(Array.from(re))}static getLocales(){return y._locales.value}constructor(re){this.confusableDictionary=re}isAmbiguous(re){return this.confusableDictionary.has(re)}getPrimaryConfusable(re){return this.confusableDictionary.get(re)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=z,y=z,z.ambiguousCharacterData=new I.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),z.cache=new L.LRUCachedFunction(j=>{function re(Ee){const Ae=new Map;for(let Re=0;Re<Ee.length;Re+=2)Ae.set(Ee[Re],Ee[Re+1]);return Ae}function oe(Ee,Ae){const Re=new Map(Ee);for(const[Be,ye]of Ae)Re.set(Be,ye);return Re}function he(Ee,Ae){if(!Ee)return Ae;const Re=new Map;for(const[Be,ye]of Ee)Ae.has(Be)&&Re.set(Be,ye);return Re}const me=y.ambiguousCharacterData.value;let pe=j.filter(Ee=>!Ee.startsWith("_")&&Ee in me);pe.length===0&&(pe=["_default"]);let ve;for(const Ee of pe){const Ae=re(me[Ee]);ve=he(ve,Ae)}const we=re(me._common),Le=oe(we,ve);return new y(Le)}),z._locales=new I.Lazy(()=>Object.keys(y.ambiguousCharacterData.value).filter(j=>!j.startsWith("_")));class Q{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Q.getRawData())),this._data}static isInvisibleCharacter(re){return Q.getData().has(re)}static get codePoints(){return Q.getData()}}e.InvisibleCharacters=Q,Q._data=void 0}),define(te[69],ie([1,0,56,10]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function y(...K){return function(z,Q){for(let j=0,re=K.length;j<re;j++){const oe=K[j](z,Q);if(oe)return oe}return null}}e.or=y,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D(K,z,Q){if(!Q||Q.length<z.length)return null;let j;return K?j=I.startsWithIgnoreCase(Q,z):j=Q.indexOf(z)===0,j?z.length>0?[{start:0,end:z.length}]:[]:null}function S(K,z){const Q=z.toLowerCase().indexOf(K.toLowerCase());return Q===-1?null:[{start:Q,end:Q+K.length}]}e.matchesContiguousSubString=S;function m(K,z){return _(K.toLowerCase(),z.toLowerCase(),0,0)}e.matchesSubString=m;function _(K,z,Q,j){if(Q===K.length)return[];if(j===z.length)return null;if(K[Q]===z[j]){let re=null;return(re=_(K,z,Q+1,j+1))?f({start:j,end:j+1},re):null}return _(K,z,Q,j+1)}function v(K){return 97<=K&&K<=122}function C(K){return 65<=K&&K<=90}e.isUpper=C;function s(K){return 48<=K&&K<=57}function i(K){return K===32||K===9||K===10||K===13}const n=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(K=>n.add(K.charCodeAt(0)));function t(K){return i(K)||n.has(K)}function r(K,z){return K===z||t(K)&&t(z)}function u(K){return v(K)||C(K)||s(K)}function f(K,z){return z.length===0?z=[K]:K.end===z[0].start?z[0].start=K.start:z.unshift(K),z}function d(K,z){for(let Q=z;Q<K.length;Q++){const j=K.charCodeAt(Q);if(C(j)||s(j)||Q>0&&!u(K.charCodeAt(Q-1)))return Q}return K.length}function l(K,z,Q,j){if(Q===K.length)return[];if(j===z.length)return null;if(K[Q]!==z[j].toLowerCase())return null;{let re=null,oe=j+1;for(re=l(K,z,Q+1,j+1);!re&&(oe=d(z,oe))<z.length;)re=l(K,z,Q+1,oe),oe++;return re===null?null:f({start:j,end:j+1},re)}}function o(K){let z=0,Q=0,j=0,re=0,oe=0;for(let we=0;we<K.length;we++)oe=K.charCodeAt(we),C(oe)&&z++,v(oe)&&Q++,u(oe)&&j++,s(oe)&&re++;const he=z/K.length,me=Q/K.length,pe=j/K.length,ve=re/K.length;return{upperPercent:he,lowerPercent:me,alphaPercent:pe,numericPercent:ve}}function c(K){const{upperPercent:z,lowerPercent:Q}=K;return Q===0&&z>.6}function a(K){const{upperPercent:z,lowerPercent:Q,alphaPercent:j,numericPercent:re}=K;return Q>.2&&z<.8&&j>.6&&re<.2}function g(K){let z=0,Q=0,j=0,re=0;for(let oe=0;oe<K.length;oe++)j=K.charCodeAt(oe),C(j)&&z++,v(j)&&Q++,i(j)&&re++;return(z===0||Q===0)&&re===0?K.length<=30:z<=5}function h(K,z){if(!z||(z=z.trim(),z.length===0)||!g(K)||z.length>60)return null;const Q=o(z);if(!a(Q)){if(!c(Q))return null;z=z.toLowerCase()}let j=null,re=0;for(K=K.toLowerCase();re<z.length&&(j=l(K,z,0,re))===null;)re=d(z,re+1);return j}e.matchesCamelCase=h;function p(K,z,Q=!1){if(!z||z.length===0)return null;let j=null,re=0;for(K=K.toLowerCase(),z=z.toLowerCase();re<z.length&&(j=b(K,z,0,re,Q))===null;)re=w(z,re+1);return j}e.matchesWords=p;function b(K,z,Q,j,re){if(Q===K.length)return[];if(j===z.length)return null;if(r(K.charCodeAt(Q),z.charCodeAt(j))){let oe=null,he=j+1;if(oe=b(K,z,Q+1,j+1,re),!re)for(;!oe&&(he=w(z,he))<z.length;)oe=b(K,z,Q+1,he,re),he++;return oe?K.charCodeAt(Q)!==z.charCodeAt(j)?oe:f({start:j,end:j+1},oe):null}else return null}function w(K,z){for(let Q=z;Q<K.length;Q++)if(t(K.charCodeAt(Q))||Q>0&&t(K.charCodeAt(Q-1)))return Q;return K.length}const E=y(e.matchesPrefix,h,S),k=y(e.matchesPrefix,h,m),M=new L.LRUCache(1e4);function R(K,z,Q=!1){if(typeof K!="string"||typeof z!="string")return null;let j=M.get(K);j||(j=new RegExp(I.convertSimple2RegExpPattern(K),"i"),M.set(K,j));const re=j.exec(z);return re?[{start:re.index,end:re.index+re[0].length}]:Q?k(K,z):E(K,z)}e.matchesFuzzy=R;function B(K,z){const Q=le(K,K.toLowerCase(),0,z,z.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return Q?N(Q):null}e.matchesFuzzy2=B;function T(K,z,Q,j,re,oe){const he=Math.min(13,K.length);for(;Q<he;Q++){const me=le(K,z,Q,j,re,oe,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(me)return me}return[0,oe]}e.anyScore=T;function N(K){if(typeof K>"u")return[];const z=[],Q=K[1];for(let j=K.length-1;j>1;j--){const re=K[j]+Q,oe=z[z.length-1];oe&&oe.end===re?oe.end=re+1:z.push({start:re,end:re+1})}return z}e.createMatches=N;const A=128;function P(){const K=[],z=[];for(let Q=0;Q<=A;Q++)z[Q]=0;for(let Q=0;Q<=A;Q++)K.push(z.slice(0));return K}function O(K){const z=[];for(let Q=0;Q<=K;Q++)z[Q]=0;return z}const x=O(2*A),W=O(2*A),U=P(),F=P(),G=P(),Y=!1;function ne(K,z,Q,j,re){function oe(me,pe,ve=" "){for(;me.length<pe;)me=ve+me;return me}let he=` |   |${j.split("").map(me=>oe(me,3)).join("|")}
`;for(let me=0;me<=Q;me++)me===0?he+=" |":he+=`${z[me-1]}|`,he+=K[me].slice(0,re+1).map(pe=>oe(pe.toString(),3)).join("|")+`
`;return he}function se(K,z,Q,j){K=K.substr(z),Q=Q.substr(j),console.log(ne(F,K,K.length,Q,Q.length)),console.log(ne(G,K,K.length,Q,Q.length)),console.log(ne(U,K,K.length,Q,Q.length))}function J(K,z){if(z<0||z>=K.length)return!1;const Q=K.codePointAt(z);switch(Q){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!I.isEmojiImprecise(Q)}}function q(K,z){if(z<0||z>=K.length)return!1;switch(K.charCodeAt(z)){case 32:case 9:return!0;default:return!1}}function H(K,z,Q){return z[K]!==Q[K]}function V(K,z,Q,j,re,oe,he=!1){for(;z<Q&&re<oe;)K[z]===j[re]&&(he&&(x[z]=re),z+=1),re+=1;return z===Q}e.isPatternInWord=V;var Z;(function(K){K.Default=[-100,0];function z(Q){return!Q||Q.length===2&&Q[0]===-100&&Q[1]===0}K.isDefault=z})(Z||(e.FuzzyScore=Z={}));class ee{constructor(z,Q){this.firstMatchCanBeWeak=z,this.boostFullMatch=Q}}e.FuzzyScoreOptions=ee,ee.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function le(K,z,Q,j,re,oe,he=ee.default){const me=K.length>A?A:K.length,pe=j.length>A?A:j.length;if(Q>=me||oe>=pe||me-Q>pe-oe||!V(z,Q,me,re,oe,pe,!0))return;ue(me,pe,Q,oe,z,re);let ve=1,we=1,Le=Q,Ee=oe;const Ae=[!1];for(ve=1,Le=Q;Le<me;ve++,Le++){const fe=x[Le],Ce=W[Le],Me=Le+1<me?W[Le+1]:pe;for(we=fe-oe+1,Ee=fe;Ee<Me;we++,Ee++){let Pe=Number.MIN_SAFE_INTEGER,Se=!1;Ee<=Ce&&(Pe=de(K,z,Le,Q,j,re,Ee,pe,oe,U[ve-1][we-1]===0,Ae));let _e=0;Pe!==Number.MAX_SAFE_INTEGER&&(Se=!0,_e=Pe+F[ve-1][we-1]);const ke=Ee>fe,Oe=ke?F[ve][we-1]+(U[ve][we-1]>0?-5:0):0,We=Ee>fe+1&&U[ve][we-1]>0,qe=We?F[ve][we-2]+(U[ve][we-2]>0?-5:0):0;if(We&&(!ke||qe>=Oe)&&(!Se||qe>=_e))F[ve][we]=qe,G[ve][we]=3,U[ve][we]=0;else if(ke&&(!Se||Oe>=_e))F[ve][we]=Oe,G[ve][we]=2,U[ve][we]=0;else if(Se)F[ve][we]=_e,G[ve][we]=1,U[ve][we]=U[ve-1][we-1]+1;else throw new Error("not possible")}}if(Y&&se(K,Q,j,oe),!Ae[0]&&!he.firstMatchCanBeWeak)return;ve--,we--;const Re=[F[ve][we],oe];let Be=0,ye=0;for(;ve>=1;){let fe=we;do{const Ce=G[ve][fe];if(Ce===3)fe=fe-2;else if(Ce===2)fe=fe-1;else break}while(fe>=1);Be>1&&z[Q+ve-1]===re[oe+we-1]&&!H(fe+oe-1,j,re)&&Be+1>U[ve][fe]&&(fe=we),fe===we?Be++:Be=1,ye||(ye=fe),ve--,we=fe-1,Re.push(we)}pe===me&&he.boostFullMatch&&(Re[0]+=2);const De=ye-me;return Re[0]-=De,Re}e.fuzzyScore=le;function ue(K,z,Q,j,re,oe){let he=K-1,me=z-1;for(;he>=Q&&me>=j;)re[he]===oe[me]&&(W[he]=me,he--),me--}function de(K,z,Q,j,re,oe,he,me,pe,ve,we){if(z[Q]!==oe[he])return Number.MIN_SAFE_INTEGER;let Le=1,Ee=!1;return he===Q-j?Le=K[Q]===re[he]?7:5:H(he,re,oe)&&(he===0||!H(he-1,re,oe))?(Le=K[Q]===re[he]?7:5,Ee=!0):J(oe,he)&&(he===0||!J(oe,he-1))?Le=5:(J(oe,he-1)||q(oe,he-1))&&(Le=5,Ee=!0),Le>1&&Q===j&&(we[0]=!0),Ee||(Ee=H(he,re,oe)||J(oe,he-1)||q(oe,he-1)),Q===j?he>pe&&(Le-=Ee?3:5):ve?Le+=Ee?2:0:Le+=Ee?0:1,he+1===me&&(Le-=Ee?3:5),Le}function ce(K,z,Q,j,re,oe,he){return ae(K,z,Q,j,re,oe,!0,he)}e.fuzzyScoreGracefulAggressive=ce;function ae(K,z,Q,j,re,oe,he,me){let pe=le(K,z,Q,j,re,oe,me);if(pe&&!he)return pe;if(K.length>=3){const ve=Math.min(7,K.length-1);for(let we=Q+1;we<ve;we++){const Le=X(K,we);if(Le){const Ee=le(Le,Le.toLowerCase(),Q,j,re,oe,me);Ee&&(Ee[0]-=3,(!pe||Ee[0]>pe[0])&&(pe=Ee))}}}return pe}function X(K,z){if(z+1>=K.length)return;const Q=K[z],j=K[z+1];if(Q!==j)return K.slice(0,z)+j+Q+K.slice(z+2)}}),define(te[141],ie([1,0,10]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function I(r){return y(r,0)}e.hash=I;function y(r,u){switch(typeof r){case"object":return r===null?D(349,u):Array.isArray(r)?_(r,u):v(r,u);case"string":return m(r,u);case"boolean":return S(r,u);case"number":return D(r,u);case"undefined":return D(937,u);default:return D(617,u)}}e.doHash=y;function D(r,u){return(u<<5)-u+r|0}e.numberHash=D;function S(r,u){return D(r?433:863,u)}function m(r,u){u=D(149417,u);for(let f=0,d=r.length;f<d;f++)u=D(r.charCodeAt(f),u);return u}e.stringHash=m;function _(r,u){return u=D(104579,u),r.reduce((f,d)=>y(d,f),u)}function v(r,u){return u=D(181387,u),Object.keys(r).sort().reduce((f,d)=>(f=m(d,f),y(r[d],f)),u)}function C(r,u,f=32){const d=f-u,l=~((1<<d)-1);return(r<<u|(l&r)>>>d)>>>0}function s(r,u=0,f=r.byteLength,d=0){for(let l=0;l<f;l++)r[u+l]=d}function i(r,u,f="0"){for(;r.length<u;)r=f+r;return r}function n(r,u=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(f=>f.toString(16).padStart(2,"0")).join(""):i((r>>>0).toString(16),u/4)}e.toHexString=n;class t{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(u){const f=u.length;if(f===0)return;const d=this._buff;let l=this._buffLen,o=this._leftoverHighSurrogate,c,a;for(o!==0?(c=o,a=-1,o=0):(c=u.charCodeAt(0),a=0);;){let g=c;if(L.isHighSurrogate(c))if(a+1<f){const h=u.charCodeAt(a+1);L.isLowSurrogate(h)?(a++,g=L.computeCodePoint(c,h)):g=65533}else{o=c;break}else L.isLowSurrogate(c)&&(g=65533);if(l=this._push(d,l,g),a++,a<f)c=u.charCodeAt(a);else break}this._buffLen=l,this._leftoverHighSurrogate=o}_push(u,f,d){return d<128?u[f++]=d:d<2048?(u[f++]=192|(d&1984)>>>6,u[f++]=128|(d&63)>>>0):d<65536?(u[f++]=224|(d&61440)>>>12,u[f++]=128|(d&4032)>>>6,u[f++]=128|(d&63)>>>0):(u[f++]=240|(d&1835008)>>>18,u[f++]=128|(d&258048)>>>12,u[f++]=128|(d&4032)>>>6,u[f++]=128|(d&63)>>>0),f>=64&&(this._step(),f-=64,this._totalLen+=64,u[0]=u[64+0],u[1]=u[64+1],u[2]=u[64+2]),f}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),n(this._h0)+n(this._h1)+n(this._h2)+n(this._h3)+n(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,s(this._buff,this._buffLen),this._buffLen>56&&(this._step(),s(this._buff));const u=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(u/4294967296),!1),this._buffDV.setUint32(60,u%4294967296,!1),this._step()}_step(){const u=t._bigBlock32,f=this._buffDV;for(let b=0;b<64;b+=4)u.setUint32(b,f.getUint32(b,!1),!1);for(let b=64;b<320;b+=4)u.setUint32(b,C(u.getUint32(b-12,!1)^u.getUint32(b-32,!1)^u.getUint32(b-56,!1)^u.getUint32(b-64,!1),1),!1);let d=this._h0,l=this._h1,o=this._h2,c=this._h3,a=this._h4,g,h,p;for(let b=0;b<80;b++)b<20?(g=l&o|~l&c,h=1518500249):b<40?(g=l^o^c,h=1859775393):b<60?(g=l&o|l&c|o&c,h=2400959708):(g=l^o^c,h=3395469782),p=C(d,5)+g+a+h+u.getUint32(b*4,!1)&4294967295,a=c,c=o,o=C(l,30),l=d,d=p;this._h0=this._h0+d&4294967295,this._h1=this._h1+l&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+c&4294967295,this._h4=this._h4+a&4294967295}}e.StringSHA1=t,t._bigBlock32=new DataView(new ArrayBuffer(320))}),define(te[167],ie([1,0,387,141]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.stringDiff=e.StringDiffSequence=void 0;class y{constructor(s){this.source=s}getElements(){const s=this.source,i=new Int32Array(s.length);for(let n=0,t=s.length;n<t;n++)i[n]=s.charCodeAt(n);return i}}e.StringDiffSequence=y;function D(C,s,i){return new v(new y(C),new y(s)).ComputeDiff(i).changes}e.stringDiff=D;class S{static Assert(s,i){if(!s)throw new Error(i)}}class m{static Copy(s,i,n,t,r){for(let u=0;u<r;u++)n[t+u]=s[i+u]}static Copy2(s,i,n,t,r){for(let u=0;u<r;u++)n[t+u]=s[i+u]}}class _{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new L.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(s,i){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++}AddModifiedElement(s,i){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class v{constructor(s,i,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=s,this._modifiedSequence=i;const[t,r,u]=v._getElements(s),[f,d,l]=v._getElements(i);this._hasStrings=u&&l,this._originalStringElements=t,this._originalElementsOrHash=r,this._modifiedStringElements=f,this._modifiedElementsOrHash=d,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(s){return s.length>0&&typeof s[0]=="string"}static _getElements(s){const i=s.getElements();if(v._isStringArray(i)){const n=new Int32Array(i.length);for(let t=0,r=i.length;t<r;t++)n[t]=(0,I.stringHash)(i[t],0);return[i,n,!0]}return i instanceof Int32Array?[[],i,!1]:[[],new Int32Array(i),!1]}ElementsAreEqual(s,i){return this._originalElementsOrHash[s]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[s]===this._modifiedStringElements[i]:!0}ElementsAreStrictEqual(s,i){if(!this.ElementsAreEqual(s,i))return!1;const n=v._getStrictElement(this._originalSequence,s),t=v._getStrictElement(this._modifiedSequence,i);return n===t}static _getStrictElement(s,i){return typeof s.getStrictElement=="function"?s.getStrictElement(i):null}OriginalElementsAreEqual(s,i){return this._originalElementsOrHash[s]!==this._originalElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[s]===this._originalStringElements[i]:!0}ModifiedElementsAreEqual(s,i){return this._modifiedElementsOrHash[s]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._modifiedStringElements[s]===this._modifiedStringElements[i]:!0}ComputeDiff(s){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,s)}_ComputeDiff(s,i,n,t,r){const u=[!1];let f=this.ComputeDiffRecursive(s,i,n,t,u);return r&&(f=this.PrettifyChanges(f)),{quitEarly:u[0],changes:f}}ComputeDiffRecursive(s,i,n,t,r){for(r[0]=!1;s<=i&&n<=t&&this.ElementsAreEqual(s,n);)s++,n++;for(;i>=s&&t>=n&&this.ElementsAreEqual(i,t);)i--,t--;if(s>i||n>t){let c;return n<=t?(S.Assert(s===i+1,"originalStart should only be one more than originalEnd"),c=[new L.DiffChange(s,0,n,t-n+1)]):s<=i?(S.Assert(n===t+1,"modifiedStart should only be one more than modifiedEnd"),c=[new L.DiffChange(s,i-s+1,n,0)]):(S.Assert(s===i+1,"originalStart should only be one more than originalEnd"),S.Assert(n===t+1,"modifiedStart should only be one more than modifiedEnd"),c=[]),c}const u=[0],f=[0],d=this.ComputeRecursionPoint(s,i,n,t,u,f,r),l=u[0],o=f[0];if(d!==null)return d;if(!r[0]){const c=this.ComputeDiffRecursive(s,l,n,o,r);let a=[];return r[0]?a=[new L.DiffChange(l+1,i-(l+1)+1,o+1,t-(o+1)+1)]:a=this.ComputeDiffRecursive(l+1,i,o+1,t,r),this.ConcatenateChanges(c,a)}return[new L.DiffChange(s,i-s+1,n,t-n+1)]}WALKTRACE(s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E){let k=null,M=null,R=new _,B=i,T=n,N=g[0]-b[0]-t,A=-1073741824,P=this.m_forwardHistory.length-1;do{const O=N+s;O===B||O<T&&l[O-1]<l[O+1]?(c=l[O+1],h=c-N-t,c<A&&R.MarkNextChange(),A=c,R.AddModifiedElement(c+1,h),N=O+1-s):(c=l[O-1]+1,h=c-N-t,c<A&&R.MarkNextChange(),A=c-1,R.AddOriginalElement(c,h+1),N=O-1-s),P>=0&&(l=this.m_forwardHistory[P],s=l[0],B=1,T=l.length-1)}while(--P>=-1);if(k=R.getReverseChanges(),E[0]){let O=g[0]+1,x=b[0]+1;if(k!==null&&k.length>0){const W=k[k.length-1];O=Math.max(O,W.getOriginalEnd()),x=Math.max(x,W.getModifiedEnd())}M=[new L.DiffChange(O,a-O+1,x,p-x+1)]}else{R=new _,B=u,T=f,N=g[0]-b[0]-d,A=1073741824,P=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const O=N+r;O===B||O<T&&o[O-1]>=o[O+1]?(c=o[O+1]-1,h=c-N-d,c>A&&R.MarkNextChange(),A=c+1,R.AddOriginalElement(c+1,h+1),N=O+1-r):(c=o[O-1],h=c-N-d,c>A&&R.MarkNextChange(),A=c,R.AddModifiedElement(c+1,h+1),N=O-1-r),P>=0&&(o=this.m_reverseHistory[P],r=o[0],B=1,T=o.length-1)}while(--P>=-1);M=R.getChanges()}return this.ConcatenateChanges(k,M)}ComputeRecursionPoint(s,i,n,t,r,u,f){let d=0,l=0,o=0,c=0,a=0,g=0;s--,n--,r[0]=0,u[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const h=i-s+(t-n),p=h+1,b=new Int32Array(p),w=new Int32Array(p),E=t-n,k=i-s,M=s-n,R=i-t,T=(k-E)%2===0;b[E]=s,w[k]=i,f[0]=!1;for(let N=1;N<=h/2+1;N++){let A=0,P=0;o=this.ClipDiagonalBound(E-N,N,E,p),c=this.ClipDiagonalBound(E+N,N,E,p);for(let x=o;x<=c;x+=2){x===o||x<c&&b[x-1]<b[x+1]?d=b[x+1]:d=b[x-1]+1,l=d-(x-E)-M;const W=d;for(;d<i&&l<t&&this.ElementsAreEqual(d+1,l+1);)d++,l++;if(b[x]=d,d+l>A+P&&(A=d,P=l),!T&&Math.abs(x-k)<=N-1&&d>=w[x])return r[0]=d,u[0]=l,W<=w[x]&&1447>0&&N<=1447+1?this.WALKTRACE(E,o,c,M,k,a,g,R,b,w,d,i,r,l,t,u,T,f):null}const O=(A-s+(P-n)-N)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(A,O))return f[0]=!0,r[0]=A,u[0]=P,O>0&&1447>0&&N<=1447+1?this.WALKTRACE(E,o,c,M,k,a,g,R,b,w,d,i,r,l,t,u,T,f):(s++,n++,[new L.DiffChange(s,i-s+1,n,t-n+1)]);a=this.ClipDiagonalBound(k-N,N,k,p),g=this.ClipDiagonalBound(k+N,N,k,p);for(let x=a;x<=g;x+=2){x===a||x<g&&w[x-1]>=w[x+1]?d=w[x+1]-1:d=w[x-1],l=d-(x-k)-R;const W=d;for(;d>s&&l>n&&this.ElementsAreEqual(d,l);)d--,l--;if(w[x]=d,T&&Math.abs(x-E)<=N&&d<=b[x])return r[0]=d,u[0]=l,W>=b[x]&&1447>0&&N<=1447+1?this.WALKTRACE(E,o,c,M,k,a,g,R,b,w,d,i,r,l,t,u,T,f):null}if(N<=1447){let x=new Int32Array(c-o+2);x[0]=E-o+1,m.Copy2(b,o,x,1,c-o+1),this.m_forwardHistory.push(x),x=new Int32Array(g-a+2),x[0]=k-a+1,m.Copy2(w,a,x,1,g-a+1),this.m_reverseHistory.push(x)}}return this.WALKTRACE(E,o,c,M,k,a,g,R,b,w,d,i,r,l,t,u,T,f)}PrettifyChanges(s){for(let i=0;i<s.length;i++){const n=s[i],t=i<s.length-1?s[i+1].originalStart:this._originalElementsOrHash.length,r=i<s.length-1?s[i+1].modifiedStart:this._modifiedElementsOrHash.length,u=n.originalLength>0,f=n.modifiedLength>0;for(;n.originalStart+n.originalLength<t&&n.modifiedStart+n.modifiedLength<r&&(!u||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!f||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){const l=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!l)break;n.originalStart++,n.modifiedStart++}const d=[null];if(i<s.length-1&&this.ChangesOverlap(s[i],s[i+1],d)){s[i]=d[0],s.splice(i+1,1),i--;continue}}for(let i=s.length-1;i>=0;i--){const n=s[i];let t=0,r=0;if(i>0){const c=s[i-1];t=c.originalStart+c.originalLength,r=c.modifiedStart+c.modifiedLength}const u=n.originalLength>0,f=n.modifiedLength>0;let d=0,l=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let c=1;;c++){const a=n.originalStart-c,g=n.modifiedStart-c;if(a<t||g<r||u&&!this.OriginalElementsAreEqual(a,a+n.originalLength)||f&&!this.ModifiedElementsAreEqual(g,g+n.modifiedLength))break;const p=(a===t&&g===r?5:0)+this._boundaryScore(a,n.originalLength,g,n.modifiedLength);p>l&&(l=p,d=c)}n.originalStart-=d,n.modifiedStart-=d;const o=[null];if(i>0&&this.ChangesOverlap(s[i-1],s[i],o)){s[i-1]=o[0],s.splice(i,1),i++;continue}}if(this._hasStrings)for(let i=1,n=s.length;i<n;i++){const t=s[i-1],r=s[i],u=r.originalStart-t.originalStart-t.originalLength,f=t.originalStart,d=r.originalStart+r.originalLength,l=d-f,o=t.modifiedStart,c=r.modifiedStart+r.modifiedLength,a=c-o;if(u<5&&l<20&&a<20){const g=this._findBetterContiguousSequence(f,l,o,a,u);if(g){const[h,p]=g;(h!==t.originalStart+t.originalLength||p!==t.modifiedStart+t.modifiedLength)&&(t.originalLength=h-t.originalStart,t.modifiedLength=p-t.modifiedStart,r.originalStart=h+u,r.modifiedStart=p+u,r.originalLength=d-r.originalStart,r.modifiedLength=c-r.modifiedStart)}}}return s}_findBetterContiguousSequence(s,i,n,t,r){if(i<r||t<r)return null;const u=s+i-r+1,f=n+t-r+1;let d=0,l=0,o=0;for(let c=s;c<u;c++)for(let a=n;a<f;a++){const g=this._contiguousSequenceScore(c,a,r);g>0&&g>d&&(d=g,l=c,o=a)}return d>0?[l,o]:null}_contiguousSequenceScore(s,i,n){let t=0;for(let r=0;r<n;r++){if(!this.ElementsAreEqual(s+r,i+r))return 0;t+=this._originalStringElements[s+r].length}return t}_OriginalIsBoundary(s){return s<=0||s>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[s])}_OriginalRegionIsBoundary(s,i){if(this._OriginalIsBoundary(s)||this._OriginalIsBoundary(s-1))return!0;if(i>0){const n=s+i;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(s){return s<=0||s>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[s])}_ModifiedRegionIsBoundary(s,i){if(this._ModifiedIsBoundary(s)||this._ModifiedIsBoundary(s-1))return!0;if(i>0){const n=s+i;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(s,i,n,t){const r=this._OriginalRegionIsBoundary(s,i)?1:0,u=this._ModifiedRegionIsBoundary(n,t)?1:0;return r+u}ConcatenateChanges(s,i){const n=[];if(s.length===0||i.length===0)return i.length>0?i:s;if(this.ChangesOverlap(s[s.length-1],i[0],n)){const t=new Array(s.length+i.length-1);return m.Copy(s,0,t,0,s.length-1),t[s.length-1]=n[0],m.Copy(i,1,t,s.length,i.length-1),t}else{const t=new Array(s.length+i.length);return m.Copy(s,0,t,0,s.length),m.Copy(i,0,t,s.length,i.length),t}}ChangesOverlap(s,i,n){if(S.Assert(s.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),S.Assert(s.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),s.originalStart+s.originalLength>=i.originalStart||s.modifiedStart+s.modifiedLength>=i.modifiedStart){const t=s.originalStart;let r=s.originalLength;const u=s.modifiedStart;let f=s.modifiedLength;return s.originalStart+s.originalLength>=i.originalStart&&(r=i.originalStart+i.originalLength-s.originalStart),s.modifiedStart+s.modifiedLength>=i.modifiedStart&&(f=i.modifiedStart+i.modifiedLength-s.modifiedStart),n[0]=new L.DiffChange(t,r,u,f),!0}else return n[0]=null,!1}ClipDiagonalBound(s,i,n,t){if(s>=0&&s<t)return s;const r=n,u=t-n-1,f=i%2===0;if(s<0){const d=r%2===0;return f===d?0:1}else{const d=u%2===0;return f===d?t-1:t-2}}}e.LcsDiff=v}),define(te[396],ie([1,0,10]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function I(S,m){if(S&&S[0]!==""){const _=y(S,m,"-"),v=y(S,m,"_");return _&&!v?D(S,m,"-"):!_&&v?D(S,m,"_"):S[0].toUpperCase()===S[0]?m.toUpperCase():S[0].toLowerCase()===S[0]?m.toLowerCase():L.containsUppercaseCharacter(S[0][0])&&m.length>0?m[0].toUpperCase()+m.substr(1):S[0][0].toUpperCase()!==S[0][0]&&m.length>0?m[0].toLowerCase()+m.substr(1):m}else return m}e.buildReplaceStringWithCasePreserved=I;function y(S,m,_){return S[0].indexOf(_)!==-1&&m.indexOf(_)!==-1&&S[0].split(_).length===m.split(_).length}function D(S,m,_){const v=m.split(_),C=S[0].split(_);let s="";return v.forEach((i,n)=>{s+=I([C[n]],i)+_}),s.slice(0,-1)}}),define(te[98],ie([1,0,10]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var I;(function(y){y[y.Ignore=0]="Ignore",y[y.Info=1]="Info",y[y.Warning=2]="Warning",y[y.Error=3]="Error"})(I||(I={})),function(y){const D="error",S="warning",m="warn",_="info",v="ignore";function C(i){return i?L.equalsIgnoreCase(D,i)?y.Error:L.equalsIgnoreCase(S,i)||L.equalsIgnoreCase(m,i)?y.Warning:L.equalsIgnoreCase(_,i)?y.Info:y.Ignore:y.Ignore}y.fromValue=C;function s(i){switch(i){case y.Error:return D;case y.Warning:return S;case y.Info:return _;default:return v}}y.toString=s}(I||(I={})),e.default=I}),define(te[263],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(te[197],ie([1,0,10]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class I{constructor(){this._value="",this._pos=0}reset(C){return this._value=C,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(C){const s=C.charCodeAt(0),i=this._value.charCodeAt(this._pos);return s-i}value(){return this._value[this._pos]}}e.StringIterator=I;class y{constructor(C=!0){this._caseSensitive=C}reset(C){return this._value=C,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let C=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(C)this._from++;else break;else C=!1;return this}cmp(C){return this._caseSensitive?(0,L.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=y;class D{constructor(C=!0,s=!0){this._splitOnBackslash=C,this._caseSensitive=s}reset(C){this._from=0,this._to=0,this._value=C,this._valueLen=C.length;for(let s=C.length-1;s>=0;s--,this._valueLen--){const i=this._value.charCodeAt(s);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let C=!0;for(;this._to<this._valueLen;this._to++){const s=this._value.charCodeAt(this._to);if(s===47||this._splitOnBackslash&&s===92)if(C)this._from++;else break;else C=!1}return this}cmp(C){return this._caseSensitive?(0,L.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=D;class S{constructor(C,s){this._ignorePathCasing=C,this._ignoreQueryAndFragment=s,this._states=[],this._stateIdx=0}reset(C){return this._value=C,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D(!1,!this._ignorePathCasing(C)),this._pathIterator.reset(C.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(C)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(C){if(this._states[this._stateIdx]===1)return(0,L.compareIgnoreCase)(C,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,L.compareIgnoreCase)(C,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(C);if(this._states[this._stateIdx]===4)return(0,L.compare)(C,this._value.query);if(this._states[this._stateIdx]===5)return(0,L.compare)(C,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=S;class m{constructor(){this.height=1}rotateLeft(){const C=this.right;return this.right=C.left,C.left=this,this.updateHeight(),C.updateHeight(),C}rotateRight(){const C=this.left;return this.left=C.right,C.right=this,this.updateHeight(),C.updateHeight(),C}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var C,s;return(s=(C=this.left)===null||C===void 0?void 0:C.height)!==null&&s!==void 0?s:0}get heightRight(){var C,s;return(s=(C=this.right)===null||C===void 0?void 0:C.height)!==null&&s!==void 0?s:0}}class _{static forUris(C=()=>!1,s=()=>!1){return new _(new S(C,s))}static forStrings(){return new _(new I)}static forConfigKeys(){return new _(new y)}constructor(C){this._iter=C}clear(){this._root=void 0}set(C,s){const i=this._iter.reset(C);let n;this._root||(this._root=new m,this._root.segment=i.value());const t=[];for(n=this._root;;){const u=i.cmp(n.segment);if(u>0)n.left||(n.left=new m,n.left.segment=i.value()),t.push([-1,n]),n=n.left;else if(u<0)n.right||(n.right=new m,n.right.segment=i.value()),t.push([1,n]),n=n.right;else if(i.hasNext())i.next(),n.mid||(n.mid=new m,n.mid.segment=i.value()),t.push([0,n]),n=n.mid;else break}const r=n.value;n.value=s,n.key=C;for(let u=t.length-1;u>=0;u--){const f=t[u][1];f.updateHeight();const d=f.balanceFactor();if(d<-1||d>1){const l=t[u][0],o=t[u+1][0];if(l===1&&o===1)t[u][1]=f.rotateLeft();else if(l===-1&&o===-1)t[u][1]=f.rotateRight();else if(l===1&&o===-1)f.right=t[u+1][1]=t[u+1][1].rotateRight(),t[u][1]=f.rotateLeft();else if(l===-1&&o===1)f.left=t[u+1][1]=t[u+1][1].rotateLeft(),t[u][1]=f.rotateRight();else throw new Error;if(u>0)switch(t[u-1][0]){case-1:t[u-1][1].left=t[u][1];break;case 1:t[u-1][1].right=t[u][1];break;case 0:t[u-1][1].mid=t[u][1];break}else this._root=t[0][1]}}return r}get(C){var s;return(s=this._getNode(C))===null||s===void 0?void 0:s.value}_getNode(C){const s=this._iter.reset(C);let i=this._root;for(;i;){const n=s.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(s.hasNext())s.next(),i=i.mid;else break}return i}has(C){const s=this._getNode(C);return!(s?.value===void 0&&s?.mid===void 0)}delete(C){return this._delete(C,!1)}deleteSuperstr(C){return this._delete(C,!0)}_delete(C,s){var i;const n=this._iter.reset(C),t=[];let r=this._root;for(;r;){const u=n.cmp(r.segment);if(u>0)t.push([-1,r]),r=r.left;else if(u<0)t.push([1,r]),r=r.right;else if(n.hasNext())n.next(),t.push([0,r]),r=r.mid;else break}if(r){if(s?(r.left=void 0,r.mid=void 0,r.right=void 0,r.height=1):(r.key=void 0,r.value=void 0),!r.mid&&!r.value)if(r.left&&r.right){const u=this._min(r.right);if(u.key){const{key:f,value:d,segment:l}=u;this._delete(u.key,!1),r.key=f,r.value=d,r.segment=l}}else{const u=(i=r.left)!==null&&i!==void 0?i:r.right;if(t.length>0){const[f,d]=t[t.length-1];switch(f){case-1:d.left=u;break;case 0:d.mid=u;break;case 1:d.right=u;break}}else this._root=u}for(let u=t.length-1;u>=0;u--){const f=t[u][1];f.updateHeight();const d=f.balanceFactor();if(d>1?(f.right.balanceFactor()>=0||(f.right=f.right.rotateRight()),t[u][1]=f.rotateLeft()):d<-1&&(f.left.balanceFactor()<=0||(f.left=f.left.rotateLeft()),t[u][1]=f.rotateRight()),u>0)switch(t[u-1][0]){case-1:t[u-1][1].left=t[u][1];break;case 1:t[u-1][1].right=t[u][1];break;case 0:t[u-1][1].mid=t[u][1];break}else this._root=t[0][1]}}}_min(C){for(;C.left;)C=C.left;return C}findSubstr(C){const s=this._iter.reset(C);let i=this._root,n;for(;i;){const t=s.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else if(s.hasNext())s.next(),n=i.value||n,i=i.mid;else break}return i&&i.value||n}findSuperstr(C){return this._findSuperstrOrElement(C,!1)}_findSuperstrOrElement(C,s){const i=this._iter.reset(C);let n=this._root;for(;n;){const t=i.cmp(n.segment);if(t>0)n=n.left;else if(t<0)n=n.right;else if(i.hasNext())i.next(),n=n.mid;else return n.mid?this._entries(n.mid):s?n.value:void 0}}forEach(C){for(const[s,i]of this)C(i,s)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(C){const s=[];return this._dfsEntries(C,s),s[Symbol.iterator]()}_dfsEntries(C,s){C&&(C.left&&this._dfsEntries(C.left,s),C.value&&s.push([C.key,C.value]),C.mid&&this._dfsEntries(C.mid,s),C.right&&this._dfsEntries(C.right,s))}}e.TernarySearchTree=_}),define(te[397],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeTfIdfScores=e.TfIdfCalculator=void 0;function L(D){var S;const m=new Map;for(const _ of D)m.set(_,((S=m.get(_))!==null&&S!==void 0?S:0)+1);return m}class I{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(S,m){const _=this.computeEmbedding(S),v=new Map,C=[];for(const[s,i]of this.documents){if(m.isCancellationRequested)return[];for(const n of i.chunks){const t=this.computeSimilarityScore(n,_,v);t>0&&C.push({key:s,score:t})}}return C}static termFrequencies(S){return L(I.splitTerms(S))}static*splitTerms(S){const m=_=>_.toLowerCase();for(const[_]of S.matchAll(/\b\p{Letter}[\p{Letter}\d]{2,}\b/gu)){yield m(_);const v=_.split(/(?<=[a-z])(?=[A-Z])/g);if(v.length>1)for(const C of v)C.length>2&&/\p{Letter}{3,}/gu.test(C)&&(yield m(C))}}updateDocuments(S){var m;for(const{key:_}of S)this.deleteDocument(_);for(const _ of S){const v=[];for(const C of _.textChunks){const s=I.termFrequencies(C);for(const i of s.keys())this.chunkOccurrences.set(i,((m=this.chunkOccurrences.get(i))!==null&&m!==void 0?m:0)+1);v.push({text:C,tf:s})}this.chunkCount+=v.length,this.documents.set(_.key,{chunks:v})}return this}deleteDocument(S){const m=this.documents.get(S);if(m){this.documents.delete(S),this.chunkCount-=m.chunks.length;for(const _ of m.chunks)for(const v of _.tf.keys()){const C=this.chunkOccurrences.get(v);if(typeof C=="number"){const s=C-1;s<=0?this.chunkOccurrences.delete(v):this.chunkOccurrences.set(v,s)}}}}computeSimilarityScore(S,m,_){let v=0;for(const[C,s]of Object.entries(m)){const i=S.tf.get(C);if(!i)continue;let n=_.get(C);typeof n!="number"&&(n=this.computeIdf(C),_.set(C,n));const t=i*n;v+=t*s}return v}computeEmbedding(S){const m=I.termFrequencies(S);return this.computeTfidf(m)}computeIdf(S){var m;const _=(m=this.chunkOccurrences.get(S))!==null&&m!==void 0?m:0;return _>0?Math.log((this.chunkCount+1)/_):0}computeTfidf(S){const m=Object.create(null);for(const[_,v]of S){const C=this.computeIdf(_);C>0&&(m[_]=v*C)}return m}}e.TfIdfCalculator=I;function y(D){var S,m;const _=D.slice(0);_.sort((C,s)=>s.score-C.score);const v=(m=(S=_[0])===null||S===void 0?void 0:S.score)!==null&&m!==void 0?m:0;if(v>0)for(const C of _)C.score/=v;return _}e.normalizeTfIdfScores=y}),define(te[20],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=void 0;function L(u){return typeof u=="string"}e.isString=L;function I(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)&&!(u instanceof RegExp)&&!(u instanceof Date)}e.isObject=I;function y(u){const f=Object.getPrototypeOf(Uint8Array);return typeof u=="object"&&u instanceof f}e.isTypedArray=y;function D(u){return typeof u=="number"&&!isNaN(u)}e.isNumber=D;function S(u){return!!u&&typeof u[Symbol.iterator]=="function"}e.isIterable=S;function m(u){return u===!0||u===!1}e.isBoolean=m;function _(u){return typeof u>"u"}e.isUndefined=_;function v(u){return!C(u)}e.isDefined=v;function C(u){return _(u)||u===null}e.isUndefinedOrNull=C;function s(u,f){if(!u)throw new Error(f?`Unexpected type, expected '${f}'`:"Unexpected type")}e.assertType=s;function i(u){if(C(u))throw new Error("Assertion Failed: argument is undefined or null");return u}e.assertIsDefined=i;function n(u){return typeof u=="function"}e.isFunction=n;function t(u,f){const d=Math.min(u.length,f.length);for(let l=0;l<d;l++)r(u[l],f[l])}e.validateConstraints=t;function r(u,f){if(L(f)){if(typeof u!==f)throw new Error(`argument does not match constraint: typeof ${f}`)}else if(n(f)){try{if(u instanceof f)return}catch{}if(!C(u)&&u.constructor===f||f.length===1&&f.call(void 0,u)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=r}),define(te[26],ie([1,0,20]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.getCodiconFontCharacters=void 0;const I=Object.create(null);function y(S,m){if((0,L.isString)(m)){const _=I[m];if(_===void 0)throw new Error(`${S} references an unknown codicon: ${m}`);m=_}return I[S]=m,{id:S}}function D(){return I}e.getCodiconFontCharacters=D,e.Codicon={add:y("add",6e4),plus:y("plus",6e4),gistNew:y("gist-new",6e4),repoCreate:y("repo-create",6e4),lightbulb:y("lightbulb",60001),lightBulb:y("light-bulb",60001),repo:y("repo",60002),repoDelete:y("repo-delete",60002),gistFork:y("gist-fork",60003),repoForked:y("repo-forked",60003),gitPullRequest:y("git-pull-request",60004),gitPullRequestAbandoned:y("git-pull-request-abandoned",60004),recordKeys:y("record-keys",60005),keyboard:y("keyboard",60005),tag:y("tag",60006),tagAdd:y("tag-add",60006),tagRemove:y("tag-remove",60006),gitPullRequestLabel:y("git-pull-request-label",60006),person:y("person",60007),personFollow:y("person-follow",60007),personOutline:y("person-outline",60007),personFilled:y("person-filled",60007),gitBranch:y("git-branch",60008),gitBranchCreate:y("git-branch-create",60008),gitBranchDelete:y("git-branch-delete",60008),sourceControl:y("source-control",60008),mirror:y("mirror",60009),mirrorPublic:y("mirror-public",60009),star:y("star",60010),starAdd:y("star-add",60010),starDelete:y("star-delete",60010),starEmpty:y("star-empty",60010),comment:y("comment",60011),commentAdd:y("comment-add",60011),alert:y("alert",60012),warning:y("warning",60012),search:y("search",60013),searchSave:y("search-save",60013),logOut:y("log-out",60014),signOut:y("sign-out",60014),logIn:y("log-in",60015),signIn:y("sign-in",60015),eye:y("eye",60016),eyeUnwatch:y("eye-unwatch",60016),eyeWatch:y("eye-watch",60016),circleFilled:y("circle-filled",60017),primitiveDot:y("primitive-dot",60017),closeDirty:y("close-dirty",60017),debugBreakpoint:y("debug-breakpoint",60017),debugBreakpointDisabled:y("debug-breakpoint-disabled",60017),debugHint:y("debug-hint",60017),primitiveSquare:y("primitive-square",60018),edit:y("edit",60019),pencil:y("pencil",60019),info:y("info",60020),issueOpened:y("issue-opened",60020),gistPrivate:y("gist-private",60021),gitForkPrivate:y("git-fork-private",60021),lock:y("lock",60021),mirrorPrivate:y("mirror-private",60021),close:y("close",60022),removeClose:y("remove-close",60022),x:y("x",60022),repoSync:y("repo-sync",60023),sync:y("sync",60023),clone:y("clone",60024),desktopDownload:y("desktop-download",60024),beaker:y("beaker",60025),microscope:y("microscope",60025),vm:y("vm",60026),deviceDesktop:y("device-desktop",60026),file:y("file",60027),fileText:y("file-text",60027),more:y("more",60028),ellipsis:y("ellipsis",60028),kebabHorizontal:y("kebab-horizontal",60028),mailReply:y("mail-reply",60029),reply:y("reply",60029),organization:y("organization",60030),organizationFilled:y("organization-filled",60030),organizationOutline:y("organization-outline",60030),newFile:y("new-file",60031),fileAdd:y("file-add",60031),newFolder:y("new-folder",60032),fileDirectoryCreate:y("file-directory-create",60032),trash:y("trash",60033),trashcan:y("trashcan",60033),history:y("history",60034),clock:y("clock",60034),folder:y("folder",60035),fileDirectory:y("file-directory",60035),symbolFolder:y("symbol-folder",60035),logoGithub:y("logo-github",60036),markGithub:y("mark-github",60036),github:y("github",60036),terminal:y("terminal",60037),console:y("console",60037),repl:y("repl",60037),zap:y("zap",60038),symbolEvent:y("symbol-event",60038),error:y("error",60039),stop:y("stop",60039),variable:y("variable",60040),symbolVariable:y("symbol-variable",60040),array:y("array",60042),symbolArray:y("symbol-array",60042),symbolModule:y("symbol-module",60043),symbolPackage:y("symbol-package",60043),symbolNamespace:y("symbol-namespace",60043),symbolObject:y("symbol-object",60043),symbolMethod:y("symbol-method",60044),symbolFunction:y("symbol-function",60044),symbolConstructor:y("symbol-constructor",60044),symbolBoolean:y("symbol-boolean",60047),symbolNull:y("symbol-null",60047),symbolNumeric:y("symbol-numeric",60048),symbolNumber:y("symbol-number",60048),symbolStructure:y("symbol-structure",60049),symbolStruct:y("symbol-struct",60049),symbolParameter:y("symbol-parameter",60050),symbolTypeParameter:y("symbol-type-parameter",60050),symbolKey:y("symbol-key",60051),symbolText:y("symbol-text",60051),symbolReference:y("symbol-reference",60052),goToFile:y("go-to-file",60052),symbolEnum:y("symbol-enum",60053),symbolValue:y("symbol-value",60053),symbolRuler:y("symbol-ruler",60054),symbolUnit:y("symbol-unit",60054),activateBreakpoints:y("activate-breakpoints",60055),archive:y("archive",60056),arrowBoth:y("arrow-both",60057),arrowDown:y("arrow-down",60058),arrowLeft:y("arrow-left",60059),arrowRight:y("arrow-right",60060),arrowSmallDown:y("arrow-small-down",60061),arrowSmallLeft:y("arrow-small-left",60062),arrowSmallRight:y("arrow-small-right",60063),arrowSmallUp:y("arrow-small-up",60064),arrowUp:y("arrow-up",60065),bell:y("bell",60066),bold:y("bold",60067),book:y("book",60068),bookmark:y("bookmark",60069),debugBreakpointConditionalUnverified:y("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:y("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:y("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:y("debug-breakpoint-data-unverified",60072),debugBreakpointData:y("debug-breakpoint-data",60073),debugBreakpointDataDisabled:y("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:y("debug-breakpoint-log-unverified",60074),debugBreakpointLog:y("debug-breakpoint-log",60075),debugBreakpointLogDisabled:y("debug-breakpoint-log-disabled",60075),briefcase:y("briefcase",60076),broadcast:y("broadcast",60077),browser:y("browser",60078),bug:y("bug",60079),calendar:y("calendar",60080),caseSensitive:y("case-sensitive",60081),check:y("check",60082),checklist:y("checklist",60083),chevronDown:y("chevron-down",60084),dropDownButton:y("drop-down-button",60084),chevronLeft:y("chevron-left",60085),chevronRight:y("chevron-right",60086),chevronUp:y("chevron-up",60087),chromeClose:y("chrome-close",60088),chromeMaximize:y("chrome-maximize",60089),chromeMinimize:y("chrome-minimize",60090),chromeRestore:y("chrome-restore",60091),circle:y("circle",60092),circleOutline:y("circle-outline",60092),debugBreakpointUnverified:y("debug-breakpoint-unverified",60092),circleSlash:y("circle-slash",60093),circuitBoard:y("circuit-board",60094),clearAll:y("clear-all",60095),clippy:y("clippy",60096),closeAll:y("close-all",60097),cloudDownload:y("cloud-download",60098),cloudUpload:y("cloud-upload",60099),code:y("code",60100),collapseAll:y("collapse-all",60101),colorMode:y("color-mode",60102),commentDiscussion:y("comment-discussion",60103),compareChanges:y("compare-changes",60157),creditCard:y("credit-card",60105),dash:y("dash",60108),dashboard:y("dashboard",60109),database:y("database",60110),debugContinue:y("debug-continue",60111),debugDisconnect:y("debug-disconnect",60112),debugPause:y("debug-pause",60113),debugRestart:y("debug-restart",60114),debugStart:y("debug-start",60115),debugStepInto:y("debug-step-into",60116),debugStepOut:y("debug-step-out",60117),debugStepOver:y("debug-step-over",60118),debugStop:y("debug-stop",60119),debug:y("debug",60120),deviceCameraVideo:y("device-camera-video",60121),deviceCamera:y("device-camera",60122),deviceMobile:y("device-mobile",60123),diffAdded:y("diff-added",60124),diffIgnored:y("diff-ignored",60125),diffModified:y("diff-modified",60126),diffRemoved:y("diff-removed",60127),diffRenamed:y("diff-renamed",60128),diff:y("diff",60129),discard:y("discard",60130),editorLayout:y("editor-layout",60131),emptyWindow:y("empty-window",60132),exclude:y("exclude",60133),extensions:y("extensions",60134),eyeClosed:y("eye-closed",60135),fileBinary:y("file-binary",60136),fileCode:y("file-code",60137),fileMedia:y("file-media",60138),filePdf:y("file-pdf",60139),fileSubmodule:y("file-submodule",60140),fileSymlinkDirectory:y("file-symlink-directory",60141),fileSymlinkFile:y("file-symlink-file",60142),fileZip:y("file-zip",60143),files:y("files",60144),filter:y("filter",60145),flame:y("flame",60146),foldDown:y("fold-down",60147),foldUp:y("fold-up",60148),fold:y("fold",60149),folderActive:y("folder-active",60150),folderOpened:y("folder-opened",60151),gear:y("gear",60152),gift:y("gift",60153),gistSecret:y("gist-secret",60154),gist:y("gist",60155),gitCommit:y("git-commit",60156),gitCompare:y("git-compare",60157),gitMerge:y("git-merge",60158),githubAction:y("github-action",60159),githubAlt:y("github-alt",60160),globe:y("globe",60161),grabber:y("grabber",60162),graph:y("graph",60163),gripper:y("gripper",60164),heart:y("heart",60165),home:y("home",60166),horizontalRule:y("horizontal-rule",60167),hubot:y("hubot",60168),inbox:y("inbox",60169),issueClosed:y("issue-closed",60324),issueReopened:y("issue-reopened",60171),issues:y("issues",60172),italic:y("italic",60173),jersey:y("jersey",60174),json:y("json",60175),bracket:y("bracket",60175),kebabVertical:y("kebab-vertical",60176),key:y("key",60177),law:y("law",60178),lightbulbAutofix:y("lightbulb-autofix",60179),linkExternal:y("link-external",60180),link:y("link",60181),listOrdered:y("list-ordered",60182),listUnordered:y("list-unordered",60183),liveShare:y("live-share",60184),loading:y("loading",60185),location:y("location",60186),mailRead:y("mail-read",60187),mail:y("mail",60188),markdown:y("markdown",60189),megaphone:y("megaphone",60190),mention:y("mention",60191),milestone:y("milestone",60192),gitPullRequestMilestone:y("git-pull-request-milestone",60192),mortarBoard:y("mortar-board",60193),move:y("move",60194),multipleWindows:y("multiple-windows",60195),mute:y("mute",60196),noNewline:y("no-newline",60197),note:y("note",60198),octoface:y("octoface",60199),openPreview:y("open-preview",60200),package:y("package",60201),paintcan:y("paintcan",60202),pin:y("pin",60203),play:y("play",60204),run:y("run",60204),plug:y("plug",60205),preserveCase:y("preserve-case",60206),preview:y("preview",60207),project:y("project",60208),pulse:y("pulse",60209),question:y("question",60210),quote:y("quote",60211),radioTower:y("radio-tower",60212),reactions:y("reactions",60213),references:y("references",60214),refresh:y("refresh",60215),regex:y("regex",60216),remoteExplorer:y("remote-explorer",60217),remote:y("remote",60218),remove:y("remove",60219),replaceAll:y("replace-all",60220),replace:y("replace",60221),repoClone:y("repo-clone",60222),repoForcePush:y("repo-force-push",60223),repoPull:y("repo-pull",60224),repoPush:y("repo-push",60225),report:y("report",60226),requestChanges:y("request-changes",60227),rocket:y("rocket",60228),rootFolderOpened:y("root-folder-opened",60229),rootFolder:y("root-folder",60230),rss:y("rss",60231),ruby:y("ruby",60232),saveAll:y("save-all",60233),saveAs:y("save-as",60234),save:y("save",60235),screenFull:y("screen-full",60236),screenNormal:y("screen-normal",60237),searchStop:y("search-stop",60238),server:y("server",60240),settingsGear:y("settings-gear",60241),settings:y("settings",60242),shield:y("shield",60243),smiley:y("smiley",60244),sortPrecedence:y("sort-precedence",60245),splitHorizontal:y("split-horizontal",60246),splitVertical:y("split-vertical",60247),squirrel:y("squirrel",60248),starFull:y("star-full",60249),starHalf:y("star-half",60250),symbolClass:y("symbol-class",60251),symbolColor:y("symbol-color",60252),symbolCustomColor:y("symbol-customcolor",60252),symbolConstant:y("symbol-constant",60253),symbolEnumMember:y("symbol-enum-member",60254),symbolField:y("symbol-field",60255),symbolFile:y("symbol-file",60256),symbolInterface:y("symbol-interface",60257),symbolKeyword:y("symbol-keyword",60258),symbolMisc:y("symbol-misc",60259),symbolOperator:y("symbol-operator",60260),symbolProperty:y("symbol-property",60261),wrench:y("wrench",60261),wrenchSubaction:y("wrench-subaction",60261),symbolSnippet:y("symbol-snippet",60262),tasklist:y("tasklist",60263),telescope:y("telescope",60264),textSize:y("text-size",60265),threeBars:y("three-bars",60266),thumbsdown:y("thumbsdown",60267),thumbsup:y("thumbsup",60268),tools:y("tools",60269),triangleDown:y("triangle-down",60270),triangleLeft:y("triangle-left",60271),triangleRight:y("triangle-right",60272),triangleUp:y("triangle-up",60273),twitter:y("twitter",60274),unfold:y("unfold",60275),unlock:y("unlock",60276),unmute:y("unmute",60277),unverified:y("unverified",60278),verified:y("verified",60279),versions:y("versions",60280),vmActive:y("vm-active",60281),vmOutline:y("vm-outline",60282),vmRunning:y("vm-running",60283),watch:y("watch",60284),whitespace:y("whitespace",60285),wholeWord:y("whole-word",60286),window:y("window",60287),wordWrap:y("word-wrap",60288),zoomIn:y("zoom-in",60289),zoomOut:y("zoom-out",60290),listFilter:y("list-filter",60291),listFlat:y("list-flat",60292),listSelection:y("list-selection",60293),selection:y("selection",60293),listTree:y("list-tree",60294),debugBreakpointFunctionUnverified:y("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:y("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:y("debug-breakpoint-function-disabled",60296),debugStackframeActive:y("debug-stackframe-active",60297),circleSmallFilled:y("circle-small-filled",60298),debugStackframeDot:y("debug-stackframe-dot",60298),debugStackframe:y("debug-stackframe",60299),debugStackframeFocused:y("debug-stackframe-focused",60299),debugBreakpointUnsupported:y("debug-breakpoint-unsupported",60300),symbolString:y("symbol-string",60301),debugReverseContinue:y("debug-reverse-continue",60302),debugStepBack:y("debug-step-back",60303),debugRestartFrame:y("debug-restart-frame",60304),callIncoming:y("call-incoming",60306),callOutgoing:y("call-outgoing",60307),menu:y("menu",60308),expandAll:y("expand-all",60309),feedback:y("feedback",60310),gitPullRequestReviewer:y("git-pull-request-reviewer",60310),groupByRefType:y("group-by-ref-type",60311),ungroupByRefType:y("ungroup-by-ref-type",60312),account:y("account",60313),gitPullRequestAssignee:y("git-pull-request-assignee",60313),bellDot:y("bell-dot",60314),debugConsole:y("debug-console",60315),library:y("library",60316),output:y("output",60317),runAll:y("run-all",60318),syncIgnored:y("sync-ignored",60319),pinned:y("pinned",60320),githubInverted:y("github-inverted",60321),debugAlt:y("debug-alt",60305),serverProcess:y("server-process",60322),serverEnvironment:y("server-environment",60323),pass:y("pass",60324),stopCircle:y("stop-circle",60325),playCircle:y("play-circle",60326),record:y("record",60327),debugAltSmall:y("debug-alt-small",60328),vmConnect:y("vm-connect",60329),cloud:y("cloud",60330),merge:y("merge",60331),exportIcon:y("export",60332),graphLeft:y("graph-left",60333),magnet:y("magnet",60334),notebook:y("notebook",60335),redo:y("redo",60336),checkAll:y("check-all",60337),pinnedDirty:y("pinned-dirty",60338),passFilled:y("pass-filled",60339),circleLargeFilled:y("circle-large-filled",60340),circleLarge:y("circle-large",60341),circleLargeOutline:y("circle-large-outline",60341),combine:y("combine",60342),gather:y("gather",60342),table:y("table",60343),variableGroup:y("variable-group",60344),typeHierarchy:y("type-hierarchy",60345),typeHierarchySub:y("type-hierarchy-sub",60346),typeHierarchySuper:y("type-hierarchy-super",60347),gitPullRequestCreate:y("git-pull-request-create",60348),runAbove:y("run-above",60349),runBelow:y("run-below",60350),notebookTemplate:y("notebook-template",60351),debugRerun:y("debug-rerun",60352),workspaceTrusted:y("workspace-trusted",60353),workspaceUntrusted:y("workspace-untrusted",60354),workspaceUnspecified:y("workspace-unspecified",60355),terminalCmd:y("terminal-cmd",60356),terminalDebian:y("terminal-debian",60357),terminalLinux:y("terminal-linux",60358),terminalPowershell:y("terminal-powershell",60359),terminalTmux:y("terminal-tmux",60360),terminalUbuntu:y("terminal-ubuntu",60361),terminalBash:y("terminal-bash",60362),arrowSwap:y("arrow-swap",60363),copy:y("copy",60364),personAdd:y("person-add",60365),filterFilled:y("filter-filled",60366),wand:y("wand",60367),debugLineByLine:y("debug-line-by-line",60368),inspect:y("inspect",60369),layers:y("layers",60370),layersDot:y("layers-dot",60371),layersActive:y("layers-active",60372),compass:y("compass",60373),compassDot:y("compass-dot",60374),compassActive:y("compass-active",60375),azure:y("azure",60376),issueDraft:y("issue-draft",60377),gitPullRequestClosed:y("git-pull-request-closed",60378),gitPullRequestDraft:y("git-pull-request-draft",60379),debugAll:y("debug-all",60380),debugCoverage:y("debug-coverage",60381),runErrors:y("run-errors",60382),folderLibrary:y("folder-library",60383),debugContinueSmall:y("debug-continue-small",60384),beakerStop:y("beaker-stop",60385),graphLine:y("graph-line",60386),graphScatter:y("graph-scatter",60387),pieChart:y("pie-chart",60388),bracketDot:y("bracket-dot",60389),bracketError:y("bracket-error",60390),lockSmall:y("lock-small",60391),azureDevops:y("azure-devops",60392),verifiedFilled:y("verified-filled",60393),newLine:y("newline",60394),layout:y("layout",60395),layoutActivitybarLeft:y("layout-activitybar-left",60396),layoutActivitybarRight:y("layout-activitybar-right",60397),layoutPanelLeft:y("layout-panel-left",60398),layoutPanelCenter:y("layout-panel-center",60399),layoutPanelJustify:y("layout-panel-justify",60400),layoutPanelRight:y("layout-panel-right",60401),layoutPanel:y("layout-panel",60402),layoutSidebarLeft:y("layout-sidebar-left",60403),layoutSidebarRight:y("layout-sidebar-right",60404),layoutStatusbar:y("layout-statusbar",60405),layoutMenubar:y("layout-menubar",60406),layoutCentered:y("layout-centered",60407),layoutSidebarRightOff:y("layout-sidebar-right-off",60416),layoutPanelOff:y("layout-panel-off",60417),layoutSidebarLeftOff:y("layout-sidebar-left-off",60418),target:y("target",60408),indent:y("indent",60409),recordSmall:y("record-small",60410),errorSmall:y("error-small",60411),arrowCircleDown:y("arrow-circle-down",60412),arrowCircleLeft:y("arrow-circle-left",60413),arrowCircleRight:y("arrow-circle-right",60414),arrowCircleUp:y("arrow-circle-up",60415),heartFilled:y("heart-filled",60420),map:y("map",60421),mapFilled:y("map-filled",60422),circleSmall:y("circle-small",60423),bellSlash:y("bell-slash",60424),bellSlashDot:y("bell-slash-dot",60425),commentUnresolved:y("comment-unresolved",60426),gitPullRequestGoToChanges:y("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:y("git-pull-request-new-changes",60428),searchFuzzy:y("search-fuzzy",60429),commentDraft:y("comment-draft",60430),send:y("send",60431),sparkle:y("sparkle",60432),insert:y("insert",60433),mic:y("mic",60434),dialogError:y("dialog-error","error"),dialogWarning:y("dialog-warning","warning"),dialogInfo:y("dialog-info","info"),dialogClose:y("dialog-close","close"),treeItemExpanded:y("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:y("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:y("tree-filter-on-type-off","list-selection"),treeFilterClear:y("tree-filter-clear","close"),treeItemLoading:y("tree-item-loading","loading"),menuSelection:y("menu-selection","check"),menuSubmenu:y("menu-submenu","chevron-right"),menuBarMore:y("menubar-more","more"),scrollbarButtonLeft:y("scrollbar-button-left","triangle-left"),scrollbarButtonRight:y("scrollbar-button-right","triangle-right"),scrollbarButtonUp:y("scrollbar-button-up","triangle-up"),scrollbarButtonDown:y("scrollbar-button-down","triangle-down"),toolBarMore:y("toolbar-more","more"),quickInputBack:y("quick-input-back","arrow-left")}}),define(te[52],ie([1,0,20]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function I(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const t=Array.isArray(n)?[]:{};return Object.entries(n).forEach(([r,u])=>{t[r]=u&&typeof u=="object"?I(u):u}),t}e.deepClone=I;function y(n){if(!n||typeof n!="object")return n;const t=[n];for(;t.length>0;){const r=t.shift();Object.freeze(r);for(const u in r)if(D.call(r,u)){const f=r[u];typeof f=="object"&&!Object.isFrozen(f)&&!(0,L.isTypedArray)(f)&&t.push(f)}}return n}e.deepFreeze=y;const D=Object.prototype.hasOwnProperty;function S(n,t){return m(n,t,new Set)}e.cloneAndChange=S;function m(n,t,r){if((0,L.isUndefinedOrNull)(n))return n;const u=t(n);if(typeof u<"u")return u;if(Array.isArray(n)){const f=[];for(const d of n)f.push(m(d,t,r));return f}if((0,L.isObject)(n)){if(r.has(n))throw new Error("Cannot clone recursive data-structure");r.add(n);const f={};for(const d in n)D.call(n,d)&&(f[d]=m(n[d],t,r));return r.delete(n),f}return n}function _(n,t,r=!0){return(0,L.isObject)(n)?((0,L.isObject)(t)&&Object.keys(t).forEach(u=>{u in n?r&&((0,L.isObject)(n[u])&&(0,L.isObject)(t[u])?_(n[u],t[u],r):n[u]=t[u]):n[u]=t[u]}),n):t}e.mixin=_;function v(n,t){if(n===t)return!0;if(n==null||t===null||t===void 0||typeof n!=typeof t||typeof n!="object"||Array.isArray(n)!==Array.isArray(t))return!1;let r,u;if(Array.isArray(n)){if(n.length!==t.length)return!1;for(r=0;r<n.length;r++)if(!v(n[r],t[r]))return!1}else{const f=[];for(u in n)f.push(u);f.sort();const d=[];for(u in t)d.push(u);if(d.sort(),!v(f,d))return!1;for(r=0;r<f.length;r++)if(!v(n[f[r]],t[f[r]]))return!1}return!0}e.equals=v;function C(n){let t=[];for(;Object.prototype!==n;)t=t.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return t}e.getAllPropertyNames=C;function s(n){const t=[];for(const r of C(n))typeof n[r]=="function"&&t.push(r);return t}e.getAllMethodNames=s;function i(n,t){const r=f=>function(){const d=Array.prototype.slice.call(arguments,0);return t(f,d)},u={};for(const f of n)u[f]=r(f);return u}e.createProxyObject=i}),define(te[27],ie([1,0,26]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var I;(function(D){function S(m){return m&&typeof m=="object"&&typeof m.id=="string"}D.isThemeColor=S})(I||(e.ThemeColor=I={}));var y;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const S=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function m(f){const d=S.exec(f.id);if(!d)return m(L.Codicon.error);const[,l,o]=d,c=["codicon","codicon-"+l];return o&&c.push("codicon-modifier-"+o.substring(1)),c}D.asClassNameArray=m;function _(f){return m(f).join(" ")}D.asClassName=_;function v(f){return"."+m(f).join(".")}D.asCSSSelector=v;function C(f){return f&&typeof f=="object"&&typeof f.id=="string"&&(typeof f.color>"u"||I.isThemeColor(f.color))}D.isThemeIcon=C;const s=new RegExp(`^\\$\\((${D.iconNameExpression}(?:${D.iconModifierExpression})?)\\)$`);function i(f){const d=s.exec(f);if(!d)return;const[,l]=d;return{id:l}}D.fromString=i;function n(f){return{id:f}}D.fromId=n;function t(f,d){let l=f.id;const o=l.lastIndexOf("~");return o!==-1&&(l=l.substring(0,o)),d&&(l=`${l}~${d}`),{id:l}}D.modify=t;function r(f){const d=f.id.lastIndexOf("~");if(d!==-1)return f.id.substring(d+1)}D.getModifier=r;function u(f,d){var l,o;return f.id===d.id&&((l=f.color)===null||l===void 0?void 0:l.id)===((o=d.color)===null||o===void 0?void 0:o.id)}D.isEqual=u})(y||(e.ThemeIcon=y={}))}),define(te[119],ie([1,0,69,10,27]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.getCodiconAriaLabel=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=void 0;const D="$(",S=new RegExp(`\\$\\(${y.ThemeIcon.iconNameExpression}(?:${y.ThemeIcon.iconModifierExpression})?\\)`,"g"),m=new RegExp(`(\\\\)?${S.source}`,"g");function _(f){return f.replace(m,(d,l)=>l?d:`\\${d}`)}e.escapeIcons=_;const v=new RegExp(`\\\\${S.source}`,"g");function C(f){return f.replace(v,d=>`\\${d}`)}e.markdownEscapeEscapedIcons=C;const s=new RegExp(`(\\s)?(\\\\)?${S.source}(\\s)?`,"g");function i(f){return f.indexOf(D)===-1?f:f.replace(s,(d,l,o,c)=>o?d:l||c||"")}e.stripIcons=i;function n(f){return f?f.replace(/\$\((.*?)\)/g,(d,l)=>` ${l} `).trim():""}e.getCodiconAriaLabel=n;const t=new RegExp(`\\$\\(${y.ThemeIcon.iconNameCharacter}+\\)`,"g");function r(f){t.lastIndex=0;let d="";const l=[];let o=0;for(;;){const c=t.lastIndex,a=t.exec(f),g=f.substring(c,a?.index);if(g.length>0){d+=g;for(let h=0;h<g.length;h++)l.push(o)}if(!a)break;o+=a[0].length}return{text:d,iconOffsets:l}}e.parseLabelWithIcons=r;function u(f,d,l=!1){const{text:o,iconOffsets:c}=d;if(!c||c.length===0)return(0,L.matchesFuzzy)(f,o,l);const a=(0,I.ltrim)(o," "),g=o.length-a.length,h=(0,L.matchesFuzzy)(f,a,l);if(h)for(const p of h){const b=c[p.start+g]+g;p.start+=b,p.end+=b}return h}e.matchesFuzzyIconAware=u}),define(te[168],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function L(y){return y<0?0:y>255?255:y|0}e.toUint8=L;function I(y){return y<0?0:y>4294967295?4294967295:y|0}e.toUint32=I}),define(te[169],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let L;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?L=crypto.getRandomValues.bind(crypto):L=function(D){for(let S=0;S<D.length;S++)D[S]=Math.floor(Math.random()*256);return D};const I=new Uint8Array(16),y=[];for(let D=0;D<256;D++)y.push(D.toString(16).padStart(2,"0"));return function(){L(I),I[6]=I[6]&15|64,I[8]=I[8]&63|128;let S=0,m="";return m+=y[I[S++]],m+=y[I[S++]],m+=y[I[S++]],m+=y[I[S++]],m+="-",m+=y[I[S++]],m+=y[I[S++]],m+="-",m+=y[I[S++]],m+=y[I[S++]],m+="-",m+=y[I[S++]],m+=y[I[S++]],m+="-",m+=y[I[S++]],m+=y[I[S++]],m+=y[I[S++]],m+=y[I[S++]],m+=y[I[S++]],m+=y[I[S++]],m}}()}),define(te[170],ie([1,0,13,43,169]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.matchesMimeType=e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function D(s){return{asString:()=>be(this,void 0,void 0,function*(){return s}),asFile:()=>{},value:typeof s=="string"?s:void 0}}e.createStringDataTransferItem=D;function S(s,i,n){const t={id:(0,y.generateUuid)(),name:s,uri:i,data:n};return{asString:()=>be(this,void 0,void 0,function*(){return""}),asFile:()=>t,value:void 0}}e.createFileDataTransferItem=S;class m{constructor(){this._entries=new Map}get size(){let i=0;for(const n of this._entries)i++;return i}has(i){return this._entries.has(this.toKey(i))}matches(i){const n=[...this._entries.keys()];return I.Iterable.some(this,([t,r])=>r.asFile())&&n.push("files"),C(_(i),n)}get(i){var n;return(n=this._entries.get(this.toKey(i)))===null||n===void 0?void 0:n[0]}append(i,n){const t=this._entries.get(i);t?t.push(n):this._entries.set(this.toKey(i),[n])}replace(i,n){this._entries.set(this.toKey(i),[n])}delete(i){this._entries.delete(this.toKey(i))}*[Symbol.iterator](){for(const[i,n]of this._entries)for(const t of n)yield[i,t]}toKey(i){return _(i)}}e.VSDataTransfer=m;function _(s){return s.toLowerCase()}function v(s,i){return C(_(s),i.map(_))}e.matchesMimeType=v;function C(s,i){if(s==="*/*")return i.length>0;if(i.includes(s))return!0;const n=s.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!n)return!1;const[t,r,u]=n;return u==="*"?i.some(f=>f.startsWith(r+"/")):!1}e.UriList=Object.freeze({create:s=>(0,L.distinct)(s.map(i=>i.toString())).join(`\r
`),split:s=>s.split(`\r
`),parse:s=>e.UriList.split(s).filter(i=>!i.startsWith("#"))})}),define(te[264],ie([11]),{}),define(te[398],ie([11]),{}),define(te[399],ie([11]),{}),define(te[400],ie([11]),{}),define(te[401],ie([11]),{}),define(te[171],ie([1,0,400,401]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(te[402],ie([11]),{}),define(te[403],ie([11]),{}),define(te[265],ie([11]),{}),define(te[266],ie([11]),{}),define(te[404],ie([11]),{}),define(te[405],ie([11]),{}),define(te[406],ie([11]),{}),define(te[407],ie([11]),{}),define(te[267],ie([11]),{}),define(te[408],ie([11]),{}),define(te[198],ie([1,0,408]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(te[409],ie([11]),{}),define(te[410],ie([11]),{}),define(te[411],ie([11]),{}),define(te[412],ie([11]),{}),define(te[413],ie([11]),{}),define(te[414],ie([11]),{}),define(te[415],ie([11]),{}),define(te[416],ie([11]),{}),define(te[417],ie([11]),{}),define(te[418],ie([11]),{}),define(te[419],ie([11]),{}),define(te[420],ie([11]),{}),define(te[421],ie([11]),{}),define(te[422],ie([11]),{}),define(te[423],ie([11]),{}),define(te[424],ie([11]),{}),define(te[425],ie([11]),{}),define(te[426],ie([11]),{}),define(te[427],ie([11]),{}),define(te[428],ie([11]),{}),define(te[429],ie([11]),{}),define(te[430],ie([11]),{}),define(te[431],ie([11]),{}),define(te[432],ie([11]),{}),define(te[433],ie([11]),{}),define(te[434],ie([11]),{}),define(te[435],ie([11]),{}),define(te[436],ie([11]),{}),define(te[437],ie([11]),{}),define(te[438],ie([11]),{}),define(te[439],ie([11]),{}),define(te[440],ie([11]),{}),define(te[441],ie([11]),{}),define(te[442],ie([11]),{}),define(te[443],ie([11]),{}),define(te[199],ie([11]),{}),define(te[444],ie([11]),{}),define(te[445],ie([11]),{}),define(te[446],ie([11]),{}),define(te[447],ie([11]),{}),define(te[448],ie([11]),{}),define(te[449],ie([11]),{}),define(te[450],ie([11]),{}),define(te[451],ie([11]),{}),define(te[452],ie([11]),{}),define(te[453],ie([11]),{}),define(te[454],ie([11]),{}),define(te[455],ie([11]),{}),define(te[456],ie([11]),{}),define(te[457],ie([11]),{}),define(te[458],ie([11]),{}),define(te[459],ie([11]),{}),define(te[460],ie([11]),{}),define(te[461],ie([11]),{}),define(te[462],ie([11]),{}),define(te[463],ie([11]),{}),define(te[464],ie([11]),{}),define(te[465],ie([11]),{}),define(te[466],ie([11]),{}),define(te[467],ie([11]),{}),define(te[468],ie([11]),{}),define(te[469],ie([11]),{}),define(te[470],ie([11]),{}),define(te[471],ie([11]),{}),define(te[472],ie([11]),{}),define(te[473],ie([11]),{}),define(te[474],ie([11]),{}),define(te[475],ie([11]),{}),define(te[268],ie([11]),{}),define(te[476],ie([11]),{}),define(te[477],ie([11]),{}),define(te[172],ie([11]),{}),define(te[478],ie([11]),{}),define(te[70],ie([1,0,38]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function I(y,D){y instanceof L.FastDomNode?(y.setFontFamily(D.getMassagedFontFamily()),y.setFontWeight(D.fontWeight),y.setFontSize(D.fontSize),y.setFontFeatureSettings(D.fontFeatureSettings),y.setFontVariationSettings(D.fontVariationSettings),y.setLineHeight(D.lineHeight),y.setLetterSpacing(D.letterSpacing)):(y.style.fontFamily=D.getMassagedFontFamily(),y.style.fontWeight=D.fontWeight,y.style.fontSize=D.fontSize+"px",y.style.fontFeatureSettings=D.fontFeatureSettings,y.style.fontVariationSettings=D.fontVariationSettings,y.style.lineHeight=D.lineHeight+"px",y.style.letterSpacing=D.letterSpacing+"px")}e.applyFontInfo=I}),define(te[479],ie([1,0,70]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class I{constructor(m,_){this.chr=m,this.type=_,this.width=0}fulfill(m){this.width=m}}e.CharWidthRequest=I;class y{constructor(m,_){this._bareFontInfo=m,this._requests=_,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const m=document.createElement("div");m.style.position="absolute",m.style.top="-50000px",m.style.width="50000px";const _=document.createElement("div");(0,L.applyFontInfo)(_,this._bareFontInfo),m.appendChild(_);const v=document.createElement("div");(0,L.applyFontInfo)(v,this._bareFontInfo),v.style.fontWeight="bold",m.appendChild(v);const C=document.createElement("div");(0,L.applyFontInfo)(C,this._bareFontInfo),C.style.fontStyle="italic",m.appendChild(C);const s=[];for(const i of this._requests){let n;i.type===0&&(n=_),i.type===2&&(n=v),i.type===1&&(n=C),n.appendChild(document.createElement("br"));const t=document.createElement("span");y._render(t,i),n.appendChild(t),s.push(t)}this._container=m,this._testElements=s}static _render(m,_){if(_.chr===" "){let v="\xA0";for(let C=0;C<8;C++)v+=v;m.innerText=v}else{let v=_.chr;for(let C=0;C<8;C++)v+=v;m.textContent=v}}_readFromDomElements(){for(let m=0,_=this._requests.length;m<_;m++){const v=this._requests[m],C=this._testElements[m];v.fulfill(C.offsetWidth/256)}}}function D(S,m){new y(S,m).read()}e.readCharWidths=D}),define(te[269],ie([1,0,2,6]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class y extends L.Disposable{constructor(S,m){super(),this._onDidChange=this._register(new I.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=S,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,m)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let S=null;const m=()=>{S?this.observe({width:S.width,height:S.height}):this.observe()};let _=!1,v=!1;const C=()=>{if(_&&!v)try{_=!1,v=!0,m()}finally{requestAnimationFrame(()=>{v=!1,C()})}};this._resizeObserver=new ResizeObserver(s=>{S=s&&s[0]&&s[0].contentRect?s[0].contentRect:null,_=!0,C()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(S){this.measureReferenceDomElement(!0,S)}measureReferenceDomElement(S,m){let _=0,v=0;m?(_=m.width,v=m.height):this._referenceDomElement&&(_=this._referenceDomElement.clientWidth,v=this._referenceDomElement.clientHeight),_=Math.max(5,_),v=Math.max(5,v),(this._width!==_||this._height!==v)&&(this._width=_,this._height=v,S&&this._onDidChange.fire())}}e.ElementSizeObserver=y}),define(te[480],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class L{constructor(_,v){this.key=_,this.migrate=v}apply(_){const v=L._read(_,this.key),C=i=>L._read(_,i),s=(i,n)=>L._write(_,i,n);this.migrate(v,C,s)}static _read(_,v){if(typeof _>"u")return;const C=v.indexOf(".");if(C>=0){const s=v.substring(0,C);return this._read(_[s],v.substring(C+1))}return _[v]}static _write(_,v,C){const s=v.indexOf(".");if(s>=0){const i=v.substring(0,s);_[i]=_[i]||{},this._write(_[i],v.substring(s+1),C);return}_[v]=C}}e.EditorSettingMigration=L,L.items=[];function I(m,_){L.items.push(new L(m,_))}function y(m,_){I(m,(v,C,s)=>{if(typeof v<"u"){for(const[i,n]of _)if(v===i){s(m,n);return}}})}function D(m){L.items.forEach(_=>_.apply(m))}e.migrateOptions=D,y("wordWrap",[[!0,"on"],[!1,"off"]]),y("lineNumbers",[[!0,"on"],[!1,"off"]]),y("cursorBlinking",[["visible","solid"]]),y("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),y("renderLineHighlight",[[!0,"line"],[!1,"none"]]),y("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),y("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),y("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("autoIndent",[[!1,"advanced"],[!0,"full"]]),y("matchBrackets",[[!0,"always"],[!1,"never"]]),y("renderFinalNewline",[[!0,"on"],[!1,"off"]]),y("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),I("autoClosingBrackets",(m,_,v)=>{m===!1&&(v("autoClosingBrackets","never"),typeof _("autoClosingQuotes")>"u"&&v("autoClosingQuotes","never"),typeof _("autoSurround")>"u"&&v("autoSurround","never"))}),I("renderIndentGuides",(m,_,v)=>{typeof m<"u"&&(v("renderIndentGuides",void 0),typeof _("guides.indentation")>"u"&&v("guides.indentation",!!m))}),I("highlightActiveIndentGuide",(m,_,v)=>{typeof m<"u"&&(v("highlightActiveIndentGuide",void 0),typeof _("guides.highlightActiveIndentation")>"u"&&v("guides.highlightActiveIndentation",!!m))});const S={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};I("suggest.filteredTypes",(m,_,v)=>{if(m&&typeof m=="object"){for(const C of Object.entries(S))m[C[0]]===!1&&typeof _(`suggest.${C[1]}`)>"u"&&v(`suggest.${C[1]}`,!1);v("suggest.filteredTypes",void 0)}}),I("quickSuggestions",(m,_,v)=>{if(typeof m=="boolean"){const C=m?"on":"off";v("quickSuggestions",{comments:C,strings:C,other:C})}}),I("experimental.stickyScroll.enabled",(m,_,v)=>{typeof m=="boolean"&&(v("experimental.stickyScroll.enabled",void 0),typeof _("stickyScroll.enabled")>"u"&&v("stickyScroll.enabled",m))}),I("experimental.stickyScroll.maxLineCount",(m,_,v)=>{typeof m=="number"&&(v("experimental.stickyScroll.maxLineCount",void 0),typeof _("stickyScroll.maxLineCount")>"u"&&v("stickyScroll.maxLineCount",m))})}),define(te[200],ie([1,0,6]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class I{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new L.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus)}}e.TabFocus=new I}),define(te[120],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class L{static capture(y){if(y.getScrollTop()===0||y.hasPendingScrollAnimation())return new L(y.getScrollTop(),y.getContentHeight(),null,0,null);let D=null,S=0;const m=y.getVisibleRanges();if(m.length>0){D=m[0].getStartPosition();const _=y.getTopForPosition(D.lineNumber,D.column);S=y.getScrollTop()-_}return new L(y.getScrollTop(),y.getContentHeight(),D,S,y.getPosition())}constructor(y,D,S,m,_){this._initialScrollTop=y,this._initialContentHeight=D,this._visiblePosition=S,this._visiblePositionScrollDelta=m,this._cursorPosition=_}restore(y){if(!(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())&&this._visiblePosition){const D=y.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);y.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(y){if(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())return;const D=y.getPosition();if(!this._cursorPosition||!D)return;const S=y.getTopForLineNumber(D.lineNumber)-y.getTopForLineNumber(this._cursorPosition.lineNumber);y.setScrollTop(y.getScrollTop()+S)}}e.StableEditorScrollState=L}),define(te[142],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class L{constructor(C,s){this._restrictedRenderingContextBrand=void 0,this._viewLayout=C,this.viewportData=s,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(C){return C-this.scrollTop}getVerticalOffsetForLineNumber(C,s){return this._viewLayout.getVerticalOffsetForLineNumber(C,s)}getVerticalOffsetAfterLineNumber(C,s){return this._viewLayout.getVerticalOffsetAfterLineNumber(C,s)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=L;class I extends L{constructor(C,s,i){super(C,s),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(C,s){return this._viewLines.linesVisibleRangesForRange(C,s)}visibleRangeForPosition(C){return this._viewLines.visibleRangeForPosition(C)}}e.RenderingContext=I;class y{constructor(C,s,i,n){this.outsideRenderedLine=C,this.lineNumber=s,this.ranges=i,this.continuesOnNextLine=n}}e.LineVisibleRanges=y;class D{static from(C){const s=new Array(C.length);for(let i=0,n=C.length;i<n;i++){const t=C[i];s[i]=new D(t.left,t.width)}return s}constructor(C,s){this._horizontalRangeBrand=void 0,this.left=Math.round(C),this.width=Math.round(s)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class S{constructor(C,s){this._floatHorizontalRangeBrand=void 0,this.left=C,this.width=s}toString(){return`[${this.left},${this.width}]`}static compare(C,s){return C.left-s.left}}e.FloatHorizontalRange=S;class m{constructor(C,s){this.outsideRenderedLine=C,this.originalLeft=s,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=m;class _{constructor(C,s){this.outsideRenderedLine=C,this.ranges=s}}e.VisibleRanges=_}),define(te[481],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class L{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const y=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=y.left,this._clientRectScale=y.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(y,D){this._domNode=y,this.endNode=D,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=L}),define(te[482],ie([1,0,142]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class I{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,S){D.selectNodeContents(S)}static _readClientRects(D,S,m,_,v){const C=this._createRange();try{return C.setStart(D,S),C.setEnd(m,_),C.getClientRects()}catch{return null}finally{this._detachRange(C,v)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(L.FloatHorizontalRange.compare);const S=[];let m=0,_=D[0];for(let v=1,C=D.length;v<C;v++){const s=D[v];_.left+_.width+.9>=s.left?_.width=Math.max(_.width,s.left+s.width-_.left):(S[m++]=_,_=s)}return S[m++]=_,S}static _createHorizontalRangesFromClientRects(D,S,m){if(!D||D.length===0)return null;const _=[];for(let v=0,C=D.length;v<C;v++){const s=D[v];_[v]=new L.FloatHorizontalRange(Math.max(0,(s.left-S)/m),s.width/m)}return this._mergeAdjacentRanges(_)}static readHorizontalRanges(D,S,m,_,v,C){const i=D.children.length-1;if(0>i)return null;if(S=Math.min(i,Math.max(0,S)),_=Math.min(i,Math.max(0,_)),S===_&&m===v&&m===0&&!D.children[S].firstChild){const u=D.children[S].getClientRects();return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(u,C.clientRectDeltaLeft,C.clientRectScale)}S!==_&&_>0&&v===0&&(_--,v=1073741824);let n=D.children[S].firstChild,t=D.children[_].firstChild;if((!n||!t)&&(!n&&m===0&&S>0&&(n=D.children[S-1].firstChild,m=1073741824),!t&&v===0&&_>0&&(t=D.children[_-1].firstChild,v=1073741824)),!n||!t)return null;m=Math.min(n.textContent.length,Math.max(0,m)),v=Math.min(t.textContent.length,Math.max(0,v));const r=this._readClientRects(n,m,t,v,C.endNode);return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(r,C.clientRectDeltaLeft,C.clientRectScale)}}e.RangeUtil=I}),define(te[270],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const I=[];for(let y=32;y<=126;y++)I.push(y);return I.push(65533),I})();const L=(I,y)=>(I-=32,I<0||I>96?y<=2?(I+96)%96:96-1:I);e.getCharIndex=L}),define(te[483],ie([1,0,270,168]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class y{constructor(S,m){this.scale=m,this._minimapCharRendererBrand=void 0,this.charDataNormal=y.soften(S,12/15),this.charDataLight=y.soften(S,50/60)}static soften(S,m){const _=new Uint8ClampedArray(S.length);for(let v=0,C=S.length;v<C;v++)_[v]=(0,I.toUint8)(S[v]*m);return _}renderChar(S,m,_,v,C,s,i,n,t,r,u){const f=1*this.scale,d=2*this.scale,l=u?1:d;if(m+f>S.width||_+l>S.height){console.warn("bad render request outside image data");return}const o=r?this.charDataLight:this.charDataNormal,c=(0,L.getCharIndex)(v,t),a=S.width*4,g=i.r,h=i.g,p=i.b,b=C.r-g,w=C.g-h,E=C.b-p,k=Math.max(s,n),M=S.data;let R=c*f*d,B=_*a+m*4;for(let T=0;T<l;T++){let N=B;for(let A=0;A<f;A++){const P=o[R++]/255*(s/255);M[N++]=g+b*P,M[N++]=h+w*P,M[N++]=p+E*P,M[N++]=k}B+=a}}blockRenderChar(S,m,_,v,C,s,i,n){const t=1*this.scale,r=2*this.scale,u=n?1:r;if(m+t>S.width||_+u>S.height){console.warn("bad render request outside image data");return}const f=S.width*4,d=.5*(C/255),l=s.r,o=s.g,c=s.b,a=v.r-l,g=v.g-o,h=v.b-c,p=l+a*d,b=o+g*d,w=c+h*d,E=Math.max(C,i),k=S.data;let M=_*f+m*4;for(let R=0;R<u;R++){let B=M;for(let T=0;T<t;T++)k[B++]=p,k[B++]=b,k[B++]=w,k[B++]=E;M+=f}}}e.MinimapCharRenderer=y}),define(te[484],ie([1,0,106]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const I={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},y=D=>{const S=new Uint8ClampedArray(D.length/2);for(let m=0;m<D.length;m+=2)S[m>>1]=I[D[m]]<<4|I[D[m+1]]&15;return S};e.prebakedMiniMaps={1:(0,L.createSingleCallFunction)(()=>y("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,L.createSingleCallFunction)(()=>y("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(te[485],ie([1,0,483,270,484,168]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(_,v){if(this.lastCreated&&_===this.lastCreated.scale&&v===this.lastFontFamily)return this.lastCreated;let C;return y.prebakedMiniMaps[_]?C=new L.MinimapCharRenderer(y.prebakedMiniMaps[_](),_):C=S.createFromSampleData(S.createSampleData(v).data,_),this.lastFontFamily=v,this.lastCreated=C,C}static createSampleData(_){const v=document.createElement("canvas"),C=v.getContext("2d");v.style.height="16px",v.height=16,v.width=96*10,v.style.width=96*10+"px",C.fillStyle="#ffffff",C.font=`bold 16px ${_}`,C.textBaseline="middle";let s=0;for(const i of I.allCharCodes)C.fillText(String.fromCharCode(i),s,16/2),s+=10;return C.getImageData(0,0,96*10,16)}static createFromSampleData(_,v){if(_.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const s=S._downsample(_,v);return new L.MinimapCharRenderer(s,v)}static _downsampleChar(_,v,C,s,i){const n=1*i,t=2*i;let r=s,u=0;for(let f=0;f<t;f++){const d=f/t*16,l=(f+1)/t*16;for(let o=0;o<n;o++){const c=o/n*10,a=(o+1)/n*10;let g=0,h=0;for(let b=d;b<l;b++){const w=v+Math.floor(b)*3840,E=1-(b-Math.floor(b));for(let k=c;k<a;k++){const M=1-(k-Math.floor(k)),R=w+Math.floor(k)*4,B=M*E;h+=B,g+=_[R]*_[R+3]/255*B}}const p=g/h;u=Math.max(u,p),C[r++]=(0,D.toUint8)(p)}}return u}static _downsample(_,v){const C=2*v*1*v,s=C*96,i=new Uint8ClampedArray(s);let n=0,t=0,r=0;for(let u=0;u<96;u++)r=Math.max(r,this._downsampleChar(_,t,i,n,v)),n+=C,t+=10*4;if(r>0){const u=255/r;for(let f=0;f<s;f++)i[f]*=u}return i}}e.MinimapCharRendererFactory=S}),define(te[486],ie([1,0,6,2]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class y extends I.Disposable{constructor(){super(...arguments),this._id=++y.idCounter,this._onDidDispose=this._register(new L.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(S){return this._targetEditor.getVisibleColumnFromPosition(S)}getPosition(){return this._targetEditor.getPosition()}setPosition(S,m="api"){this._targetEditor.setPosition(S,m)}revealLine(S,m=0){this._targetEditor.revealLine(S,m)}revealLineInCenter(S,m=0){this._targetEditor.revealLineInCenter(S,m)}revealLineInCenterIfOutsideViewport(S,m=0){this._targetEditor.revealLineInCenterIfOutsideViewport(S,m)}revealLineNearTop(S,m=0){this._targetEditor.revealLineNearTop(S,m)}revealPosition(S,m=0){this._targetEditor.revealPosition(S,m)}revealPositionInCenter(S,m=0){this._targetEditor.revealPositionInCenter(S,m)}revealPositionInCenterIfOutsideViewport(S,m=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(S,m)}revealPositionNearTop(S,m=0){this._targetEditor.revealPositionNearTop(S,m)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(S,m="api"){this._targetEditor.setSelection(S,m)}setSelections(S,m="api"){this._targetEditor.setSelections(S,m)}revealLines(S,m,_=0){this._targetEditor.revealLines(S,m,_)}revealLinesInCenter(S,m,_=0){this._targetEditor.revealLinesInCenter(S,m,_)}revealLinesInCenterIfOutsideViewport(S,m,_=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(S,m,_)}revealLinesNearTop(S,m,_=0){this._targetEditor.revealLinesNearTop(S,m,_)}revealRange(S,m=0,_=!1,v=!0){this._targetEditor.revealRange(S,m,_,v)}revealRangeInCenter(S,m=0){this._targetEditor.revealRangeInCenter(S,m)}revealRangeInCenterIfOutsideViewport(S,m=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(S,m)}revealRangeNearTop(S,m=0){this._targetEditor.revealRangeNearTop(S,m)}revealRangeNearTopIfOutsideViewport(S,m=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(S,m)}revealRangeAtTop(S,m=0){this._targetEditor.revealRangeAtTop(S,m)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(S,m,_){this._targetEditor.trigger(S,m,_)}createDecorationsCollection(S){return this._targetEditor.createDecorationsCollection(S)}changeDecorations(S){return this._targetEditor.changeDecorations(S)}}e.DelegatingEditor=y,y.idCounter=0}),define(te[271],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffEditorDefaultOptions=void 0,e.diffEditorDefaultOptions={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}}),define(te[143],ie([1,0,6]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new L.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(I){I=Math.min(Math.max(-5,I),20),this._zoomLevel!==I&&(this._zoomLevel=I,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(te[121],ie([1,0,168]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class I{constructor(S){const m=(0,L.toUint8)(S);this._defaultValue=m,this._asciiMap=I._createAsciiMap(m),this._map=new Map}static _createAsciiMap(S){const m=new Uint8Array(256);return m.fill(S),m}set(S,m){const _=(0,L.toUint8)(m);S>=0&&S<256?this._asciiMap[S]=_:this._map.set(S,_)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=I;class y{constructor(){this._actual=new I(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}clear(){return this._actual.clear()}}e.CharacterSet=y}),define(te[80],ie([1,0,10]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class I{static _nextVisibleColumn(D,S,m){return D===9?I.nextRenderTabStop(S,m):L.isFullWidthCharacter(D)||L.isEmojiImprecise(D)?S+2:S+1}static visibleColumnFromColumn(D,S,m){const _=Math.min(S-1,D.length),v=D.substring(0,_),C=new L.GraphemeIterator(v);let s=0;for(;!C.eol();){const i=L.getNextCodePoint(v,_,C.offset);C.nextGraphemeLength(),s=this._nextVisibleColumn(i,s,m)}return s}static columnFromVisibleColumn(D,S,m){if(S<=0)return 1;const _=D.length,v=new L.GraphemeIterator(D);let C=0,s=1;for(;!v.eol();){const i=L.getNextCodePoint(D,_,v.offset);v.nextGraphemeLength();const n=this._nextVisibleColumn(i,C,m),t=v.offset+1;if(n>=S){const r=S-C;return n-S<r?t:s}C=n,s=t}return _+1}static nextRenderTabStop(D,S){return D+S-D%S}static nextIndentTabStop(D,S){return D+S-D%S}static prevRenderTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}static prevIndentTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}}e.CursorColumns=I}),define(te[122],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function L(I){let y=0,D=0,S=0,m=0;for(let _=0,v=I.length;_<v;_++){const C=I.charCodeAt(_);C===13?(y===0&&(D=_),y++,_+1<v&&I.charCodeAt(_+1)===10?(m|=2,_++):m|=3,S=_+1):C===10&&(m|=1,y===0&&(D=_),y++,S=_+1)}return y===0&&(D=I.length),[y,D,I.length-S,m]}e.countEOL=L}),define(te[201],ie([1,0,10,80]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function y(S,m,_){let v=0;for(let s=0;s<S.length;s++)S.charAt(s)==="	"?v=I.CursorColumns.nextIndentTabStop(v,m):v++;let C="";if(!_){const s=Math.floor(v/m);v=v%m;for(let i=0;i<s;i++)C+="	"}for(let s=0;s<v;s++)C+=" ";return C}function D(S,m,_){let v=L.firstNonWhitespaceIndex(S);return v===-1&&(v=S.length),y(S.substring(0,v),m,_)+S.substring(v)}e.normalizeIndentation=D}),define(te[81],ie([1,0,9]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRangeSet=e.OffsetRange=void 0;class I{static addRange(S,m){let _=0;for(;_<m.length&&m[_].endExclusive<S.start;)_++;let v=_;for(;v<m.length&&m[v].start<=S.endExclusive;)v++;if(_===v)m.splice(_,0,S);else{const C=Math.min(S.start,m[_].start),s=Math.max(S.endExclusive,m[v-1].endExclusive);m.splice(_,v-_,new I(C,s))}}static tryCreate(S,m){if(!(S>m))return new I(S,m)}static ofLength(S){return new I(0,S)}constructor(S,m){if(this.start=S,this.endExclusive=m,S>m)throw new L.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(S){return new I(this.start+S,this.endExclusive+S)}deltaStart(S){return new I(this.start+S,this.endExclusive)}deltaEnd(S){return new I(this.start,this.endExclusive+S)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(S){return this.start===S.start&&this.endExclusive===S.endExclusive}containsRange(S){return this.start<=S.start&&S.endExclusive<=this.endExclusive}contains(S){return this.start<=S&&S<this.endExclusive}join(S){return new I(Math.min(this.start,S.start),Math.max(this.endExclusive,S.endExclusive))}intersect(S){const m=Math.max(this.start,S.start),_=Math.min(this.endExclusive,S.endExclusive);if(m<=_)return new I(m,_)}slice(S){return S.slice(this.start,this.endExclusive)}clip(S){if(this.isEmpty)throw new L.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,S))}clipCyclic(S){if(this.isEmpty)throw new L.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return S<this.start?this.endExclusive-(this.start-S)%this.length:S>=this.endExclusive?this.start+(S-this.start)%this.length:S}forEach(S){for(let m=this.start;m<this.endExclusive;m++)S(m)}}e.OffsetRange=I;class y{constructor(){this._sortedRanges=[]}addRange(S){let m=0;for(;m<this._sortedRanges.length&&this._sortedRanges[m].endExclusive<S.start;)m++;let _=m;for(;_<this._sortedRanges.length&&this._sortedRanges[_].start<=S.endExclusive;)_++;if(m===_)this._sortedRanges.splice(m,0,S);else{const v=Math.min(S.start,this._sortedRanges[m].start),C=Math.max(S.endExclusive,this._sortedRanges[_-1].endExclusive);this._sortedRanges.splice(m,_-m,new I(v,C))}}toString(){return this._sortedRanges.map(S=>S.toString()).join(", ")}intersectsStrict(S){let m=0;for(;m<this._sortedRanges.length&&this._sortedRanges[m].endExclusive<=S.start;)m++;return m<this._sortedRanges.length&&this._sortedRanges[m].start<S.endExclusive}intersectWithRange(S){const m=new y;for(const _ of this._sortedRanges){const v=_.intersect(S);v&&m.addRange(v)}return m}intersectWithRangeLength(S){return this.intersectWithRange(S).length}get length(){return this._sortedRanges.reduce((S,m)=>S+m.length,0)}}e.OffsetRangeSet=y}),define(te[12],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class L{constructor(y,D){this.lineNumber=y,this.column=D}with(y=this.lineNumber,D=this.column){return y===this.lineNumber&&D===this.column?this:new L(y,D)}delta(y=0,D=0){return this.with(this.lineNumber+y,this.column+D)}equals(y){return L.equals(this,y)}static equals(y,D){return!y&&!D?!0:!!y&&!!D&&y.lineNumber===D.lineNumber&&y.column===D.column}isBefore(y){return L.isBefore(this,y)}static isBefore(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<D.column}isBeforeOrEqual(y){return L.isBeforeOrEqual(this,y)}static isBeforeOrEqual(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<=D.column}static compare(y,D){const S=y.lineNumber|0,m=D.lineNumber|0;if(S===m){const _=y.column|0,v=D.column|0;return _-v}return S-m}clone(){return new L(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(y){return new L(y.lineNumber,y.column)}static isIPosition(y){return y&&typeof y.lineNumber=="number"&&typeof y.column=="number"}}e.Position=L}),define(te[272],ie([1,0,12]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class I{constructor(D){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=D}emitKeyDown(D){var S;(S=this.onKeyDown)===null||S===void 0||S.call(this,D)}emitKeyUp(D){var S;(S=this.onKeyUp)===null||S===void 0||S.call(this,D)}emitContextMenu(D){var S;(S=this.onContextMenu)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseMove(D){var S;(S=this.onMouseMove)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseLeave(D){var S;(S=this.onMouseLeave)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDown(D){var S;(S=this.onMouseDown)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseUp(D){var S;(S=this.onMouseUp)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrag(D){var S;(S=this.onMouseDrag)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrop(D){var S;(S=this.onMouseDrop)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDropCanceled(){var D;(D=this.onMouseDropCanceled)===null||D===void 0||D.call(this)}emitMouseWheel(D){var S;(S=this.onMouseWheel)===null||S===void 0||S.call(this,D)}_convertViewToModelMouseEvent(D){return D.target?{event:D.event,target:this._convertViewToModelMouseTarget(D.target)}:D}_convertViewToModelMouseTarget(D){return I.convertViewToModelMouseTarget(D,this._coordinatesConverter)}static convertViewToModelMouseTarget(D,S){const m=Object.assign({},D);return m.position&&(m.position=S.convertViewPositionToModelPosition(m.position)),m.range&&(m.range=S.convertViewRangeToModelRange(m.range)),(m.type===5||m.type===8)&&(m.detail=this.convertViewToModelViewZoneData(m.detail,S)),m}static convertViewToModelViewZoneData(D,S){return{viewZoneId:D.viewZoneId,positionBefore:D.positionBefore?S.convertViewPositionToModelPosition(D.positionBefore):D.positionBefore,positionAfter:D.positionAfter?S.convertViewPositionToModelPosition(D.positionAfter):D.positionAfter,position:S.convertViewPositionToModelPosition(D.position),afterLineNumber:S.convertViewPositionToModelPosition(new L.Position(D.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=I}),define(te[5],ie([1,0,12]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class I{constructor(D,S,m,_){D>m||D===m&&S>_?(this.startLineNumber=m,this.startColumn=_,this.endLineNumber=D,this.endColumn=S):(this.startLineNumber=D,this.startColumn=S,this.endLineNumber=m,this.endColumn=_)}isEmpty(){return I.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return I.containsPosition(this,D)}static containsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<D.startColumn||S.lineNumber===D.endLineNumber&&S.column>D.endColumn)}static strictContainsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<=D.startColumn||S.lineNumber===D.endLineNumber&&S.column>=D.endColumn)}containsRange(D){return I.containsRange(this,D)}static containsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>D.endColumn)}strictContainsRange(D){return I.strictContainsRange(this,D)}static strictContainsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<=D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>=D.endColumn)}plusRange(D){return I.plusRange(this,D)}static plusRange(D,S){let m,_,v,C;return S.startLineNumber<D.startLineNumber?(m=S.startLineNumber,_=S.startColumn):S.startLineNumber===D.startLineNumber?(m=S.startLineNumber,_=Math.min(S.startColumn,D.startColumn)):(m=D.startLineNumber,_=D.startColumn),S.endLineNumber>D.endLineNumber?(v=S.endLineNumber,C=S.endColumn):S.endLineNumber===D.endLineNumber?(v=S.endLineNumber,C=Math.max(S.endColumn,D.endColumn)):(v=D.endLineNumber,C=D.endColumn),new I(m,_,v,C)}intersectRanges(D){return I.intersectRanges(this,D)}static intersectRanges(D,S){let m=D.startLineNumber,_=D.startColumn,v=D.endLineNumber,C=D.endColumn;const s=S.startLineNumber,i=S.startColumn,n=S.endLineNumber,t=S.endColumn;return m<s?(m=s,_=i):m===s&&(_=Math.max(_,i)),v>n?(v=n,C=t):v===n&&(C=Math.min(C,t)),m>v||m===v&&_>C?null:new I(m,_,v,C)}equalsRange(D){return I.equalsRange(this,D)}static equalsRange(D,S){return!D&&!S?!0:!!D&&!!S&&D.startLineNumber===S.startLineNumber&&D.startColumn===S.startColumn&&D.endLineNumber===S.endLineNumber&&D.endColumn===S.endColumn}getEndPosition(){return I.getEndPosition(this)}static getEndPosition(D){return new L.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return I.getStartPosition(this)}static getStartPosition(D){return new L.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,S){return new I(this.startLineNumber,this.startColumn,D,S)}setStartPosition(D,S){return new I(D,S,this.endLineNumber,this.endColumn)}collapseToStart(){return I.collapseToStart(this)}static collapseToStart(D){return new I(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return I.collapseToEnd(this)}static collapseToEnd(D){return new I(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new I(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,S=D){return new I(D.lineNumber,D.column,S.lineNumber,S.column)}static lift(D){return D?new I(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<D.startColumn)}static areIntersecting(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<=S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,S){if(D&&S){const v=D.startLineNumber|0,C=S.startLineNumber|0;if(v===C){const s=D.startColumn|0,i=S.startColumn|0;if(s===i){const n=D.endLineNumber|0,t=S.endLineNumber|0;if(n===t){const r=D.endColumn|0,u=S.endColumn|0;return r-u}return n-t}return s-i}return v-C}return(D?1:0)-(S?1:0)}static compareRangesUsingEnds(D,S){return D.endLineNumber===S.endLineNumber?D.endColumn===S.endColumn?D.startLineNumber===S.startLineNumber?D.startColumn-S.startColumn:D.startLineNumber-S.startLineNumber:D.endColumn-S.endColumn:D.endLineNumber-S.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=I}),define(te[273],ie([1,0,10,5]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class y{constructor(m,_,v,C,s){this.value=m,this.selectionStart=_,this.selectionEnd=v,this.selection=C,this.newlineCountBeforeSelection=s}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(m,_){const v=m.getValue(),C=m.getSelectionStart(),s=m.getSelectionEnd();let i;if(_){const n=v.substring(0,C),t=_.value.substring(0,_.selectionStart);n===t&&(i=_.newlineCountBeforeSelection)}return new y(v,C,s,null,i)}collapseSelection(){return this.selectionStart===this.value.length?this:new y(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(m,_,v){e._debugComposition&&console.log(`writeToTextArea ${m}: ${this.toString()}`),_.setValue(m,this.value),v&&_.setSelectionRange(m,this.selectionStart,this.selectionEnd)}deduceEditorPosition(m){var _,v,C,s,i,n,t,r;if(m<=this.selectionStart){const d=this.value.substring(m,this.selectionStart);return this._finishDeduceEditorPosition((v=(_=this.selection)===null||_===void 0?void 0:_.getStartPosition())!==null&&v!==void 0?v:null,d,-1)}if(m>=this.selectionEnd){const d=this.value.substring(this.selectionEnd,m);return this._finishDeduceEditorPosition((s=(C=this.selection)===null||C===void 0?void 0:C.getEndPosition())!==null&&s!==void 0?s:null,d,1)}const u=this.value.substring(this.selectionStart,m);if(u.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((n=(i=this.selection)===null||i===void 0?void 0:i.getStartPosition())!==null&&n!==void 0?n:null,u,1);const f=this.value.substring(m,this.selectionEnd);return this._finishDeduceEditorPosition((r=(t=this.selection)===null||t===void 0?void 0:t.getEndPosition())!==null&&r!==void 0?r:null,f,-1)}_finishDeduceEditorPosition(m,_,v){let C=0,s=-1;for(;(s=_.indexOf(`
`,s+1))!==-1;)C++;return[m,v*_.length,C]}static deduceInput(m,_,v){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${_.toString()}`));const C=Math.min(L.commonPrefixLength(m.value,_.value),m.selectionStart,_.selectionStart),s=Math.min(L.commonSuffixLength(m.value,_.value),m.value.length-m.selectionEnd,_.value.length-_.selectionEnd),i=m.value.substring(C,m.value.length-s),n=_.value.substring(C,_.value.length-s),t=m.selectionStart-C,r=m.selectionEnd-C,u=_.selectionStart-C,f=_.selectionEnd-C;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${i}>, selectionStart: ${t}, selectionEnd: ${r}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${u}, selectionEnd: ${f}`)),u===f){const l=m.selectionStart-C;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${l} chars`),{text:n,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}const d=r-t;return{text:n,replacePrevCharCnt:d,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(m,_){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${_.toString()}`)),m.value===_.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:_.selectionEnd-m.selectionEnd};const v=Math.min(L.commonPrefixLength(m.value,_.value),m.selectionEnd),C=Math.min(L.commonSuffixLength(m.value,_.value),m.value.length-m.selectionEnd),s=m.value.substring(v,m.value.length-C),i=_.value.substring(v,_.value.length-C),n=m.selectionStart-v,t=m.selectionEnd-v,r=_.selectionStart-v,u=_.selectionEnd-v;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${n}, selectionEnd: ${t}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${r}, selectionEnd: ${u}`)),{text:i,replacePrevCharCnt:t,replaceNextCharCnt:s.length-t,positionDelta:u-i.length}}}e.TextAreaState=y,y.EMPTY=new y("",0,0,null,void 0);class D{static _getPageOfLine(m,_){return Math.floor((m-1)/_)}static _getRangeForPage(m,_){const v=m*_,C=v+1,s=v+_;return new I.Range(C,1,s+1,1)}static fromEditorSelection(m,_,v,C){const i=D._getPageOfLine(_.startLineNumber,v),n=D._getRangeForPage(i,v),t=D._getPageOfLine(_.endLineNumber,v),r=D._getRangeForPage(t,v);let u=n.intersectRanges(new I.Range(1,1,_.startLineNumber,_.startColumn));if(C&&m.getValueLengthInRange(u,1)>500){const g=m.modifyPosition(u.getEndPosition(),-500);u=I.Range.fromPositions(g,u.getEndPosition())}const f=m.getValueInRange(u,1),d=m.getLineCount(),l=m.getLineMaxColumn(d);let o=r.intersectRanges(new I.Range(_.endLineNumber,_.endColumn,d,l));if(C&&m.getValueLengthInRange(o,1)>500){const g=m.modifyPosition(o.getStartPosition(),500);o=I.Range.fromPositions(o.getStartPosition(),g)}const c=m.getValueInRange(o,1);let a;if(i===t||i+1===t)a=m.getValueInRange(_,1);else{const g=n.intersectRanges(_),h=r.intersectRanges(_);a=m.getValueInRange(g,1)+String.fromCharCode(8230)+m.getValueInRange(h,1)}return C&&a.length>2*500&&(a=a.substring(0,500)+String.fromCharCode(8230)+a.substring(a.length-500,a.length)),new y(f+a+c,f.length,f.length+a.length,_,u.endLineNumber-u.startLineNumber)}}e.PagedScreenReaderStrategy=D}),define(te[487],ie([1,0,13,19,9,43,12,5]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class _{remove(){var n;(n=this.parent)===null||n===void 0||n.children.delete(this.id)}static findId(n,t){let r;typeof n=="string"?r=`${t.id}/${n}`:(r=`${t.id}/${n.name}`,t.children.get(r)!==void 0&&(r=`${t.id}/${n.name}_${n.range.startLineNumber}_${n.range.startColumn}`));let u=r;for(let f=0;t.children.get(u)!==void 0;f++)u=`${r}_${f}`;return u}static empty(n){return n.children.size===0}}e.TreeElement=_;class v extends _{constructor(n,t,r){super(),this.id=n,this.parent=t,this.symbol=r,this.children=new Map}}e.OutlineElement=v;class C extends _{constructor(n,t,r,u){super(),this.id=n,this.parent=t,this.label=r,this.order=u,this.children=new Map}}e.OutlineGroup=C;class s extends _{static create(n,t,r){const u=new I.CancellationTokenSource(r),f=new s(t.uri),d=n.ordered(t),l=d.map((c,a)=>{var g;const h=_.findId(`provider_${a}`,f),p=new C(h,f,(g=c.displayName)!==null&&g!==void 0?g:"Unknown Outline Provider",a);return Promise.resolve(c.provideDocumentSymbols(t,u.token)).then(b=>{for(const w of b||[])s._makeOutlineElement(w,p);return p},b=>((0,y.onUnexpectedExternalError)(b),p)).then(b=>{_.empty(b)?b.remove():f._groups.set(h,b)})}),o=n.onDidChange(()=>{const c=n.ordered(t);(0,L.equals)(c,d)||u.cancel()});return Promise.all(l).then(()=>u.token.isCancellationRequested&&!r.isCancellationRequested?s.create(n,t,r):f._compact()).finally(()=>{u.dispose(),o.dispose()})}static _makeOutlineElement(n,t){const r=_.findId(n,t),u=new v(r,t,n);if(n.children)for(const f of n.children)s._makeOutlineElement(f,u);t.children.set(u.id,u)}constructor(n){super(),this.uri=n,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let n=0;for(const[t,r]of this._groups)r.children.size===0?this._groups.delete(t):n+=1;if(n!==1)this.children=this._groups;else{const t=D.Iterable.first(this._groups.values());for(const[,r]of t.children)r.parent=this,this.children.set(r.id,r)}return this}getTopLevelSymbols(){const n=[];for(const t of this.children.values())t instanceof v?n.push(t.symbol):n.push(...D.Iterable.map(t.children.values(),r=>r.symbol));return n.sort((t,r)=>m.Range.compareRangesUsingStarts(t.range,r.range))}asListOfDocumentSymbols(){const n=this.getTopLevelSymbols(),t=[];return s._flattenDocumentSymbols(t,n,""),t.sort((r,u)=>S.Position.compare(m.Range.getStartPosition(r.range),m.Range.getStartPosition(u.range))||S.Position.compare(m.Range.getEndPosition(u.range),m.Range.getEndPosition(r.range)))}static _flattenDocumentSymbols(n,t,r){for(const u of t)n.push({kind:u.kind,tags:u.tags,name:u.name,detail:u.detail,containerName:u.containerName||r,range:u.range,selectionRange:u.selectionRange,children:void 0}),u.children&&s._flattenDocumentSymbols(n,u.children,u.name)}}e.OutlineModel=s}),define(te[71],ie([1,0,5]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class I{static insert(D,S){return{range:new L.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:S,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,S){return{range:D,text:S}}static replaceMove(D,S){return{range:D,text:S,forceMoveMarkers:!0}}}e.EditOperation=I}),define(te[488],ie([1,0,10,71,5]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(_,v){this._selection=_,this._cursors=v,this._selectionId=null}getEditOperations(_,v){const C=S(_,this._cursors);for(let s=0,i=C.length;s<i;s++){const n=C[s];v.addEditOperation(n.range,n.text)}this._selectionId=v.trackSelection(this._selection)}computeCursorState(_,v){return v.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function S(m,_){_.sort((n,t)=>n.lineNumber===t.lineNumber?n.column-t.column:n.lineNumber-t.lineNumber);for(let n=_.length-2;n>=0;n--)_[n].lineNumber===_[n+1].lineNumber&&_.splice(n,1);const v=[];let C=0,s=0;const i=_.length;for(let n=1,t=m.getLineCount();n<=t;n++){const r=m.getLineContent(n),u=r.length+1;let f=0;if(s<i&&_[s].lineNumber===n&&(f=_[s].column,s++,f===u)||r.length===0)continue;const d=L.lastNonWhitespaceIndex(r);let l=0;if(d===-1)l=1;else if(d!==r.length-1)l=d+2;else continue;l=Math.max(f,l),v[C++]=I.EditOperation.delete(new y.Range(n,l,n,u))}return v}e.trimTrailingWhitespace=S}),define(te[64],ie([1,0,9,81,5,68]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeSet=e.LineRange=void 0;class S{static fromRange(v){return new S(v.startLineNumber,v.endLineNumber)}static joinMany(v){if(v.length===0)return[];let C=new m(v[0].slice());for(let s=1;s<v.length;s++)C=C.getUnion(new m(v[s].slice()));return C.ranges}static ofLength(v,C){return new S(v,v+C)}static deserialize(v){return new S(v[0],v[1])}constructor(v,C){if(v>C)throw new L.BugIndicatingError(`startLineNumber ${v} cannot be after endLineNumberExclusive ${C}`);this.startLineNumber=v,this.endLineNumberExclusive=C}contains(v){return this.startLineNumber<=v&&v<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(v){return new S(this.startLineNumber+v,this.endLineNumberExclusive+v)}deltaLength(v){return new S(this.startLineNumber,this.endLineNumberExclusive+v)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(v){return new S(Math.min(this.startLineNumber,v.startLineNumber),Math.max(this.endLineNumberExclusive,v.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(v){const C=Math.max(this.startLineNumber,v.startLineNumber),s=Math.min(this.endLineNumberExclusive,v.endLineNumberExclusive);if(C<=s)return new S(C,s)}intersectsStrict(v){return this.startLineNumber<v.endLineNumberExclusive&&v.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(v){return this.startLineNumber<=v.endLineNumberExclusive&&v.startLineNumber<=this.endLineNumberExclusive}equals(v){return this.startLineNumber===v.startLineNumber&&this.endLineNumberExclusive===v.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new y.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new y.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(v){const C=[];for(let s=this.startLineNumber;s<this.endLineNumberExclusive;s++)C.push(v(s));return C}forEach(v){for(let C=this.startLineNumber;C<this.endLineNumberExclusive;C++)v(C)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(v){return this.startLineNumber<=v&&v<this.endLineNumberExclusive}toOffsetRange(){return new I.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}e.LineRange=S;class m{constructor(v=[]){this._normalizedRanges=v}get ranges(){return this._normalizedRanges}addRange(v){if(v.length===0)return;const C=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,i=>i.endLineNumberExclusive>=v.startLineNumber),s=(0,D.findLastIdxMonotonous)(this._normalizedRanges,i=>i.startLineNumber<=v.endLineNumberExclusive)+1;if(C===s)this._normalizedRanges.splice(C,0,v);else if(C===s-1){const i=this._normalizedRanges[C];this._normalizedRanges[C]=i.join(v)}else{const i=this._normalizedRanges[C].join(this._normalizedRanges[s-1]).join(v);this._normalizedRanges.splice(C,s-C,i)}}contains(v){const C=(0,D.findLastMonotonous)(this._normalizedRanges,s=>s.startLineNumber<=v);return!!C&&C.endLineNumberExclusive>v}getUnion(v){if(this._normalizedRanges.length===0)return v;if(v._normalizedRanges.length===0)return this;const C=[];let s=0,i=0,n=null;for(;s<this._normalizedRanges.length||i<v._normalizedRanges.length;){let t=null;if(s<this._normalizedRanges.length&&i<v._normalizedRanges.length){const r=this._normalizedRanges[s],u=v._normalizedRanges[i];r.startLineNumber<u.startLineNumber?(t=r,s++):(t=u,i++)}else s<this._normalizedRanges.length?(t=this._normalizedRanges[s],s++):(t=v._normalizedRanges[i],i++);n===null?n=t:n.endLineNumberExclusive>=t.startLineNumber?n=new S(n.startLineNumber,Math.max(n.endLineNumberExclusive,t.endLineNumberExclusive)):(C.push(n),n=t)}return n!==null&&C.push(n),new m(C)}subtractFrom(v){const C=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,t=>t.endLineNumberExclusive>=v.startLineNumber),s=(0,D.findLastIdxMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=v.endLineNumberExclusive)+1;if(C===s)return new m([v]);const i=[];let n=v.startLineNumber;for(let t=C;t<s;t++){const r=this._normalizedRanges[t];r.startLineNumber>n&&i.push(new S(n,r.startLineNumber)),n=r.endLineNumberExclusive}return n<v.endLineNumberExclusive&&i.push(new S(n,v.endLineNumberExclusive)),new m(i)}toString(){return this._normalizedRanges.map(v=>v.toString()).join(", ")}getIntersection(v){const C=[];let s=0,i=0;for(;s<this._normalizedRanges.length&&i<v._normalizedRanges.length;){const n=this._normalizedRanges[s],t=v._normalizedRanges[i],r=n.intersect(t);r&&!r.isEmpty&&C.push(r),n.endLineNumberExclusive<t.endLineNumberExclusive?s++:i++}return new m(C)}getWithDelta(v){return new m(this._normalizedRanges.map(C=>C.delta(v)))}}e.LineRangeSet=m}),define(te[274],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class L{constructor(y,D,S,m){this._rgba8Brand=void 0,this.r=L._clamp(y),this.g=L._clamp(D),this.b=L._clamp(S),this.a=L._clamp(m)}equals(y){return this.r===y.r&&this.g===y.g&&this.b===y.b&&this.a===y.a}static _clamp(y){return y<0?0:y>255?255:y|0}}e.RGBA8=L,L.Empty=new L(0,0,0,0)}),define(te[24],ie([1,0,12,5]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class y extends I.Range{constructor(S,m,_,v){super(S,m,_,v),this.selectionStartLineNumber=S,this.selectionStartColumn=m,this.positionLineNumber=_,this.positionColumn=v}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return y.selectionsEqual(this,S)}static selectionsEqual(S,m){return S.selectionStartLineNumber===m.selectionStartLineNumber&&S.selectionStartColumn===m.selectionStartColumn&&S.positionLineNumber===m.positionLineNumber&&S.positionColumn===m.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,m){return this.getDirection()===0?new y(this.startLineNumber,this.startColumn,S,m):new y(S,m,this.startLineNumber,this.startColumn)}getPosition(){return new L.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new L.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(S,m){return this.getDirection()===0?new y(S,m,this.endLineNumber,this.endColumn):new y(this.endLineNumber,this.endColumn,S,m)}static fromPositions(S,m=S){return new y(S.lineNumber,S.column,m.lineNumber,m.column)}static fromRange(S,m){return m===0?new y(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new y(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}static liftSelection(S){return new y(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,m){if(S&&!m||!S&&m)return!1;if(!S&&!m)return!0;if(S.length!==m.length)return!1;for(let _=0,v=S.length;_<v;_++)if(!this.selectionsEqual(S[_],m[_]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,m,_,v,C){return C===0?new y(S,m,_,v):new y(_,v,S,m)}}e.Selection=y}),define(te[123],ie([1,0,24]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class I{constructor(v,C,s=!1){this._range=v,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,C){const i=C.getInverseEditOperations()[0].range;return L.Selection.fromPositions(i.getEndPosition())}}e.ReplaceCommand=I;class y{constructor(v,C){this._range=v,this._text=C}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,C){const i=C.getInverseEditOperations()[0].range;return L.Selection.fromRange(i,0)}}e.ReplaceCommandThatSelectsText=y;class D{constructor(v,C,s=!1){this._range=v,this._text=C,this.insertsAutoWhitespace=s}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,C){const i=C.getInverseEditOperations()[0].range;return L.Selection.fromPositions(i.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class S{constructor(v,C,s,i,n=!1){this._range=v,this._text=C,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=s,this.insertsAutoWhitespace=n}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,C){const i=C.getInverseEditOperations()[0].range;return L.Selection.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=S;class m{constructor(v,C,s,i=!1){this._range=v,this._text=C,this._initialSelection=s,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(v,C){C.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=C.trackSelection(this._initialSelection)}computeCursorState(v,C){return C.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=m}),define(te[489],ie([1,0,5,24]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class y{constructor(m,_,v){this._range=m,this._charBeforeSelection=_,this._charAfterSelection=v}getEditOperations(m,_){_.addTrackedEditOperation(new L.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),_.addTrackedEditOperation(new L.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(m,_){const v=_.getInverseEditOperations(),C=v[0].range,s=v[1].range;return new I.Selection(C.endLineNumber,C.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=y;class D{constructor(m,_,v){this._position=m,this._text=_,this._charAfter=v}getEditOperations(m,_){_.addTrackedEditOperation(new L.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(m,_){const C=_.getInverseEditOperations()[0].range;return new I.Selection(C.endLineNumber,C.startColumn,C.endLineNumber,C.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(te[173],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(te[144],ie([1,0,121]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class I extends L.CharacterClassifier{constructor(S){super(0);for(let m=0,_=S.length;m<_;m++)this.set(S.charCodeAt(m),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=I;function y(D){const S={};return m=>(S.hasOwnProperty(m)||(S[m]=D(m)),S[m])}e.getMapForWordSeparators=y(D=>new I(D))}),define(te[145],ie([1,0,43,63]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function y(v=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const s of e.USUAL_WORD_SEPARATORS)v.indexOf(s)>=0||(C+="\\"+s);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=y();function D(v){let C=e.DEFAULT_WORD_REGEXP;if(v&&v instanceof RegExp)if(v.global)C=v;else{let s="g";v.ignoreCase&&(s+="i"),v.multiline&&(s+="m"),v.unicode&&(s+="u"),C=new RegExp(v.source,s)}return C.lastIndex=0,C}e.ensureValidWordDefinition=D;const S=new I.LinkedList;S.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function m(v,C,s,i,n){if(n||(n=L.Iterable.first(S)),s.length>n.maxLen){let d=v-n.maxLen/2;return d<0?d=0:i+=d,s=s.substring(d,v+n.maxLen/2),m(v,C,s,i,n)}const t=Date.now(),r=v-1-i;let u=-1,f=null;for(let d=1;!(Date.now()-t>=n.timeBudget);d++){const l=r-n.windowSize*d;C.lastIndex=Math.max(0,l);const o=_(C,s,r,u);if(!o&&f||(f=o,l<=0))break;u=l}if(f){const d={word:f[0],startColumn:i+1+f.index,endColumn:i+1+f.index+f[0].length};return C.lastIndex=0,d}return null}e.getWordAtText=m;function _(v,C,s,i){let n;for(;n=v.exec(C);){const t=n.index||0;if(t<=s&&v.lastIndex>=s)return n;if(i>0&&t>i)return null}return null}}),define(te[275],ie([1,0,80]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class I{static whitespaceVisibleColumn(D,S,m){const _=D.length;let v=0,C=-1,s=-1;for(let i=0;i<_;i++){if(i===S)return[C,s,v];switch(v%m===0&&(C=i,s=v),D.charCodeAt(i)){case 32:v+=1;break;case 9:v=L.CursorColumns.nextRenderTabStop(v,m);break;default:return[-1,-1,-1]}}return S===_?[C,s,v]:[-1,-1,-1]}static atomicPosition(D,S,m,_){const v=D.length,[C,s,i]=I.whitespaceVisibleColumn(D,S,m);if(i===-1)return-1;let n;switch(_){case 0:n=!0;break;case 1:n=!1;break;case 2:if(i%m===0)return S;n=i%m<=m/2;break}if(n){if(C===-1)return-1;let u=s;for(let f=C;f<v;++f){if(u===s+m)return C;switch(D.charCodeAt(f)){case 32:u+=1;break;case 9:u=L.CursorColumns.nextRenderTabStop(u,m);break;default:return-1}}return u===s+m?C:-1}const t=L.CursorColumns.nextRenderTabStop(i,m);let r=i;for(let u=S;u<v;u++){if(r===t)return u;switch(D.charCodeAt(u)){case 32:r+=1;break;case 9:r=L.CursorColumns.nextRenderTabStop(r,m);break;default:return-1}}return r===t?v:-1}}e.AtomicTabMoveOperations=I}),define(te[490],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class L{constructor(y,D,S,m){this._cursorContextBrand=void 0,this.model=y,this.viewModel=D,this.coordinatesConverter=S,this.cursorConfig=m}}e.CursorContext=L}),define(te[146],ie([1,0,13,9,81]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.OffsetPair=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class D{static trivial(s,i){return new D([new S(y.OffsetRange.ofLength(s.length),y.OffsetRange.ofLength(i.length))],!1)}static trivialTimedOut(s,i){return new D([new S(y.OffsetRange.ofLength(s.length),y.OffsetRange.ofLength(i.length))],!0)}constructor(s,i){this.diffs=s,this.hitTimeout=i}}e.DiffAlgorithmResult=D;class S{static invert(s,i){const n=[];return(0,L.forEachAdjacent)(s,(t,r)=>{n.push(S.fromOffsetPairs(t?t.getEndExclusives():m.zero,r?r.getStarts():new m(i,(t?t.seq2Range.endExclusive-t.seq1Range.endExclusive:0)+i)))}),n}static fromOffsetPairs(s,i){return new S(new y.OffsetRange(s.offset1,i.offset1),new y.OffsetRange(s.offset2,i.offset2))}constructor(s,i){this.seq1Range=s,this.seq2Range=i}swap(){return new S(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(s){return new S(this.seq1Range.join(s.seq1Range),this.seq2Range.join(s.seq2Range))}delta(s){return s===0?this:new S(this.seq1Range.delta(s),this.seq2Range.delta(s))}deltaStart(s){return s===0?this:new S(this.seq1Range.deltaStart(s),this.seq2Range.deltaStart(s))}deltaEnd(s){return s===0?this:new S(this.seq1Range.deltaEnd(s),this.seq2Range.deltaEnd(s))}intersect(s){const i=this.seq1Range.intersect(s.seq1Range),n=this.seq2Range.intersect(s.seq2Range);if(!(!i||!n))return new S(i,n)}getStarts(){return new m(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new m(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}e.SequenceDiff=S;class m{constructor(s,i){this.offset1=s,this.offset2=i}toString(){return`${this.offset1} <-> ${this.offset2}`}}e.OffsetPair=m,m.zero=new m(0,0),m.max=new m(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class _{isValid(){return!0}}e.InfiniteTimeout=_,_.instance=new _;class v{constructor(s){if(this.timeout=s,this.startTime=Date.now(),this.valid=!0,s<=0)throw new I.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=v}),define(te[276],ie([1,0,81,146]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class y{compute(v,C,s=I.InfiniteTimeout.instance){if(v.length===0||C.length===0)return I.DiffAlgorithmResult.trivial(v,C);const i=v,n=C;function t(g,h){for(;g<i.length&&h<n.length&&i.getElement(g)===n.getElement(h);)g++,h++;return g}let r=0;const u=new S;u.set(0,t(0,0));const f=new m;f.set(0,u.get(0)===0?null:new D(null,0,0,u.get(0)));let d=0;e:for(;;){if(r++,!s.isValid())return I.DiffAlgorithmResult.trivialTimedOut(i,n);const g=-Math.min(r,n.length+r%2),h=Math.min(r,i.length+r%2);for(d=g;d<=h;d+=2){let p=0;const b=d===h?-1:u.get(d+1),w=d===g?-1:u.get(d-1)+1;p++;const E=Math.min(Math.max(b,w),i.length),k=E-d;if(p++,E>i.length||k>n.length)continue;const M=t(E,k);u.set(d,M);const R=E===b?f.get(d+1):f.get(d-1);if(f.set(d,M!==E?new D(R,E,k,M-E):R),u.get(d)===i.length&&u.get(d)-d===n.length)break e}}let l=f.get(d);const o=[];let c=i.length,a=n.length;for(;;){const g=l?l.x+l.length:0,h=l?l.y+l.length:0;if((g!==c||h!==a)&&o.push(new I.SequenceDiff(new L.OffsetRange(g,c),new L.OffsetRange(h,a))),!l)break;c=l.x,a=l.y,l=l.prev}return o.reverse(),new I.DiffAlgorithmResult(o,!1)}}e.MyersDiffAlgorithm=y;class D{constructor(v,C,s,i){this.prev=v,this.x=C,this.y=s,this.length=i}}class S{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(v){return v<0?(v=-v-1,this.negativeArr[v]):this.positiveArr[v]}set(v,C){if(v<0){if(v=-v-1,v>=this.negativeArr.length){const s=this.negativeArr;this.negativeArr=new Int32Array(s.length*2),this.negativeArr.set(s)}this.negativeArr[v]=C}else{if(v>=this.positiveArr.length){const s=this.positiveArr;this.positiveArr=new Int32Array(s.length*2),this.positiveArr.set(s)}this.positiveArr[v]=C}}}class m{constructor(){this.positiveArr=[],this.negativeArr=[]}get(v){return v<0?(v=-v-1,this.negativeArr[v]):this.positiveArr[v]}set(v,C){v<0?(v=-v-1,this.negativeArr[v]=C):this.positiveArr[v]=C}}}),define(te[277],ie([1,0,13,81,146]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeVeryShortMatchingTextBetweenLongDiffs=e.removeVeryShortMatchingLinesBetweenDiffs=e.extendDiffsToEntireWordIfAppropriate=e.removeShortMatches=e.optimizeSequenceDiffs=void 0;function D(t,r,u){let f=u;return f=S(t,r,f),f=m(t,r,f),f}e.optimizeSequenceDiffs=D;function S(t,r,u){if(u.length===0)return u;const f=[];f.push(u[0]);for(let l=1;l<u.length;l++){const o=f[f.length-1];let c=u[l];if(c.seq1Range.isEmpty||c.seq2Range.isEmpty){const a=c.seq1Range.start-o.seq1Range.endExclusive;let g;for(g=1;g<=a&&!(t.getElement(c.seq1Range.start-g)!==t.getElement(c.seq1Range.endExclusive-g)||r.getElement(c.seq2Range.start-g)!==r.getElement(c.seq2Range.endExclusive-g));g++);if(g--,g===a){f[f.length-1]=new y.SequenceDiff(new I.OffsetRange(o.seq1Range.start,c.seq1Range.endExclusive-a),new I.OffsetRange(o.seq2Range.start,c.seq2Range.endExclusive-a));continue}c=c.delta(-g)}f.push(c)}const d=[];for(let l=0;l<f.length-1;l++){const o=f[l+1];let c=f[l];if(c.seq1Range.isEmpty||c.seq2Range.isEmpty){const a=o.seq1Range.start-c.seq1Range.endExclusive;let g;for(g=0;g<a&&!(!t.isStronglyEqual(c.seq1Range.start+g,c.seq1Range.endExclusive+g)||!r.isStronglyEqual(c.seq2Range.start+g,c.seq2Range.endExclusive+g));g++);if(g===a){f[l+1]=new y.SequenceDiff(new I.OffsetRange(c.seq1Range.start+a,o.seq1Range.endExclusive),new I.OffsetRange(c.seq2Range.start+a,o.seq2Range.endExclusive));continue}g>0&&(c=c.delta(g))}d.push(c)}return f.length>0&&d.push(f[f.length-1]),d}function m(t,r,u){if(!t.getBoundaryScore||!r.getBoundaryScore)return u;for(let f=0;f<u.length;f++){const d=f>0?u[f-1]:void 0,l=u[f],o=f+1<u.length?u[f+1]:void 0,c=new I.OffsetRange(d?d.seq1Range.start+1:0,o?o.seq1Range.endExclusive-1:t.length),a=new I.OffsetRange(d?d.seq2Range.start+1:0,o?o.seq2Range.endExclusive-1:r.length);l.seq1Range.isEmpty?u[f]=_(l,t,r,c,a):l.seq2Range.isEmpty&&(u[f]=_(l.swap(),r,t,a,c).swap())}return u}function _(t,r,u,f,d){let o=1;for(;t.seq1Range.start-o>=f.start&&t.seq2Range.start-o>=d.start&&u.isStronglyEqual(t.seq2Range.start-o,t.seq2Range.endExclusive-o)&&o<100;)o++;o--;let c=0;for(;t.seq1Range.start+c<f.endExclusive&&t.seq2Range.endExclusive+c<d.endExclusive&&u.isStronglyEqual(t.seq2Range.start+c,t.seq2Range.endExclusive+c)&&c<100;)c++;if(o===0&&c===0)return t;let a=0,g=-1;for(let h=-o;h<=c;h++){const p=t.seq2Range.start+h,b=t.seq2Range.endExclusive+h,w=t.seq1Range.start+h,E=r.getBoundaryScore(w)+u.getBoundaryScore(p)+u.getBoundaryScore(b);E>g&&(g=E,a=h)}return t.delta(a)}function v(t,r,u){const f=[];for(const d of u){const l=f[f.length-1];if(!l){f.push(d);continue}d.seq1Range.start-l.seq1Range.endExclusive<=2||d.seq2Range.start-l.seq2Range.endExclusive<=2?f[f.length-1]=new y.SequenceDiff(l.seq1Range.join(d.seq1Range),l.seq2Range.join(d.seq2Range)):f.push(d)}return f}e.removeShortMatches=v;function C(t,r,u){const f=[];let d;function l(){if(!d)return;const c=d.s1Range.length-d.deleted,a=d.s2Range.length-d.added;Math.max(d.deleted,d.added)+(d.count-1)>c&&f.push(new y.SequenceDiff(d.s1Range,d.s2Range)),d=void 0}for(const c of u){let a=function(w,E){var k,M,R,B;if(!d||!d.s1Range.containsRange(w)||!d.s2Range.containsRange(E))if(d&&!(d.s1Range.endExclusive<w.start&&d.s2Range.endExclusive<E.start)){const A=I.OffsetRange.tryCreate(d.s1Range.endExclusive,w.start),P=I.OffsetRange.tryCreate(d.s2Range.endExclusive,E.start);d.deleted+=(k=A?.length)!==null&&k!==void 0?k:0,d.added+=(M=P?.length)!==null&&M!==void 0?M:0,d.s1Range=d.s1Range.join(w),d.s2Range=d.s2Range.join(E)}else l(),d={added:0,deleted:0,count:0,s1Range:w,s2Range:E};const T=w.intersect(c.seq1Range),N=E.intersect(c.seq2Range);d.count++,d.deleted+=(R=T?.length)!==null&&R!==void 0?R:0,d.added+=(B=N?.length)!==null&&B!==void 0?B:0};const g=t.findWordContaining(c.seq1Range.start-1),h=r.findWordContaining(c.seq2Range.start-1),p=t.findWordContaining(c.seq1Range.endExclusive),b=r.findWordContaining(c.seq2Range.endExclusive);g&&p&&h&&b&&g.equals(p)&&h.equals(b)?a(g,h):(g&&h&&a(g,h),p&&b&&a(p,b))}return l(),s(u,f)}e.extendDiffsToEntireWordIfAppropriate=C;function s(t,r){const u=[];for(;t.length>0||r.length>0;){const f=t[0],d=r[0];let l;f&&(!d||f.seq1Range.start<d.seq1Range.start)?l=t.shift():l=r.shift(),u.length>0&&u[u.length-1].seq1Range.endExclusive>=l.seq1Range.start?u[u.length-1]=u[u.length-1].join(l):u.push(l)}return u}function i(t,r,u){let f=u;if(f.length===0)return f;let d=0,l;do{l=!1;const o=[f[0]];for(let c=1;c<f.length;c++){let h=function(b,w){const E=new I.OffsetRange(g.seq1Range.endExclusive,a.seq1Range.start);return t.getText(E).replace(/\s/g,"").length<=4&&(b.seq1Range.length+b.seq2Range.length>5||w.seq1Range.length+w.seq2Range.length>5)};const a=f[c],g=o[o.length-1];h(g,a)?(l=!0,o[o.length-1]=o[o.length-1].join(a)):o.push(a)}f=o}while(d++<10&&l);return f}e.removeVeryShortMatchingLinesBetweenDiffs=i;function n(t,r,u){let f=u;if(f.length===0)return f;let d=0,l;do{l=!1;const c=[f[0]];for(let a=1;a<f.length;a++){let p=function(w,E){const k=new I.OffsetRange(h.seq1Range.endExclusive,g.seq1Range.start);if(t.countLinesIn(k)>5||k.length>500)return!1;const R=t.getText(k).trim();if(R.length>20||R.split(/\r\n|\r|\n/).length>1)return!1;const B=t.countLinesIn(w.seq1Range),T=w.seq1Range.length,N=r.countLinesIn(w.seq2Range),A=w.seq2Range.length,P=t.countLinesIn(E.seq1Range),O=E.seq1Range.length,x=r.countLinesIn(E.seq2Range),W=E.seq2Range.length,U=2*40+50;function F(G){return Math.min(G,U)}return Math.pow(Math.pow(F(B*40+T),1.5)+Math.pow(F(N*40+A),1.5),1.5)+Math.pow(Math.pow(F(P*40+O),1.5)+Math.pow(F(x*40+W),1.5),1.5)>Math.pow(Math.pow(U,1.5),1.5)*1.3};const g=f[a],h=c[c.length-1];p(h,g)?(l=!0,c[c.length-1]=c[c.length-1].join(g)):c.push(g)}f=c}while(d++<10&&l);const o=[];return(0,L.forEachWithNeighbors)(f,(c,a,g)=>{let h=a;function p(R){return R.length>0&&R.trim().length<=3&&a.seq1Range.length+a.seq2Range.length>100}const b=t.extendToFullLines(a.seq1Range),w=t.getText(new I.OffsetRange(b.start,a.seq1Range.start));p(w)&&(h=h.deltaStart(-w.length));const E=t.getText(new I.OffsetRange(a.seq1Range.endExclusive,b.endExclusive));p(E)&&(h=h.deltaEnd(E.length));const k=y.SequenceDiff.fromOffsetPairs(c?c.getEndExclusives():y.OffsetPair.zero,g?g.getStarts():y.OffsetPair.max),M=h.intersect(k);o.push(M)}),o}e.removeVeryShortMatchingTextBetweenLongDiffs=n}),define(te[491],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=void 0;class L{constructor(D,S){this.trimmedHash=D,this.lines=S}getElement(D){return this.trimmedHash[D]}get length(){return this.trimmedHash.length}getBoundaryScore(D){const S=D===0?0:I(this.lines[D-1]),m=D===this.lines.length?0:I(this.lines[D]);return 1e3-(S+m)}getText(D){return this.lines.slice(D.start,D.endExclusive).join(`
`)}isStronglyEqual(D,S){return this.lines[D]===this.lines[S]}}e.LineSequence=L;function I(y){let D=0;for(;D<y.length&&(y.charCodeAt(D)===32||y.charCodeAt(D)===9);)D++;return D}}),define(te[202],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeFragment=e.isSpace=e.Array2D=void 0;class L{constructor(S,m){this.width=S,this.height=m,this.array=[],this.array=new Array(S*m)}get(S,m){return this.array[S+m*this.width]}set(S,m,_){this.array[S+m*this.width]=_}}e.Array2D=L;function I(D){return D===32||D===9}e.isSpace=I;class y{static getKey(S){let m=this.chrKeys.get(S);return m===void 0&&(m=this.chrKeys.size,this.chrKeys.set(S,m)),m}constructor(S,m,_){this.range=S,this.lines=m,this.source=_,this.histogram=[];let v=0;for(let C=S.startLineNumber-1;C<S.endLineNumberExclusive-1;C++){const s=m[C];for(let n=0;n<s.length;n++){v++;const t=s[n],r=y.getKey(t);this.histogram[r]=(this.histogram[r]||0)+1}v++;const i=y.getKey(`
`);this.histogram[i]=(this.histogram[i]||0)+1}this.totalCount=v}computeSimilarity(S){var m,_;let v=0;const C=Math.max(this.histogram.length,S.histogram.length);for(let s=0;s<C;s++)v+=Math.abs(((m=this.histogram[s])!==null&&m!==void 0?m:0)-((_=S.histogram[s])!==null&&_!==void 0?_:0));return 1-v/(this.totalCount+S.totalCount)}}e.LineRangeFragment=y,y.chrKeys=new Map}),define(te[492],ie([1,0,81,146,202]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class D{compute(m,_,v=I.InfiniteTimeout.instance,C){if(m.length===0||_.length===0)return I.DiffAlgorithmResult.trivial(m,_);const s=new y.Array2D(m.length,_.length),i=new y.Array2D(m.length,_.length),n=new y.Array2D(m.length,_.length);for(let o=0;o<m.length;o++)for(let c=0;c<_.length;c++){if(!v.isValid())return I.DiffAlgorithmResult.trivialTimedOut(m,_);const a=o===0?0:s.get(o-1,c),g=c===0?0:s.get(o,c-1);let h;m.getElement(o)===_.getElement(c)?(o===0||c===0?h=0:h=s.get(o-1,c-1),o>0&&c>0&&i.get(o-1,c-1)===3&&(h+=n.get(o-1,c-1)),h+=C?C(o,c):1):h=-1;const p=Math.max(a,g,h);if(p===h){const b=o>0&&c>0?n.get(o-1,c-1):0;n.set(o,c,b+1),i.set(o,c,3)}else p===a?(n.set(o,c,0),i.set(o,c,1)):p===g&&(n.set(o,c,0),i.set(o,c,2));s.set(o,c,p)}const t=[];let r=m.length,u=_.length;function f(o,c){(o+1!==r||c+1!==u)&&t.push(new I.SequenceDiff(new L.OffsetRange(o+1,r),new L.OffsetRange(c+1,u))),r=o,u=c}let d=m.length-1,l=_.length-1;for(;d>=0&&l>=0;)i.get(d,l)===3?(f(d,l),d--,l--):i.get(d,l)===1?d--:l--;return f(-1,-1),t.reverse(),new I.DiffAlgorithmResult(t,!1)}}e.DynamicProgrammingDiffing=D}),define(te[278],ie([1,0,68,81,12,5,202]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesSliceCharSequence=void 0;class m{constructor(n,t,r){this.lines=n,this.considerWhitespaceChanges=r,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let u=!1;t.start>0&&t.endExclusive>=n.length&&(t=new I.OffsetRange(t.start-1,t.endExclusive),u=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let f=this.lineRange.start;f<this.lineRange.endExclusive;f++){let d=n[f],l=0;if(u)l=d.length,d="",u=!1;else if(!r){const o=d.trimStart();l=d.length-o.length,d=o.trimEnd()}this.additionalOffsetByLine.push(l);for(let o=0;o<d.length;o++)this.elements.push(d.charCodeAt(o));f<n.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLine[f-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new I.OffsetRange(0,this.length))}getText(n){return this.elements.slice(n.start,n.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(n){return this.elements[n]}get length(){return this.elements.length}getBoundaryScore(n){const t=s(n>0?this.elements[n-1]:-1),r=s(n<this.elements.length?this.elements[n]:-1);if(t===6&&r===7)return 0;let u=0;return t!==r&&(u+=10,t===0&&r===1&&(u+=1)),u+=C(t),u+=C(r),u}translateOffset(n){if(this.lineRange.isEmpty)return new y.Position(this.lineRange.start+1,1);const t=(0,L.findLastIdxMonotonous)(this.firstCharOffsetByLine,r=>r<=n);return new y.Position(this.lineRange.start+t+1,n-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(n){return D.Range.fromPositions(this.translateOffset(n.start),this.translateOffset(n.endExclusive))}findWordContaining(n){if(n<0||n>=this.elements.length||!_(this.elements[n]))return;let t=n;for(;t>0&&_(this.elements[t-1]);)t--;let r=n;for(;r<this.elements.length&&_(this.elements[r]);)r++;return new I.OffsetRange(t,r)}countLinesIn(n){return this.translateOffset(n.endExclusive).lineNumber-this.translateOffset(n.start).lineNumber}isStronglyEqual(n,t){return this.elements[n]===this.elements[t]}extendToFullLines(n){var t,r;const u=(t=(0,L.findLastMonotonous)(this.firstCharOffsetByLine,d=>d<=n.start))!==null&&t!==void 0?t:0,f=(r=(0,L.findFirstMonotonous)(this.firstCharOffsetByLine,d=>n.endExclusive<=d))!==null&&r!==void 0?r:this.elements.length;return new I.OffsetRange(u,f)}}e.LinesSliceCharSequence=m;function _(i){return i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57}const v={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function C(i){return v[i]}function s(i){return i===10?7:i===13?6:(0,S.isSpace)(i)?5:i>=97&&i<=122?0:i>=65&&i<=90?1:i>=48&&i<=57?2:i===-1?3:4}}),define(te[203],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.LinesDiff=void 0;class L{constructor(D,S,m){this.changes=D,this.moves=S,this.hitTimeout=m}}e.LinesDiff=L;class I{constructor(D,S){this.lineRangeMapping=D,this.changes=S}}e.MovedText=I}),define(te[108],ie([1,0,64]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMapping=e.DetailedLineRangeMapping=e.LineRangeMapping=void 0;class I{static inverse(m,_,v){const C=[];let s=1,i=1;for(const t of m){const r=new y(new L.LineRange(s,t.original.startLineNumber),new L.LineRange(i,t.modified.startLineNumber),void 0);r.modified.isEmpty||C.push(r),s=t.original.endLineNumberExclusive,i=t.modified.endLineNumberExclusive}const n=new y(new L.LineRange(s,_+1),new L.LineRange(i,v+1),void 0);return n.modified.isEmpty||C.push(n),C}constructor(m,_){this.original=m,this.modified=_}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new I(this.modified,this.original)}join(m){return new I(this.original.join(m.original),this.modified.join(m.modified))}}e.LineRangeMapping=I;class y extends I{constructor(m,_,v){super(m,_),this.innerChanges=v}flip(){var m;return new y(this.modified,this.original,(m=this.innerChanges)===null||m===void 0?void 0:m.map(_=>_.flip()))}}e.DetailedLineRangeMapping=y;class D{constructor(m,_){this.originalRange=m,this.modifiedRange=_}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new D(this.modifiedRange,this.originalRange)}}e.RangeMapping=D}),define(te[493],ie([1,0,146,108,13,68,56,64,81,278,202,276]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeMovedLines=void 0;function i(d,l,o,c,a,g){let{moves:h,excludedChanges:p}=n(d,l,o,g);if(!g.isValid())return[];const b=d.filter(E=>!p.has(E)),w=t(b,c,a,l,o,g);return(0,y.pushMany)(h,w),h=u(h),h=h.filter(E=>E.original.toOffsetRange().slice(l).map(M=>M.trim()).join(`
`).length>=10),h=f(d,h),h}e.computeMovedLines=i;function n(d,l,o,c){const a=[],g=d.filter(b=>b.modified.isEmpty&&b.original.length>=3).map(b=>new C.LineRangeFragment(b.original,l,b)),h=new Set(d.filter(b=>b.original.isEmpty&&b.modified.length>=3).map(b=>new C.LineRangeFragment(b.modified,o,b))),p=new Set;for(const b of g){let w=-1,E;for(const k of h){const M=b.computeSimilarity(k);M>w&&(w=M,E=k)}if(w>.9&&E&&(h.delete(E),a.push(new I.LineRangeMapping(b.range,E.range)),p.add(b.source),p.add(E.source)),!c.isValid())return{moves:a,excludedChanges:p}}return{moves:a,excludedChanges:p}}function t(d,l,o,c,a,g){const h=[],p=new S.SetMap;for(const M of d)for(let R=M.original.startLineNumber;R<M.original.endLineNumberExclusive-2;R++){const B=`${l[R-1]}:${l[R+1-1]}:${l[R+2-1]}`;p.add(B,{range:new m.LineRange(R,R+3)})}const b=[];d.sort((0,y.compareBy)(M=>M.modified.startLineNumber,y.numberComparator));for(const M of d){let R=[];for(let B=M.modified.startLineNumber;B<M.modified.endLineNumberExclusive-2;B++){const T=`${o[B-1]}:${o[B+1-1]}:${o[B+2-1]}`,N=new m.LineRange(B,B+3),A=[];p.forEach(T,({range:P})=>{for(const x of R)if(x.originalLineRange.endLineNumberExclusive+1===P.endLineNumberExclusive&&x.modifiedLineRange.endLineNumberExclusive+1===N.endLineNumberExclusive){x.originalLineRange=new m.LineRange(x.originalLineRange.startLineNumber,P.endLineNumberExclusive),x.modifiedLineRange=new m.LineRange(x.modifiedLineRange.startLineNumber,N.endLineNumberExclusive),A.push(x);return}const O={modifiedLineRange:N,originalLineRange:P};b.push(O),A.push(O)}),R=A}if(!g.isValid())return[]}b.sort((0,y.reverseOrder)((0,y.compareBy)(M=>M.modifiedLineRange.length,y.numberComparator)));const w=new m.LineRangeSet,E=new m.LineRangeSet;for(const M of b){const R=M.modifiedLineRange.startLineNumber-M.originalLineRange.startLineNumber,B=w.subtractFrom(M.modifiedLineRange),T=E.subtractFrom(M.originalLineRange).getWithDelta(R),N=B.getIntersection(T);for(const A of N.ranges){if(A.length<3)continue;const P=A,O=A.delta(-R);h.push(new I.LineRangeMapping(O,P)),w.addRange(P),E.addRange(O)}}h.sort((0,y.compareBy)(M=>M.original.startLineNumber,y.numberComparator));const k=new D.MonotonousArray(d);for(let M=0;M<h.length;M++){const R=h[M],B=k.findLastMonotonous(U=>U.original.startLineNumber<=R.original.startLineNumber),T=(0,D.findLastMonotonous)(d,U=>U.modified.startLineNumber<=R.modified.startLineNumber),N=Math.max(R.original.startLineNumber-B.original.startLineNumber,R.modified.startLineNumber-T.modified.startLineNumber),A=k.findLastMonotonous(U=>U.original.startLineNumber<R.original.endLineNumberExclusive),P=(0,D.findLastMonotonous)(d,U=>U.modified.startLineNumber<R.modified.endLineNumberExclusive),O=Math.max(A.original.endLineNumberExclusive-R.original.endLineNumberExclusive,P.modified.endLineNumberExclusive-R.modified.endLineNumberExclusive);let x;for(x=0;x<N;x++){const U=R.original.startLineNumber-x-1,F=R.modified.startLineNumber-x-1;if(U>c.length||F>a.length||w.contains(F)||E.contains(U)||!r(c[U-1],a[F-1],g))break}x>0&&(E.addRange(new m.LineRange(R.original.startLineNumber-x,R.original.startLineNumber)),w.addRange(new m.LineRange(R.modified.startLineNumber-x,R.modified.startLineNumber)));let W;for(W=0;W<O;W++){const U=R.original.endLineNumberExclusive+W,F=R.modified.endLineNumberExclusive+W;if(U>c.length||F>a.length||w.contains(F)||E.contains(U)||!r(c[U-1],a[F-1],g))break}W>0&&(E.addRange(new m.LineRange(R.original.endLineNumberExclusive,R.original.endLineNumberExclusive+W)),w.addRange(new m.LineRange(R.modified.endLineNumberExclusive,R.modified.endLineNumberExclusive+W))),(x>0||W>0)&&(h[M]=new I.LineRangeMapping(new m.LineRange(R.original.startLineNumber-x,R.original.endLineNumberExclusive+W),new m.LineRange(R.modified.startLineNumber-x,R.modified.endLineNumberExclusive+W)))}return h}function r(d,l,o){if(d.trim()===l.trim())return!0;if(d.length>300&&l.length>300)return!1;const a=new s.MyersDiffAlgorithm().compute(new v.LinesSliceCharSequence([d],new _.OffsetRange(0,1),!1),new v.LinesSliceCharSequence([l],new _.OffsetRange(0,1),!1),o);let g=0;const h=L.SequenceDiff.invert(a.diffs,d.length);for(const E of h)E.seq1Range.forEach(k=>{(0,C.isSpace)(d.charCodeAt(k))||g++});function p(E){let k=0;for(let M=0;M<d.length;M++)(0,C.isSpace)(E.charCodeAt(M))||k++;return k}const b=p(d.length>l.length?d:l);return g/b>.6&&b>10}function u(d){if(d.length===0)return d;d.sort((0,y.compareBy)(o=>o.original.startLineNumber,y.numberComparator));const l=[d[0]];for(let o=1;o<d.length;o++){const c=l[l.length-1],a=d[o],g=a.original.startLineNumber-c.original.endLineNumberExclusive,h=a.modified.startLineNumber-c.modified.endLineNumberExclusive;if(g>=0&&h>=0&&g+h<=2){l[l.length-1]=c.join(a);continue}l.push(a)}return l}function f(d,l){const o=new D.MonotonousArray(d);return l=l.filter(c=>{const a=o.findLastMonotonous(p=>p.original.endLineNumberExclusive<c.original.endLineNumberExclusive)||new I.LineRangeMapping(new m.LineRange(1,1),new m.LineRange(1,1)),g=(0,D.findLastMonotonous)(d,p=>p.modified.endLineNumberExclusive<c.modified.endLineNumberExclusive);return a!==g}),l}}),define(te[279],ie([1,0,13,96,64,81,5,146,492,276,493,277,203,108,278,491]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLineRangeMapping=e.lineRangeMappingFromRangeMappings=e.DefaultLinesDiffComputer=void 0;class u{constructor(){this.dynamicProgrammingDiffing=new _.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new v.MyersDiffAlgorithm}computeDiff(o,c,a){if(o.length<=1&&(0,L.equals)(o,c,(U,F)=>U===F))return new i.LinesDiff([],[],!1);if(o.length===1&&o[0].length===0||c.length===1&&c[0].length===0)return new i.LinesDiff([new n.DetailedLineRangeMapping(new y.LineRange(1,o.length+1),new y.LineRange(1,c.length+1),[new n.RangeMapping(new S.Range(1,1,o.length,o[0].length+1),new S.Range(1,1,c.length,c[0].length+1))])],[],!1);const g=a.maxComputationTimeMs===0?m.InfiniteTimeout.instance:new m.DateTimeout(a.maxComputationTimeMs),h=!a.ignoreTrimWhitespace,p=new Map;function b(U){let F=p.get(U);return F===void 0&&(F=p.size,p.set(U,F)),F}const w=o.map(U=>b(U.trim())),E=c.map(U=>b(U.trim())),k=new r.LineSequence(w,o),M=new r.LineSequence(E,c),R=(()=>k.length+M.length<1700?this.dynamicProgrammingDiffing.compute(k,M,g,(U,F)=>o[U]===c[F]?c[F].length===0?.1:1+Math.log(1+c[F].length):.99):this.myersDiffingAlgorithm.compute(k,M))();let B=R.diffs,T=R.hitTimeout;B=(0,s.optimizeSequenceDiffs)(k,M,B),B=(0,s.removeVeryShortMatchingLinesBetweenDiffs)(k,M,B);const N=[],A=U=>{if(h)for(let F=0;F<U;F++){const G=P+F,Y=O+F;if(o[G]!==c[Y]){const ne=this.refineDiff(o,c,new m.SequenceDiff(new D.OffsetRange(G,G+1),new D.OffsetRange(Y,Y+1)),g,h);for(const se of ne.mappings)N.push(se);ne.hitTimeout&&(T=!0)}}};let P=0,O=0;for(const U of B){(0,I.assertFn)(()=>U.seq1Range.start-P===U.seq2Range.start-O);const F=U.seq1Range.start-P;A(F),P=U.seq1Range.endExclusive,O=U.seq2Range.endExclusive;const G=this.refineDiff(o,c,U,g,h);G.hitTimeout&&(T=!0);for(const Y of G.mappings)N.push(Y)}A(o.length-P);const x=f(N,o,c);let W=[];return a.computeMoves&&(W=this.computeMoves(x,o,c,w,E,g,h)),(0,I.assertFn)(()=>{function U(G,Y){if(G.lineNumber<1||G.lineNumber>Y.length)return!1;const ne=Y[G.lineNumber-1];return!(G.column<1||G.column>ne.length+1)}function F(G,Y){return!(G.startLineNumber<1||G.startLineNumber>Y.length+1||G.endLineNumberExclusive<1||G.endLineNumberExclusive>Y.length+1)}for(const G of x){if(!G.innerChanges)return!1;for(const Y of G.innerChanges)if(!(U(Y.modifiedRange.getStartPosition(),c)&&U(Y.modifiedRange.getEndPosition(),c)&&U(Y.originalRange.getStartPosition(),o)&&U(Y.originalRange.getEndPosition(),o)))return!1;if(!F(G.modified,c)||!F(G.original,o))return!1}return!0}),new i.LinesDiff(x,W,T)}computeMoves(o,c,a,g,h,p,b){return(0,C.computeMovedLines)(o,c,a,g,h,p).map(k=>{const M=this.refineDiff(c,a,new m.SequenceDiff(k.original.toOffsetRange(),k.modified.toOffsetRange()),p,b),R=f(M.mappings,c,a,!0);return new i.MovedText(k,R)})}refineDiff(o,c,a,g,h){const p=new t.LinesSliceCharSequence(o,a.seq1Range,h),b=new t.LinesSliceCharSequence(c,a.seq2Range,h),w=p.length+b.length<500?this.dynamicProgrammingDiffing.compute(p,b,g):this.myersDiffingAlgorithm.compute(p,b,g);let E=w.diffs;return E=(0,s.optimizeSequenceDiffs)(p,b,E),E=(0,s.extendDiffsToEntireWordIfAppropriate)(p,b,E),E=(0,s.removeShortMatches)(p,b,E),E=(0,s.removeVeryShortMatchingTextBetweenLongDiffs)(p,b,E),{mappings:E.map(M=>new n.RangeMapping(p.translateRange(M.seq1Range),b.translateRange(M.seq2Range))),hitTimeout:w.hitTimeout}}}e.DefaultLinesDiffComputer=u;function f(l,o,c,a=!1){const g=[];for(const h of(0,L.groupAdjacentBy)(l.map(p=>d(p,o,c)),(p,b)=>p.original.overlapOrTouch(b.original)||p.modified.overlapOrTouch(b.modified))){const p=h[0],b=h[h.length-1];g.push(new n.DetailedLineRangeMapping(p.original.join(b.original),p.modified.join(b.modified),h.map(w=>w.innerChanges[0])))}return(0,I.assertFn)(()=>!a&&g.length>0&&g[0].original.startLineNumber!==g[0].modified.startLineNumber?!1:(0,I.checkAdjacentItems)(g,(h,p)=>p.original.startLineNumber-h.original.endLineNumberExclusive===p.modified.startLineNumber-h.modified.endLineNumberExclusive&&h.original.endLineNumberExclusive<p.original.startLineNumber&&h.modified.endLineNumberExclusive<p.modified.startLineNumber)),g}e.lineRangeMappingFromRangeMappings=f;function d(l,o,c){let a=0,g=0;l.modifiedRange.endColumn===1&&l.originalRange.endColumn===1&&l.originalRange.startLineNumber+a<=l.originalRange.endLineNumber&&l.modifiedRange.startLineNumber+a<=l.modifiedRange.endLineNumber&&(g=-1),l.modifiedRange.startColumn-1>=c[l.modifiedRange.startLineNumber-1].length&&l.originalRange.startColumn-1>=o[l.originalRange.startLineNumber-1].length&&l.originalRange.startLineNumber<=l.originalRange.endLineNumber+g&&l.modifiedRange.startLineNumber<=l.modifiedRange.endLineNumber+g&&(a=1);const h=new y.LineRange(l.originalRange.startLineNumber+a,l.originalRange.endLineNumber+1+g),p=new y.LineRange(l.modifiedRange.startLineNumber+a,l.modifiedRange.endLineNumber+1+g);return new n.DetailedLineRangeMapping(h,p,[l])}e.getLineRangeMapping=d}),define(te[494],ie([1,0,167,203,108,10,5,96,64]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.LegacyLinesDiffComputer=void 0;const v=3;class C{computeDiff(a,g,h){var p;const w=new f(a,g,{maxComputationTime:h.maxComputationTimeMs,shouldIgnoreTrimWhitespace:h.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),E=[];let k=null;for(const M of w.changes){let R;M.originalEndLineNumber===0?R=new _.LineRange(M.originalStartLineNumber+1,M.originalStartLineNumber+1):R=new _.LineRange(M.originalStartLineNumber,M.originalEndLineNumber+1);let B;M.modifiedEndLineNumber===0?B=new _.LineRange(M.modifiedStartLineNumber+1,M.modifiedStartLineNumber+1):B=new _.LineRange(M.modifiedStartLineNumber,M.modifiedEndLineNumber+1);let T=new y.DetailedLineRangeMapping(R,B,(p=M.charChanges)===null||p===void 0?void 0:p.map(N=>new y.RangeMapping(new S.Range(N.originalStartLineNumber,N.originalStartColumn,N.originalEndLineNumber,N.originalEndColumn),new S.Range(N.modifiedStartLineNumber,N.modifiedStartColumn,N.modifiedEndLineNumber,N.modifiedEndColumn))));k&&(k.modified.endLineNumberExclusive===T.modified.startLineNumber||k.original.endLineNumberExclusive===T.original.startLineNumber)&&(T=new y.DetailedLineRangeMapping(k.original.join(T.original),k.modified.join(T.modified),k.innerChanges&&T.innerChanges?k.innerChanges.concat(T.innerChanges):void 0),E.pop()),E.push(T),k=T}return(0,m.assertFn)(()=>(0,m.checkAdjacentItems)(E,(M,R)=>R.original.startLineNumber-M.original.endLineNumberExclusive===R.modified.startLineNumber-M.modified.endLineNumberExclusive&&M.original.endLineNumberExclusive<R.original.startLineNumber&&M.modified.endLineNumberExclusive<R.modified.startLineNumber)),new I.LinesDiff(E,[],w.quitEarly)}}e.LegacyLinesDiffComputer=C;function s(c,a,g,h){return new L.LcsDiff(c,a,g).ComputeDiff(h)}class i{constructor(a){const g=[],h=[];for(let p=0,b=a.length;p<b;p++)g[p]=d(a[p],1),h[p]=l(a[p],1);this.lines=a,this._startColumns=g,this._endColumns=h}getElements(){const a=[];for(let g=0,h=this.lines.length;g<h;g++)a[g]=this.lines[g].substring(this._startColumns[g]-1,this._endColumns[g]-1);return a}getStrictElement(a){return this.lines[a]}getStartLineNumber(a){return a+1}getEndLineNumber(a){return a+1}createCharSequence(a,g,h){const p=[],b=[],w=[];let E=0;for(let k=g;k<=h;k++){const M=this.lines[k],R=a?this._startColumns[k]:1,B=a?this._endColumns[k]:M.length+1;for(let T=R;T<B;T++)p[E]=M.charCodeAt(T-1),b[E]=k+1,w[E]=T,E++;!a&&k<h&&(p[E]=10,b[E]=k+1,w[E]=M.length+1,E++)}return new n(p,b,w)}}class n{constructor(a,g,h){this._charCodes=a,this._lineNumbers=g,this._columns=h}toString(){return"["+this._charCodes.map((a,g)=>(a===10?"\\n":String.fromCharCode(a))+`-(${this._lineNumbers[g]},${this._columns[g]})`).join(", ")+"]"}_assertIndex(a,g){if(a<0||a>=g.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(a){return a>0&&a===this._lineNumbers.length?this.getEndLineNumber(a-1):(this._assertIndex(a,this._lineNumbers),this._lineNumbers[a])}getEndLineNumber(a){return a===-1?this.getStartLineNumber(a+1):(this._assertIndex(a,this._lineNumbers),this._charCodes[a]===10?this._lineNumbers[a]+1:this._lineNumbers[a])}getStartColumn(a){return a>0&&a===this._columns.length?this.getEndColumn(a-1):(this._assertIndex(a,this._columns),this._columns[a])}getEndColumn(a){return a===-1?this.getStartColumn(a+1):(this._assertIndex(a,this._columns),this._charCodes[a]===10?1:this._columns[a]+1)}}class t{constructor(a,g,h,p,b,w,E,k){this.originalStartLineNumber=a,this.originalStartColumn=g,this.originalEndLineNumber=h,this.originalEndColumn=p,this.modifiedStartLineNumber=b,this.modifiedStartColumn=w,this.modifiedEndLineNumber=E,this.modifiedEndColumn=k}static createFromDiffChange(a,g,h){const p=g.getStartLineNumber(a.originalStart),b=g.getStartColumn(a.originalStart),w=g.getEndLineNumber(a.originalStart+a.originalLength-1),E=g.getEndColumn(a.originalStart+a.originalLength-1),k=h.getStartLineNumber(a.modifiedStart),M=h.getStartColumn(a.modifiedStart),R=h.getEndLineNumber(a.modifiedStart+a.modifiedLength-1),B=h.getEndColumn(a.modifiedStart+a.modifiedLength-1);return new t(p,b,w,E,k,M,R,B)}}function r(c){if(c.length<=1)return c;const a=[c[0]];let g=a[0];for(let h=1,p=c.length;h<p;h++){const b=c[h],w=b.originalStart-(g.originalStart+g.originalLength),E=b.modifiedStart-(g.modifiedStart+g.modifiedLength);Math.min(w,E)<v?(g.originalLength=b.originalStart+b.originalLength-g.originalStart,g.modifiedLength=b.modifiedStart+b.modifiedLength-g.modifiedStart):(a.push(b),g=b)}return a}class u{constructor(a,g,h,p,b){this.originalStartLineNumber=a,this.originalEndLineNumber=g,this.modifiedStartLineNumber=h,this.modifiedEndLineNumber=p,this.charChanges=b}static createFromDiffResult(a,g,h,p,b,w,E){let k,M,R,B,T;if(g.originalLength===0?(k=h.getStartLineNumber(g.originalStart)-1,M=0):(k=h.getStartLineNumber(g.originalStart),M=h.getEndLineNumber(g.originalStart+g.originalLength-1)),g.modifiedLength===0?(R=p.getStartLineNumber(g.modifiedStart)-1,B=0):(R=p.getStartLineNumber(g.modifiedStart),B=p.getEndLineNumber(g.modifiedStart+g.modifiedLength-1)),w&&g.originalLength>0&&g.originalLength<20&&g.modifiedLength>0&&g.modifiedLength<20&&b()){const N=h.createCharSequence(a,g.originalStart,g.originalStart+g.originalLength-1),A=p.createCharSequence(a,g.modifiedStart,g.modifiedStart+g.modifiedLength-1);if(N.getElements().length>0&&A.getElements().length>0){let P=s(N,A,b,!0).changes;E&&(P=r(P)),T=[];for(let O=0,x=P.length;O<x;O++)T.push(t.createFromDiffChange(P[O],N,A))}}return new u(k,M,R,B,T)}}class f{constructor(a,g,h){this.shouldComputeCharChanges=h.shouldComputeCharChanges,this.shouldPostProcessCharChanges=h.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=h.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=h.shouldMakePrettyDiff,this.originalLines=a,this.modifiedLines=g,this.original=new i(a),this.modified=new i(g),this.continueLineDiff=o(h.maxComputationTime),this.continueCharDiff=o(h.maxComputationTime===0?0:Math.min(h.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const a=s(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),g=a.changes,h=a.quitEarly;if(this.shouldIgnoreTrimWhitespace){const E=[];for(let k=0,M=g.length;k<M;k++)E.push(u.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g[k],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:h,changes:E}}const p=[];let b=0,w=0;for(let E=-1,k=g.length;E<k;E++){const M=E+1<k?g[E+1]:null,R=M?M.originalStart:this.originalLines.length,B=M?M.modifiedStart:this.modifiedLines.length;for(;b<R&&w<B;){const T=this.originalLines[b],N=this.modifiedLines[w];if(T!==N){{let A=d(T,1),P=d(N,1);for(;A>1&&P>1;){const O=T.charCodeAt(A-2),x=N.charCodeAt(P-2);if(O!==x)break;A--,P--}(A>1||P>1)&&this._pushTrimWhitespaceCharChange(p,b+1,1,A,w+1,1,P)}{let A=l(T,1),P=l(N,1);const O=T.length+1,x=N.length+1;for(;A<O&&P<x;){const W=T.charCodeAt(A-1),U=T.charCodeAt(P-1);if(W!==U)break;A++,P++}(A<O||P<x)&&this._pushTrimWhitespaceCharChange(p,b+1,A,O,w+1,P,x)}}b++,w++}M&&(p.push(u.createFromDiffResult(this.shouldIgnoreTrimWhitespace,M,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),b+=M.originalLength,w+=M.modifiedLength)}return{quitEarly:h,changes:p}}_pushTrimWhitespaceCharChange(a,g,h,p,b,w,E){if(this._mergeTrimWhitespaceCharChange(a,g,h,p,b,w,E))return;let k;this.shouldComputeCharChanges&&(k=[new t(g,h,g,p,b,w,b,E)]),a.push(new u(g,g,b,b,k))}_mergeTrimWhitespaceCharChange(a,g,h,p,b,w,E){const k=a.length;if(k===0)return!1;const M=a[k-1];return M.originalEndLineNumber===0||M.modifiedEndLineNumber===0?!1:M.originalEndLineNumber===g&&M.modifiedEndLineNumber===b?(this.shouldComputeCharChanges&&M.charChanges&&M.charChanges.push(new t(g,h,g,p,b,w,b,E)),!0):M.originalEndLineNumber+1===g&&M.modifiedEndLineNumber+1===b?(M.originalEndLineNumber=g,M.modifiedEndLineNumber=b,this.shouldComputeCharChanges&&M.charChanges&&M.charChanges.push(new t(g,h,g,p,b,w,b,E)),!0):!1}}e.DiffComputer=f;function d(c,a){const g=D.firstNonWhitespaceIndex(c);return g===-1?a:g+1}function l(c,a){const g=D.lastNonWhitespaceIndex(c);return g===-1?a:g+2}function o(c){if(c===0)return()=>!0;const a=Date.now();return()=>Date.now()-a<c}}),define(te[495],ie([1,0,494,279]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new L.LegacyLinesDiffComputer,getDefault:()=>new I.DefaultLinesDiffComputer}}),define(te[280],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class L{constructor(y,D,S,m,_,v){this.id=y,this.label=D,this.alias=S,this._precondition=m,this._run=_,this._contextKeyService=v}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(y){return this.isSupported()?this._run(y):Promise.resolve(void 0)}}e.InternalEditorAction=L}),define(te[174],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(te[175],ie([1,0,174]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isCompositeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function I(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===L.EditorType.ICodeEditor:!1}e.isCodeEditor=I;function y(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===L.EditorType.IDiffEditor:!1}e.isDiffEditor=y;function D(m){return!!m&&typeof m=="object"&&typeof m.onDidChangeActiveEditor=="function"}e.isCompositeEditor=D;function S(m){return I(m)?m:y(m)?m.getModifiedEditor():D(m)&&I(m.activeCodeEditor)?m.activeCodeEditor:null}e.getCodeEditor=S}),define(te[147],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEditorFeatures=e.registerEditorFeature=void 0;const L=[];function I(D){L.push(D)}e.registerEditorFeature=I;function y(){return L.slice(0)}e.getEditorFeatures=y}),define(te[496],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class L{get type(){return this._theme.type}get value(){return this._theme}constructor(y){this._theme=y}update(y){this._theme=y}getColor(y){return this._theme.getColor(y)}}e.EditorTheme=L}),define(te[124],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class L{static getLanguageId(y){return(y&255)>>>0}static getTokenType(y){return(y&768)>>>8}static containsBalancedBrackets(y){return(y&1024)!==0}static getFontStyle(y){return(y&30720)>>>11}static getForeground(y){return(y&16744448)>>>15}static getBackground(y){return(y&4278190080)>>>24}static getClassNameFromMetadata(y){let S="mtk"+this.getForeground(y);const m=this.getFontStyle(y);return m&1&&(S+=" mtki"),m&2&&(S+=" mtkb"),m&4&&(S+=" mtku"),m&8&&(S+=" mtks"),S}static getInlineStyleFromMetadata(y,D){const S=this.getForeground(y),m=this.getFontStyle(y);let _=`color: ${D[S]};`;m&1&&(_+="font-style: italic;"),m&2&&(_+="font-weight: bold;");let v="";return m&4&&(v+=" underline"),m&8&&(v+=" line-through"),v&&(_+=`text-decoration:${v};`),_}static getPresentationFromMetadata(y){const D=this.getForeground(y),S=this.getFontStyle(y);return{foreground:D,italic:!!(S&1),bold:!!(S&2),underline:!!(S&4),strikethrough:!!(S&8)}}}e.TokenMetadata=L}),define(te[497],ie([1,0,36]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=void 0;function I(i){const n=[];for(const t of i){const r=Number(t);(r||r===0&&t.replace(/\s/g,"")!=="")&&n.push(r)}return n}function y(i,n,t,r){return{red:i/255,blue:t/255,green:n/255,alpha:r}}function D(i,n){const t=n.index,r=n[0].length;if(!t)return;const u=i.positionAt(t);return{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:u.lineNumber,endColumn:u.column+r}}function S(i,n){if(!i)return;const t=L.Color.Format.CSS.parseHex(n);if(t)return{range:i,color:y(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function m(i,n,t){if(!i||n.length!==1)return;const u=n[0].values(),f=I(u);return{range:i,color:y(f[0],f[1],f[2],t?f[3]:1)}}function _(i,n,t){if(!i||n.length!==1)return;const u=n[0].values(),f=I(u),d=new L.Color(new L.HSLA(f[0],f[1]/100,f[2]/100,t?f[3]:1));return{range:i,color:y(d.rgba.r,d.rgba.g,d.rgba.b,d.rgba.a)}}function v(i,n){return typeof i=="string"?[...i.matchAll(n)]:i.findMatches(n)}function C(i){const n=[],r=v(i,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(r.length>0)for(const u of r){const f=u.filter(c=>c!==void 0),d=f[1],l=f[2];if(!l)continue;let o;if(d==="rgb"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;o=m(D(i,u),v(l,c),!1)}else if(d==="rgba"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;o=m(D(i,u),v(l,c),!0)}else if(d==="hsl"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;o=_(D(i,u),v(l,c),!1)}else if(d==="hsla"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;o=_(D(i,u),v(l,c),!0)}else d==="#"&&(o=S(D(i,u),d+l));o&&n.push(o)}return n}function s(i){return!i||typeof i.getValue!="function"||typeof i.positionAt!="function"?[]:C(i)}e.computeDefaultDocumentColors=s}),define(te[109],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var L;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(L||(e.IndentAction=L={}));class I{constructor(m){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=m.open,this.close=m.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(m.notIn))for(let _=0,v=m.notIn.length;_<v;_++)switch(m.notIn[_]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(m){switch(m){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(m,_){if(m.getTokenCount()===0)return!0;const v=m.findTokenIndexAtOffset(_-2),C=m.getStandardTokenType(v);return this.isOK(C)}_findNeutralCharacterInRange(m,_){for(let v=m;v<=_;v++){const C=String.fromCharCode(v);if(!this.open.includes(C)&&!this.close.includes(C))return C}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=I;class y{constructor(m){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const _ of m)D(this.autoClosingPairsOpenByStart,_.open.charAt(0),_),D(this.autoClosingPairsOpenByEnd,_.open.charAt(_.open.length-1),_),D(this.autoClosingPairsCloseByStart,_.close.charAt(0),_),D(this.autoClosingPairsCloseByEnd,_.close.charAt(_.close.length-1),_),_.close.length===1&&_.open.length===1&&D(this.autoClosingPairsCloseSingleChar,_.close,_)}}e.AutoClosingPairs=y;function D(S,m,_){S.has(m)?S.get(m).push(_):S.set(m,[_])}}),define(te[498],ie([1,0,121]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=void 0;class I{constructor(i,n,t){const r=new Uint8Array(i*n);for(let u=0,f=i*n;u<f;u++)r[u]=t;this._data=r,this.rows=i,this.cols=n}get(i,n){return this._data[i*this.cols+n]}set(i,n,t){this._data[i*this.cols+n]=t}}class y{constructor(i){let n=0,t=0;for(let u=0,f=i.length;u<f;u++){const[d,l,o]=i[u];l>n&&(n=l),d>t&&(t=d),o>t&&(t=o)}n++,t++;const r=new I(t,n,0);for(let u=0,f=i.length;u<f;u++){const[d,l,o]=i[u];r.set(d,l,o)}this._states=r,this._maxCharCode=n}nextState(i,n){return n<0||n>=this._maxCharCode?0:this._states.get(i,n)}}e.StateMachine=y;let D=null;function S(){return D===null&&(D=new y([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let m=null;function _(){if(m===null){m=new L.CharacterClassifier(0);const s=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let n=0;n<s.length;n++)m.set(s.charCodeAt(n),1);const i=".,;:";for(let n=0;n<i.length;n++)m.set(i.charCodeAt(n),2)}return m}class v{static _createLink(i,n,t,r,u){let f=u-1;do{const d=n.charCodeAt(f);if(i.get(d)!==2)break;f--}while(f>r);if(r>0){const d=n.charCodeAt(r-1),l=n.charCodeAt(f);(d===40&&l===41||d===91&&l===93||d===123&&l===125)&&f--}return{range:{startLineNumber:t,startColumn:r+1,endLineNumber:t,endColumn:f+2},url:n.substring(r,f+1)}}static computeLinks(i,n=S()){const t=_(),r=[];for(let u=1,f=i.getLineCount();u<=f;u++){const d=i.getLineContent(u),l=d.length;let o=0,c=0,a=0,g=1,h=!1,p=!1,b=!1,w=!1;for(;o<l;){let E=!1;const k=d.charCodeAt(o);if(g===13){let M;switch(k){case 40:h=!0,M=0;break;case 41:M=h?0:1;break;case 91:b=!0,p=!0,M=0;break;case 93:b=!1,M=p?0:1;break;case 123:w=!0,M=0;break;case 125:M=w?0:1;break;case 39:case 34:case 96:a===k?M=1:a===39||a===34||a===96?M=0:M=1;break;case 42:M=a===42?1:0;break;case 124:M=a===124?1:0;break;case 32:M=b?0:1;break;default:M=t.get(k)}M===1&&(r.push(v._createLink(t,d,u,c,o)),E=!0)}else if(g===12){let M;k===91?(p=!0,M=0):M=t.get(k),M===1?E=!0:g=13}else g=n.nextState(g,k),g===0&&(E=!0);E&&(g=1,h=!1,p=!1,w=!1,c=o+1,a=k),o++}g===13&&r.push(v._createLink(t,d,u,c,l))}return r}}e.LinkComputer=v;function C(s){return!s||typeof s.getLineCount!="function"||typeof s.getLineContent!="function"?[]:v.computeLinks(s)}e.computeLinks=C}),define(te[125],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function L(D,S){const m=D.getCount(),_=D.findTokenIndexAtOffset(S),v=D.getLanguageId(_);let C=_;for(;C+1<m&&D.getLanguageId(C+1)===v;)C++;let s=_;for(;s>0&&D.getLanguageId(s-1)===v;)s--;return new I(D,v,s,C+1,D.getStartOffset(s),D.getEndOffset(C))}e.createScopedLineTokens=L;class I{constructor(S,m,_,v,C,s){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=m,this._firstTokenIndex=_,this._lastTokenIndex=v,this.firstCharOffset=C,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=I;function y(D){return(D&3)!==0}e.ignoreBracketsInToken=y}),define(te[72],ie([1,0,12,5,24,125,80,201]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const _=()=>!0,v=()=>!1,C=d=>d===" "||d==="	";class s{static shouldRecreate(l){return l.hasChanged(143)||l.hasChanged(129)||l.hasChanged(37)||l.hasChanged(76)||l.hasChanged(78)||l.hasChanged(79)||l.hasChanged(6)||l.hasChanged(7)||l.hasChanged(11)||l.hasChanged(9)||l.hasChanged(10)||l.hasChanged(14)||l.hasChanged(127)||l.hasChanged(50)||l.hasChanged(90)}constructor(l,o,c,a){var g;this.languageConfigurationService=a,this._cursorMoveConfigurationBrand=void 0,this._languageId=l;const h=c.options,p=h.get(143),b=h.get(50);this.readOnly=h.get(90),this.tabSize=o.tabSize,this.indentSize=o.indentSize,this.insertSpaces=o.insertSpaces,this.stickyTabStops=h.get(115),this.lineHeight=b.lineHeight,this.typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(p.height/this.lineHeight)-2),this.useTabStops=h.get(127),this.wordSeparators=h.get(129),this.emptySelectionClipboard=h.get(37),this.copyWithSyntaxHighlighting=h.get(25),this.multiCursorMergeOverlapping=h.get(76),this.multiCursorPaste=h.get(78),this.multiCursorLimit=h.get(79),this.autoClosingBrackets=h.get(6),this.autoClosingComments=h.get(7),this.autoClosingQuotes=h.get(11),this.autoClosingDelete=h.get(9),this.autoClosingOvertype=h.get(10),this.autoSurround=h.get(14),this.autoIndent=h.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(l,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(l,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(l,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(l).getAutoClosingPairs();const w=this.languageConfigurationService.getLanguageConfiguration(l).getSurroundingPairs();if(w)for(const k of w)this.surroundingPairs[k.open]=k.close;const E=this.languageConfigurationService.getLanguageConfiguration(l).comments;this.blockCommentStartToken=(g=E?.blockCommentStartToken)!==null&&g!==void 0?g:null}get electricChars(){var l;if(!this._electricChars){this._electricChars={};const o=(l=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||l===void 0?void 0:l.getElectricCharacters();if(o)for(const c of o)this._electricChars[c]=!0}return this._electricChars}onElectricCharacter(l,o,c){const a=(0,D.createScopedLineTokens)(o,c-1),g=this.languageConfigurationService.getLanguageConfiguration(a.languageId).electricCharacter;return g?g.onElectricCharacter(l,a,c-a.firstCharOffset):null}normalizeIndentation(l){return(0,m.normalizeIndentation)(l,this.indentSize,this.insertSpaces)}_getShouldAutoClose(l,o,c){switch(o){case"beforeWhitespace":return C;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(l,c);case"always":return _;case"never":return v}}_getLanguageDefinedShouldAutoClose(l,o){const c=this.languageConfigurationService.getLanguageConfiguration(l).getAutoCloseBeforeSet(o);return a=>c.indexOf(a)!==-1}visibleColumnFromColumn(l,o){return S.CursorColumns.visibleColumnFromColumn(l.getLineContent(o.lineNumber),o.column,this.tabSize)}columnFromVisibleColumn(l,o,c){const a=S.CursorColumns.columnFromVisibleColumn(l.getLineContent(o),c,this.tabSize),g=l.getLineMinColumn(o);if(a<g)return g;const h=l.getLineMaxColumn(o);return a>h?h:a}}e.CursorConfiguration=s;class i{static fromModelState(l){return new n(l)}static fromViewState(l){return new t(l)}static fromModelSelection(l){const o=y.Selection.liftSelection(l),c=new r(I.Range.fromPositions(o.getSelectionStart()),0,0,o.getPosition(),0);return i.fromModelState(c)}static fromModelSelections(l){const o=[];for(let c=0,a=l.length;c<a;c++)o[c]=this.fromModelSelection(l[c]);return o}constructor(l,o){this._cursorStateBrand=void 0,this.modelState=l,this.viewState=o}equals(l){return this.viewState.equals(l.viewState)&&this.modelState.equals(l.modelState)}}e.CursorState=i;class n{constructor(l){this.modelState=l,this.viewState=null}}e.PartialModelCursorState=n;class t{constructor(l){this.modelState=null,this.viewState=l}}e.PartialViewCursorState=t;class r{constructor(l,o,c,a,g){this.selectionStart=l,this.selectionStartKind=o,this.selectionStartLeftoverVisibleColumns=c,this.position=a,this.leftoverVisibleColumns=g,this._singleCursorStateBrand=void 0,this.selection=r._computeSelection(this.selectionStart,this.position)}equals(l){return this.selectionStartLeftoverVisibleColumns===l.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===l.leftoverVisibleColumns&&this.selectionStartKind===l.selectionStartKind&&this.position.equals(l.position)&&this.selectionStart.equalsRange(l.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(l,o,c,a){return l?new r(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new L.Position(o,c),a):new r(new I.Range(o,c,o,c),0,a,new L.Position(o,c),a)}static _computeSelection(l,o){return l.isEmpty()||!o.isBeforeOrEqual(l.getStartPosition())?y.Selection.fromPositions(l.getStartPosition(),o):y.Selection.fromPositions(l.getEndPosition(),o)}}e.SingleCursorState=r;class u{constructor(l,o,c){this._editOperationResultBrand=void 0,this.type=l,this.commands=o,this.shouldPushStackElementBefore=c.shouldPushStackElementBefore,this.shouldPushStackElementAfter=c.shouldPushStackElementAfter}}e.EditOperationResult=u;function f(d){return d==="'"||d==='"'||d==="`"}e.isQuote=f}),define(te[499],ie([1,0,72,12,5]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(m,_,v,C,s,i){const n=Math.abs(s-v)+1,t=v>s,r=C>i,u=C<i,f=[];for(let d=0;d<n;d++){const l=v+(t?-d:d),o=m.columnFromVisibleColumn(_,l,C),c=m.columnFromVisibleColumn(_,l,i),a=m.visibleColumnFromColumn(_,new I.Position(l,o)),g=m.visibleColumnFromColumn(_,new I.Position(l,c));u&&(a>i||g<C)||r&&(g>C||a<i)||f.push(new L.SingleCursorState(new y.Range(l,o,l,o),0,0,new I.Position(l,c),0))}if(f.length===0)for(let d=0;d<n;d++){const l=v+(t?-d:d),o=_.getLineMaxColumn(l);f.push(new L.SingleCursorState(new y.Range(l,o,l,o),0,0,new I.Position(l,o),0))}return{viewStates:f,reversed:t,fromLineNumber:v,fromVisualColumn:C,toLineNumber:s,toVisualColumn:i}}static columnSelectLeft(m,_,v){let C=v.toViewVisualColumn;return C>0&&C--,D.columnSelect(m,_,v.fromViewLineNumber,v.fromViewVisualColumn,v.toViewLineNumber,C)}static columnSelectRight(m,_,v){let C=0;const s=Math.min(v.fromViewLineNumber,v.toViewLineNumber),i=Math.max(v.fromViewLineNumber,v.toViewLineNumber);for(let t=s;t<=i;t++){const r=_.getLineMaxColumn(t),u=m.visibleColumnFromColumn(_,new I.Position(t,r));C=Math.max(C,u)}let n=v.toViewVisualColumn;return n<C&&n++,this.columnSelect(m,_,v.fromViewLineNumber,v.fromViewVisualColumn,v.toViewLineNumber,n)}static columnSelectUp(m,_,v,C){const s=C?m.pageSize:1,i=Math.max(1,v.toViewLineNumber-s);return this.columnSelect(m,_,v.fromViewLineNumber,v.fromViewVisualColumn,i,v.toViewVisualColumn)}static columnSelectDown(m,_,v,C){const s=C?m.pageSize:1,i=Math.min(_.getLineCount(),v.toViewLineNumber+s);return this.columnSelect(m,_,v.fromViewLineNumber,v.fromViewVisualColumn,i,v.toViewVisualColumn)}}e.ColumnSelection=D}),define(te[204],ie([1,0,10,80,12,5,275,72]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class _{constructor(s,i,n){this._cursorPositionBrand=void 0,this.lineNumber=s,this.column=i,this.leftoverVisibleColumns=n}}e.CursorPosition=_;class v{static leftPosition(s,i){if(i.column>s.getLineMinColumn(i.lineNumber))return i.delta(void 0,-L.prevCharLength(s.getLineContent(i.lineNumber),i.column-1));if(i.lineNumber>1){const n=i.lineNumber-1;return new y.Position(n,s.getLineMaxColumn(n))}else return i}static leftPositionAtomicSoftTabs(s,i,n){if(i.column<=s.getLineIndentColumn(i.lineNumber)){const t=s.getLineMinColumn(i.lineNumber),r=s.getLineContent(i.lineNumber),u=S.AtomicTabMoveOperations.atomicPosition(r,i.column-1,n,0);if(u!==-1&&u+1>=t)return new y.Position(i.lineNumber,u+1)}return this.leftPosition(s,i)}static left(s,i,n){const t=s.stickyTabStops?v.leftPositionAtomicSoftTabs(i,n,s.tabSize):v.leftPosition(i,n);return new _(t.lineNumber,t.column,0)}static moveLeft(s,i,n,t,r){let u,f;if(n.hasSelection()&&!t)u=n.selection.startLineNumber,f=n.selection.startColumn;else{const d=n.position.delta(void 0,-(r-1)),l=i.normalizePosition(v.clipPositionColumn(d,i),0),o=v.left(s,i,l);u=o.lineNumber,f=o.column}return n.move(t,u,f,0)}static clipPositionColumn(s,i){return new y.Position(s.lineNumber,v.clipRange(s.column,i.getLineMinColumn(s.lineNumber),i.getLineMaxColumn(s.lineNumber)))}static clipRange(s,i,n){return s<i?i:s>n?n:s}static rightPosition(s,i,n){return n<s.getLineMaxColumn(i)?n=n+L.nextCharLength(s.getLineContent(i),n-1):i<s.getLineCount()&&(i=i+1,n=s.getLineMinColumn(i)),new y.Position(i,n)}static rightPositionAtomicSoftTabs(s,i,n,t,r){if(n<s.getLineIndentColumn(i)){const u=s.getLineContent(i),f=S.AtomicTabMoveOperations.atomicPosition(u,n-1,t,1);if(f!==-1)return new y.Position(i,f+1)}return this.rightPosition(s,i,n)}static right(s,i,n){const t=s.stickyTabStops?v.rightPositionAtomicSoftTabs(i,n.lineNumber,n.column,s.tabSize,s.indentSize):v.rightPosition(i,n.lineNumber,n.column);return new _(t.lineNumber,t.column,0)}static moveRight(s,i,n,t,r){let u,f;if(n.hasSelection()&&!t)u=n.selection.endLineNumber,f=n.selection.endColumn;else{const d=n.position.delta(void 0,r-1),l=i.normalizePosition(v.clipPositionColumn(d,i),1),o=v.right(s,i,l);u=o.lineNumber,f=o.column}return n.move(t,u,f,0)}static vertical(s,i,n,t,r,u,f,d){const l=I.CursorColumns.visibleColumnFromColumn(i.getLineContent(n),t,s.tabSize)+r,o=i.getLineCount(),c=n===1&&t===1,a=n===o&&t===i.getLineMaxColumn(n),g=u<n?c:a;if(n=u,n<1?(n=1,f?t=i.getLineMinColumn(n):t=Math.min(i.getLineMaxColumn(n),t)):n>o?(n=o,f?t=i.getLineMaxColumn(n):t=Math.min(i.getLineMaxColumn(n),t)):t=s.columnFromVisibleColumn(i,n,l),g?r=0:r=l-I.CursorColumns.visibleColumnFromColumn(i.getLineContent(n),t,s.tabSize),d!==void 0){const h=new y.Position(n,t),p=i.normalizePosition(h,d);r=r+(t-p.column),n=p.lineNumber,t=p.column}return new _(n,t,r)}static down(s,i,n,t,r,u,f){return this.vertical(s,i,n,t,r,n+u,f,4)}static moveDown(s,i,n,t,r){let u,f;n.hasSelection()&&!t?(u=n.selection.endLineNumber,f=n.selection.endColumn):(u=n.position.lineNumber,f=n.position.column);let d=0,l;do if(l=v.down(s,i,u+d,f,n.leftoverVisibleColumns,r,!0),i.normalizePosition(new y.Position(l.lineNumber,l.column),2).lineNumber>u)break;while(d++<10&&u+d<i.getLineCount());return n.move(t,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(s,i,n){const t=n.selection,r=v.down(s,i,t.selectionStartLineNumber,t.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),u=v.down(s,i,t.positionLineNumber,t.positionColumn,n.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new D.Range(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new y.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static up(s,i,n,t,r,u,f){return this.vertical(s,i,n,t,r,n-u,f,3)}static moveUp(s,i,n,t,r){let u,f;n.hasSelection()&&!t?(u=n.selection.startLineNumber,f=n.selection.startColumn):(u=n.position.lineNumber,f=n.position.column);const d=v.up(s,i,u,f,n.leftoverVisibleColumns,r,!0);return n.move(t,d.lineNumber,d.column,d.leftoverVisibleColumns)}static translateUp(s,i,n){const t=n.selection,r=v.up(s,i,t.selectionStartLineNumber,t.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),u=v.up(s,i,t.positionLineNumber,t.positionColumn,n.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new D.Range(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new y.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static _isBlankLine(s,i){return s.getLineFirstNonWhitespaceColumn(i)===0}static moveToPrevBlankLine(s,i,n,t){let r=n.position.lineNumber;for(;r>1&&this._isBlankLine(i,r);)r--;for(;r>1&&!this._isBlankLine(i,r);)r--;return n.move(t,r,i.getLineMinColumn(r),0)}static moveToNextBlankLine(s,i,n,t){const r=i.getLineCount();let u=n.position.lineNumber;for(;u<r&&this._isBlankLine(i,u);)u++;for(;u<r&&!this._isBlankLine(i,u);)u++;return n.move(t,u,i.getLineMinColumn(u),0)}static moveToBeginningOfLine(s,i,n,t){const r=n.position.lineNumber,u=i.getLineMinColumn(r),f=i.getLineFirstNonWhitespaceColumn(r)||u;let d;return n.position.column===f?d=u:d=f,n.move(t,r,d,0)}static moveToEndOfLine(s,i,n,t,r){const u=n.position.lineNumber,f=i.getLineMaxColumn(u);return n.move(t,u,f,r?1073741824-f:0)}static moveToBeginningOfBuffer(s,i,n,t){return n.move(t,1,1,0)}static moveToEndOfBuffer(s,i,n,t){const r=i.getLineCount(),u=i.getLineMaxColumn(r);return n.move(t,r,u,0)}}e.MoveOperations=v}),define(te[205],ie([1,0,10,123,72,80,204,5,12]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class v{static deleteRight(s,i,n,t){const r=[];let u=s!==3;for(let f=0,d=t.length;f<d;f++){const l=t[f];let o=l;if(o.isEmpty()){const c=l.getPosition(),a=S.MoveOperations.right(i,n,c);o=new m.Range(a.lineNumber,a.column,c.lineNumber,c.column)}if(o.isEmpty()){r[f]=null;continue}o.startLineNumber!==o.endLineNumber&&(u=!0),r[f]=new I.ReplaceCommand(o,"")}return[u,r]}static isAutoClosingPairDelete(s,i,n,t,r,u,f){if(i==="never"&&n==="never"||s==="never")return!1;for(let d=0,l=u.length;d<l;d++){const o=u[d],c=o.getPosition();if(!o.isEmpty())return!1;const a=r.getLineContent(c.lineNumber);if(c.column<2||c.column>=a.length+1)return!1;const g=a.charAt(c.column-2),h=t.get(g);if(!h)return!1;if((0,y.isQuote)(g)){if(n==="never")return!1}else if(i==="never")return!1;const p=a.charAt(c.column-1);let b=!1;for(const w of h)w.open===g&&w.close===p&&(b=!0);if(!b)return!1;if(s==="auto"){let w=!1;for(let E=0,k=f.length;E<k;E++){const M=f[E];if(c.lineNumber===M.startLineNumber&&c.column===M.startColumn){w=!0;break}}if(!w)return!1}}return!0}static _runAutoClosingPairDelete(s,i,n){const t=[];for(let r=0,u=n.length;r<u;r++){const f=n[r].getPosition(),d=new m.Range(f.lineNumber,f.column-1,f.lineNumber,f.column+1);t[r]=new I.ReplaceCommand(d,"")}return[!0,t]}static deleteLeft(s,i,n,t,r){if(this.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,n,t,r))return this._runAutoClosingPairDelete(i,n,t);const u=[];let f=s!==2;for(let d=0,l=t.length;d<l;d++){const o=v.getDeleteRange(t[d],n,i);if(o.isEmpty()){u[d]=null;continue}o.startLineNumber!==o.endLineNumber&&(f=!0),u[d]=new I.ReplaceCommand(o,"")}return[f,u]}static getDeleteRange(s,i,n){if(!s.isEmpty())return s;const t=s.getPosition();if(n.useTabStops&&t.column>1){const r=i.getLineContent(t.lineNumber),u=L.firstNonWhitespaceIndex(r),f=u===-1?r.length+1:u+1;if(t.column<=f){const d=n.visibleColumnFromColumn(i,t),l=D.CursorColumns.prevIndentTabStop(d,n.indentSize),o=n.columnFromVisibleColumn(i,t.lineNumber,l);return new m.Range(t.lineNumber,o,t.lineNumber,t.column)}}return m.Range.fromPositions(v.getPositionAfterDeleteLeft(t,i),t)}static getPositionAfterDeleteLeft(s,i){if(s.column>1){const n=L.getLeftDeleteOffset(s.column-1,i.getLineContent(s.lineNumber));return s.with(void 0,n+1)}else if(s.lineNumber>1){const n=s.lineNumber-1;return new _.Position(n,i.getLineMaxColumn(n))}else return s}static cut(s,i,n){const t=[];let r=null;n.sort((u,f)=>_.Position.compare(u.getStartPosition(),f.getEndPosition()));for(let u=0,f=n.length;u<f;u++){const d=n[u];if(d.isEmpty())if(s.emptySelectionClipboard){const l=d.getPosition();let o,c,a,g;l.lineNumber<i.getLineCount()?(o=l.lineNumber,c=1,a=l.lineNumber+1,g=1):l.lineNumber>1&&r?.endLineNumber!==l.lineNumber?(o=l.lineNumber-1,c=i.getLineMaxColumn(l.lineNumber-1),a=l.lineNumber,g=i.getLineMaxColumn(l.lineNumber)):(o=l.lineNumber,c=1,a=l.lineNumber,g=i.getLineMaxColumn(l.lineNumber));const h=new m.Range(o,c,a,g);r=h,h.isEmpty()?t[u]=null:t[u]=new I.ReplaceCommand(h,"")}else t[u]=null;else t[u]=new I.ReplaceCommand(d,"")}return new y.EditOperationResult(0,t,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=v}),define(te[176],ie([1,0,10,72,205,144,12,5]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class _{static _createWord(i,n,t,r,u){return{start:r,end:u,wordType:n,nextCharClass:t}}static _findPreviousWordOnLine(i,n,t){const r=n.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(r,i,t)}static _doFindPreviousWordOnLine(i,n,t){let r=0;for(let u=t.column-2;u>=0;u--){const f=i.charCodeAt(u),d=n.get(f);if(d===0){if(r===2)return this._createWord(i,r,d,u+1,this._findEndOfWord(i,n,r,u+1));r=1}else if(d===2){if(r===1)return this._createWord(i,r,d,u+1,this._findEndOfWord(i,n,r,u+1));r=2}else if(d===1&&r!==0)return this._createWord(i,r,d,u+1,this._findEndOfWord(i,n,r,u+1))}return r!==0?this._createWord(i,r,1,0,this._findEndOfWord(i,n,r,0)):null}static _findEndOfWord(i,n,t,r){const u=i.length;for(let f=r;f<u;f++){const d=i.charCodeAt(f),l=n.get(d);if(l===1||t===1&&l===2||t===2&&l===0)return f}return u}static _findNextWordOnLine(i,n,t){const r=n.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(r,i,t)}static _doFindNextWordOnLine(i,n,t){let r=0;const u=i.length;for(let f=t.column-1;f<u;f++){const d=i.charCodeAt(f),l=n.get(d);if(l===0){if(r===2)return this._createWord(i,r,l,this._findStartOfWord(i,n,r,f-1),f);r=1}else if(l===2){if(r===1)return this._createWord(i,r,l,this._findStartOfWord(i,n,r,f-1),f);r=2}else if(l===1&&r!==0)return this._createWord(i,r,l,this._findStartOfWord(i,n,r,f-1),f)}return r!==0?this._createWord(i,r,1,this._findStartOfWord(i,n,r,u-1),u):null}static _findStartOfWord(i,n,t,r){for(let u=r;u>=0;u--){const f=i.charCodeAt(u),d=n.get(f);if(d===1||t===1&&d===2||t===2&&d===0)return u+1}return 0}static moveWordLeft(i,n,t,r){let u=t.lineNumber,f=t.column;f===1&&u>1&&(u=u-1,f=n.getLineMaxColumn(u));let d=_._findPreviousWordOnLine(i,n,new S.Position(u,f));if(r===0)return new S.Position(u,d?d.start+1:1);if(r===1)return d&&d.wordType===2&&d.end-d.start===1&&d.nextCharClass===0&&(d=_._findPreviousWordOnLine(i,n,new S.Position(u,d.start+1))),new S.Position(u,d?d.start+1:1);if(r===3){for(;d&&d.wordType===2;)d=_._findPreviousWordOnLine(i,n,new S.Position(u,d.start+1));return new S.Position(u,d?d.start+1:1)}return d&&f<=d.end+1&&(d=_._findPreviousWordOnLine(i,n,new S.Position(u,d.start+1))),new S.Position(u,d?d.end+1:1)}static _moveWordPartLeft(i,n){const t=n.lineNumber,r=i.getLineMaxColumn(t);if(n.column===1)return t>1?new S.Position(t-1,i.getLineMaxColumn(t-1)):n;const u=i.getLineContent(t);for(let f=n.column-1;f>1;f--){const d=u.charCodeAt(f-2),l=u.charCodeAt(f-1);if(d===95&&l!==95)return new S.Position(t,f);if(d===45&&l!==45)return new S.Position(t,f);if((L.isLowerAsciiLetter(d)||L.isAsciiDigit(d))&&L.isUpperAsciiLetter(l))return new S.Position(t,f);if(L.isUpperAsciiLetter(d)&&L.isUpperAsciiLetter(l)&&f+1<r){const o=u.charCodeAt(f);if(L.isLowerAsciiLetter(o)||L.isAsciiDigit(o))return new S.Position(t,f)}}return new S.Position(t,1)}static moveWordRight(i,n,t,r){let u=t.lineNumber,f=t.column,d=!1;f===n.getLineMaxColumn(u)&&u<n.getLineCount()&&(d=!0,u=u+1,f=1);let l=_._findNextWordOnLine(i,n,new S.Position(u,f));if(r===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=_._findNextWordOnLine(i,n,new S.Position(u,l.end+1))),l?f=l.end+1:f=n.getLineMaxColumn(u);else if(r===3){for(d&&(f=0);l&&(l.wordType===2||l.start+1<=f);)l=_._findNextWordOnLine(i,n,new S.Position(u,l.end+1));l?f=l.start+1:f=n.getLineMaxColumn(u)}else l&&!d&&f>=l.start+1&&(l=_._findNextWordOnLine(i,n,new S.Position(u,l.end+1))),l?f=l.start+1:f=n.getLineMaxColumn(u);return new S.Position(u,f)}static _moveWordPartRight(i,n){const t=n.lineNumber,r=i.getLineMaxColumn(t);if(n.column===r)return t<i.getLineCount()?new S.Position(t+1,1):n;const u=i.getLineContent(t);for(let f=n.column+1;f<r;f++){const d=u.charCodeAt(f-2),l=u.charCodeAt(f-1);if(d!==95&&l===95)return new S.Position(t,f);if(d!==45&&l===45)return new S.Position(t,f);if((L.isLowerAsciiLetter(d)||L.isAsciiDigit(d))&&L.isUpperAsciiLetter(l))return new S.Position(t,f);if(L.isUpperAsciiLetter(d)&&L.isUpperAsciiLetter(l)&&f+1<r){const o=u.charCodeAt(f);if(L.isLowerAsciiLetter(o)||L.isAsciiDigit(o))return new S.Position(t,f)}}return new S.Position(t,r)}static _deleteWordLeftWhitespace(i,n){const t=i.getLineContent(n.lineNumber),r=n.column-2,u=L.lastNonWhitespaceIndex(t,r);return u+1<r?new m.Range(n.lineNumber,u+2,n.lineNumber,n.column):null}static deleteWordLeft(i,n){const t=i.wordSeparators,r=i.model,u=i.selection,f=i.whitespaceHeuristics;if(!u.isEmpty())return u;if(y.DeleteOperations.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,i.model,[i.selection],i.autoClosedCharacters)){const a=i.selection.getPosition();return new m.Range(a.lineNumber,a.column-1,a.lineNumber,a.column+1)}const d=new S.Position(u.positionLineNumber,u.positionColumn);let l=d.lineNumber,o=d.column;if(l===1&&o===1)return null;if(f){const a=this._deleteWordLeftWhitespace(r,d);if(a)return a}let c=_._findPreviousWordOnLine(t,r,d);return n===0?c?o=c.start+1:o>1?o=1:(l--,o=r.getLineMaxColumn(l)):(c&&o<=c.end+1&&(c=_._findPreviousWordOnLine(t,r,new S.Position(l,c.start+1))),c?o=c.end+1:o>1?o=1:(l--,o=r.getLineMaxColumn(l))),new m.Range(l,o,d.lineNumber,d.column)}static deleteInsideWord(i,n,t){if(!t.isEmpty())return t;const r=new S.Position(t.positionLineNumber,t.positionColumn),u=this._deleteInsideWordWhitespace(n,r);return u||this._deleteInsideWordDetermineDeleteRange(i,n,r)}static _charAtIsWhitespace(i,n){const t=i.charCodeAt(n);return t===32||t===9}static _deleteInsideWordWhitespace(i,n){const t=i.getLineContent(n.lineNumber),r=t.length;if(r===0)return null;let u=Math.max(n.column-2,0);if(!this._charAtIsWhitespace(t,u))return null;let f=Math.min(n.column-1,r-1);if(!this._charAtIsWhitespace(t,f))return null;for(;u>0&&this._charAtIsWhitespace(t,u-1);)u--;for(;f+1<r&&this._charAtIsWhitespace(t,f+1);)f++;return new m.Range(n.lineNumber,u+1,n.lineNumber,f+2)}static _deleteInsideWordDetermineDeleteRange(i,n,t){const r=n.getLineContent(t.lineNumber),u=r.length;if(u===0)return t.lineNumber>1?new m.Range(t.lineNumber-1,n.getLineMaxColumn(t.lineNumber-1),t.lineNumber,1):t.lineNumber<n.getLineCount()?new m.Range(t.lineNumber,1,t.lineNumber+1,1):new m.Range(t.lineNumber,1,t.lineNumber,1);const f=a=>a.start+1<=t.column&&t.column<=a.end+1,d=(a,g)=>(a=Math.min(a,t.column),g=Math.max(g,t.column),new m.Range(t.lineNumber,a,t.lineNumber,g)),l=a=>{let g=a.start+1,h=a.end+1,p=!1;for(;h-1<u&&this._charAtIsWhitespace(r,h-1);)p=!0,h++;if(!p)for(;g>1&&this._charAtIsWhitespace(r,g-2);)g--;return d(g,h)},o=_._findPreviousWordOnLine(i,n,t);if(o&&f(o))return l(o);const c=_._findNextWordOnLine(i,n,t);return c&&f(c)?l(c):o&&c?d(o.end+1,c.start+1):o?d(o.start+1,o.end+1):c?d(c.start+1,c.end+1):d(1,u+1)}static _deleteWordPartLeft(i,n){if(!n.isEmpty())return n;const t=n.getPosition(),r=_._moveWordPartLeft(i,t);return new m.Range(t.lineNumber,t.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(i,n){const t=i.length;for(let r=n;r<t;r++){const u=i.charAt(r);if(u!==" "&&u!=="	")return r}return t}static _deleteWordRightWhitespace(i,n){const t=i.getLineContent(n.lineNumber),r=n.column-1,u=this._findFirstNonWhitespaceChar(t,r);return r+1<u?new m.Range(n.lineNumber,n.column,n.lineNumber,u+1):null}static deleteWordRight(i,n){const t=i.wordSeparators,r=i.model,u=i.selection,f=i.whitespaceHeuristics;if(!u.isEmpty())return u;const d=new S.Position(u.positionLineNumber,u.positionColumn);let l=d.lineNumber,o=d.column;const c=r.getLineCount(),a=r.getLineMaxColumn(l);if(l===c&&o===a)return null;if(f){const h=this._deleteWordRightWhitespace(r,d);if(h)return h}let g=_._findNextWordOnLine(t,r,d);return n===2?g?o=g.end+1:o<a||l===c?o=a:(l++,g=_._findNextWordOnLine(t,r,new S.Position(l,1)),g?o=g.start+1:o=r.getLineMaxColumn(l)):(g&&o>=g.start+1&&(g=_._findNextWordOnLine(t,r,new S.Position(l,g.end+1))),g?o=g.start+1:o<a||l===c?o=a:(l++,g=_._findNextWordOnLine(t,r,new S.Position(l,1)),g?o=g.start+1:o=r.getLineMaxColumn(l))),new m.Range(l,o,d.lineNumber,d.column)}static _deleteWordPartRight(i,n){if(!n.isEmpty())return n;const t=n.getPosition(),r=_._moveWordPartRight(i,t);return new m.Range(t.lineNumber,t.column,r.lineNumber,r.column)}static _createWordAtPosition(i,n,t){const r=new m.Range(n,t.start+1,n,t.end+1);return{word:i.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(i,n,t){const r=(0,D.getMapForWordSeparators)(n),u=_._findPreviousWordOnLine(r,i,t);if(u&&u.wordType===1&&u.start<=t.column-1&&t.column-1<=u.end)return _._createWordAtPosition(i,t.lineNumber,u);const f=_._findNextWordOnLine(r,i,t);return f&&f.wordType===1&&f.start<=t.column-1&&t.column-1<=f.end?_._createWordAtPosition(i,t.lineNumber,f):null}static word(i,n,t,r,u){const f=(0,D.getMapForWordSeparators)(i.wordSeparators),d=_._findPreviousWordOnLine(f,n,u),l=_._findNextWordOnLine(f,n,u);if(!r){let h,p;return d&&d.wordType===1&&d.start<=u.column-1&&u.column-1<=d.end?(h=d.start+1,p=d.end+1):l&&l.wordType===1&&l.start<=u.column-1&&u.column-1<=l.end?(h=l.start+1,p=l.end+1):(d?h=d.end+1:h=1,l?p=l.start+1:p=n.getLineMaxColumn(u.lineNumber)),new I.SingleCursorState(new m.Range(u.lineNumber,h,u.lineNumber,p),1,0,new S.Position(u.lineNumber,p),0)}let o,c;d&&d.wordType===1&&d.start<u.column-1&&u.column-1<d.end?(o=d.start+1,c=d.end+1):l&&l.wordType===1&&l.start<u.column-1&&u.column-1<l.end?(o=l.start+1,c=l.end+1):(o=u.column,c=u.column);const a=u.lineNumber;let g;if(t.selectionStart.containsPosition(u))g=t.selectionStart.endColumn;else if(u.isBeforeOrEqual(t.selectionStart.getStartPosition())){g=o;const h=new S.Position(a,g);t.selectionStart.containsPosition(h)&&(g=t.selectionStart.endColumn)}else{g=c;const h=new S.Position(a,g);t.selectionStart.containsPosition(h)&&(g=t.selectionStart.startColumn)}return t.move(!0,a,g,0)}}e.WordOperations=_;class v extends _{static deleteWordPartLeft(i){const n=C([_.deleteWordLeft(i,0),_.deleteWordLeft(i,2),_._deleteWordPartLeft(i.model,i.selection)]);return n.sort(m.Range.compareRangesUsingEnds),n[2]}static deleteWordPartRight(i){const n=C([_.deleteWordRight(i,0),_.deleteWordRight(i,2),_._deleteWordPartRight(i.model,i.selection)]);return n.sort(m.Range.compareRangesUsingStarts),n[0]}static moveWordPartLeft(i,n,t){const r=C([_.moveWordLeft(i,n,t,0),_.moveWordLeft(i,n,t,2),_._moveWordPartLeft(n,t)]);return r.sort(S.Position.compare),r[2]}static moveWordPartRight(i,n,t){const r=C([_.moveWordRight(i,n,t,0),_.moveWordRight(i,n,t,2),_._moveWordPartRight(n,t)]);return r.sort(S.Position.compare),r[0]}}e.WordPartOperations=v;function C(s){return s.filter(i=>!!i)}}),define(te[206],ie([1,0,20,72,204,176,12,5]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class _{static addCursorDown(s,i,n){const t=[];let r=0;for(let u=0,f=i.length;u<f;u++){const d=i[u];t[r++]=new I.CursorState(d.modelState,d.viewState),n?t[r++]=I.CursorState.fromModelState(y.MoveOperations.translateDown(s.cursorConfig,s.model,d.modelState)):t[r++]=I.CursorState.fromViewState(y.MoveOperations.translateDown(s.cursorConfig,s,d.viewState))}return t}static addCursorUp(s,i,n){const t=[];let r=0;for(let u=0,f=i.length;u<f;u++){const d=i[u];t[r++]=new I.CursorState(d.modelState,d.viewState),n?t[r++]=I.CursorState.fromModelState(y.MoveOperations.translateUp(s.cursorConfig,s.model,d.modelState)):t[r++]=I.CursorState.fromViewState(y.MoveOperations.translateUp(s.cursorConfig,s,d.viewState))}return t}static moveToBeginningOfLine(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r];t[r]=this._moveToLineStart(s,f,n)}return t}static _moveToLineStart(s,i,n){const t=i.viewState.position.column,r=i.modelState.position.column,u=t===r,f=i.viewState.position.lineNumber,d=s.getLineFirstNonWhitespaceColumn(f);return!u&&!(t===d)?this._moveToLineStartByView(s,i,n):this._moveToLineStartByModel(s,i,n)}static _moveToLineStartByView(s,i,n){return I.CursorState.fromViewState(y.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s,i.viewState,n))}static _moveToLineStartByModel(s,i,n){return I.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s.model,i.modelState,n))}static moveToEndOfLine(s,i,n,t){const r=[];for(let u=0,f=i.length;u<f;u++){const d=i[u];r[u]=this._moveToLineEnd(s,d,n,t)}return r}static _moveToLineEnd(s,i,n,t){const r=i.viewState.position,u=s.getLineMaxColumn(r.lineNumber),f=r.column===u,d=i.modelState.position,l=s.model.getLineMaxColumn(d.lineNumber),o=u-r.column===l-d.column;return f||o?this._moveToLineEndByModel(s,i,n,t):this._moveToLineEndByView(s,i,n,t)}static _moveToLineEndByView(s,i,n,t){return I.CursorState.fromViewState(y.MoveOperations.moveToEndOfLine(s.cursorConfig,s,i.viewState,n,t))}static _moveToLineEndByModel(s,i,n,t){return I.CursorState.fromModelState(y.MoveOperations.moveToEndOfLine(s.cursorConfig,s.model,i.modelState,n,t))}static expandLineSelection(s,i){const n=[];for(let t=0,r=i.length;t<r;t++){const u=i[t],f=u.modelState.selection.startLineNumber,d=s.model.getLineCount();let l=u.modelState.selection.endLineNumber,o;l===d?o=s.model.getLineMaxColumn(d):(l++,o=1),n[t]=I.CursorState.fromModelState(new I.SingleCursorState(new m.Range(f,1,f,1),0,0,new S.Position(l,o),0))}return n}static moveToBeginningOfBuffer(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r];t[r]=I.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfBuffer(s.cursorConfig,s.model,f.modelState,n))}return t}static moveToEndOfBuffer(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r];t[r]=I.CursorState.fromModelState(y.MoveOperations.moveToEndOfBuffer(s.cursorConfig,s.model,f.modelState,n))}return t}static selectAll(s,i){const n=s.model.getLineCount(),t=s.model.getLineMaxColumn(n);return I.CursorState.fromModelState(new I.SingleCursorState(new m.Range(1,1,1,1),0,0,new S.Position(n,t),0))}static line(s,i,n,t,r){const u=s.model.validatePosition(t),f=r?s.coordinatesConverter.validateViewPosition(new S.Position(r.lineNumber,r.column),u):s.coordinatesConverter.convertModelPositionToViewPosition(u);if(!n){const l=s.model.getLineCount();let o=u.lineNumber+1,c=1;return o>l&&(o=l,c=s.model.getLineMaxColumn(o)),I.CursorState.fromModelState(new I.SingleCursorState(new m.Range(u.lineNumber,1,o,c),2,0,new S.Position(o,c),0))}const d=i.modelState.selectionStart.getStartPosition().lineNumber;if(u.lineNumber<d)return I.CursorState.fromViewState(i.viewState.move(!0,f.lineNumber,1,0));if(u.lineNumber>d){const l=s.getLineCount();let o=f.lineNumber+1,c=1;return o>l&&(o=l,c=s.getLineMaxColumn(o)),I.CursorState.fromViewState(i.viewState.move(!0,o,c,0))}else{const l=i.modelState.selectionStart.getEndPosition();return I.CursorState.fromModelState(i.modelState.move(!0,l.lineNumber,l.column,0))}}static word(s,i,n,t){const r=s.model.validatePosition(t);return I.CursorState.fromModelState(D.WordOperations.word(s.cursorConfig,s.model,i.modelState,n,r))}static cancelSelection(s,i){if(!i.modelState.hasSelection())return new I.CursorState(i.modelState,i.viewState);const n=i.viewState.position.lineNumber,t=i.viewState.position.column;return I.CursorState.fromViewState(new I.SingleCursorState(new m.Range(n,t,n,t),0,0,new S.Position(n,t),0))}static moveTo(s,i,n,t,r){if(n){if(i.modelState.selectionStartKind===1)return this.word(s,i,n,t);if(i.modelState.selectionStartKind===2)return this.line(s,i,n,t,r)}const u=s.model.validatePosition(t),f=r?s.coordinatesConverter.validateViewPosition(new S.Position(r.lineNumber,r.column),u):s.coordinatesConverter.convertModelPositionToViewPosition(u);return I.CursorState.fromViewState(i.viewState.move(n,f.lineNumber,f.column,0))}static simpleMove(s,i,n,t,r,u){switch(n){case 0:return u===4?this._moveHalfLineLeft(s,i,t):this._moveLeft(s,i,t,r);case 1:return u===4?this._moveHalfLineRight(s,i,t):this._moveRight(s,i,t,r);case 2:return u===2?this._moveUpByViewLines(s,i,t,r):this._moveUpByModelLines(s,i,t,r);case 3:return u===2?this._moveDownByViewLines(s,i,t,r):this._moveDownByModelLines(s,i,t,r);case 4:return u===2?i.map(f=>I.CursorState.fromViewState(y.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s,f.viewState,t))):i.map(f=>I.CursorState.fromModelState(y.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s.model,f.modelState,t)));case 5:return u===2?i.map(f=>I.CursorState.fromViewState(y.MoveOperations.moveToNextBlankLine(s.cursorConfig,s,f.viewState,t))):i.map(f=>I.CursorState.fromModelState(y.MoveOperations.moveToNextBlankLine(s.cursorConfig,s.model,f.modelState,t)));case 6:return this._moveToViewMinColumn(s,i,t);case 7:return this._moveToViewFirstNonWhitespaceColumn(s,i,t);case 8:return this._moveToViewCenterColumn(s,i,t);case 9:return this._moveToViewMaxColumn(s,i,t);case 10:return this._moveToViewLastNonWhitespaceColumn(s,i,t);default:return null}}static viewportMove(s,i,n,t,r){const u=s.getCompletelyVisibleViewRange(),f=s.coordinatesConverter.convertViewRangeToModelRange(u);switch(n){case 11:{const d=this._firstLineNumberInRange(s.model,f,r),l=s.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(s,i[0],t,d,l)]}case 13:{const d=this._lastLineNumberInRange(s.model,f,r),l=s.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(s,i[0],t,d,l)]}case 12:{const d=Math.round((f.startLineNumber+f.endLineNumber)/2),l=s.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(s,i[0],t,d,l)]}case 14:{const d=[];for(let l=0,o=i.length;l<o;l++){const c=i[l];d[l]=this.findPositionInViewportIfOutside(s,c,u,t)}return d}default:return null}}static findPositionInViewportIfOutside(s,i,n,t){const r=i.viewState.position.lineNumber;if(n.startLineNumber<=r&&r<=n.endLineNumber-1)return new I.CursorState(i.modelState,i.viewState);{let u;r>n.endLineNumber-1?u=n.endLineNumber-1:r<n.startLineNumber?u=n.startLineNumber:u=r;const f=y.MoveOperations.vertical(s.cursorConfig,s,r,i.viewState.position.column,i.viewState.leftoverVisibleColumns,u,!1);return I.CursorState.fromViewState(i.viewState.move(t,f.lineNumber,f.column,f.leftoverVisibleColumns))}}static _firstLineNumberInRange(s,i,n){let t=i.startLineNumber;return i.startColumn!==s.getLineMinColumn(t)&&t++,Math.min(i.endLineNumber,t+n-1)}static _lastLineNumberInRange(s,i,n){let t=i.startLineNumber;return i.startColumn!==s.getLineMinColumn(t)&&t++,Math.max(t,i.endLineNumber-n+1)}static _moveLeft(s,i,n,t){return i.map(r=>I.CursorState.fromViewState(y.MoveOperations.moveLeft(s.cursorConfig,s,r.viewState,n,t)))}static _moveHalfLineLeft(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r],d=f.viewState.position.lineNumber,l=Math.round(s.getLineContent(d).length/2);t[r]=I.CursorState.fromViewState(y.MoveOperations.moveLeft(s.cursorConfig,s,f.viewState,n,l))}return t}static _moveRight(s,i,n,t){return i.map(r=>I.CursorState.fromViewState(y.MoveOperations.moveRight(s.cursorConfig,s,r.viewState,n,t)))}static _moveHalfLineRight(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r],d=f.viewState.position.lineNumber,l=Math.round(s.getLineContent(d).length/2);t[r]=I.CursorState.fromViewState(y.MoveOperations.moveRight(s.cursorConfig,s,f.viewState,n,l))}return t}static _moveDownByViewLines(s,i,n,t){const r=[];for(let u=0,f=i.length;u<f;u++){const d=i[u];r[u]=I.CursorState.fromViewState(y.MoveOperations.moveDown(s.cursorConfig,s,d.viewState,n,t))}return r}static _moveDownByModelLines(s,i,n,t){const r=[];for(let u=0,f=i.length;u<f;u++){const d=i[u];r[u]=I.CursorState.fromModelState(y.MoveOperations.moveDown(s.cursorConfig,s.model,d.modelState,n,t))}return r}static _moveUpByViewLines(s,i,n,t){const r=[];for(let u=0,f=i.length;u<f;u++){const d=i[u];r[u]=I.CursorState.fromViewState(y.MoveOperations.moveUp(s.cursorConfig,s,d.viewState,n,t))}return r}static _moveUpByModelLines(s,i,n,t){const r=[];for(let u=0,f=i.length;u<f;u++){const d=i[u];r[u]=I.CursorState.fromModelState(y.MoveOperations.moveUp(s.cursorConfig,s.model,d.modelState,n,t))}return r}static _moveToViewPosition(s,i,n,t,r){return I.CursorState.fromViewState(i.viewState.move(n,t,r,0))}static _moveToModelPosition(s,i,n,t,r){return I.CursorState.fromModelState(i.modelState.move(n,t,r,0))}static _moveToViewMinColumn(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r],d=f.viewState.position.lineNumber,l=s.getLineMinColumn(d);t[r]=this._moveToViewPosition(s,f,n,d,l)}return t}static _moveToViewFirstNonWhitespaceColumn(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r],d=f.viewState.position.lineNumber,l=s.getLineFirstNonWhitespaceColumn(d);t[r]=this._moveToViewPosition(s,f,n,d,l)}return t}static _moveToViewCenterColumn(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r],d=f.viewState.position.lineNumber,l=Math.round((s.getLineMaxColumn(d)+s.getLineMinColumn(d))/2);t[r]=this._moveToViewPosition(s,f,n,d,l)}return t}static _moveToViewMaxColumn(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r],d=f.viewState.position.lineNumber,l=s.getLineMaxColumn(d);t[r]=this._moveToViewPosition(s,f,n,d,l)}return t}static _moveToViewLastNonWhitespaceColumn(s,i,n){const t=[];for(let r=0,u=i.length;r<u;r++){const f=i[r],d=f.viewState.position.lineNumber,l=s.getLineLastNonWhitespaceColumn(d);t[r]=this._moveToViewPosition(s,f,n,d,l)}return t}}e.CursorMoveCommands=_;var v;(function(C){const s=function(n){if(!L.isObject(n))return!1;const t=n;return!(!L.isString(t.to)||!L.isUndefined(t.select)&&!L.isBoolean(t.select)||!L.isUndefined(t.by)&&!L.isString(t.by)||!L.isUndefined(t.value)&&!L.isNumber(t.value))};C.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:s,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},C.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},C.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function i(n){if(!n.to)return null;let t;switch(n.to){case C.RawDirection.Left:t=0;break;case C.RawDirection.Right:t=1;break;case C.RawDirection.Up:t=2;break;case C.RawDirection.Down:t=3;break;case C.RawDirection.PrevBlankLine:t=4;break;case C.RawDirection.NextBlankLine:t=5;break;case C.RawDirection.WrappedLineStart:t=6;break;case C.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case C.RawDirection.WrappedLineColumnCenter:t=8;break;case C.RawDirection.WrappedLineEnd:t=9;break;case C.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case C.RawDirection.ViewPortTop:t=11;break;case C.RawDirection.ViewPortBottom:t=13;break;case C.RawDirection.ViewPortCenter:t=12;break;case C.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let r=0;switch(n.by){case C.RawUnit.Line:r=1;break;case C.RawUnit.WrappedLine:r=2;break;case C.RawUnit.Character:r=3;break;case C.RawUnit.HalfLine:r=4;break}return{direction:t,unit:r,select:!!n.select,value:n.value||1}}C.parse=i})(v||(e.CursorMove=v={}))}),define(te[500],ie([1,0,72,12,5,24]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(_){this._selTrackedRange=null,this._trackSelection=!0,this._setState(_,new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new I.Position(1,1),0),new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new I.Position(1,1),0))}dispose(_){this._removeTrackedRange(_)}startTrackingSelection(_){this._trackSelection=!0,this._updateTrackedRange(_)}stopTrackingSelection(_){this._trackSelection=!1,this._removeTrackedRange(_)}_updateTrackedRange(_){this._trackSelection&&(this._selTrackedRange=_.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(_){this._selTrackedRange=_.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new L.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(_){const v=_.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!v.isEmpty()?D.Selection.fromRange(v.collapseToEnd(),this.modelState.selection.getDirection()):D.Selection.fromRange(v,this.modelState.selection.getDirection())}ensureValidState(_){this._setState(_,this.modelState,this.viewState)}setState(_,v,C){this._setState(_,v,C)}static _validatePositionWithCache(_,v,C,s){return v.equals(C)?s:_.normalizePosition(v,2)}static _validateViewState(_,v){const C=v.position,s=v.selectionStart.getStartPosition(),i=v.selectionStart.getEndPosition(),n=_.normalizePosition(C,2),t=this._validatePositionWithCache(_,s,C,n),r=this._validatePositionWithCache(_,i,s,t);return C.equals(n)&&s.equals(t)&&i.equals(r)?v:new L.SingleCursorState(y.Range.fromPositions(t,r),v.selectionStartKind,v.selectionStartLeftoverVisibleColumns+s.column-t.column,n,v.leftoverVisibleColumns+C.column-n.column)}_setState(_,v,C){if(C&&(C=S._validateViewState(_.viewModel,C)),v){const s=_.model.validateRange(v.selectionStart),i=v.selectionStart.equalsRange(s)?v.selectionStartLeftoverVisibleColumns:0,n=_.model.validatePosition(v.position),t=v.position.equals(n)?v.leftoverVisibleColumns:0;v=new L.SingleCursorState(s,v.selectionStartKind,i,n,t)}else{if(!C)return;const s=_.model.validateRange(_.coordinatesConverter.convertViewRangeToModelRange(C.selectionStart)),i=_.model.validatePosition(_.coordinatesConverter.convertViewPositionToModelPosition(C.position));v=new L.SingleCursorState(s,C.selectionStartKind,C.selectionStartLeftoverVisibleColumns,i,C.leftoverVisibleColumns)}if(C){const s=_.coordinatesConverter.validateViewRange(C.selectionStart,v.selectionStart),i=_.coordinatesConverter.validateViewPosition(C.position,v.position);C=new L.SingleCursorState(s,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,i,v.leftoverVisibleColumns)}else{const s=_.coordinatesConverter.convertModelPositionToViewPosition(new I.Position(v.selectionStart.startLineNumber,v.selectionStart.startColumn)),i=_.coordinatesConverter.convertModelPositionToViewPosition(new I.Position(v.selectionStart.endLineNumber,v.selectionStart.endColumn)),n=new y.Range(s.lineNumber,s.column,i.lineNumber,i.column),t=_.coordinatesConverter.convertModelPositionToViewPosition(v.position);C=new L.SingleCursorState(n,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,t,v.leftoverVisibleColumns)}this.modelState=v,this.viewState=C,this._updateTrackedRange(_)}}e.Cursor=S}),define(te[501],ie([1,0,13,68,72,500,12,5,24]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class v{constructor(s){this.context=s,this.cursors=[new D.Cursor(s)],this.lastAddedCursorIndex=0}dispose(){for(const s of this.cursors)s.dispose(this.context)}startTrackingSelections(){for(const s of this.cursors)s.startTrackingSelection(this.context)}stopTrackingSelections(){for(const s of this.cursors)s.stopTrackingSelection(this.context)}updateContext(s){this.context=s}ensureValidState(){for(const s of this.cursors)s.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(s=>s.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(s=>s.asCursorState())}getViewPositions(){return this.cursors.map(s=>s.viewState.position)}getTopMostViewPosition(){return(0,I.findFirstMinBy)(this.cursors,(0,L.compareBy)(s=>s.viewState.position,S.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,I.findLastMaxBy)(this.cursors,(0,L.compareBy)(s=>s.viewState.position,S.Position.compare)).viewState.position}getSelections(){return this.cursors.map(s=>s.modelState.selection)}getViewSelections(){return this.cursors.map(s=>s.viewState.selection)}setSelections(s){this.setStates(y.CursorState.fromModelSelections(s))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(s){s!==null&&(this.cursors[0].setState(this.context,s[0].modelState,s[0].viewState),this._setSecondaryStates(s.slice(1)))}_setSecondaryStates(s){const i=this.cursors.length-1,n=s.length;if(i<n){const t=n-i;for(let r=0;r<t;r++)this._addSecondaryCursor()}else if(i>n){const t=i-n;for(let r=0;r<t;r++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<n;t++)this.cursors[t+1].setState(this.context,s[t].modelState,s[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new D.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(s){this.lastAddedCursorIndex>=s+1&&this.lastAddedCursorIndex--,this.cursors[s+1].dispose(this.context),this.cursors.splice(s+1,1)}normalize(){if(this.cursors.length===1)return;const s=this.cursors.slice(0),i=[];for(let n=0,t=s.length;n<t;n++)i.push({index:n,selection:s[n].modelState.selection});i.sort((0,L.compareBy)(n=>n.selection,m.Range.compareRangesUsingStarts));for(let n=0;n<i.length-1;n++){const t=i[n],r=i[n+1],u=t.selection,f=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let d;if(f.isEmpty()||u.isEmpty()?d=f.getStartPosition().isBeforeOrEqual(u.getEndPosition()):d=f.getStartPosition().isBefore(u.getEndPosition()),d){const l=t.index<r.index?n:n+1,o=t.index<r.index?n+1:n,c=i[o].index,a=i[l].index,g=i[o].selection,h=i[l].selection;if(!g.equalsSelection(h)){const p=g.plusRange(h),b=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,w=h.selectionStartLineNumber===h.startLineNumber&&h.selectionStartColumn===h.startColumn;let E;c===this.lastAddedCursorIndex?(E=b,this.lastAddedCursorIndex=a):E=w;let k;E?k=new _.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):k=new _.Selection(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),i[l].selection=k;const M=y.CursorState.fromModelSelection(k);s[a].setState(this.context,M.modelState,M.viewState)}for(const p of i)p.index>c&&p.index--;s.splice(c,1),i.splice(o,1),this._removeSecondaryCursor(c-1),n--}}}}e.CursorCollection=v}),define(te[502],ie([1,0,109]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class I{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(S=>new L.StandardAutoClosingPairConditional(S)):D.brackets?this._autoClosingPairs=D.brackets.map(S=>new L.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const S=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new L.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBeforeForQuotes=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(D){return D?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=I,I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(te[503],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function L(y){return y.global&&(y.lastIndex=0),!0}class I{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&L(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&L(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&L(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&L(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let S=0;return this.shouldIncrease(D)&&(S+=1),this.shouldDecrease(D)&&(S+=2),this.shouldIndentNextLine(D)&&(S+=4),this.shouldIgnore(D)&&(S+=8),S}}e.IndentRulesSupport=I}),define(te[504],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class L{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(y,D,S,m,_){if(y&&D){const v=this.doNavigateValueSet(D,_);if(v)return{range:y,value:v}}if(S&&m){const v=this.doNavigateValueSet(m,_);if(v)return{range:S,value:v}}return null}doNavigateValueSet(y,D){const S=this.numberReplace(y,D);return S!==null?S:this.textReplace(y,D)}numberReplace(y,D){const S=Math.pow(10,y.length-(y.lastIndexOf(".")+1));let m=Number(y);const _=parseFloat(y);return!isNaN(m)&&!isNaN(_)&&m===_?m===0&&!D?null:(m=Math.floor(m*S),m+=D?S:-S,String(m/S)):null}textReplace(y,D){return this.valueSetsReplace(this._defaultValueSet,y,D)}valueSetsReplace(y,D,S){let m=null;for(let _=0,v=y.length;m===null&&_<v;_++)m=this.valueSetReplace(y[_],D,S);return m}valueSetReplace(y,D,S){let m=y.indexOf(D);return m>=0?(m+=S?1:-1,m<0?m=y.length-1:m%=y.length,y[m]):null}}e.BasicInplaceReplace=L,L.INSTANCE=new L}),define(te[505],ie([1,0,259]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class I{constructor(v,C){this.languageId=v;const s=C.brackets?y(C.brackets):[],i=new L.CachedFunction(r=>{const u=new Set;return{info:new S(this,r,u),closing:u}}),n=new L.CachedFunction(r=>{const u=new Set,f=new Set;return{info:new m(this,r,u,f),opening:u,openingColorized:f}});for(const[r,u]of s){const f=i.get(r),d=n.get(u);f.closing.add(d.info),d.opening.add(f.info)}const t=C.colorizedBracketPairs?y(C.colorizedBracketPairs):s.filter(r=>!(r[0]==="<"&&r[1]===">"));for(const[r,u]of t){const f=i.get(r),d=n.get(u);f.closing.add(d.info),d.openingColorized.add(f.info),d.opening.add(f.info)}this._openingBrackets=new Map([...i.cachedValues].map(([r,u])=>[r,u.info])),this._closingBrackets=new Map([...n.cachedValues].map(([r,u])=>[r,u.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(v){return this._openingBrackets.get(v)}getClosingBracketInfo(v){return this._closingBrackets.get(v)}getBracketInfo(v){return this.getOpeningBracketInfo(v)||this.getClosingBracketInfo(v)}}e.LanguageBracketsConfiguration=I;function y(_){return _.filter(([v,C])=>v!==""&&C!=="")}class D{constructor(v,C){this.config=v,this.bracketText=C}get languageId(){return this.config.languageId}}e.BracketKindBase=D;class S extends D{constructor(v,C,s){super(v,C),this.openedBrackets=s,this.isOpeningBracket=!0}}e.OpeningBracketKind=S;class m extends D{constructor(v,C,s,i){super(v,C),this.openingBrackets=s,this.openingColorizedBrackets=i,this.isOpeningBracket=!1}closes(v){return v.config!==this.config?!1:this.openingBrackets.has(v)}closesColorized(v){return v.config!==this.config?!1:this.openingColorizedBrackets.has(v)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=m}),define(te[506],ie([1,0,9,10,109]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(m){m=m||{},m.brackets=m.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],m.brackets.forEach(_=>{const v=D._createOpenBracketRegExp(_[0]),C=D._createCloseBracketRegExp(_[1]);v&&C&&this._brackets.push({open:_[0],openRegExp:v,close:_[1],closeRegExp:C})}),this._regExpRules=m.onEnterRules||[]}onEnter(m,_,v,C){if(m>=3)for(let s=0,i=this._regExpRules.length;s<i;s++){const n=this._regExpRules[s];if([{reg:n.beforeText,text:v},{reg:n.afterText,text:C},{reg:n.previousLineText,text:_}].every(r=>r.reg?(r.reg.lastIndex=0,r.reg.test(r.text)):!0))return n.action}if(m>=2&&v.length>0&&C.length>0)for(let s=0,i=this._brackets.length;s<i;s++){const n=this._brackets[s];if(n.openRegExp.test(v)&&n.closeRegExp.test(C))return{indentAction:y.IndentAction.IndentOutdent}}if(m>=2&&v.length>0){for(let s=0,i=this._brackets.length;s<i;s++)if(this._brackets[s].openRegExp.test(v))return{indentAction:y.IndentAction.Indent}}return null}static _createOpenBracketRegExp(m){let _=I.escapeRegExpCharacters(m);return/\B/.test(_.charAt(0))||(_="\\b"+_),_+="\\s*$",D._safeRegExp(_)}static _createCloseBracketRegExp(m){let _=I.escapeRegExpCharacters(m);return/\B/.test(_.charAt(_.length-1))||(_=_+"\\b"),_="^\\s*"+_,D._safeRegExp(_)}static _safeRegExp(m){try{return new RegExp(m)}catch(_){return(0,L.onUnexpectedError)(_),null}}}e.OnEnterSupport=D}),define(te[507],ie([1,0,36]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class I{constructor(u,f,d,l,o){this._parsedThemeRuleBrand=void 0,this.token=u,this.index=f,this.fontStyle=d,this.foreground=l,this.background=o}}e.ParsedTokenThemeRule=I;function y(r){if(!r||!Array.isArray(r))return[];const u=[];let f=0;for(let d=0,l=r.length;d<l;d++){const o=r[d];let c=-1;if(typeof o.fontStyle=="string"){c=0;const h=o.fontStyle.split(" ");for(let p=0,b=h.length;p<b;p++)switch(h[p]){case"italic":c=c|1;break;case"bold":c=c|2;break;case"underline":c=c|4;break;case"strikethrough":c=c|8;break}}let a=null;typeof o.foreground=="string"&&(a=o.foreground);let g=null;typeof o.background=="string"&&(g=o.background),u[f++]=new I(o.token||"",d,c,a,g)}return u}e.parseTokenTheme=y;function D(r,u){r.sort((p,b)=>{const w=s(p.token,b.token);return w!==0?w:p.index-b.index});let f=0,d="000000",l="ffffff";for(;r.length>=1&&r[0].token==="";){const p=r.shift();p.fontStyle!==-1&&(f=p.fontStyle),p.foreground!==null&&(d=p.foreground),p.background!==null&&(l=p.background)}const o=new m;for(const p of u)o.getId(p);const c=o.getId(d),a=o.getId(l),g=new i(f,c,a),h=new n(g);for(let p=0,b=r.length;p<b;p++){const w=r[p];h.insert(w.token,w.fontStyle,o.getId(w.foreground),o.getId(w.background))}return new _(o,h)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class m{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(u){if(u===null)return 0;const f=u.match(S);if(!f)throw new Error("Illegal value for token color: "+u);u=f[1].toUpperCase();let d=this._color2id.get(u);return d||(d=++this._lastColorId,this._color2id.set(u,d),this._id2color[d]=L.Color.fromHex("#"+u),d)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=m;class _{static createFromRawTokenTheme(u,f){return this.createFromParsedTokenTheme(y(u),f)}static createFromParsedTokenTheme(u,f){return D(u,f)}constructor(u,f){this._colorMap=u,this._root=f,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(u){return this._root.match(u)}match(u,f){let d=this._cache.get(f);if(typeof d>"u"){const l=this._match(f),o=C(f);d=(l.metadata|o<<8)>>>0,this._cache.set(f,d)}return(d|u<<0)>>>0}}e.TokenTheme=_;const v=/\b(comment|string|regex|regexp)\b/;function C(r){const u=r.match(v);if(!u)return 0;switch(u[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=C;function s(r,u){return r<u?-1:r>u?1:0}e.strcmp=s;class i{constructor(u,f,d){this._themeTrieElementRuleBrand=void 0,this._fontStyle=u,this._foreground=f,this._background=d,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new i(this._fontStyle,this._foreground,this._background)}acceptOverwrite(u,f,d){u!==-1&&(this._fontStyle=u),f!==0&&(this._foreground=f),d!==0&&(this._background=d),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=i;class n{constructor(u){this._themeTrieElementBrand=void 0,this._mainRule=u,this._children=new Map}match(u){if(u==="")return this._mainRule;const f=u.indexOf(".");let d,l;f===-1?(d=u,l=""):(d=u.substring(0,f),l=u.substring(f+1));const o=this._children.get(d);return typeof o<"u"?o.match(l):this._mainRule}insert(u,f,d,l){if(u===""){this._mainRule.acceptOverwrite(f,d,l);return}const o=u.indexOf(".");let c,a;o===-1?(c=u,a=""):(c=u.substring(0,o),a=u.substring(o+1));let g=this._children.get(c);typeof g>"u"&&(g=new n(this._mainRule.clone()),this._children.set(c,g)),g.insert(a,f,d,l)}}e.ThemeTrieElement=n;function t(r){const u=[];for(let f=1,d=r.length;f<d;f++){const l=r[f];u[f]=`.mtk${f} { color: ${l}; }`}return u.push(".mtki { font-style: italic; }"),u.push(".mtkb { font-weight: bold; }"),u.push(".mtku { text-decoration: underline; text-underline-position: under; }"),u.push(".mtks { text-decoration: line-through; }"),u.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),u.join(`
`)}e.generateTokensCSSForColorMap=t}),define(te[49],ie([1,0,52]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.GlyphMarginLane=e.OverviewRulerLane=void 0;var I;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(I||(e.OverviewRulerLane=I={}));var y;(function(t){t[t.Left=1]="Left",t[t.Right=2]="Right"})(y||(e.GlyphMarginLane=y={}));var D;(function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"})(D||(e.MinimapPosition=D={}));var S;(function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"})(S||(e.InjectedTextCursorStops=S={}));class m{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(r){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,r.tabSize|0),r.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,r.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!r.insertSpaces,this.defaultEOL=r.defaultEOL|0,this.trimAutoWhitespace=!!r.trimAutoWhitespace,this.bracketPairColorizationOptions=r.bracketPairColorizationOptions}equals(r){return this.tabSize===r.tabSize&&this._indentSizeIsTabSize===r._indentSizeIsTabSize&&this.indentSize===r.indentSize&&this.insertSpaces===r.insertSpaces&&this.defaultEOL===r.defaultEOL&&this.trimAutoWhitespace===r.trimAutoWhitespace&&(0,L.equals)(this.bracketPairColorizationOptions,r.bracketPairColorizationOptions)}createChangeEvent(r){return{tabSize:this.tabSize!==r.tabSize,indentSize:this.indentSize!==r.indentSize,insertSpaces:this.insertSpaces!==r.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==r.trimAutoWhitespace}}}e.TextModelResolvedOptions=m;class _{constructor(r,u){this._findMatchBrand=void 0,this.range=r,this.matches=u}}e.FindMatch=_;function v(t){return t&&typeof t.read=="function"}e.isITextSnapshot=v;class C{constructor(r,u,f,d,l,o){this.identifier=r,this.range=u,this.text=f,this.forceMoveMarkers=d,this.isAutoWhitespaceEdit=l,this._isTracked=o}}e.ValidAnnotatedEditOperation=C;class s{constructor(r,u,f){this.regex=r,this.wordSeparators=u,this.simpleSearch=f}}e.SearchData=s;class i{constructor(r,u,f){this.reverseEdits=r,this.changes=u,this.trimAutoWhitespaceLineNumbers=f}}e.ApplyEditsResult=i;function n(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}e.shouldSynchronizeModel=n}),define(te[87],ie([1,0,10,5]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthEquals=e.sumLengths=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class y{constructor(g,h){this.lineCount=g,this.columnCount=h}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=y,y.zero=new y(0,0);function D(a,g,h,p){return a!==h?_(h-a,p):_(0,p-g)}e.lengthDiff=D,e.lengthZero=0;function S(a){return a===0}e.lengthIsZero=S;const m=Math.pow(2,26);function _(a,g){return a*m+g}e.toLength=_;function v(a){const g=a,h=Math.floor(g/m),p=g-h*m;return new y(h,p)}e.lengthToObj=v;function C(a){return Math.floor(a/m)}e.lengthGetLineCount=C;function s(a){return a}e.lengthGetColumnCountIfZeroLineCount=s;function i(a,g){let h=a+g;return g>=m&&(h=h-a%m),h}e.lengthAdd=i;function n(a,g){return a.reduce((h,p)=>i(h,g(p)),e.lengthZero)}e.sumLengths=n;function t(a,g){return a===g}e.lengthEquals=t;function r(a,g){const h=a,p=g;if(p-h<=0)return e.lengthZero;const w=Math.floor(h/m),E=Math.floor(p/m),k=p-E*m;if(w===E){const M=h-w*m;return _(0,k-M)}else return _(E-w,k)}e.lengthDiffNonNegative=r;function u(a,g){return a<g}e.lengthLessThan=u;function f(a,g){return a<=g}e.lengthLessThanEqual=f;function d(a,g){return a>=g}e.lengthGreaterThanEqual=d;function l(a){return _(a.lineNumber-1,a.column-1)}e.positionToLength=l;function o(a,g){const h=a,p=Math.floor(h/m),b=h-p*m,w=g,E=Math.floor(w/m),k=w-E*m;return new I.Range(p+1,b+1,E+1,k+1)}e.lengthsToRange=o;function c(a){const g=(0,L.splitLines)(a);return _(g.length-1,g[g.length-1].length)}e.lengthOfString=c}),define(te[177],ie([1,0,5,87]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class y{static fromModelContentChanges(_){return _.map(C=>{const s=L.Range.lift(C.range);return new y((0,I.positionToLength)(s.getStartPosition()),(0,I.positionToLength)(s.getEndPosition()),(0,I.lengthOfString)(C.text))}).reverse()}constructor(_,v,C){this.startOffset=_,this.endOffset=v,this.newLength=C}toString(){return`[${(0,I.lengthToObj)(this.startOffset)}...${(0,I.lengthToObj)(this.endOffset)}) -> ${(0,I.lengthToObj)(this.newLength)}`}}e.TextEditInfo=y;class D{constructor(_){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=_.map(v=>S.from(v))}getOffsetBeforeChange(_){return this.adjustNextEdit(_),this.translateCurToOld(_)}getDistanceToNextChange(_){this.adjustNextEdit(_);const v=this.edits[this.nextEditIdx],C=v?this.translateOldToCur(v.offsetObj):null;return C===null?null:(0,I.lengthDiffNonNegative)(_,C)}translateOldToCur(_){return _.lineCount===this.deltaLineIdxInOld?(0,I.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount+this.deltaOldToNewColumnCount):(0,I.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount)}translateCurToOld(_){const v=(0,I.lengthToObj)(_);return v.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,I.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount-this.deltaOldToNewColumnCount):(0,I.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount)}adjustNextEdit(_){for(;this.nextEditIdx<this.edits.length;){const v=this.edits[this.nextEditIdx],C=this.translateOldToCur(v.endOffsetAfterObj);if((0,I.lengthLessThanEqual)(C,_)){this.nextEditIdx++;const s=(0,I.lengthToObj)(C),i=(0,I.lengthToObj)(this.translateOldToCur(v.endOffsetBeforeObj)),n=s.lineCount-i.lineCount;this.deltaOldToNewLineCount+=n;const t=this.deltaLineIdxInOld===v.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,r=s.columnCount-i.columnCount;this.deltaOldToNewColumnCount=t+r,this.deltaLineIdxInOld=v.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=D;class S{static from(_){return new S(_.startOffset,_.endOffset,_.newLength)}constructor(_,v,C){this.endOffsetBeforeObj=(0,I.lengthToObj)(v),this.endOffsetAfterObj=(0,I.lengthToObj)((0,I.lengthAdd)(_,C)),this.offsetObj=(0,I.lengthToObj)(_)}}}),define(te[281],ie([1,0,13,177,87]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=void 0;function D(_,v){if(_.length===0)return v;if(v.length===0)return _;const C=new L.ArrayQueue(m(_)),s=m(v);s.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=C.dequeue();function n(f){if(f===void 0){const l=C.takeWhile(o=>!0)||[];return i&&l.unshift(i),l}const d=[];for(;i&&!(0,y.lengthIsZero)(f);){const[l,o]=i.splitAt(f);d.push(l),f=(0,y.lengthDiffNonNegative)(l.lengthAfter,f),i=o??C.dequeue()}return(0,y.lengthIsZero)(f)||d.push(new S(!1,f,f)),d}const t=[];function r(f,d,l){if(t.length>0&&(0,y.lengthEquals)(t[t.length-1].endOffset,f)){const o=t[t.length-1];t[t.length-1]=new I.TextEditInfo(o.startOffset,d,(0,y.lengthAdd)(o.newLength,l))}else t.push({startOffset:f,endOffset:d,newLength:l})}let u=y.lengthZero;for(const f of s){const d=n(f.lengthBefore);if(f.modified){const l=(0,y.sumLengths)(d,c=>c.lengthBefore),o=(0,y.lengthAdd)(u,l);r(u,o,f.lengthAfter),u=o}else for(const l of d){const o=u;u=(0,y.lengthAdd)(u,l.lengthBefore),l.modified&&r(o,u,l.lengthAfter)}}return t}e.combineTextEditInfos=D;class S{constructor(v,C,s){this.modified=v,this.lengthBefore=C,this.lengthAfter=s}splitAt(v){const C=(0,y.lengthDiffNonNegative)(v,this.lengthAfter);return(0,y.lengthEquals)(C,y.lengthZero)?[this,void 0]:this.modified?[new S(this.modified,this.lengthBefore,v),new S(this.modified,y.lengthZero,C)]:[new S(this.modified,v,v),new S(this.modified,C,C)]}toString(){return`${this.modified?"M":"U"}:${(0,y.lengthToObj)(this.lengthBefore)} -> ${(0,y.lengthToObj)(this.lengthAfter)}`}}function m(_){const v=[];let C=y.lengthZero;for(const s of _){const i=(0,y.lengthDiffNonNegative)(C,s.startOffset);(0,y.lengthIsZero)(i)||v.push(new S(!1,i,i));const n=(0,y.lengthDiffNonNegative)(s.startOffset,s.endOffset);v.push(new S(!0,n,s.newLength)),C=s.endOffset}return v}}),define(te[508],ie([1,0,87]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class I{constructor(m){this.lastOffset=L.lengthZero,this.nextNodes=[m],this.offsets=[L.lengthZero],this.idxs=[]}readLongestNodeAt(m,_){if((0,L.lengthLessThan)(m,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=m;;){const v=D(this.nextNodes);if(!v)return;const C=D(this.offsets);if((0,L.lengthLessThan)(m,C))return;if((0,L.lengthLessThan)(C,m))if((0,L.lengthAdd)(C,v.length)<=m)this.nextNodeAfterCurrent();else{const s=y(v);s!==-1?(this.nextNodes.push(v.getChild(s)),this.offsets.push(C),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(_(v))return this.nextNodeAfterCurrent(),v;{const s=y(v);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(v.getChild(s)),this.offsets.push(C),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const m=D(this.offsets),_=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const v=D(this.nextNodes),C=y(v,this.idxs[this.idxs.length-1]);if(C!==-1){this.nextNodes.push(v.getChild(C)),this.offsets.push((0,L.lengthAdd)(m,_.length)),this.idxs[this.idxs.length-1]=C;break}else this.idxs.pop()}}}e.NodeReader=I;function y(S,m=-1){for(;;){if(m++,m>=S.childrenLength)return-1;if(S.getChild(m))return m}}function D(S){return S.length>0?S[S.length-1]:void 0}}),define(te[126],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const L=[];class I{static create(S,m){if(S<=128&&m.length===0){let _=I.cache[S];return _||(_=new I(S,m),I.cache[S]=_),_}return new I(S,m)}static getEmpty(){return this.empty}constructor(S,m){this.items=S,this.additionalItems=m}add(S,m){const _=m.getKey(S);let v=_>>5;if(v===0){const s=1<<_|this.items;return s===this.items?this:I.create(s,this.additionalItems)}v--;const C=this.additionalItems.slice(0);for(;C.length<v;)C.push(0);return C[v]|=1<<(_&31),I.create(this.items,C)}merge(S){const m=this.items|S.items;if(this.additionalItems===L&&S.additionalItems===L)return m===this.items?this:m===S.items?S:I.create(m,L);const _=[];for(let v=0;v<Math.max(this.additionalItems.length,S.additionalItems.length);v++){const C=this.additionalItems[v]||0,s=S.additionalItems[v]||0;_.push(C|s)}return I.create(m,_)}intersects(S){if(this.items&S.items)return!0;for(let m=0;m<Math.min(this.additionalItems.length,S.additionalItems.length);m++)if(this.additionalItems[m]&S.additionalItems[m])return!0;return!1}}e.SmallImmutableSet=I,I.cache=new Array(129),I.empty=I.create(0,L),e.identityKeyProvider={getKey(D){return D}};class y{constructor(){this.items=new Map}getKey(S){let m=this.items.get(S);return m===void 0&&(m=this.items.size,this.items.set(S,m)),m}}e.DenseKeyProvider=y}),define(te[178],ie([1,0,9,80,87,126]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class S{get length(){return this._length}constructor(l){this._length=l}}class m extends S{static create(l,o,c){let a=l.length;return o&&(a=(0,y.lengthAdd)(a,o.length)),c&&(a=(0,y.lengthAdd)(a,c.length)),new m(a,l,o,c,o?o.missingOpeningBracketIds:D.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(l){switch(l){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const l=[];return l.push(this.openingBracket),this.child&&l.push(this.child),this.closingBracket&&l.push(this.closingBracket),l}constructor(l,o,c,a,g){super(l),this.openingBracket=o,this.child=c,this.closingBracket=a,this.missingOpeningBracketIds=g}canBeReused(l){return!(this.closingBracket===null||l.intersects(this.missingOpeningBracketIds))}deepClone(){return new m(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(l,o){return this.child?this.child.computeMinIndentation((0,y.lengthAdd)(l,this.openingBracket.length),o):Number.MAX_SAFE_INTEGER}}e.PairAstNode=m;class _ extends S{static create23(l,o,c,a=!1){let g=l.length,h=l.missingOpeningBracketIds;if(l.listHeight!==o.listHeight)throw new Error("Invalid list heights");if(g=(0,y.lengthAdd)(g,o.length),h=h.merge(o.missingOpeningBracketIds),c){if(l.listHeight!==c.listHeight)throw new Error("Invalid list heights");g=(0,y.lengthAdd)(g,c.length),h=h.merge(c.missingOpeningBracketIds)}return a?new C(g,l.listHeight+1,l,o,c,h):new v(g,l.listHeight+1,l,o,c,h)}static getEmpty(){return new i(y.lengthZero,0,[],D.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(l,o,c){super(l),this.listHeight=o,this._missingOpeningBracketIds=c,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const l=this.childrenLength;if(l===0)return;const o=this.getChild(l-1),c=o.kind===4?o.toMutable():o;return o!==c&&this.setChild(l-1,c),c}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const o=this.getChild(0),c=o.kind===4?o.toMutable():o;return o!==c&&this.setChild(0,c),c}canBeReused(l){if(l.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let o=this;for(;o.kind===4;){const c=o.childrenLength;if(c===0)throw new L.BugIndicatingError;o=o.getChild(c-1)}return o.canBeReused(l)}handleChildrenChanged(){this.throwIfImmutable();const l=this.childrenLength;let o=this.getChild(0).length,c=this.getChild(0).missingOpeningBracketIds;for(let a=1;a<l;a++){const g=this.getChild(a);o=(0,y.lengthAdd)(o,g.length),c=c.merge(g.missingOpeningBracketIds)}this._length=o,this._missingOpeningBracketIds=c,this.cachedMinIndentation=-1}computeMinIndentation(l,o){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let c=Number.MAX_SAFE_INTEGER,a=l;for(let g=0;g<this.childrenLength;g++){const h=this.getChild(g);h&&(c=Math.min(c,h.computeMinIndentation(a,o)),a=(0,y.lengthAdd)(a,h.length))}return this.cachedMinIndentation=c,c}}e.ListAstNode=_;class v extends _{get childrenLength(){return this._item3!==null?3:2}getChild(l){switch(l){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(l,o){switch(l){case 0:this._item1=o;return;case 1:this._item2=o;return;case 2:this._item3=o;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(l,o,c,a,g,h){super(l,o,h),this._item1=c,this._item2=a,this._item3=g}deepClone(){return new v(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(l){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=l,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const l=this._item3;return this._item3=null,this.handleChildrenChanged(),l}prependChildOfSameHeight(l){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=l,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const l=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),l}toMutable(){return this}}class C extends v{toMutable(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class s extends _{get childrenLength(){return this._children.length}getChild(l){return this._children[l]}setChild(l,o){this._children[l]=o}get children(){return this._children}constructor(l,o,c,a){super(l,o,a),this._children=c}deepClone(){const l=new Array(this._children.length);for(let o=0;o<this._children.length;o++)l[o]=this._children[o].deepClone();return new s(this.length,this.listHeight,l,this.missingOpeningBracketIds)}appendChildOfSameHeight(l){this.throwIfImmutable(),this._children.push(l),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const l=this._children.pop();return this.handleChildrenChanged(),l}prependChildOfSameHeight(l){this.throwIfImmutable(),this._children.unshift(l),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const l=this._children.shift();return this.handleChildrenChanged(),l}toMutable(){return this}}class i extends s{toMutable(){return new s(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const n=[];class t extends S{get listHeight(){return 0}get childrenLength(){return 0}getChild(l){return null}get children(){return n}deepClone(){return this}}class r extends t{get kind(){return 0}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}canBeReused(l){return!0}computeMinIndentation(l,o){const c=(0,y.lengthToObj)(l),a=(c.columnCount===0?c.lineCount:c.lineCount+1)+1,g=(0,y.lengthGetLineCount)((0,y.lengthAdd)(l,this.length))+1;let h=Number.MAX_SAFE_INTEGER;for(let p=a;p<=g;p++){const b=o.getLineFirstNonWhitespaceColumn(p),w=o.getLineContent(p);if(b===0)continue;const E=I.CursorColumns.visibleColumnFromColumn(w,b,o.getOptions().tabSize);h=Math.min(h,E)}return h}}e.TextAstNode=r;class u extends t{static create(l,o,c){return new u(l,o,c)}get kind(){return 1}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}constructor(l,o,c){super(l),this.bracketInfo=o,this.bracketIds=c}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(l){return!1}computeMinIndentation(l,o){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=u;class f extends t{get kind(){return 3}constructor(l,o){super(o),this.missingOpeningBracketIds=l}canBeReused(l){return!l.intersects(this.missingOpeningBracketIds)}computeMinIndentation(l,o){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=f}),define(te[509],ie([1,0,178]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function I(v){if(v.length===0)return null;if(v.length===1)return v[0];let C=0;function s(){if(C>=v.length)return null;const r=C,u=v[r].listHeight;for(C++;C<v.length&&v[C].listHeight===u;)C++;return C-r>=2?y(r===0&&C===v.length?v:v.slice(r,C),!1):v[r]}let i=s(),n=s();if(!n)return i;for(let r=s();r;r=s())D(i,n)<=D(n,r)?(i=S(i,n),n=r):n=S(n,r);return S(i,n)}e.concat23Trees=I;function y(v,C=!1){if(v.length===0)return null;if(v.length===1)return v[0];let s=v.length;for(;s>3;){const i=s>>1;for(let n=0;n<i;n++){const t=n<<1;v[n]=L.ListAstNode.create23(v[t],v[t+1],t+3===s?v[t+2]:null,C)}s=i}return L.ListAstNode.create23(v[0],v[1],s>=3?v[2]:null,C)}e.concat23TreesOfSameHeight=y;function D(v,C){return Math.abs(v.listHeight-C.listHeight)}function S(v,C){return v.listHeight===C.listHeight?L.ListAstNode.create23(v,C,null,!1):v.listHeight>C.listHeight?m(v,C):_(C,v)}function m(v,C){v=v.toMutable();let s=v;const i=[];let n;for(;;){if(C.listHeight===s.listHeight){n=C;break}if(s.kind!==4)throw new Error("unexpected");i.push(s),s=s.makeLastElementMutable()}for(let t=i.length-1;t>=0;t--){const r=i[t];n?r.childrenLength>=3?n=L.ListAstNode.create23(r.unappendChild(),n,null,!1):(r.appendChildOfSameHeight(n),n=void 0):r.handleChildrenChanged()}return n?L.ListAstNode.create23(v,n,null,!1):v}function _(v,C){v=v.toMutable();let s=v;const i=[];for(;C.listHeight!==s.listHeight;){if(s.kind!==4)throw new Error("unexpected");i.push(s),s=s.makeFirstElementMutable()}let n=C;for(let t=i.length-1;t>=0;t--){const r=i[t];n?r.childrenLength>=3?n=L.ListAstNode.create23(n,r.unprependChild(),null,!1):(r.prependChildOfSameHeight(n),n=void 0):r.handleChildrenChanged()}return n?L.ListAstNode.create23(n,v,null,!1):v}}),define(te[282],ie([1,0,178,177,126,87,509,508]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function _(C,s,i,n){return new v(C,s,i,n).parseDocument()}e.parseDocument=_;class v{constructor(s,i,n,t){if(this.tokenizer=s,this.createImmutableLists=t,this._itemsConstructed=0,this._itemsFromCache=0,n&&t)throw new Error("Not supported");this.oldNodeReader=n?new m.NodeReader(n):void 0,this.positionMapper=new I.BeforeEditPositionMapper(i)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let s=this.parseList(y.SmallImmutableSet.getEmpty(),0);return s||(s=L.ListAstNode.getEmpty()),s}parseList(s,i){const n=[];for(;;){let r=this.tryReadChildFromCache(s);if(!r){const u=this.tokenizer.peek();if(!u||u.kind===2&&u.bracketIds.intersects(s))break;r=this.parseChild(s,i+1)}r.kind===4&&r.childrenLength===0||n.push(r)}return this.oldNodeReader?(0,S.concat23Trees)(n):(0,S.concat23TreesOfSameHeight)(n,this.createImmutableLists)}tryReadChildFromCache(s){if(this.oldNodeReader){const i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(i===null||!(0,D.lengthIsZero)(i)){const n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),t=>i!==null&&!(0,D.lengthLessThan)(t.length,i)?!1:t.canBeReused(s));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}}parseChild(s,i){this._itemsConstructed++;const n=this.tokenizer.read();switch(n.kind){case 2:return new L.InvalidBracketAstNode(n.bracketIds,n.length);case 0:return n.astNode;case 1:{if(i>300)return new L.TextAstNode(n.length);const t=s.merge(n.bracketIds),r=this.parseList(t,i+1),u=this.tokenizer.peek();return u&&u.kind===2&&(u.bracketId===n.bracketId||u.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),L.PairAstNode.create(n.astNode,r,u.astNode)):L.PairAstNode.create(n.astNode,r,null)}default:throw new Error("unexpected")}}}}),define(te[207],ie([1,0,9,124,178,87,126]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class m{constructor(i,n,t,r,u){this.length=i,this.kind=n,this.bracketId=t,this.bracketIds=r,this.astNode=u}}e.Token=m;class _{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.reader=new v(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(i){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,i);const n=(0,D.lengthToObj)(this._offset);this.reader.setPosition(n.lineCount,n.columnCount)}read(){let i;return this.peeked?(this.didPeek=!1,i=this.peeked):i=this.reader.read(),i&&(this._offset=(0,D.lengthAdd)(this._offset,i.length)),i}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=_;class v{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}setPosition(i,n){i===this.lineIdx?(this.lineCharOffset=n,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=i,this.lineCharOffset=n,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const u=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(u.length),u}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const i=this.lineIdx,n=this.lineCharOffset;let t=0;for(;;){const u=this.lineTokens,f=u.getCount();let d=null;if(this.lineTokenOffset<f){const l=u.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<f&&l===u.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const o=I.TokenMetadata.getTokenType(l)===0,c=I.TokenMetadata.containsBalancedBrackets(l),a=u.getEndOffset(this.lineTokenOffset);if(c&&o&&this.lineCharOffset<a){const g=u.getLanguageId(this.lineTokenOffset),h=this.line.substring(this.lineCharOffset,a),p=this.bracketTokens.getSingleLanguageBracketTokens(g),b=p.regExpGlobal;if(b){b.lastIndex=0;const w=b.exec(h);w&&(d=p.getToken(w[0]),d&&(this.lineCharOffset+=w.index))}}if(t+=a-this.lineCharOffset,d)if(i!==this.lineIdx||n!==this.lineCharOffset){this.peekedToken=d;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(d.length),d;else this.lineTokenOffset++,this.lineCharOffset=a}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,t+=33,t>1e3))break;if(t>1500)break}const r=(0,D.lengthDiff)(i,n,this.lineIdx,this.lineCharOffset);return new m(r,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(r))}}class C{constructor(i,n){this.text=i,this._offset=D.lengthZero,this.idx=0;const t=n.getRegExpStr(),r=t?new RegExp(t+`|
`,"gi"):null,u=[];let f,d=0,l=0,o=0,c=0;const a=[];for(let p=0;p<60;p++)a.push(new m((0,D.toLength)(0,p),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(0,p))));const g=[];for(let p=0;p<60;p++)g.push(new m((0,D.toLength)(1,p),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(1,p))));if(r)for(r.lastIndex=0;(f=r.exec(i))!==null;){const p=f.index,b=f[0];if(b===`
`)d++,l=p+1;else{if(o!==p){let w;if(c===d){const E=p-o;if(E<a.length)w=a[E];else{const k=(0,D.toLength)(0,E);w=new m(k,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(k))}}else{const E=d-c,k=p-l;if(E===1&&k<g.length)w=g[k];else{const M=(0,D.toLength)(E,k);w=new m(M,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(M))}}u.push(w)}u.push(n.getToken(b)),o=p+b.length,c=d}}const h=i.length;if(o!==h){const p=c===d?(0,D.toLength)(0,h-o):(0,D.toLength)(d-c,h-l);u.push(new m(p,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(p)))}this.length=(0,D.toLength)(d,h-l),this.tokens=u}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(i){throw new L.NotSupportedError}}e.FastTokenizer=C}),define(te[283],ie([1,0,10,178,87,126,207]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class m{static createFromLanguage(s,i){function n(r){return i.getKey(`${r.languageId}:::${r.bracketText}`)}const t=new Map;for(const r of s.bracketsNew.openingBrackets){const u=(0,y.toLength)(0,r.bracketText.length),f=n(r),d=D.SmallImmutableSet.getEmpty().add(f,D.identityKeyProvider);t.set(r.bracketText,new S.Token(u,1,f,d,I.BracketAstNode.create(u,r,d)))}for(const r of s.bracketsNew.closingBrackets){const u=(0,y.toLength)(0,r.bracketText.length);let f=D.SmallImmutableSet.getEmpty();const d=r.getOpeningBrackets();for(const l of d)f=f.add(n(l),D.identityKeyProvider);t.set(r.bracketText,new S.Token(u,2,n(d[0]),f,I.BracketAstNode.create(u,r,f)))}return new m(t)}constructor(s){this.map=s,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const s=[...this.map.keys()];return s.sort(),s.reverse(),s.map(i=>_(i)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const s=this.getRegExpStr();this._regExpGlobal=s?new RegExp(s,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(s){return this.map.get(s.toLowerCase())}findClosingTokenText(s){for(const[i,n]of this.map)if(n.kind===2&&n.bracketIds.intersects(s))return i}get isEmpty(){return this.map.size===0}}e.BracketTokens=m;function _(C){let s=(0,L.escapeRegExpCharacters)(C);return/^[\w ]+/.test(C)&&(s=`\\b${s}`),/[\w ]+$/.test(C)&&(s=`${s}\\b`),s}class v{constructor(s,i){this.denseKeyProvider=s,this.getLanguageConfiguration=i,this.languageIdToBracketTokens=new Map}didLanguageChange(s){return this.languageIdToBracketTokens.has(s)}getSingleLanguageBracketTokens(s){let i=this.languageIdToBracketTokens.get(s);return i||(i=m.createFromLanguage(this.getLanguageConfiguration(s),this.denseKeyProvider),this.languageIdToBracketTokens.set(s,i)),i}}e.LanguageAgnosticBracketTokens=v}),define(te[510],ie([1,0,283,87,282,126,207]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function m(v,C){const s=new D.DenseKeyProvider,i=new L.LanguageAgnosticBracketTokens(s,d=>C.getLanguageConfiguration(d)),n=new S.TextBufferTokenizer(new _([v]),i),t=(0,y.parseDocument)(n,[],void 0,!0);let r="";const u=v.getLineContent();function f(d,l){if(d.kind===2)if(f(d.openingBracket,l),l=(0,I.lengthAdd)(l,d.openingBracket.length),d.child&&(f(d.child,l),l=(0,I.lengthAdd)(l,d.child.length)),d.closingBracket)f(d.closingBracket,l),l=(0,I.lengthAdd)(l,d.closingBracket.length);else{const c=i.getSingleLanguageBracketTokens(d.openingBracket.languageId).findClosingTokenText(d.openingBracket.bracketIds);r+=c}else if(d.kind!==3){if(d.kind===0||d.kind===1)r+=u.substring((0,I.lengthGetColumnCountIfZeroLineCount)(l),(0,I.lengthGetColumnCountIfZeroLineCount)((0,I.lengthAdd)(l,d.length)));else if(d.kind===4)for(const o of d.children)f(o,l),l=(0,I.lengthAdd)(l,o.length)}}return f(t,I.lengthZero),r}e.fixBracketsInLine=m;class _{constructor(C){this.lines=C,this.tokenization={getLineTokens:s=>this.lines[s-1]}}getLineCount(){return this.lines.length}getLineLength(C){return this.lines[C-1].getLineContent().length}}}),define(te[511],ie([1,0,13]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class I{constructor(S){this._default=S,this._store=[]}get(S){return S<this._store.length?this._store[S]:this._default}set(S,m){for(;S>=this._store.length;)this._store[this._store.length]=this._default;this._store[S]=m}replace(S,m,_){if(S>=this._store.length)return;if(m===0){this.insert(S,_);return}else if(_===0){this.delete(S,m);return}const v=this._store.slice(0,S),C=this._store.slice(S+m),s=y(_,this._default);this._store=v.concat(s,C)}delete(S,m){m===0||S>=this._store.length||this._store.splice(S,m)}insert(S,m){if(m===0||S>=this._store.length)return;const _=[];for(let v=0;v<m;v++)_[v]=this._default;this._store=(0,L.arrayInsert)(this._store,S,_)}}e.FixedArray=I;function y(D,S){const m=[];for(let _=0;_<D;_++)m[_]=S;return m}}),define(te[512],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class L{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function I(D,S,m,_,v){v.spacesDiff=0,v.looksLikeAlignment=!1;let C;for(C=0;C<S&&C<_;C++){const f=D.charCodeAt(C),d=m.charCodeAt(C);if(f!==d)break}let s=0,i=0;for(let f=C;f<S;f++)D.charCodeAt(f)===32?s++:i++;let n=0,t=0;for(let f=C;f<_;f++)m.charCodeAt(f)===32?n++:t++;if(s>0&&i>0||n>0&&t>0)return;const r=Math.abs(i-t),u=Math.abs(s-n);if(r===0){v.spacesDiff=u,u>0&&0<=n-1&&n-1<D.length&&n<m.length&&m.charCodeAt(n)!==32&&D.charCodeAt(n-1)===32&&D.charCodeAt(D.length-1)===44&&(v.looksLikeAlignment=!0);return}if(u%r===0){v.spacesDiff=u/r;return}}function y(D,S,m){const _=Math.min(D.getLineCount(),1e4);let v=0,C=0,s="",i=0;const n=[2,4,6,8,3,5,7],t=8,r=[0,0,0,0,0,0,0,0,0],u=new L;for(let l=1;l<=_;l++){const o=D.getLineLength(l),c=D.getLineContent(l),a=o<=65536;let g=!1,h=0,p=0,b=0;for(let E=0,k=o;E<k;E++){const M=a?c.charCodeAt(E):D.getLineCharCode(l,E);if(M===9)b++;else if(M===32)p++;else{g=!0,h=E;break}}if(!g||(b>0?v++:p>1&&C++,I(s,i,c,h,u),u.looksLikeAlignment&&!(m&&S===u.spacesDiff)))continue;const w=u.spacesDiff;w<=t&&r[w]++,s=c,i=h}let f=m;v!==C&&(f=v<C);let d=S;if(f){let l=f?0:.1*_;n.forEach(o=>{const c=r[o];c>l&&(l=c,d=o)}),d===4&&r[4]>0&&r[2]>0&&r[2]>=r[4]/2&&(d=2)}return{insertSpaces:f,tabSize:d}}e.guessIndentation=y}),define(te[513],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function L(P){return(P.metadata&1)>>>0}e.getNodeColor=L;function I(P,O){P.metadata=P.metadata&254|O<<0}function y(P){return(P.metadata&2)>>>1===1}function D(P,O){P.metadata=P.metadata&253|(O?1:0)<<1}function S(P){return(P.metadata&4)>>>2===1}function m(P,O){P.metadata=P.metadata&251|(O?1:0)<<2}function _(P){return(P.metadata&64)>>>6===1}function v(P,O){P.metadata=P.metadata&191|(O?1:0)<<6}function C(P){return(P.metadata&24)>>>3}function s(P,O){P.metadata=P.metadata&231|O<<3}function i(P){return(P.metadata&32)>>>5===1}function n(P,O){P.metadata=P.metadata&223|(O?1:0)<<5}class t{constructor(O,x,W){this.metadata=0,this.parent=this,this.left=this,this.right=this,I(this,1),this.start=x,this.end=W,this.delta=0,this.maxEnd=W,this.id=O,this.ownerId=0,this.options=null,m(this,!1),v(this,!1),s(this,1),n(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=x,this.cachedAbsoluteEnd=W,this.range=null,D(this,!1)}reset(O,x,W,U){this.start=x,this.end=W,this.maxEnd=W,this.cachedVersionId=O,this.cachedAbsoluteStart=x,this.cachedAbsoluteEnd=W,this.range=U}setOptions(O){this.options=O;const x=this.options.className;m(this,x==="squiggly-error"||x==="squiggly-warning"||x==="squiggly-info"),v(this,this.options.glyphMarginClassName!==null),s(this,this.options.stickiness),n(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(O,x,W){this.cachedVersionId!==W&&(this.range=null),this.cachedVersionId=W,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=x}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,I(e.SENTINEL,0);class r{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(O,x,W,U,F,G){return this.root===e.SENTINEL?[]:h(this,O,x,W,U,F,G)}search(O,x,W,U){return this.root===e.SENTINEL?[]:g(this,O,x,W,U)}collectNodesFromOwner(O){return c(this,O)}collectNodesPostOrder(){return a(this)}insert(O){p(this,O),this._normalizeDeltaIfNecessary()}delete(O){w(this,O),this._normalizeDeltaIfNecessary()}resolveNode(O,x){const W=O;let U=0;for(;O!==this.root;)O===O.parent.right&&(U+=O.parent.delta),O=O.parent;const F=W.start+U,G=W.end+U;W.setCachedOffsets(F,G,x)}acceptReplace(O,x,W,U){const F=l(this,O,O+x);for(let G=0,Y=F.length;G<Y;G++){const ne=F[G];w(this,ne)}this._normalizeDeltaIfNecessary(),o(this,O,O+x,W),this._normalizeDeltaIfNecessary();for(let G=0,Y=F.length;G<Y;G++){const ne=F[G];ne.start=ne.cachedAbsoluteStart,ne.end=ne.cachedAbsoluteEnd,d(ne,O,O+x,W,U),ne.maxEnd=ne.end,p(this,ne)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,u(this))}}e.IntervalTree=r;function u(P){let O=P.root,x=0;for(;O!==e.SENTINEL;){if(O.left!==e.SENTINEL&&!y(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!y(O.right)){x+=O.delta,O=O.right;continue}O.start=x+O.start,O.end=x+O.end,O.delta=0,T(O),D(O,!0),D(O.left,!1),D(O.right,!1),O===O.parent.right&&(x-=O.parent.delta),O=O.parent}D(P.root,!1)}function f(P,O,x,W){return P<x?!0:P>x||W===1?!1:W===2?!0:O}function d(P,O,x,W,U){const F=C(P),G=F===0||F===2,Y=F===1||F===2,ne=x-O,se=W,J=Math.min(ne,se),q=P.start;let H=!1;const V=P.end;let Z=!1;O<=q&&V<=x&&i(P)&&(P.start=O,H=!0,P.end=O,Z=!0);{const le=U?1:ne>0?2:0;!H&&f(q,G,O,le)&&(H=!0),!Z&&f(V,Y,O,le)&&(Z=!0)}if(J>0&&!U){const le=ne>se?2:0;!H&&f(q,G,O+J,le)&&(H=!0),!Z&&f(V,Y,O+J,le)&&(Z=!0)}{const le=U?1:0;!H&&f(q,G,x,le)&&(P.start=O+se,H=!0),!Z&&f(V,Y,x,le)&&(P.end=O+se,Z=!0)}const ee=se-ne;H||(P.start=Math.max(0,q+ee)),Z||(P.end=Math.max(0,V+ee)),P.start>P.end&&(P.end=P.start)}e.nodeAcceptEdit=d;function l(P,O,x){let W=P.root,U=0,F=0,G=0,Y=0;const ne=[];let se=0;for(;W!==e.SENTINEL;){if(y(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(U-=W.parent.delta),W=W.parent;continue}if(!y(W.left)){if(F=U+W.maxEnd,F<O){D(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(G=U+W.start,G>x){D(W,!0);continue}if(Y=U+W.end,Y>=O&&(W.setCachedOffsets(G,Y,0),ne[se++]=W),D(W,!0),W.right!==e.SENTINEL&&!y(W.right)){U+=W.delta,W=W.right;continue}}return D(P.root,!1),ne}function o(P,O,x,W){let U=P.root,F=0,G=0,Y=0;const ne=W-(x-O);for(;U!==e.SENTINEL;){if(y(U)){D(U.left,!1),D(U.right,!1),U===U.parent.right&&(F-=U.parent.delta),T(U),U=U.parent;continue}if(!y(U.left)){if(G=F+U.maxEnd,G<O){D(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(Y=F+U.start,Y>x){U.start+=ne,U.end+=ne,U.delta+=ne,(U.delta<-1073741824||U.delta>1073741824)&&(P.requestNormalizeDelta=!0),D(U,!0);continue}if(D(U,!0),U.right!==e.SENTINEL&&!y(U.right)){F+=U.delta,U=U.right;continue}}D(P.root,!1)}function c(P,O){let x=P.root;const W=[];let U=0;for(;x!==e.SENTINEL;){if(y(x)){D(x.left,!1),D(x.right,!1),x=x.parent;continue}if(x.left!==e.SENTINEL&&!y(x.left)){x=x.left;continue}if(x.ownerId===O&&(W[U++]=x),D(x,!0),x.right!==e.SENTINEL&&!y(x.right)){x=x.right;continue}}return D(P.root,!1),W}function a(P){let O=P.root;const x=[];let W=0;for(;O!==e.SENTINEL;){if(y(O)){D(O.left,!1),D(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!y(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!y(O.right)){O=O.right;continue}x[W++]=O,D(O,!0)}return D(P.root,!1),x}function g(P,O,x,W,U){let F=P.root,G=0,Y=0,ne=0;const se=[];let J=0;for(;F!==e.SENTINEL;){if(y(F)){D(F.left,!1),D(F.right,!1),F===F.parent.right&&(G-=F.parent.delta),F=F.parent;continue}if(F.left!==e.SENTINEL&&!y(F.left)){F=F.left;continue}Y=G+F.start,ne=G+F.end,F.setCachedOffsets(Y,ne,W);let q=!0;if(O&&F.ownerId&&F.ownerId!==O&&(q=!1),x&&S(F)&&(q=!1),U&&!_(F)&&(q=!1),q&&(se[J++]=F),D(F,!0),F.right!==e.SENTINEL&&!y(F.right)){G+=F.delta,F=F.right;continue}}return D(P.root,!1),se}function h(P,O,x,W,U,F,G){let Y=P.root,ne=0,se=0,J=0,q=0;const H=[];let V=0;for(;Y!==e.SENTINEL;){if(y(Y)){D(Y.left,!1),D(Y.right,!1),Y===Y.parent.right&&(ne-=Y.parent.delta),Y=Y.parent;continue}if(!y(Y.left)){if(se=ne+Y.maxEnd,se<O){D(Y,!0);continue}if(Y.left!==e.SENTINEL){Y=Y.left;continue}}if(J=ne+Y.start,J>x){D(Y,!0);continue}if(q=ne+Y.end,q>=O){Y.setCachedOffsets(J,q,F);let Z=!0;W&&Y.ownerId&&Y.ownerId!==W&&(Z=!1),U&&S(Y)&&(Z=!1),G&&!_(Y)&&(Z=!1),Z&&(H[V++]=Y)}if(D(Y,!0),Y.right!==e.SENTINEL&&!y(Y.right)){ne+=Y.delta,Y=Y.right;continue}}return D(P.root,!1),H}function p(P,O){if(P.root===e.SENTINEL)return O.parent=e.SENTINEL,O.left=e.SENTINEL,O.right=e.SENTINEL,I(O,0),P.root=O,P.root;b(P,O),N(O.parent);let x=O;for(;x!==P.root&&L(x.parent)===1;)if(x.parent===x.parent.parent.left){const W=x.parent.parent.right;L(W)===1?(I(x.parent,0),I(W,0),I(x.parent.parent,1),x=x.parent.parent):(x===x.parent.right&&(x=x.parent,M(P,x)),I(x.parent,0),I(x.parent.parent,1),R(P,x.parent.parent))}else{const W=x.parent.parent.left;L(W)===1?(I(x.parent,0),I(W,0),I(x.parent.parent,1),x=x.parent.parent):(x===x.parent.left&&(x=x.parent,R(P,x)),I(x.parent,0),I(x.parent.parent,1),M(P,x.parent.parent))}return I(P.root,0),O}function b(P,O){let x=0,W=P.root;const U=O.start,F=O.end;for(;;)if(A(U,F,W.start+x,W.end+x)<0)if(W.left===e.SENTINEL){O.start-=x,O.end-=x,O.maxEnd-=x,W.left=O;break}else W=W.left;else if(W.right===e.SENTINEL){O.start-=x+W.delta,O.end-=x+W.delta,O.maxEnd-=x+W.delta,W.right=O;break}else x+=W.delta,W=W.right;O.parent=W,O.left=e.SENTINEL,O.right=e.SENTINEL,I(O,1)}function w(P,O){let x,W;if(O.left===e.SENTINEL?(x=O.right,W=O,x.delta+=O.delta,(x.delta<-1073741824||x.delta>1073741824)&&(P.requestNormalizeDelta=!0),x.start+=O.delta,x.end+=O.delta):O.right===e.SENTINEL?(x=O.left,W=O):(W=E(O.right),x=W.right,x.start+=W.delta,x.end+=W.delta,x.delta+=W.delta,(x.delta<-1073741824||x.delta>1073741824)&&(P.requestNormalizeDelta=!0),W.start+=O.delta,W.end+=O.delta,W.delta=O.delta,(W.delta<-1073741824||W.delta>1073741824)&&(P.requestNormalizeDelta=!0)),W===P.root){P.root=x,I(x,0),O.detach(),k(),T(x),P.root.parent=e.SENTINEL;return}const U=L(W)===1;if(W===W.parent.left?W.parent.left=x:W.parent.right=x,W===O?x.parent=W.parent:(W.parent===O?x.parent=W:x.parent=W.parent,W.left=O.left,W.right=O.right,W.parent=O.parent,I(W,L(O)),O===P.root?P.root=W:O===O.parent.left?O.parent.left=W:O.parent.right=W,W.left!==e.SENTINEL&&(W.left.parent=W),W.right!==e.SENTINEL&&(W.right.parent=W)),O.detach(),U){N(x.parent),W!==O&&(N(W),N(W.parent)),k();return}N(x),N(x.parent),W!==O&&(N(W),N(W.parent));let F;for(;x!==P.root&&L(x)===0;)x===x.parent.left?(F=x.parent.right,L(F)===1&&(I(F,0),I(x.parent,1),M(P,x.parent),F=x.parent.right),L(F.left)===0&&L(F.right)===0?(I(F,1),x=x.parent):(L(F.right)===0&&(I(F.left,0),I(F,1),R(P,F),F=x.parent.right),I(F,L(x.parent)),I(x.parent,0),I(F.right,0),M(P,x.parent),x=P.root)):(F=x.parent.left,L(F)===1&&(I(F,0),I(x.parent,1),R(P,x.parent),F=x.parent.left),L(F.left)===0&&L(F.right)===0?(I(F,1),x=x.parent):(L(F.left)===0&&(I(F.right,0),I(F,1),M(P,F),F=x.parent.left),I(F,L(x.parent)),I(x.parent,0),I(F.left,0),R(P,x.parent),x=P.root));I(x,0),k()}function E(P){for(;P.left!==e.SENTINEL;)P=P.left;return P}function k(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function M(P,O){const x=O.right;x.delta+=O.delta,(x.delta<-1073741824||x.delta>1073741824)&&(P.requestNormalizeDelta=!0),x.start+=O.delta,x.end+=O.delta,O.right=x.left,x.left!==e.SENTINEL&&(x.left.parent=O),x.parent=O.parent,O.parent===e.SENTINEL?P.root=x:O===O.parent.left?O.parent.left=x:O.parent.right=x,x.left=O,O.parent=x,T(O),T(x)}function R(P,O){const x=O.left;O.delta-=x.delta,(O.delta<-1073741824||O.delta>1073741824)&&(P.requestNormalizeDelta=!0),O.start-=x.delta,O.end-=x.delta,O.left=x.right,x.right!==e.SENTINEL&&(x.right.parent=O),x.parent=O.parent,O.parent===e.SENTINEL?P.root=x:O===O.parent.right?O.parent.right=x:O.parent.left=x,x.right=O,O.parent=x,T(O),T(x)}function B(P){let O=P.end;if(P.left!==e.SENTINEL){const x=P.left.maxEnd;x>O&&(O=x)}if(P.right!==e.SENTINEL){const x=P.right.maxEnd+P.delta;x>O&&(O=x)}return O}function T(P){P.maxEnd=B(P)}e.recomputeMaxEnd=T;function N(P){for(;P!==e.SENTINEL;){const O=B(P);if(P.maxEnd===O)return;P.maxEnd=O,P=P.parent}}function A(P,O,x,W){return P===x?O-W:P-x}e.intervalCompare=A}),define(te[514],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class L{constructor(r,u){this.piece=r,this.color=u,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return I(this.right);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.left!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}prev(){if(this.left!==e.SENTINEL)return y(this.left);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.right!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=L,e.SENTINEL=new L(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function I(t){for(;t.left!==e.SENTINEL;)t=t.left;return t}e.leftest=I;function y(t){for(;t.right!==e.SENTINEL;)t=t.right;return t}e.righttest=y;function D(t){return t===e.SENTINEL?0:t.size_left+t.piece.length+D(t.right)}function S(t){return t===e.SENTINEL?0:t.lf_left+t.piece.lineFeedCnt+S(t.right)}function m(){e.SENTINEL.parent=e.SENTINEL}function _(t,r){const u=r.right;u.size_left+=r.size_left+(r.piece?r.piece.length:0),u.lf_left+=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),r.right=u.left,u.left!==e.SENTINEL&&(u.left.parent=r),u.parent=r.parent,r.parent===e.SENTINEL?t.root=u:r.parent.left===r?r.parent.left=u:r.parent.right=u,u.left=r,r.parent=u}e.leftRotate=_;function v(t,r){const u=r.left;r.left=u.right,u.right!==e.SENTINEL&&(u.right.parent=r),u.parent=r.parent,r.size_left-=u.size_left+(u.piece?u.piece.length:0),r.lf_left-=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),r.parent===e.SENTINEL?t.root=u:r===r.parent.right?r.parent.right=u:r.parent.left=u,u.right=r,r.parent=u}e.rightRotate=v;function C(t,r){let u,f;if(r.left===e.SENTINEL?(f=r,u=f.right):r.right===e.SENTINEL?(f=r,u=f.left):(f=I(r.right),u=f.right),f===t.root){t.root=u,u.color=0,r.detach(),m(),t.root.parent=e.SENTINEL;return}const d=f.color===1;if(f===f.parent.left?f.parent.left=u:f.parent.right=u,f===r?(u.parent=f.parent,n(t,u)):(f.parent===r?u.parent=f:u.parent=f.parent,n(t,u),f.left=r.left,f.right=r.right,f.parent=r.parent,f.color=r.color,r===t.root?t.root=f:r===r.parent.left?r.parent.left=f:r.parent.right=f,f.left!==e.SENTINEL&&(f.left.parent=f),f.right!==e.SENTINEL&&(f.right.parent=f),f.size_left=r.size_left,f.lf_left=r.lf_left,n(t,f)),r.detach(),u.parent.left===u){const o=D(u),c=S(u);if(o!==u.parent.size_left||c!==u.parent.lf_left){const a=o-u.parent.size_left,g=c-u.parent.lf_left;u.parent.size_left=o,u.parent.lf_left=c,i(t,u.parent,a,g)}}if(n(t,u.parent),d){m();return}let l;for(;u!==t.root&&u.color===0;)u===u.parent.left?(l=u.parent.right,l.color===1&&(l.color=0,u.parent.color=1,_(t,u.parent),l=u.parent.right),l.left.color===0&&l.right.color===0?(l.color=1,u=u.parent):(l.right.color===0&&(l.left.color=0,l.color=1,v(t,l),l=u.parent.right),l.color=u.parent.color,u.parent.color=0,l.right.color=0,_(t,u.parent),u=t.root)):(l=u.parent.left,l.color===1&&(l.color=0,u.parent.color=1,v(t,u.parent),l=u.parent.left),l.left.color===0&&l.right.color===0?(l.color=1,u=u.parent):(l.left.color===0&&(l.right.color=0,l.color=1,_(t,l),l=u.parent.left),l.color=u.parent.color,u.parent.color=0,l.left.color=0,v(t,u.parent),u=t.root));u.color=0,m()}e.rbDelete=C;function s(t,r){for(n(t,r);r!==t.root&&r.parent.color===1;)if(r.parent===r.parent.parent.left){const u=r.parent.parent.right;u.color===1?(r.parent.color=0,u.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,_(t,r)),r.parent.color=0,r.parent.parent.color=1,v(t,r.parent.parent))}else{const u=r.parent.parent.left;u.color===1?(r.parent.color=0,u.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,v(t,r)),r.parent.color=0,r.parent.parent.color=1,_(t,r.parent.parent))}t.root.color=0}e.fixInsert=s;function i(t,r,u,f){for(;r!==t.root&&r!==e.SENTINEL;)r.parent.left===r&&(r.parent.size_left+=u,r.parent.lf_left+=f),r=r.parent}e.updateTreeMetadata=i;function n(t,r){let u=0,f=0;if(r!==t.root){for(;r!==t.root&&r===r.parent.right;)r=r.parent;if(r!==t.root)for(r=r.parent,u=D(r.left)-r.size_left,f=S(r.left)-r.lf_left,r.size_left+=u,r.lf_left+=f;r!==t.root&&(u!==0||f!==0);)r.parent.left===r&&(r.parent.size_left+=u,r.parent.lf_left+=f),r=r.parent}}e.recomputeTreeMetadata=n}),define(te[284],ie([1,0,13,168]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class y{constructor(_){this.values=_,this.prefixSum=new Uint32Array(_.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(_,v){_=(0,I.toUint32)(_);const C=this.values,s=this.prefixSum,i=v.length;return i===0?!1:(this.values=new Uint32Array(C.length+i),this.values.set(C.subarray(0,_),0),this.values.set(C.subarray(_),_+i),this.values.set(v,_),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(_,v){return _=(0,I.toUint32)(_),v=(0,I.toUint32)(v),this.values[_]===v?!1:(this.values[_]=v,_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),!0)}removeValues(_,v){_=(0,I.toUint32)(_),v=(0,I.toUint32)(v);const C=this.values,s=this.prefixSum;if(_>=C.length)return!1;const i=C.length-_;return v>=i&&(v=i),v===0?!1:(this.values=new Uint32Array(C.length-v),this.values.set(C.subarray(0,_),0),this.values.set(C.subarray(_+v),_),this.prefixSum=new Uint32Array(this.values.length),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(_){return _<0?0:(_=(0,I.toUint32)(_),this._getPrefixSum(_))}_getPrefixSum(_){if(_<=this.prefixSumValidIndex[0])return this.prefixSum[_];let v=this.prefixSumValidIndex[0]+1;v===0&&(this.prefixSum[0]=this.values[0],v++),_>=this.values.length&&(_=this.values.length-1);for(let C=v;C<=_;C++)this.prefixSum[C]=this.prefixSum[C-1]+this.values[C];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],_),this.prefixSum[_]}getIndexOf(_){_=Math.floor(_),this.getTotalSum();let v=0,C=this.values.length-1,s=0,i=0,n=0;for(;v<=C;)if(s=v+(C-v)/2|0,i=this.prefixSum[s],n=i-this.values[s],_<n)C=s-1;else if(_>=i)v=s+1;else break;return new S(s,_-n)}}e.PrefixSumComputer=y;class D{constructor(_){this._values=_,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(_){return this._ensureValid(),_===0?0:this._prefixSum[_-1]}getIndexOf(_){this._ensureValid();const v=this._indexBySum[_],C=v>0?this._prefixSum[v-1]:0;return new S(v,_-C)}removeValues(_,v){this._values.splice(_,v),this._invalidate(_)}insertValues(_,v){this._values=(0,L.arrayInsert)(this._values,_,v),this._invalidate(_)}_invalidate(_){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,_-1)}_ensureValid(){if(!this._isValid){for(let _=this._validEndIndex+1,v=this._values.length;_<v;_++){const C=this._values[_],s=_>0?this._prefixSum[_-1]:0;this._prefixSum[_]=s+C;for(let i=0;i<C;i++)this._indexBySum[s+i]=_}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(_,v){this._values[_]!==v&&(this._values[_]=v,this._invalidate(_))}}e.ConstantTimePrefixSumComputer=D;class S{constructor(_,v){this.index=_,this.remainder=v,this._prefixSumIndexOfResultBrand=void 0,this.index=_,this.remainder=v}}e.PrefixSumIndexOfResult=S}),define(te[515],ie([1,0,10,12,284]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(m,_,v,C){this._uri=m,this._lines=_,this._eol=v,this._versionId=C,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(m){m.eol&&m.eol!==this._eol&&(this._eol=m.eol,this._lineStarts=null);const _=m.changes;for(const v of _)this._acceptDeleteRange(v.range),this._acceptInsertText(new I.Position(v.range.startLineNumber,v.range.startColumn),v.text);this._versionId=m.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const m=this._eol.length,_=this._lines.length,v=new Uint32Array(_);for(let C=0;C<_;C++)v[C]=this._lines[C].length+m;this._lineStarts=new y.PrefixSumComputer(v)}}_setLineText(m,_){this._lines[m]=_,this._lineStarts&&this._lineStarts.setValue(m,this._lines[m].length+this._eol.length)}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber){if(m.startColumn===m.endColumn)return;this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.startLineNumber-1].substring(m.endColumn-1));return}this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.endLineNumber-1].substring(m.endColumn-1)),this._lines.splice(m.startLineNumber,m.endLineNumber-m.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(m.startLineNumber,m.endLineNumber-m.startLineNumber)}_acceptInsertText(m,_){if(_.length===0)return;const v=(0,L.splitLines)(_);if(v.length===1){this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+v[0]+this._lines[m.lineNumber-1].substring(m.column-1));return}v[v.length-1]+=this._lines[m.lineNumber-1].substring(m.column-1),this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+v[0]);const C=new Uint32Array(v.length-1);for(let s=1;s<v.length;s++)this._lines.splice(m.lineNumber+s-1,0,v[s]),C[s-1]=v[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(m.lineNumber,C)}}e.MirrorTextModel=D}),define(te[285],ie([1,0,2]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class I extends L.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=I}),define(te[179],ie([1,0,10,144,12,5,49]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const m=999;class _{constructor(d,l,o,c){this.searchString=d,this.isRegex=l,this.matchCase=o,this.wordSeparators=c}parseSearchRequest(){if(this.searchString==="")return null;let d;this.isRegex?d=v(this.searchString):d=this.searchString.indexOf(`
`)>=0;let l=null;try{l=L.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:d,global:!0,unicode:!0})}catch{return null}if(!l)return null;let o=!this.isRegex&&!d;return o&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(o=this.matchCase),new S.SearchData(l,this.wordSeparators?(0,I.getMapForWordSeparators)(this.wordSeparators):null,o?this.searchString:null)}}e.SearchParams=_;function v(f){if(!f||f.length===0)return!1;for(let d=0,l=f.length;d<l;d++){const o=f.charCodeAt(d);if(o===10)return!0;if(o===92){if(d++,d>=l)break;const c=f.charCodeAt(d);if(c===110||c===114||c===87)return!0}}return!1}e.isMultilineRegexSource=v;function C(f,d,l){if(!l)return new S.FindMatch(f,null);const o=[];for(let c=0,a=d.length;c<a;c++)o[c]=d[c];return new S.FindMatch(f,o)}e.createFindMatch=C;class s{constructor(d){const l=[];let o=0;for(let c=0,a=d.length;c<a;c++)d.charCodeAt(c)===10&&(l[o++]=c);this._lineFeedsOffsets=l}findLineFeedCountBeforeOffset(d){const l=this._lineFeedsOffsets;let o=0,c=l.length-1;if(c===-1||d<=l[0])return 0;for(;o<c;){const a=o+((c-o)/2>>0);l[a]>=d?c=a-1:l[a+1]>=d?(o=a,c=a):o=a+1}return o+1}}class i{static findMatches(d,l,o,c,a){const g=l.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(d,o,new u(g.wordSeparators,g.regex),c,a):this._doFindMatchesLineByLine(d,o,g,c,a):[]}static _getMultilineMatchRange(d,l,o,c,a,g){let h,p=0;c?(p=c.findLineFeedCountBeforeOffset(a),h=l+a+p):h=l+a;let b;if(c){const M=c.findLineFeedCountBeforeOffset(a+g.length)-p;b=h+g.length+M}else b=h+g.length;const w=d.getPositionAt(h),E=d.getPositionAt(b);return new D.Range(w.lineNumber,w.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(d,l,o,c,a){const g=d.getOffsetAt(l.getStartPosition()),h=d.getValueInRange(l,1),p=d.getEOL()===`\r
`?new s(h):null,b=[];let w=0,E;for(o.reset(0);E=o.next(h);)if(b[w++]=C(this._getMultilineMatchRange(d,g,h,p,E.index,E[0]),E,c),w>=a)return b;return b}static _doFindMatchesLineByLine(d,l,o,c,a){const g=[];let h=0;if(l.startLineNumber===l.endLineNumber){const b=d.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return h=this._findMatchesInLine(o,b,l.startLineNumber,l.startColumn-1,h,g,c,a),g}const p=d.getLineContent(l.startLineNumber).substring(l.startColumn-1);h=this._findMatchesInLine(o,p,l.startLineNumber,l.startColumn-1,h,g,c,a);for(let b=l.startLineNumber+1;b<l.endLineNumber&&h<a;b++)h=this._findMatchesInLine(o,d.getLineContent(b),b,0,h,g,c,a);if(h<a){const b=d.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);h=this._findMatchesInLine(o,b,l.endLineNumber,0,h,g,c,a)}return g}static _findMatchesInLine(d,l,o,c,a,g,h,p){const b=d.wordSeparators;if(!h&&d.simpleSearch){const k=d.simpleSearch,M=k.length,R=l.length;let B=-M;for(;(B=l.indexOf(k,B+M))!==-1;)if((!b||r(b,l,R,B,M))&&(g[a++]=new S.FindMatch(new D.Range(o,B+1+c,o,B+1+M+c),null),a>=p))return a;return a}const w=new u(d.wordSeparators,d.regex);let E;w.reset(0);do if(E=w.next(l),E&&(g[a++]=C(new D.Range(o,E.index+1+c,o,E.index+1+E[0].length+c),E,h),a>=p))return a;while(E);return a}static findNextMatch(d,l,o,c){const a=l.parseSearchRequest();if(!a)return null;const g=new u(a.wordSeparators,a.regex);return a.regex.multiline?this._doFindNextMatchMultiline(d,o,g,c):this._doFindNextMatchLineByLine(d,o,g,c)}static _doFindNextMatchMultiline(d,l,o,c){const a=new y.Position(l.lineNumber,1),g=d.getOffsetAt(a),h=d.getLineCount(),p=d.getValueInRange(new D.Range(a.lineNumber,a.column,h,d.getLineMaxColumn(h)),1),b=d.getEOL()===`\r
`?new s(p):null;o.reset(l.column-1);const w=o.next(p);return w?C(this._getMultilineMatchRange(d,g,p,b,w.index,w[0]),w,c):l.lineNumber!==1||l.column!==1?this._doFindNextMatchMultiline(d,new y.Position(1,1),o,c):null}static _doFindNextMatchLineByLine(d,l,o,c){const a=d.getLineCount(),g=l.lineNumber,h=d.getLineContent(g),p=this._findFirstMatchInLine(o,h,g,l.column,c);if(p)return p;for(let b=1;b<=a;b++){const w=(g+b-1)%a,E=d.getLineContent(w+1),k=this._findFirstMatchInLine(o,E,w+1,1,c);if(k)return k}return null}static _findFirstMatchInLine(d,l,o,c,a){d.reset(c-1);const g=d.next(l);return g?C(new D.Range(o,g.index+1,o,g.index+1+g[0].length),g,a):null}static findPreviousMatch(d,l,o,c){const a=l.parseSearchRequest();if(!a)return null;const g=new u(a.wordSeparators,a.regex);return a.regex.multiline?this._doFindPreviousMatchMultiline(d,o,g,c):this._doFindPreviousMatchLineByLine(d,o,g,c)}static _doFindPreviousMatchMultiline(d,l,o,c){const a=this._doFindMatchesMultiline(d,new D.Range(1,1,l.lineNumber,l.column),o,c,10*m);if(a.length>0)return a[a.length-1];const g=d.getLineCount();return l.lineNumber!==g||l.column!==d.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(d,new y.Position(g,d.getLineMaxColumn(g)),o,c):null}static _doFindPreviousMatchLineByLine(d,l,o,c){const a=d.getLineCount(),g=l.lineNumber,h=d.getLineContent(g).substring(0,l.column-1),p=this._findLastMatchInLine(o,h,g,c);if(p)return p;for(let b=1;b<=a;b++){const w=(a+g-b-1)%a,E=d.getLineContent(w+1),k=this._findLastMatchInLine(o,E,w+1,c);if(k)return k}return null}static _findLastMatchInLine(d,l,o,c){let a=null,g;for(d.reset(0);g=d.next(l);)a=C(new D.Range(o,g.index+1,o,g.index+1+g[0].length),g,c);return a}}e.TextModelSearch=i;function n(f,d,l,o,c){if(o===0)return!0;const a=d.charCodeAt(o-1);if(f.get(a)!==0||a===13||a===10)return!0;if(c>0){const g=d.charCodeAt(o);if(f.get(g)!==0)return!0}return!1}function t(f,d,l,o,c){if(o+c===l)return!0;const a=d.charCodeAt(o+c);if(f.get(a)!==0||a===13||a===10)return!0;if(c>0){const g=d.charCodeAt(o+c-1);if(f.get(g)!==0)return!0}return!1}function r(f,d,l,o,c){return n(f,d,l,o,c)&&t(f,d,l,o,c)}e.isValidMatch=r;class u{constructor(d,l){this._wordSeparators=d,this._searchRegex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(d){this._searchRegex.lastIndex=d,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(d){const l=d.length;let o;do{if(this._prevMatchStartIndex+this._prevMatchLength===l||(o=this._searchRegex.exec(d),!o))return null;const c=o.index,a=o[0].length;if(c===this._prevMatchStartIndex&&a===this._prevMatchLength){if(a===0){L.getNextCodePoint(d,l,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=c,this._prevMatchLength=a,!this._wordSeparators||r(this._wordSeparators,d,l,c,a))return o}while(o);return null}}e.Searcher=u}),define(te[286],ie([1,0,12,5,49,514,179]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=void 0;const m=65535;function _(f){let d;return f[f.length-1]<65536?d=new Uint16Array(f.length):d=new Uint32Array(f.length),d.set(f,0),d}class v{constructor(d,l,o,c,a){this.lineStarts=d,this.cr=l,this.lf=o,this.crlf=c,this.isBasicASCII=a}}function C(f,d=!0){const l=[0];let o=1;for(let c=0,a=f.length;c<a;c++){const g=f.charCodeAt(c);g===13?c+1<a&&f.charCodeAt(c+1)===10?(l[o++]=c+2,c++):l[o++]=c+1:g===10&&(l[o++]=c+1)}return d?_(l):l}e.createLineStartsFast=C;function s(f,d){f.length=0,f[0]=0;let l=1,o=0,c=0,a=0,g=!0;for(let p=0,b=d.length;p<b;p++){const w=d.charCodeAt(p);w===13?p+1<b&&d.charCodeAt(p+1)===10?(a++,f[l++]=p+2,p++):(o++,f[l++]=p+1):w===10?(c++,f[l++]=p+1):g&&w!==9&&(w<32||w>126)&&(g=!1)}const h=new v(_(f),o,c,a,g);return f.length=0,h}e.createLineStarts=s;class i{constructor(d,l,o,c,a){this.bufferIndex=d,this.start=l,this.end=o,this.lineFeedCnt=c,this.length=a}}e.Piece=i;class n{constructor(d,l){this.buffer=d,this.lineStarts=l}}e.StringBuffer=n;class t{constructor(d,l){this._pieces=[],this._tree=d,this._BOM=l,this._index=0,d.root!==D.SENTINEL&&d.iterate(d.root,o=>(o!==D.SENTINEL&&this._pieces.push(o.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class r{constructor(d){this._limit=d,this._cache=[]}get(d){for(let l=this._cache.length-1;l>=0;l--){const o=this._cache[l];if(o.nodeStartOffset<=d&&o.nodeStartOffset+o.node.piece.length>=d)return o}return null}get2(d){for(let l=this._cache.length-1;l>=0;l--){const o=this._cache[l];if(o.nodeStartLineNumber&&o.nodeStartLineNumber<d&&o.nodeStartLineNumber+o.node.piece.lineFeedCnt>=d)return o}return null}set(d){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(d)}validate(d){let l=!1;const o=this._cache;for(let c=0;c<o.length;c++){const a=o[c];if(a.node.parent===null||a.nodeStartOffset>=d){o[c]=null,l=!0;continue}}if(l){const c=[];for(const a of o)a!==null&&c.push(a);this._cache=c}}}class u{constructor(d,l,o){this.create(d,l,o)}create(d,l,o){this._buffers=[new n("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=l,this._EOLLength=l.length,this._EOLNormalized=o;let c=null;for(let a=0,g=d.length;a<g;a++)if(d[a].buffer.length>0){d[a].lineStarts||(d[a].lineStarts=C(d[a].buffer));const h=new i(a+1,{line:0,column:0},{line:d[a].lineStarts.length-1,column:d[a].buffer.length-d[a].lineStarts[d[a].lineStarts.length-1]},d[a].lineStarts.length-1,d[a].buffer.length);this._buffers.push(d[a]),c=this.rbInsertRight(c,h)}this._searchCache=new r(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(d){const l=m,o=l-Math.floor(l/3),c=o*2;let a="",g=0;const h=[];if(this.iterate(this.root,p=>{const b=this.getNodeContent(p),w=b.length;if(g<=o||g+w<c)return a+=b,g+=w,!0;const E=a.replace(/\r\n|\r|\n/g,d);return h.push(new n(E,C(E))),a=b,g=w,!0}),g>0){const p=a.replace(/\r\n|\r|\n/g,d);h.push(new n(p,C(p)))}this.create(h,d,!0)}getEOL(){return this._EOL}setEOL(d){this._EOL=d,this._EOLLength=this._EOL.length,this.normalizeEOL(d)}createSnapshot(d){return new t(this,d)}getOffsetAt(d,l){let o=0,c=this.root;for(;c!==D.SENTINEL;)if(c.left!==D.SENTINEL&&c.lf_left+1>=d)c=c.left;else if(c.lf_left+c.piece.lineFeedCnt+1>=d){o+=c.size_left;const a=this.getAccumulatedValue(c,d-c.lf_left-2);return o+=a+l-1}else d-=c.lf_left+c.piece.lineFeedCnt,o+=c.size_left+c.piece.length,c=c.right;return o}getPositionAt(d){d=Math.floor(d),d=Math.max(0,d);let l=this.root,o=0;const c=d;for(;l!==D.SENTINEL;)if(l.size_left!==0&&l.size_left>=d)l=l.left;else if(l.size_left+l.piece.length>=d){const a=this.getIndexOf(l,d-l.size_left);if(o+=l.lf_left+a.index,a.index===0){const g=this.getOffsetAt(o+1,1),h=c-g;return new L.Position(o+1,h+1)}return new L.Position(o+1,a.remainder+1)}else if(d-=l.size_left+l.piece.length,o+=l.lf_left+l.piece.lineFeedCnt,l.right===D.SENTINEL){const a=this.getOffsetAt(o+1,1),g=c-d-a;return new L.Position(o+1,g+1)}else l=l.right;return new L.Position(1,1)}getValueInRange(d,l){if(d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn)return"";const o=this.nodeAt2(d.startLineNumber,d.startColumn),c=this.nodeAt2(d.endLineNumber,d.endColumn),a=this.getValueInRange2(o,c);return l?l!==this._EOL||!this._EOLNormalized?a.replace(/\r\n|\r|\n/g,l):l===this.getEOL()&&this._EOLNormalized?a:a.replace(/\r\n|\r|\n/g,l):a}getValueInRange2(d,l){if(d.node===l.node){const h=d.node,p=this._buffers[h.piece.bufferIndex].buffer,b=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start);return p.substring(b+d.remainder,b+l.remainder)}let o=d.node;const c=this._buffers[o.piece.bufferIndex].buffer,a=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);let g=c.substring(a+d.remainder,a+o.piece.length);for(o=o.next();o!==D.SENTINEL;){const h=this._buffers[o.piece.bufferIndex].buffer,p=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(o===l.node){g+=h.substring(p,p+l.remainder);break}else g+=h.substr(p,o.piece.length);o=o.next()}return g}getLinesContent(){const d=[];let l=0,o="",c=!1;return this.iterate(this.root,a=>{if(a===D.SENTINEL)return!0;const g=a.piece;let h=g.length;if(h===0)return!0;const p=this._buffers[g.bufferIndex].buffer,b=this._buffers[g.bufferIndex].lineStarts,w=g.start.line,E=g.end.line;let k=b[w]+g.start.column;if(c&&(p.charCodeAt(k)===10&&(k++,h--),d[l++]=o,o="",c=!1,h===0))return!0;if(w===E)return!this._EOLNormalized&&p.charCodeAt(k+h-1)===13?(c=!0,o+=p.substr(k,h-1)):o+=p.substr(k,h),!0;o+=this._EOLNormalized?p.substring(k,Math.max(k,b[w+1]-this._EOLLength)):p.substring(k,b[w+1]).replace(/(\r\n|\r|\n)$/,""),d[l++]=o;for(let M=w+1;M<E;M++)o=this._EOLNormalized?p.substring(b[M],b[M+1]-this._EOLLength):p.substring(b[M],b[M+1]).replace(/(\r\n|\r|\n)$/,""),d[l++]=o;return!this._EOLNormalized&&p.charCodeAt(b[E]+g.end.column-1)===13?(c=!0,g.end.column===0?l--:o=p.substr(b[E],g.end.column-1)):o=p.substr(b[E],g.end.column),!0}),c&&(d[l++]=o,o=""),d[l++]=o,d}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(d){return this._lastVisitedLine.lineNumber===d?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=d,d===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(d):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(d,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(d).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(d){if(d.remainder===d.node.piece.length){const l=d.node.next();if(!l)return 0;const o=this._buffers[l.piece.bufferIndex],c=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);return o.buffer.charCodeAt(c)}else{const l=this._buffers[d.node.piece.bufferIndex],c=this.offsetInBuffer(d.node.piece.bufferIndex,d.node.piece.start)+d.remainder;return l.buffer.charCodeAt(c)}}getLineCharCode(d,l){const o=this.nodeAt2(d,l+1);return this._getCharCode(o)}getLineLength(d){if(d===this.getLineCount()){const l=this.getOffsetAt(d,1);return this.getLength()-l}return this.getOffsetAt(d+1,1)-this.getOffsetAt(d,1)-this._EOLLength}findMatchesInNode(d,l,o,c,a,g,h,p,b,w,E){const k=this._buffers[d.piece.bufferIndex],M=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),R=this.offsetInBuffer(d.piece.bufferIndex,a),B=this.offsetInBuffer(d.piece.bufferIndex,g);let T;const N={line:0,column:0};let A,P;l._wordSeparators?(A=k.buffer.substring(R,B),P=O=>O+R,l.reset(0)):(A=k.buffer,P=O=>O,l.reset(R));do if(T=l.next(A),T){if(P(T.index)>=B)return w;this.positionInBuffer(d,P(T.index)-M,N);const O=this.getLineFeedCnt(d.piece.bufferIndex,a,N),x=N.line===a.line?N.column-a.column+c:N.column+1,W=x+T[0].length;if(E[w++]=(0,S.createFindMatch)(new I.Range(o+O,x,o+O,W),T,p),P(T.index)+T[0].length>=B||w>=b)return w}while(T);return w}findMatchesLineByLine(d,l,o,c){const a=[];let g=0;const h=new S.Searcher(l.wordSeparators,l.regex);let p=this.nodeAt2(d.startLineNumber,d.startColumn);if(p===null)return[];const b=this.nodeAt2(d.endLineNumber,d.endColumn);if(b===null)return[];let w=this.positionInBuffer(p.node,p.remainder);const E=this.positionInBuffer(b.node,b.remainder);if(p.node===b.node)return this.findMatchesInNode(p.node,h,d.startLineNumber,d.startColumn,w,E,l,o,c,g,a),a;let k=d.startLineNumber,M=p.node;for(;M!==b.node;){const B=this.getLineFeedCnt(M.piece.bufferIndex,w,M.piece.end);if(B>=1){const N=this._buffers[M.piece.bufferIndex].lineStarts,A=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start),P=N[w.line+B],O=k===d.startLineNumber?d.startColumn:1;if(g=this.findMatchesInNode(M,h,k,O,w,this.positionInBuffer(M,P-A),l,o,c,g,a),g>=c)return a;k+=B}const T=k===d.startLineNumber?d.startColumn-1:0;if(k===d.endLineNumber){const N=this.getLineContent(k).substring(T,d.endColumn-1);return g=this._findMatchesInLine(l,h,N,d.endLineNumber,T,g,a,o,c),a}if(g=this._findMatchesInLine(l,h,this.getLineContent(k).substr(T),k,T,g,a,o,c),g>=c)return a;k++,p=this.nodeAt2(k,1),M=p.node,w=this.positionInBuffer(p.node,p.remainder)}if(k===d.endLineNumber){const B=k===d.startLineNumber?d.startColumn-1:0,T=this.getLineContent(k).substring(B,d.endColumn-1);return g=this._findMatchesInLine(l,h,T,d.endLineNumber,B,g,a,o,c),a}const R=k===d.startLineNumber?d.startColumn:1;return g=this.findMatchesInNode(b.node,h,k,R,w,E,l,o,c,g,a),a}_findMatchesInLine(d,l,o,c,a,g,h,p,b){const w=d.wordSeparators;if(!p&&d.simpleSearch){const k=d.simpleSearch,M=k.length,R=o.length;let B=-M;for(;(B=o.indexOf(k,B+M))!==-1;)if((!w||(0,S.isValidMatch)(w,o,R,B,M))&&(h[g++]=new y.FindMatch(new I.Range(c,B+1+a,c,B+1+M+a),null),g>=b))return g;return g}let E;l.reset(0);do if(E=l.next(o),E&&(h[g++]=(0,S.createFindMatch)(new I.Range(c,E.index+1+a,c,E.index+1+E[0].length+a),E,p),g>=b))return g;while(E);return g}insert(d,l,o=!1){if(this._EOLNormalized=this._EOLNormalized&&o,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:c,remainder:a,nodeStartOffset:g}=this.nodeAt(d),h=c.piece,p=h.bufferIndex,b=this.positionInBuffer(c,a);if(c.piece.bufferIndex===0&&h.end.line===this._lastChangeBufferPos.line&&h.end.column===this._lastChangeBufferPos.column&&g+h.length===d&&l.length<m){this.appendToNode(c,l),this.computeBufferMetadata();return}if(g===d)this.insertContentToNodeLeft(l,c),this._searchCache.validate(d);else if(g+c.piece.length>d){const w=[];let E=new i(h.bufferIndex,b,h.end,this.getLineFeedCnt(h.bufferIndex,b,h.end),this.offsetInBuffer(p,h.end)-this.offsetInBuffer(p,b));if(this.shouldCheckCRLF()&&this.endWithCR(l)&&this.nodeCharCodeAt(c,a)===10){const B={line:E.start.line+1,column:0};E=new i(E.bufferIndex,B,E.end,this.getLineFeedCnt(E.bufferIndex,B,E.end),E.length-1),l+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(l))if(this.nodeCharCodeAt(c,a-1)===13){const B=this.positionInBuffer(c,a-1);this.deleteNodeTail(c,B),l="\r"+l,c.piece.length===0&&w.push(c)}else this.deleteNodeTail(c,b);else this.deleteNodeTail(c,b);const k=this.createNewPieces(l);E.length>0&&this.rbInsertRight(c,E);let M=c;for(let R=0;R<k.length;R++)M=this.rbInsertRight(M,k[R]);this.deleteNodes(w)}else this.insertContentToNodeRight(l,c)}else{const c=this.createNewPieces(l);let a=this.rbInsertLeft(null,c[0]);for(let g=1;g<c.length;g++)a=this.rbInsertRight(a,c[g])}this.computeBufferMetadata()}delete(d,l){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",l<=0||this.root===D.SENTINEL)return;const o=this.nodeAt(d),c=this.nodeAt(d+l),a=o.node,g=c.node;if(a===g){const k=this.positionInBuffer(a,o.remainder),M=this.positionInBuffer(a,c.remainder);if(o.nodeStartOffset===d){if(l===a.piece.length){const R=a.next();(0,D.rbDelete)(this,a),this.validateCRLFWithPrevNode(R),this.computeBufferMetadata();return}this.deleteNodeHead(a,M),this._searchCache.validate(d),this.validateCRLFWithPrevNode(a),this.computeBufferMetadata();return}if(o.nodeStartOffset+a.piece.length===d+l){this.deleteNodeTail(a,k),this.validateCRLFWithNextNode(a),this.computeBufferMetadata();return}this.shrinkNode(a,k,M),this.computeBufferMetadata();return}const h=[],p=this.positionInBuffer(a,o.remainder);this.deleteNodeTail(a,p),this._searchCache.validate(d),a.piece.length===0&&h.push(a);const b=this.positionInBuffer(g,c.remainder);this.deleteNodeHead(g,b),g.piece.length===0&&h.push(g);const w=a.next();for(let k=w;k!==D.SENTINEL&&k!==g;k=k.next())h.push(k);const E=a.piece.length===0?a.prev():a;this.deleteNodes(h),this.validateCRLFWithNextNode(E),this.computeBufferMetadata()}insertContentToNodeLeft(d,l){const o=[];if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.startWithLF(l)){const g=l.piece,h={line:g.start.line+1,column:0},p=new i(g.bufferIndex,h,g.end,this.getLineFeedCnt(g.bufferIndex,h,g.end),g.length-1);l.piece=p,d+=`
`,(0,D.updateTreeMetadata)(this,l,-1,-1),l.piece.length===0&&o.push(l)}const c=this.createNewPieces(d);let a=this.rbInsertLeft(l,c[c.length-1]);for(let g=c.length-2;g>=0;g--)a=this.rbInsertLeft(a,c[g]);this.validateCRLFWithPrevNode(a),this.deleteNodes(o)}insertContentToNodeRight(d,l){this.adjustCarriageReturnFromNext(d,l)&&(d+=`
`);const o=this.createNewPieces(d),c=this.rbInsertRight(l,o[0]);let a=c;for(let g=1;g<o.length;g++)a=this.rbInsertRight(a,o[g]);this.validateCRLFWithPrevNode(c)}positionInBuffer(d,l,o){const c=d.piece,a=d.piece.bufferIndex,g=this._buffers[a].lineStarts,p=g[c.start.line]+c.start.column+l;let b=c.start.line,w=c.end.line,E=0,k=0,M=0;for(;b<=w&&(E=b+(w-b)/2|0,M=g[E],E!==w);)if(k=g[E+1],p<M)w=E-1;else if(p>=k)b=E+1;else break;return o?(o.line=E,o.column=p-M,null):{line:E,column:p-M}}getLineFeedCnt(d,l,o){if(o.column===0)return o.line-l.line;const c=this._buffers[d].lineStarts;if(o.line===c.length-1)return o.line-l.line;const a=c[o.line+1],g=c[o.line]+o.column;if(a>g+1)return o.line-l.line;const h=g-1;return this._buffers[d].buffer.charCodeAt(h)===13?o.line-l.line+1:o.line-l.line}offsetInBuffer(d,l){return this._buffers[d].lineStarts[l.line]+l.column}deleteNodes(d){for(let l=0;l<d.length;l++)(0,D.rbDelete)(this,d[l])}createNewPieces(d){if(d.length>m){const w=[];for(;d.length>m;){const k=d.charCodeAt(m-1);let M;k===13||k>=55296&&k<=56319?(M=d.substring(0,m-1),d=d.substring(m-1)):(M=d.substring(0,m),d=d.substring(m));const R=C(M);w.push(new i(this._buffers.length,{line:0,column:0},{line:R.length-1,column:M.length-R[R.length-1]},R.length-1,M.length)),this._buffers.push(new n(M,R))}const E=C(d);return w.push(new i(this._buffers.length,{line:0,column:0},{line:E.length-1,column:d.length-E[E.length-1]},E.length-1,d.length)),this._buffers.push(new n(d,E)),w}let l=this._buffers[0].buffer.length;const o=C(d,!1);let c=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===l&&l!==0&&this.startWithLF(d)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},c=this._lastChangeBufferPos;for(let w=0;w<o.length;w++)o[w]+=l+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+="_"+d,l+=1}else{if(l!==0)for(let w=0;w<o.length;w++)o[w]+=l;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+=d}const a=this._buffers[0].buffer.length,g=this._buffers[0].lineStarts.length-1,h=a-this._buffers[0].lineStarts[g],p={line:g,column:h},b=new i(0,c,p,this.getLineFeedCnt(0,c,p),a-l);return this._lastChangeBufferPos=p,[b]}getLineRawContent(d,l=0){let o=this.root,c="";const a=this._searchCache.get2(d);if(a){o=a.node;const g=this.getAccumulatedValue(o,d-a.nodeStartLineNumber-1),h=this._buffers[o.piece.bufferIndex].buffer,p=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(a.nodeStartLineNumber+o.piece.lineFeedCnt===d)c=h.substring(p+g,p+o.piece.length);else{const b=this.getAccumulatedValue(o,d-a.nodeStartLineNumber);return h.substring(p+g,p+b-l)}}else{let g=0;const h=d;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=d-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>d-1){const p=this.getAccumulatedValue(o,d-o.lf_left-2),b=this.getAccumulatedValue(o,d-o.lf_left-1),w=this._buffers[o.piece.bufferIndex].buffer,E=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return g+=o.size_left,this._searchCache.set({node:o,nodeStartOffset:g,nodeStartLineNumber:h-(d-1-o.lf_left)}),w.substring(E+p,E+b-l)}else if(o.lf_left+o.piece.lineFeedCnt===d-1){const p=this.getAccumulatedValue(o,d-o.lf_left-2),b=this._buffers[o.piece.bufferIndex].buffer,w=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);c=b.substring(w+p,w+o.piece.length);break}else d-=o.lf_left+o.piece.lineFeedCnt,g+=o.size_left+o.piece.length,o=o.right}for(o=o.next();o!==D.SENTINEL;){const g=this._buffers[o.piece.bufferIndex].buffer;if(o.piece.lineFeedCnt>0){const h=this.getAccumulatedValue(o,0),p=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return c+=g.substring(p,p+h-l),c}else{const h=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);c+=g.substr(h,o.piece.length)}o=o.next()}return c}computeBufferMetadata(){let d=this.root,l=1,o=0;for(;d!==D.SENTINEL;)l+=d.lf_left+d.piece.lineFeedCnt,o+=d.size_left+d.piece.length,d=d.right;this._lineCnt=l,this._length=o,this._searchCache.validate(this._length)}getIndexOf(d,l){const o=d.piece,c=this.positionInBuffer(d,l),a=c.line-o.start.line;if(this.offsetInBuffer(o.bufferIndex,o.end)-this.offsetInBuffer(o.bufferIndex,o.start)===l){const g=this.getLineFeedCnt(d.piece.bufferIndex,o.start,c);if(g!==a)return{index:g,remainder:0}}return{index:a,remainder:c.column}}getAccumulatedValue(d,l){if(l<0)return 0;const o=d.piece,c=this._buffers[o.bufferIndex].lineStarts,a=o.start.line+l+1;return a>o.end.line?c[o.end.line]+o.end.column-c[o.start.line]-o.start.column:c[a]-c[o.start.line]-o.start.column}deleteNodeTail(d,l){const o=d.piece,c=o.lineFeedCnt,a=this.offsetInBuffer(o.bufferIndex,o.end),g=l,h=this.offsetInBuffer(o.bufferIndex,g),p=this.getLineFeedCnt(o.bufferIndex,o.start,g),b=p-c,w=h-a,E=o.length+w;d.piece=new i(o.bufferIndex,o.start,g,p,E),(0,D.updateTreeMetadata)(this,d,w,b)}deleteNodeHead(d,l){const o=d.piece,c=o.lineFeedCnt,a=this.offsetInBuffer(o.bufferIndex,o.start),g=l,h=this.getLineFeedCnt(o.bufferIndex,g,o.end),p=this.offsetInBuffer(o.bufferIndex,g),b=h-c,w=a-p,E=o.length+w;d.piece=new i(o.bufferIndex,g,o.end,h,E),(0,D.updateTreeMetadata)(this,d,w,b)}shrinkNode(d,l,o){const c=d.piece,a=c.start,g=c.end,h=c.length,p=c.lineFeedCnt,b=l,w=this.getLineFeedCnt(c.bufferIndex,c.start,b),E=this.offsetInBuffer(c.bufferIndex,l)-this.offsetInBuffer(c.bufferIndex,a);d.piece=new i(c.bufferIndex,c.start,b,w,E),(0,D.updateTreeMetadata)(this,d,E-h,w-p);const k=new i(c.bufferIndex,o,g,this.getLineFeedCnt(c.bufferIndex,o,g),this.offsetInBuffer(c.bufferIndex,g)-this.offsetInBuffer(c.bufferIndex,o)),M=this.rbInsertRight(d,k);this.validateCRLFWithPrevNode(M)}appendToNode(d,l){this.adjustCarriageReturnFromNext(l,d)&&(l+=`
`);const o=this.shouldCheckCRLF()&&this.startWithLF(l)&&this.endWithCR(d),c=this._buffers[0].buffer.length;this._buffers[0].buffer+=l;const a=C(l,!1);for(let M=0;M<a.length;M++)a[M]+=c;if(o){const M=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:c-M}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1));const g=this._buffers[0].lineStarts.length-1,h=this._buffers[0].buffer.length-this._buffers[0].lineStarts[g],p={line:g,column:h},b=d.piece.length+l.length,w=d.piece.lineFeedCnt,E=this.getLineFeedCnt(0,d.piece.start,p),k=E-w;d.piece=new i(d.piece.bufferIndex,d.piece.start,p,E,b),this._lastChangeBufferPos=p,(0,D.updateTreeMetadata)(this,d,l.length,k)}nodeAt(d){let l=this.root;const o=this._searchCache.get(d);if(o)return{node:o.node,nodeStartOffset:o.nodeStartOffset,remainder:d-o.nodeStartOffset};let c=0;for(;l!==D.SENTINEL;)if(l.size_left>d)l=l.left;else if(l.size_left+l.piece.length>=d){c+=l.size_left;const a={node:l,remainder:d-l.size_left,nodeStartOffset:c};return this._searchCache.set(a),a}else d-=l.size_left+l.piece.length,c+=l.size_left+l.piece.length,l=l.right;return null}nodeAt2(d,l){let o=this.root,c=0;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=d-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>d-1){const a=this.getAccumulatedValue(o,d-o.lf_left-2),g=this.getAccumulatedValue(o,d-o.lf_left-1);return c+=o.size_left,{node:o,remainder:Math.min(a+l-1,g),nodeStartOffset:c}}else if(o.lf_left+o.piece.lineFeedCnt===d-1){const a=this.getAccumulatedValue(o,d-o.lf_left-2);if(a+l-1<=o.piece.length)return{node:o,remainder:a+l-1,nodeStartOffset:c};l-=o.piece.length-a;break}else d-=o.lf_left+o.piece.lineFeedCnt,c+=o.size_left+o.piece.length,o=o.right;for(o=o.next();o!==D.SENTINEL;){if(o.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(o,0),g=this.offsetOfNode(o);return{node:o,remainder:Math.min(l-1,a),nodeStartOffset:g}}else if(o.piece.length>=l-1){const a=this.offsetOfNode(o);return{node:o,remainder:l-1,nodeStartOffset:a}}else l-=o.piece.length;o=o.next()}return null}nodeCharCodeAt(d,l){if(d.piece.lineFeedCnt<1)return-1;const o=this._buffers[d.piece.bufferIndex],c=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start)+l;return o.buffer.charCodeAt(c)}offsetOfNode(d){if(!d)return 0;let l=d.size_left;for(;d!==this.root;)d.parent.right===d&&(l+=d.parent.size_left+d.parent.piece.length),d=d.parent;return l}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(d){if(typeof d=="string")return d.charCodeAt(0)===10;if(d===D.SENTINEL||d.piece.lineFeedCnt===0)return!1;const l=d.piece,o=this._buffers[l.bufferIndex].lineStarts,c=l.start.line,a=o[c]+l.start.column;return c===o.length-1||o[c+1]>a+1?!1:this._buffers[l.bufferIndex].buffer.charCodeAt(a)===10}endWithCR(d){return typeof d=="string"?d.charCodeAt(d.length-1)===13:d===D.SENTINEL||d.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(d,d.piece.length-1)===13}validateCRLFWithPrevNode(d){if(this.shouldCheckCRLF()&&this.startWithLF(d)){const l=d.prev();this.endWithCR(l)&&this.fixCRLF(l,d)}}validateCRLFWithNextNode(d){if(this.shouldCheckCRLF()&&this.endWithCR(d)){const l=d.next();this.startWithLF(l)&&this.fixCRLF(d,l)}}fixCRLF(d,l){const o=[],c=this._buffers[d.piece.bufferIndex].lineStarts;let a;d.piece.end.column===0?a={line:d.piece.end.line-1,column:c[d.piece.end.line]-c[d.piece.end.line-1]-1}:a={line:d.piece.end.line,column:d.piece.end.column-1};const g=d.piece.length-1,h=d.piece.lineFeedCnt-1;d.piece=new i(d.piece.bufferIndex,d.piece.start,a,h,g),(0,D.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&o.push(d);const p={line:l.piece.start.line+1,column:0},b=l.piece.length-1,w=this.getLineFeedCnt(l.piece.bufferIndex,p,l.piece.end);l.piece=new i(l.piece.bufferIndex,p,l.piece.end,w,b),(0,D.updateTreeMetadata)(this,l,-1,-1),l.piece.length===0&&o.push(l);const E=this.createNewPieces(`\r
`);this.rbInsertRight(d,E[0]);for(let k=0;k<o.length;k++)(0,D.rbDelete)(this,o[k])}adjustCarriageReturnFromNext(d,l){if(this.shouldCheckCRLF()&&this.endWithCR(d)){const o=l.next();if(this.startWithLF(o)){if(d+=`
`,o.piece.length===1)(0,D.rbDelete)(this,o);else{const c=o.piece,a={line:c.start.line+1,column:0},g=c.length-1,h=this.getLineFeedCnt(c.bufferIndex,a,c.end);o.piece=new i(c.bufferIndex,a,c.end,h,g),(0,D.updateTreeMetadata)(this,o,-1,-1)}return!0}}return!1}iterate(d,l){if(d===D.SENTINEL)return l(D.SENTINEL);const o=this.iterate(d.left,l);return o&&l(d)&&this.iterate(d.right,l)}getNodeContent(d){if(d===D.SENTINEL)return"";const l=this._buffers[d.piece.bufferIndex],o=d.piece,c=this.offsetInBuffer(o.bufferIndex,o.start),a=this.offsetInBuffer(o.bufferIndex,o.end);return l.buffer.substring(c,a)}getPieceContent(d){const l=this._buffers[d.bufferIndex],o=this.offsetInBuffer(d.bufferIndex,d.start),c=this.offsetInBuffer(d.bufferIndex,d.end);return l.buffer.substring(o,c)}rbInsertRight(d,l){const o=new D.TreeNode(l,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(d.right===D.SENTINEL)d.right=o,o.parent=d;else{const a=(0,D.leftest)(d.right);a.left=o,o.parent=a}return(0,D.fixInsert)(this,o),o}rbInsertLeft(d,l){const o=new D.TreeNode(l,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(d.left===D.SENTINEL)d.left=o,o.parent=d;else{const c=(0,D.righttest)(d.left);c.right=o,o.parent=c}return(0,D.fixInsert)(this,o),o}}e.PieceTreeBase=u}),define(te[208],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function L(I,y){let D=0,S=0;const m=I.length;for(;S<m;){const _=I.charCodeAt(S);if(_===32)D++;else if(_===9)D=D-D%y+y;else break;S++}return S===m?-1:D}e.computeIndentLevel=L}),define(te[287],ie([1,0,96,12,49]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(s,i,n,t,r){this.injectionOffsets=s,this.injectionOptions=i,this.breakOffsets=n,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=r}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(s){return s>0?this.wrappedTextIndentLength:0}getLineLength(s){const i=s>0?this.breakOffsets[s-1]:0;let t=this.breakOffsets[s]-i;return s>0&&(t+=this.wrappedTextIndentLength),t}getMaxOutputOffset(s){return this.getLineLength(s)}translateToInputOffset(s,i){s>0&&(i=Math.max(0,i-this.wrappedTextIndentLength));let t=s===0?i:this.breakOffsets[s-1]+i;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&t>this.injectionOffsets[r];r++)t<this.injectionOffsets[r]+this.injectionOptions[r].content.length?t=this.injectionOffsets[r]:t-=this.injectionOptions[r].content.length;return t}translateToOutputPosition(s,i=2){let n=s;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(s<this.injectionOffsets[t]||i!==1&&s===this.injectionOffsets[t]);t++)n+=this.injectionOptions[t].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,i)}offsetInInputWithInjectionsToOutputPosition(s,i=2){let n=0,t=this.breakOffsets.length-1,r=0,u=0;for(;n<=t;){r=n+(t-n)/2|0;const d=this.breakOffsets[r];if(u=r>0?this.breakOffsets[r-1]:0,i===0)if(s<=u)t=r-1;else if(s>d)n=r+1;else break;else if(s<u)t=r-1;else if(s>=d)n=r+1;else break}let f=s-u;return r>0&&(f+=this.wrappedTextIndentLength),new v(r,f)}normalizeOutputPosition(s,i,n){if(this.injectionOffsets!==null){const t=this.outputPositionToOffsetInInputWithInjections(s,i),r=this.normalizeOffsetInInputWithInjectionsAroundInjections(t,n);if(r!==t)return this.offsetInInputWithInjectionsToOutputPosition(r,n)}if(n===0){if(s>0&&i===this.getMinOutputOffset(s))return new v(s-1,this.getMaxOutputOffset(s-1))}else if(n===1){const t=this.getOutputLineCount()-1;if(s<t&&i===this.getMaxOutputOffset(s))return new v(s+1,this.getMinOutputOffset(s+1))}return new v(s,i)}outputPositionToOffsetInInputWithInjections(s,i){return s>0&&(i=Math.max(0,i-this.wrappedTextIndentLength)),(s>0?this.breakOffsets[s-1]:0)+i}normalizeOffsetInInputWithInjectionsAroundInjections(s,i){const n=this.getInjectedTextAtOffset(s);if(!n)return s;if(i===2){if(s===n.offsetInInputWithInjections+n.length&&S(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;{let t=n.offsetInInputWithInjections;if(m(this.injectionOptions[n.injectedTextIndex].cursorStops))return t;let r=n.injectedTextIndex-1;for(;r>=0&&this.injectionOffsets[r]===this.injectionOffsets[n.injectedTextIndex]&&!(S(this.injectionOptions[r].cursorStops)||(t-=this.injectionOptions[r].content.length,m(this.injectionOptions[r].cursorStops)));)r--;return t}}else if(i===1||i===4){let t=n.offsetInInputWithInjections+n.length,r=n.injectedTextIndex;for(;r+1<this.injectionOffsets.length&&this.injectionOffsets[r+1]===this.injectionOffsets[r];)t+=this.injectionOptions[r+1].content.length,r++;return t}else if(i===0||i===3){let t=n.offsetInInputWithInjections,r=n.injectedTextIndex;for(;r-1>=0&&this.injectionOffsets[r-1]===this.injectionOffsets[r];)t-=this.injectionOptions[r-1].content.length,r--;return t}(0,L.assertNever)(i)}getInjectedText(s,i){const n=this.outputPositionToOffsetInInputWithInjections(s,i),t=this.getInjectedTextAtOffset(n);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(s){const i=this.injectionOffsets,n=this.injectionOptions;if(i!==null){let t=0;for(let r=0;r<i.length;r++){const u=n[r].content.length,f=i[r]+t,d=i[r]+t+u;if(f>s)break;if(s<=d)return{injectedTextIndex:r,offsetInInputWithInjections:f,length:u};t+=u}}}}e.ModelLineProjectionData=D;function S(C){return C==null?!0:C===y.InjectedTextCursorStops.Right||C===y.InjectedTextCursorStops.Both}function m(C){return C==null?!0:C===y.InjectedTextCursorStops.Left||C===y.InjectedTextCursorStops.Both}class _{constructor(s){this.options=s}}e.InjectedText=_;class v{constructor(s,i){this.outputLineIndex=s,this.outputOffset=i}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(s){return new I.Position(s+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=v}),define(te[288],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class L{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(D){if(D&&this._dragOperations.has(D)){const S=this._dragOperations.get(D);return this._dragOperations.delete(D),S}}}e.TreeViewsDnDService=L;class I{constructor(D){this.identifier=D}}e.DraggedTreeItemsIdentifier=I}),define(te[289],ie([1,0,5,179,10,96,145]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class m{static computeUnicodeHighlights(i,n,t){const r=t?t.startLineNumber:1,u=t?t.endLineNumber:i.getLineCount(),f=new v(n),d=f.getCandidateCodePoints();let l;d==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${_(Array.from(d))}`,"g");const o=new I.Searcher(null,l),c=[];let a=!1,g,h=0,p=0,b=0;e:for(let w=r,E=u;w<=E;w++){const k=i.getLineContent(w),M=k.length;o.reset(0);do if(g=o.next(k),g){let R=g.index,B=g.index+g[0].length;if(R>0){const P=k.charCodeAt(R-1);y.isHighSurrogate(P)&&R--}if(B+1<M){const P=k.charCodeAt(B-1);y.isHighSurrogate(P)&&B++}const T=k.substring(R,B);let N=(0,S.getWordAtText)(R+1,S.DEFAULT_WORD_REGEXP,k,0);N&&N.endColumn<=R+1&&(N=null);const A=f.shouldHighlightNonBasicASCII(T,N?N.word:null);if(A!==0){A===3?h++:A===2?p++:A===1?b++:(0,D.assertNever)(A);const P=1e3;if(c.length>=P){a=!0;break e}c.push(new L.Range(w,R+1,w,B+1))}}while(g)}return{ranges:c,hasMore:a,ambiguousCharacterCount:h,invisibleCharacterCount:p,nonBasicAsciiCharacterCount:b}}static computeUnicodeHighlightReason(i,n){const t=new v(n);switch(t.shouldHighlightNonBasicASCII(i,null)){case 0:return null;case 2:return{kind:1};case 3:{const u=i.codePointAt(0),f=t.ambiguousCharacters.getPrimaryConfusable(u),d=y.AmbiguousCharacters.getLocales().filter(l=>!y.AmbiguousCharacters.getInstance(new Set([...n.allowedLocales,l])).isAmbiguous(u));return{kind:0,confusableWith:String.fromCodePoint(f),notAmbiguousInLocales:d}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=m;function _(s,i){return`[${y.escapeRegExpCharacters(s.map(t=>String.fromCodePoint(t)).join(""))}]`}class v{constructor(i){this.options=i,this.allowedCodePoints=new Set(i.allowedCodePoints),this.ambiguousCharacters=y.AmbiguousCharacters.getInstance(new Set(i.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const i=new Set;if(this.options.invisibleCharacters)for(const n of y.InvisibleCharacters.codePoints)C(String.fromCodePoint(n))||i.add(n);if(this.options.ambiguousCharacters)for(const n of this.ambiguousCharacters.getConfusableCodePoints())i.add(n);for(const n of this.allowedCodePoints)i.delete(n);return i}shouldHighlightNonBasicASCII(i,n){const t=i.codePointAt(0);if(this.allowedCodePoints.has(t))return 0;if(this.options.nonBasicASCII)return 1;let r=!1,u=!1;if(n)for(const f of n){const d=f.codePointAt(0),l=y.isBasicASCII(f);r=r||l,!l&&!this.ambiguousCharacters.isAmbiguous(d)&&!y.InvisibleCharacters.isInvisibleCharacter(d)&&(u=!0)}return!r&&u?0:this.options.invisibleCharacters&&!C(i)&&y.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}function C(s){return s===" "||s===`
`||s==="	"}}),define(te[209],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var L;(function(F){F[F.Unknown=0]="Unknown",F[F.Disabled=1]="Disabled",F[F.Enabled=2]="Enabled"})(L||(e.AccessibilitySupport=L={}));var I;(function(F){F[F.Invoke=1]="Invoke",F[F.Auto=2]="Auto"})(I||(e.CodeActionTriggerType=I={}));var y;(function(F){F[F.None=0]="None",F[F.KeepWhitespace=1]="KeepWhitespace",F[F.InsertAsSnippet=4]="InsertAsSnippet"})(y||(e.CompletionItemInsertTextRule=y={}));var D;(function(F){F[F.Method=0]="Method",F[F.Function=1]="Function",F[F.Constructor=2]="Constructor",F[F.Field=3]="Field",F[F.Variable=4]="Variable",F[F.Class=5]="Class",F[F.Struct=6]="Struct",F[F.Interface=7]="Interface",F[F.Module=8]="Module",F[F.Property=9]="Property",F[F.Event=10]="Event",F[F.Operator=11]="Operator",F[F.Unit=12]="Unit",F[F.Value=13]="Value",F[F.Constant=14]="Constant",F[F.Enum=15]="Enum",F[F.EnumMember=16]="EnumMember",F[F.Keyword=17]="Keyword",F[F.Text=18]="Text",F[F.Color=19]="Color",F[F.File=20]="File",F[F.Reference=21]="Reference",F[F.Customcolor=22]="Customcolor",F[F.Folder=23]="Folder",F[F.TypeParameter=24]="TypeParameter",F[F.User=25]="User",F[F.Issue=26]="Issue",F[F.Snippet=27]="Snippet"})(D||(e.CompletionItemKind=D={}));var S;(function(F){F[F.Deprecated=1]="Deprecated"})(S||(e.CompletionItemTag=S={}));var m;(function(F){F[F.Invoke=0]="Invoke",F[F.TriggerCharacter=1]="TriggerCharacter",F[F.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(m||(e.CompletionTriggerKind=m={}));var _;(function(F){F[F.EXACT=0]="EXACT",F[F.ABOVE=1]="ABOVE",F[F.BELOW=2]="BELOW"})(_||(e.ContentWidgetPositionPreference=_={}));var v;(function(F){F[F.NotSet=0]="NotSet",F[F.ContentFlush=1]="ContentFlush",F[F.RecoverFromMarkers=2]="RecoverFromMarkers",F[F.Explicit=3]="Explicit",F[F.Paste=4]="Paste",F[F.Undo=5]="Undo",F[F.Redo=6]="Redo"})(v||(e.CursorChangeReason=v={}));var C;(function(F){F[F.LF=1]="LF",F[F.CRLF=2]="CRLF"})(C||(e.DefaultEndOfLine=C={}));var s;(function(F){F[F.Text=0]="Text",F[F.Read=1]="Read",F[F.Write=2]="Write"})(s||(e.DocumentHighlightKind=s={}));var i;(function(F){F[F.None=0]="None",F[F.Keep=1]="Keep",F[F.Brackets=2]="Brackets",F[F.Advanced=3]="Advanced",F[F.Full=4]="Full"})(i||(e.EditorAutoIndentStrategy=i={}));var n;(function(F){F[F.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",F[F.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",F[F.accessibilitySupport=2]="accessibilitySupport",F[F.accessibilityPageSize=3]="accessibilityPageSize",F[F.ariaLabel=4]="ariaLabel",F[F.ariaRequired=5]="ariaRequired",F[F.autoClosingBrackets=6]="autoClosingBrackets",F[F.autoClosingComments=7]="autoClosingComments",F[F.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",F[F.autoClosingDelete=9]="autoClosingDelete",F[F.autoClosingOvertype=10]="autoClosingOvertype",F[F.autoClosingQuotes=11]="autoClosingQuotes",F[F.autoIndent=12]="autoIndent",F[F.automaticLayout=13]="automaticLayout",F[F.autoSurround=14]="autoSurround",F[F.bracketPairColorization=15]="bracketPairColorization",F[F.guides=16]="guides",F[F.codeLens=17]="codeLens",F[F.codeLensFontFamily=18]="codeLensFontFamily",F[F.codeLensFontSize=19]="codeLensFontSize",F[F.colorDecorators=20]="colorDecorators",F[F.colorDecoratorsLimit=21]="colorDecoratorsLimit",F[F.columnSelection=22]="columnSelection",F[F.comments=23]="comments",F[F.contextmenu=24]="contextmenu",F[F.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",F[F.cursorBlinking=26]="cursorBlinking",F[F.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",F[F.cursorStyle=28]="cursorStyle",F[F.cursorSurroundingLines=29]="cursorSurroundingLines",F[F.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",F[F.cursorWidth=31]="cursorWidth",F[F.disableLayerHinting=32]="disableLayerHinting",F[F.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",F[F.domReadOnly=34]="domReadOnly",F[F.dragAndDrop=35]="dragAndDrop",F[F.dropIntoEditor=36]="dropIntoEditor",F[F.emptySelectionClipboard=37]="emptySelectionClipboard",F[F.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",F[F.extraEditorClassName=39]="extraEditorClassName",F[F.fastScrollSensitivity=40]="fastScrollSensitivity",F[F.find=41]="find",F[F.fixedOverflowWidgets=42]="fixedOverflowWidgets",F[F.folding=43]="folding",F[F.foldingStrategy=44]="foldingStrategy",F[F.foldingHighlight=45]="foldingHighlight",F[F.foldingImportsByDefault=46]="foldingImportsByDefault",F[F.foldingMaximumRegions=47]="foldingMaximumRegions",F[F.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",F[F.fontFamily=49]="fontFamily",F[F.fontInfo=50]="fontInfo",F[F.fontLigatures=51]="fontLigatures",F[F.fontSize=52]="fontSize",F[F.fontWeight=53]="fontWeight",F[F.fontVariations=54]="fontVariations",F[F.formatOnPaste=55]="formatOnPaste",F[F.formatOnType=56]="formatOnType",F[F.glyphMargin=57]="glyphMargin",F[F.gotoLocation=58]="gotoLocation",F[F.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",F[F.hover=60]="hover",F[F.inDiffEditor=61]="inDiffEditor",F[F.inlineSuggest=62]="inlineSuggest",F[F.letterSpacing=63]="letterSpacing",F[F.lightbulb=64]="lightbulb",F[F.lineDecorationsWidth=65]="lineDecorationsWidth",F[F.lineHeight=66]="lineHeight",F[F.lineNumbers=67]="lineNumbers",F[F.lineNumbersMinChars=68]="lineNumbersMinChars",F[F.linkedEditing=69]="linkedEditing",F[F.links=70]="links",F[F.matchBrackets=71]="matchBrackets",F[F.minimap=72]="minimap",F[F.mouseStyle=73]="mouseStyle",F[F.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",F[F.mouseWheelZoom=75]="mouseWheelZoom",F[F.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",F[F.multiCursorModifier=77]="multiCursorModifier",F[F.multiCursorPaste=78]="multiCursorPaste",F[F.multiCursorLimit=79]="multiCursorLimit",F[F.occurrencesHighlight=80]="occurrencesHighlight",F[F.overviewRulerBorder=81]="overviewRulerBorder",F[F.overviewRulerLanes=82]="overviewRulerLanes",F[F.padding=83]="padding",F[F.pasteAs=84]="pasteAs",F[F.parameterHints=85]="parameterHints",F[F.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",F[F.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",F[F.quickSuggestions=88]="quickSuggestions",F[F.quickSuggestionsDelay=89]="quickSuggestionsDelay",F[F.readOnly=90]="readOnly",F[F.readOnlyMessage=91]="readOnlyMessage",F[F.renameOnType=92]="renameOnType",F[F.renderControlCharacters=93]="renderControlCharacters",F[F.renderFinalNewline=94]="renderFinalNewline",F[F.renderLineHighlight=95]="renderLineHighlight",F[F.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",F[F.renderValidationDecorations=97]="renderValidationDecorations",F[F.renderWhitespace=98]="renderWhitespace",F[F.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",F[F.roundedSelection=100]="roundedSelection",F[F.rulers=101]="rulers",F[F.scrollbar=102]="scrollbar",F[F.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",F[F.scrollBeyondLastLine=104]="scrollBeyondLastLine",F[F.scrollPredominantAxis=105]="scrollPredominantAxis",F[F.selectionClipboard=106]="selectionClipboard",F[F.selectionHighlight=107]="selectionHighlight",F[F.selectOnLineNumbers=108]="selectOnLineNumbers",F[F.showFoldingControls=109]="showFoldingControls",F[F.showUnused=110]="showUnused",F[F.snippetSuggestions=111]="snippetSuggestions",F[F.smartSelect=112]="smartSelect",F[F.smoothScrolling=113]="smoothScrolling",F[F.stickyScroll=114]="stickyScroll",F[F.stickyTabStops=115]="stickyTabStops",F[F.stopRenderingLineAfter=116]="stopRenderingLineAfter",F[F.suggest=117]="suggest",F[F.suggestFontSize=118]="suggestFontSize",F[F.suggestLineHeight=119]="suggestLineHeight",F[F.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",F[F.suggestSelection=121]="suggestSelection",F[F.tabCompletion=122]="tabCompletion",F[F.tabIndex=123]="tabIndex",F[F.unicodeHighlighting=124]="unicodeHighlighting",F[F.unusualLineTerminators=125]="unusualLineTerminators",F[F.useShadowDOM=126]="useShadowDOM",F[F.useTabStops=127]="useTabStops",F[F.wordBreak=128]="wordBreak",F[F.wordSeparators=129]="wordSeparators",F[F.wordWrap=130]="wordWrap",F[F.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",F[F.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",F[F.wordWrapColumn=133]="wordWrapColumn",F[F.wordWrapOverride1=134]="wordWrapOverride1",F[F.wordWrapOverride2=135]="wordWrapOverride2",F[F.wrappingIndent=136]="wrappingIndent",F[F.wrappingStrategy=137]="wrappingStrategy",F[F.showDeprecated=138]="showDeprecated",F[F.inlayHints=139]="inlayHints",F[F.editorClassName=140]="editorClassName",F[F.pixelRatio=141]="pixelRatio",F[F.tabFocusMode=142]="tabFocusMode",F[F.layoutInfo=143]="layoutInfo",F[F.wrappingInfo=144]="wrappingInfo",F[F.defaultColorDecorators=145]="defaultColorDecorators",F[F.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",F[F.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(n||(e.EditorOption=n={}));var t;(function(F){F[F.TextDefined=0]="TextDefined",F[F.LF=1]="LF",F[F.CRLF=2]="CRLF"})(t||(e.EndOfLinePreference=t={}));var r;(function(F){F[F.LF=0]="LF",F[F.CRLF=1]="CRLF"})(r||(e.EndOfLineSequence=r={}));var u;(function(F){F[F.Left=1]="Left",F[F.Right=2]="Right"})(u||(e.GlyphMarginLane=u={}));var f;(function(F){F[F.None=0]="None",F[F.Indent=1]="Indent",F[F.IndentOutdent=2]="IndentOutdent",F[F.Outdent=3]="Outdent"})(f||(e.IndentAction=f={}));var d;(function(F){F[F.Both=0]="Both",F[F.Right=1]="Right",F[F.Left=2]="Left",F[F.None=3]="None"})(d||(e.InjectedTextCursorStops=d={}));var l;(function(F){F[F.Type=1]="Type",F[F.Parameter=2]="Parameter"})(l||(e.InlayHintKind=l={}));var o;(function(F){F[F.Automatic=0]="Automatic",F[F.Explicit=1]="Explicit"})(o||(e.InlineCompletionTriggerKind=o={}));var c;(function(F){F[F.DependsOnKbLayout=-1]="DependsOnKbLayout",F[F.Unknown=0]="Unknown",F[F.Backspace=1]="Backspace",F[F.Tab=2]="Tab",F[F.Enter=3]="Enter",F[F.Shift=4]="Shift",F[F.Ctrl=5]="Ctrl",F[F.Alt=6]="Alt",F[F.PauseBreak=7]="PauseBreak",F[F.CapsLock=8]="CapsLock",F[F.Escape=9]="Escape",F[F.Space=10]="Space",F[F.PageUp=11]="PageUp",F[F.PageDown=12]="PageDown",F[F.End=13]="End",F[F.Home=14]="Home",F[F.LeftArrow=15]="LeftArrow",F[F.UpArrow=16]="UpArrow",F[F.RightArrow=17]="RightArrow",F[F.DownArrow=18]="DownArrow",F[F.Insert=19]="Insert",F[F.Delete=20]="Delete",F[F.Digit0=21]="Digit0",F[F.Digit1=22]="Digit1",F[F.Digit2=23]="Digit2",F[F.Digit3=24]="Digit3",F[F.Digit4=25]="Digit4",F[F.Digit5=26]="Digit5",F[F.Digit6=27]="Digit6",F[F.Digit7=28]="Digit7",F[F.Digit8=29]="Digit8",F[F.Digit9=30]="Digit9",F[F.KeyA=31]="KeyA",F[F.KeyB=32]="KeyB",F[F.KeyC=33]="KeyC",F[F.KeyD=34]="KeyD",F[F.KeyE=35]="KeyE",F[F.KeyF=36]="KeyF",F[F.KeyG=37]="KeyG",F[F.KeyH=38]="KeyH",F[F.KeyI=39]="KeyI",F[F.KeyJ=40]="KeyJ",F[F.KeyK=41]="KeyK",F[F.KeyL=42]="KeyL",F[F.KeyM=43]="KeyM",F[F.KeyN=44]="KeyN",F[F.KeyO=45]="KeyO",F[F.KeyP=46]="KeyP",F[F.KeyQ=47]="KeyQ",F[F.KeyR=48]="KeyR",F[F.KeyS=49]="KeyS",F[F.KeyT=50]="KeyT",F[F.KeyU=51]="KeyU",F[F.KeyV=52]="KeyV",F[F.KeyW=53]="KeyW",F[F.KeyX=54]="KeyX",F[F.KeyY=55]="KeyY",F[F.KeyZ=56]="KeyZ",F[F.Meta=57]="Meta",F[F.ContextMenu=58]="ContextMenu",F[F.F1=59]="F1",F[F.F2=60]="F2",F[F.F3=61]="F3",F[F.F4=62]="F4",F[F.F5=63]="F5",F[F.F6=64]="F6",F[F.F7=65]="F7",F[F.F8=66]="F8",F[F.F9=67]="F9",F[F.F10=68]="F10",F[F.F11=69]="F11",F[F.F12=70]="F12",F[F.F13=71]="F13",F[F.F14=72]="F14",F[F.F15=73]="F15",F[F.F16=74]="F16",F[F.F17=75]="F17",F[F.F18=76]="F18",F[F.F19=77]="F19",F[F.F20=78]="F20",F[F.F21=79]="F21",F[F.F22=80]="F22",F[F.F23=81]="F23",F[F.F24=82]="F24",F[F.NumLock=83]="NumLock",F[F.ScrollLock=84]="ScrollLock",F[F.Semicolon=85]="Semicolon",F[F.Equal=86]="Equal",F[F.Comma=87]="Comma",F[F.Minus=88]="Minus",F[F.Period=89]="Period",F[F.Slash=90]="Slash",F[F.Backquote=91]="Backquote",F[F.BracketLeft=92]="BracketLeft",F[F.Backslash=93]="Backslash",F[F.BracketRight=94]="BracketRight",F[F.Quote=95]="Quote",F[F.OEM_8=96]="OEM_8",F[F.IntlBackslash=97]="IntlBackslash",F[F.Numpad0=98]="Numpad0",F[F.Numpad1=99]="Numpad1",F[F.Numpad2=100]="Numpad2",F[F.Numpad3=101]="Numpad3",F[F.Numpad4=102]="Numpad4",F[F.Numpad5=103]="Numpad5",F[F.Numpad6=104]="Numpad6",F[F.Numpad7=105]="Numpad7",F[F.Numpad8=106]="Numpad8",F[F.Numpad9=107]="Numpad9",F[F.NumpadMultiply=108]="NumpadMultiply",F[F.NumpadAdd=109]="NumpadAdd",F[F.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",F[F.NumpadSubtract=111]="NumpadSubtract",F[F.NumpadDecimal=112]="NumpadDecimal",F[F.NumpadDivide=113]="NumpadDivide",F[F.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",F[F.ABNT_C1=115]="ABNT_C1",F[F.ABNT_C2=116]="ABNT_C2",F[F.AudioVolumeMute=117]="AudioVolumeMute",F[F.AudioVolumeUp=118]="AudioVolumeUp",F[F.AudioVolumeDown=119]="AudioVolumeDown",F[F.BrowserSearch=120]="BrowserSearch",F[F.BrowserHome=121]="BrowserHome",F[F.BrowserBack=122]="BrowserBack",F[F.BrowserForward=123]="BrowserForward",F[F.MediaTrackNext=124]="MediaTrackNext",F[F.MediaTrackPrevious=125]="MediaTrackPrevious",F[F.MediaStop=126]="MediaStop",F[F.MediaPlayPause=127]="MediaPlayPause",F[F.LaunchMediaPlayer=128]="LaunchMediaPlayer",F[F.LaunchMail=129]="LaunchMail",F[F.LaunchApp2=130]="LaunchApp2",F[F.Clear=131]="Clear",F[F.MAX_VALUE=132]="MAX_VALUE"})(c||(e.KeyCode=c={}));var a;(function(F){F[F.Hint=1]="Hint",F[F.Info=2]="Info",F[F.Warning=4]="Warning",F[F.Error=8]="Error"})(a||(e.MarkerSeverity=a={}));var g;(function(F){F[F.Unnecessary=1]="Unnecessary",F[F.Deprecated=2]="Deprecated"})(g||(e.MarkerTag=g={}));var h;(function(F){F[F.Inline=1]="Inline",F[F.Gutter=2]="Gutter"})(h||(e.MinimapPosition=h={}));var p;(function(F){F[F.UNKNOWN=0]="UNKNOWN",F[F.TEXTAREA=1]="TEXTAREA",F[F.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",F[F.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",F[F.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",F[F.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",F[F.CONTENT_TEXT=6]="CONTENT_TEXT",F[F.CONTENT_EMPTY=7]="CONTENT_EMPTY",F[F.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",F[F.CONTENT_WIDGET=9]="CONTENT_WIDGET",F[F.OVERVIEW_RULER=10]="OVERVIEW_RULER",F[F.SCROLLBAR=11]="SCROLLBAR",F[F.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",F[F.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(p||(e.MouseTargetType=p={}));var b;(function(F){F[F.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",F[F.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",F[F.TOP_CENTER=2]="TOP_CENTER"})(b||(e.OverlayWidgetPositionPreference=b={}));var w;(function(F){F[F.Left=1]="Left",F[F.Center=2]="Center",F[F.Right=4]="Right",F[F.Full=7]="Full"})(w||(e.OverviewRulerLane=w={}));var E;(function(F){F[F.Left=0]="Left",F[F.Right=1]="Right",F[F.None=2]="None",F[F.LeftOfInjectedText=3]="LeftOfInjectedText",F[F.RightOfInjectedText=4]="RightOfInjectedText"})(E||(e.PositionAffinity=E={}));var k;(function(F){F[F.Off=0]="Off",F[F.On=1]="On",F[F.Relative=2]="Relative",F[F.Interval=3]="Interval",F[F.Custom=4]="Custom"})(k||(e.RenderLineNumbersType=k={}));var M;(function(F){F[F.None=0]="None",F[F.Text=1]="Text",F[F.Blocks=2]="Blocks"})(M||(e.RenderMinimap=M={}));var R;(function(F){F[F.Smooth=0]="Smooth",F[F.Immediate=1]="Immediate"})(R||(e.ScrollType=R={}));var B;(function(F){F[F.Auto=1]="Auto",F[F.Hidden=2]="Hidden",F[F.Visible=3]="Visible"})(B||(e.ScrollbarVisibility=B={}));var T;(function(F){F[F.LTR=0]="LTR",F[F.RTL=1]="RTL"})(T||(e.SelectionDirection=T={}));var N;(function(F){F[F.Invoke=1]="Invoke",F[F.TriggerCharacter=2]="TriggerCharacter",F[F.ContentChange=3]="ContentChange"})(N||(e.SignatureHelpTriggerKind=N={}));var A;(function(F){F[F.File=0]="File",F[F.Module=1]="Module",F[F.Namespace=2]="Namespace",F[F.Package=3]="Package",F[F.Class=4]="Class",F[F.Method=5]="Method",F[F.Property=6]="Property",F[F.Field=7]="Field",F[F.Constructor=8]="Constructor",F[F.Enum=9]="Enum",F[F.Interface=10]="Interface",F[F.Function=11]="Function",F[F.Variable=12]="Variable",F[F.Constant=13]="Constant",F[F.String=14]="String",F[F.Number=15]="Number",F[F.Boolean=16]="Boolean",F[F.Array=17]="Array",F[F.Object=18]="Object",F[F.Key=19]="Key",F[F.Null=20]="Null",F[F.EnumMember=21]="EnumMember",F[F.Struct=22]="Struct",F[F.Event=23]="Event",F[F.Operator=24]="Operator",F[F.TypeParameter=25]="TypeParameter"})(A||(e.SymbolKind=A={}));var P;(function(F){F[F.Deprecated=1]="Deprecated"})(P||(e.SymbolTag=P={}));var O;(function(F){F[F.Hidden=0]="Hidden",F[F.Blink=1]="Blink",F[F.Smooth=2]="Smooth",F[F.Phase=3]="Phase",F[F.Expand=4]="Expand",F[F.Solid=5]="Solid"})(O||(e.TextEditorCursorBlinkingStyle=O={}));var x;(function(F){F[F.Line=1]="Line",F[F.Block=2]="Block",F[F.Underline=3]="Underline",F[F.LineThin=4]="LineThin",F[F.BlockOutline=5]="BlockOutline",F[F.UnderlineThin=6]="UnderlineThin"})(x||(e.TextEditorCursorStyle=x={}));var W;(function(F){F[F.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",F[F.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",F[F.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",F[F.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(W||(e.TrackedRangeStickiness=W={}));var U;(function(F){F[F.None=0]="None",F[F.Same=1]="Same",F[F.Indent=2]="Indent",F[F.DeepIndent=3]="DeepIndent"})(U||(e.WrappingIndent=U={}))}),define(te[516],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class L{constructor(S,m,_,v){this.range=S,this.nestingLevel=m,this.nestingLevelOfEqualBracketType=_,this.isInvalid=v}}e.BracketInfo=L;class I{constructor(S,m,_,v,C,s){this.range=S,this.openingBracketRange=m,this.closingBracketRange=_,this.nestingLevel=v,this.nestingLevelOfEqualBracketType=C,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=I;class y extends I{constructor(S,m,_,v,C,s,i){super(S,m,_,v,C,s),this.minVisibleColumnIndentation=i}}e.BracketPairWithMinIndentationInfo=y}),define(te[517],ie([1,0,6,2,516,177,283,87,282,126,207,13,281]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class n extends I.Disposable{didLanguageChange(o){return this.brackets.didLanguageChange(o)}constructor(o,c){if(super(),this.textModel=o,this.getLanguageConfiguration=c,this.didChangeEmitter=new L.Emitter,this.denseKeyProvider=new v.DenseKeyProvider,this.brackets=new S.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],o.tokenization.hasTokens)o.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const a=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),g=new C.FastTokenizer(this.textModel.getValue(),a);this.initialAstWithoutTokens=(0,_.parseDocument)(g,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const o=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,o||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:o}){const c=o.map(a=>new D.TextEditInfo((0,m.toLength)(a.fromLineNumber-1,0),(0,m.toLength)(a.toLineNumber,0),(0,m.toLength)(a.toLineNumber-a.fromLineNumber+1,0)));this.handleEdits(c,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(o){const c=D.TextEditInfo.fromModelContentChanges(o.changes);this.handleEdits(c,!1)}handleEdits(o,c){const a=(0,i.combineTextEditInfos)(this.queuedTextEdits,o);this.queuedTextEdits=a,this.initialAstWithoutTokens&&!c&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,i.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,o))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(o,c,a){const h=c,p=new C.TextBufferTokenizer(this.textModel,this.brackets);return(0,_.parseDocument)(p,o,h,a)}getBracketsInRange(o,c){this.flushQueue();const a=(0,m.toLength)(o.startLineNumber-1,o.startColumn-1),g=(0,m.toLength)(o.endLineNumber-1,o.endColumn-1);return new s.CallbackIterable(h=>{const p=this.initialAstWithoutTokens||this.astWithTokens;u(p,m.lengthZero,p.length,a,g,h,0,0,new Map,c)})}getBracketPairsInRange(o,c){this.flushQueue();const a=(0,m.positionToLength)(o.getStartPosition()),g=(0,m.positionToLength)(o.getEndPosition());return new s.CallbackIterable(h=>{const p=this.initialAstWithoutTokens||this.astWithTokens,b=new f(h,c,this.textModel);d(p,m.lengthZero,p.length,a,g,b,0,new Map)})}getFirstBracketAfter(o){this.flushQueue();const c=this.initialAstWithoutTokens||this.astWithTokens;return r(c,m.lengthZero,c.length,(0,m.positionToLength)(o))}getFirstBracketBefore(o){this.flushQueue();const c=this.initialAstWithoutTokens||this.astWithTokens;return t(c,m.lengthZero,c.length,(0,m.positionToLength)(o))}}e.BracketPairsTree=n;function t(l,o,c,a){if(l.kind===4||l.kind===2){const g=[];for(const h of l.children)c=(0,m.lengthAdd)(o,h.length),g.push({nodeOffsetStart:o,nodeOffsetEnd:c}),o=c;for(let h=g.length-1;h>=0;h--){const{nodeOffsetStart:p,nodeOffsetEnd:b}=g[h];if((0,m.lengthLessThan)(p,a)){const w=t(l.children[h],p,b,a);if(w)return w}}return null}else{if(l.kind===3)return null;if(l.kind===1){const g=(0,m.lengthsToRange)(o,c);return{bracketInfo:l.bracketInfo,range:g}}}return null}function r(l,o,c,a){if(l.kind===4||l.kind===2){for(const g of l.children){if(c=(0,m.lengthAdd)(o,g.length),(0,m.lengthLessThan)(a,c)){const h=r(g,o,c,a);if(h)return h}o=c}return null}else{if(l.kind===3)return null;if(l.kind===1){const g=(0,m.lengthsToRange)(o,c);return{bracketInfo:l.bracketInfo,range:g}}}return null}function u(l,o,c,a,g,h,p,b,w,E,k=!1){if(p>200)return!0;e:for(;;)switch(l.kind){case 4:{const M=l.childrenLength;for(let R=0;R<M;R++){const B=l.getChild(R);if(B){if(c=(0,m.lengthAdd)(o,B.length),(0,m.lengthLessThanEqual)(o,g)&&(0,m.lengthGreaterThanEqual)(c,a)){if((0,m.lengthGreaterThanEqual)(c,g)){l=B;continue e}if(!u(B,o,c,a,g,h,p,0,w,E))return!1}o=c}}return!0}case 2:{const M=!E||!l.closingBracket||l.closingBracket.bracketInfo.closesColorized(l.openingBracket.bracketInfo);let R=0;if(w){let T=w.get(l.openingBracket.text);T===void 0&&(T=0),R=T,M&&(T++,w.set(l.openingBracket.text,T))}const B=l.childrenLength;for(let T=0;T<B;T++){const N=l.getChild(T);if(N){if(c=(0,m.lengthAdd)(o,N.length),(0,m.lengthLessThanEqual)(o,g)&&(0,m.lengthGreaterThanEqual)(c,a)){if((0,m.lengthGreaterThanEqual)(c,g)&&N.kind!==1){l=N,M?(p++,b=R+1):b=R;continue e}if((M||N.kind!==1||!l.closingBracket)&&!u(N,o,c,a,g,h,M?p+1:p,M?R+1:R,w,E,!l.closingBracket))return!1}o=c}}return w?.set(l.openingBracket.text,R),!0}case 3:{const M=(0,m.lengthsToRange)(o,c);return h(new y.BracketInfo(M,p-1,0,!0))}case 1:{const M=(0,m.lengthsToRange)(o,c);return h(new y.BracketInfo(M,p-1,b-1,k))}case 0:return!0}}class f{constructor(o,c,a){this.push=o,this.includeMinIndentation=c,this.textModel=a}}function d(l,o,c,a,g,h,p,b){var w;if(p>200)return!0;let E=!0;if(l.kind===2){let k=0;if(b){let B=b.get(l.openingBracket.text);B===void 0&&(B=0),k=B,B++,b.set(l.openingBracket.text,B)}const M=(0,m.lengthAdd)(o,l.openingBracket.length);let R=-1;if(h.includeMinIndentation&&(R=l.computeMinIndentation(o,h.textModel)),E=h.push(new y.BracketPairWithMinIndentationInfo((0,m.lengthsToRange)(o,c),(0,m.lengthsToRange)(o,M),l.closingBracket?(0,m.lengthsToRange)((0,m.lengthAdd)(M,((w=l.child)===null||w===void 0?void 0:w.length)||m.lengthZero),c):void 0,p,k,l,R)),o=M,E&&l.child){const B=l.child;if(c=(0,m.lengthAdd)(o,B.length),(0,m.lengthLessThanEqual)(o,g)&&(0,m.lengthGreaterThanEqual)(c,a)&&(E=d(B,o,c,a,g,h,p+1,b),!E))return!1}b?.set(l.openingBracket.text,k)}else{let k=o;for(const M of l.children){const R=k;if(k=(0,m.lengthAdd)(k,M.length),(0,m.lengthLessThanEqual)(R,g)&&(0,m.lengthLessThanEqual)(a,k)&&(E=d(M,R,k,a,g,h,p,b),!E))return!1}}return E}}),define(te[110],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class L{constructor(){this.changeType=1}}e.ModelRawFlush=L;class I{static applyInjectedText(i,n){if(!n||n.length===0)return i;let t="",r=0;for(const u of n)t+=i.substring(r,u.column-1),r=u.column-1,t+=u.options.content;return t+=i.substring(r),t}static fromDecorations(i){const n=[];for(const t of i)t.options.before&&t.options.before.content.length>0&&n.push(new I(t.ownerId,t.range.startLineNumber,t.range.startColumn,t.options.before,0)),t.options.after&&t.options.after.content.length>0&&n.push(new I(t.ownerId,t.range.endLineNumber,t.range.endColumn,t.options.after,1));return n.sort((t,r)=>t.lineNumber===r.lineNumber?t.column===r.column?t.order-r.order:t.column-r.column:t.lineNumber-r.lineNumber),n}constructor(i,n,t,r,u){this.ownerId=i,this.lineNumber=n,this.column=t,this.options=r,this.order=u}}e.LineInjectedText=I;class y{constructor(i,n,t){this.changeType=2,this.lineNumber=i,this.detail=n,this.injectedText=t}}e.ModelRawLineChanged=y;class D{constructor(i,n){this.changeType=3,this.fromLineNumber=i,this.toLineNumber=n}}e.ModelRawLinesDeleted=D;class S{constructor(i,n,t,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=i,this.toLineNumber=n,this.detail=t}}e.ModelRawLinesInserted=S;class m{constructor(){this.changeType=5}}e.ModelRawEOLChanged=m;class _{constructor(i,n,t,r){this.changes=i,this.versionId=n,this.isUndoing=t,this.isRedoing=r,this.resultingSelection=null}containsEvent(i){for(let n=0,t=this.changes.length;n<t;n++)if(this.changes[n].changeType===i)return!0;return!1}static merge(i,n){const t=[].concat(i.changes).concat(n.changes),r=n.versionId,u=i.isUndoing||n.isUndoing,f=i.isRedoing||n.isRedoing;return new _(t,r,u,f)}}e.ModelRawContentChangedEvent=_;class v{constructor(i){this.changes=i}}e.ModelInjectedTextChangedEvent=v;class C{constructor(i,n){this.rawContentChangedEvent=i,this.contentChangedEvent=n}merge(i){const n=_.merge(this.rawContentChangedEvent,i.rawContentChangedEvent),t=C._mergeChangeEvents(this.contentChangedEvent,i.contentChangedEvent);return new C(n,t)}static _mergeChangeEvents(i,n){const t=[].concat(i.changes).concat(n.changes),r=n.eol,u=n.versionId,f=i.isUndoing||n.isUndoing,d=i.isRedoing||n.isRedoing,l=i.isFlush||n.isFlush,o=i.isEolChange&&n.isEolChange;return{changes:t,eol:r,isEolChange:o,versionId:u,isUndoing:f,isRedoing:d,isFlush:l}}}e.InternalModelContentChangeEvent=C}),define(te[210],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var L;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(L||(e.HorizontalGuidesState=L={}));class I{constructor(S,m,_,v,C,s){if(this.visibleColumn=S,this.column=m,this.className=_,this.horizontalLine=v,this.forWrappedLinesAfterColumn=C,this.forWrappedLinesBeforeOrAtColumn=s,S!==-1==(m!==-1))throw new Error}}e.IndentGuide=I;class y{constructor(S,m){this.top=S,this.endColumn=m}}e.IndentGuideHorizontalLine=y}),define(te[290],ie([1,0,68,10,80,5,285,208,210,9]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class C extends S.TextModelPart{constructor(n,t){super(),this.textModel=n,this.languageConfigurationService=t}getLanguageConfiguration(n){return this.languageConfigurationService.getLanguageConfiguration(n)}_computeIndentLevel(n){return(0,m.computeIndentLevel)(this.textModel.getLineContent(n+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(n,t,r){this.assertNotDisposed();const u=this.textModel.getLineCount();if(n<1||n>u)throw new v.BugIndicatingError("Illegal value for lineNumber");const f=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,d=!!(f&&f.offSide);let l=-2,o=-1,c=-2,a=-1;const g=A=>{if(l!==-1&&(l===-2||l>A-1)){l=-1,o=-1;for(let P=A-2;P>=0;P--){const O=this._computeIndentLevel(P);if(O>=0){l=P,o=O;break}}}if(c===-2){c=-1,a=-1;for(let P=A;P<u;P++){const O=this._computeIndentLevel(P);if(O>=0){c=P,a=O;break}}}};let h=-2,p=-1,b=-2,w=-1;const E=A=>{if(h===-2){h=-1,p=-1;for(let P=A-2;P>=0;P--){const O=this._computeIndentLevel(P);if(O>=0){h=P,p=O;break}}}if(b!==-1&&(b===-2||b<A-1)){b=-1,w=-1;for(let P=A;P<u;P++){const O=this._computeIndentLevel(P);if(O>=0){b=P,w=O;break}}}};let k=0,M=!0,R=0,B=!0,T=0,N=0;for(let A=0;M||B;A++){const P=n-A,O=n+A;A>1&&(P<1||P<t)&&(M=!1),A>1&&(O>u||O>r)&&(B=!1),A>5e4&&(M=!1,B=!1);let x=-1;if(M&&P>=1){const U=this._computeIndentLevel(P-1);U>=0?(c=P-1,a=U,x=Math.ceil(U/this.textModel.getOptions().indentSize)):(g(P),x=this._getIndentLevelForWhitespaceLine(d,o,a))}let W=-1;if(B&&O<=u){const U=this._computeIndentLevel(O-1);U>=0?(h=O-1,p=U,W=Math.ceil(U/this.textModel.getOptions().indentSize)):(E(O),W=this._getIndentLevelForWhitespaceLine(d,p,w))}if(A===0){N=x;continue}if(A===1){if(O<=u&&W>=0&&N+1===W){M=!1,k=O,R=O,T=W;continue}if(P>=1&&x>=0&&x-1===N){B=!1,k=P,R=P,T=x;continue}if(k=n,R=n,T=N,T===0)return{startLineNumber:k,endLineNumber:R,indent:T}}M&&(x>=T?k=P:M=!1),B&&(W>=T?R=O:B=!1)}return{startLineNumber:k,endLineNumber:R,indent:T}}getLinesBracketGuides(n,t,r,u){var f;const d=[];for(let h=n;h<=t;h++)d.push([]);const l=!0,o=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(n,1,t,this.textModel.getLineMaxColumn(t))).toArray();let c;if(r&&o.length>0){const h=(n<=r.lineNumber&&r.lineNumber<=t?o:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(r)).toArray()).filter(p=>D.Range.strictContainsPosition(p.range,r));c=(f=(0,L.findLast)(h,p=>l||p.range.startLineNumber!==p.range.endLineNumber))===null||f===void 0?void 0:f.range}const a=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,g=new s;for(const h of o){if(!h.closingBracketRange)continue;const p=c&&h.range.equalsRange(c);if(!p&&!u.includeInactive)continue;const b=g.getInlineClassName(h.nestingLevel,h.nestingLevelOfEqualBracketType,a)+(u.highlightActive&&p?" "+g.activeClassName:""),w=h.openingBracketRange.getStartPosition(),E=h.closingBracketRange.getStartPosition(),k=u.horizontalGuides===_.HorizontalGuidesState.Enabled||u.horizontalGuides===_.HorizontalGuidesState.EnabledForActive&&p;if(h.range.startLineNumber===h.range.endLineNumber){l&&k&&d[h.range.startLineNumber-n].push(new _.IndentGuide(-1,h.openingBracketRange.getEndPosition().column,b,new _.IndentGuideHorizontalLine(!1,E.column),-1,-1));continue}const M=this.getVisibleColumnFromPosition(E),R=this.getVisibleColumnFromPosition(h.openingBracketRange.getStartPosition()),B=Math.min(R,M,h.minVisibleColumnIndentation+1);let T=!1;I.firstNonWhitespaceIndex(this.textModel.getLineContent(h.closingBracketRange.startLineNumber))<h.closingBracketRange.startColumn-1&&(T=!0);const P=Math.max(w.lineNumber,n),O=Math.min(E.lineNumber,t),x=T?1:0;for(let W=P;W<O+x;W++)d[W-n].push(new _.IndentGuide(B,-1,b,null,W===w.lineNumber?w.column:-1,W===E.lineNumber?E.column:-1));k&&(w.lineNumber>=n&&R>B&&d[w.lineNumber-n].push(new _.IndentGuide(B,-1,b,new _.IndentGuideHorizontalLine(!1,w.column),-1,-1)),E.lineNumber<=t&&M>B&&d[E.lineNumber-n].push(new _.IndentGuide(B,-1,b,new _.IndentGuideHorizontalLine(!T,E.column),-1,-1)))}for(const h of d)h.sort((p,b)=>p.visibleColumn-b.visibleColumn);return d}getVisibleColumnFromPosition(n){return y.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(n.lineNumber),n.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(n,t){this.assertNotDisposed();const r=this.textModel.getLineCount();if(n<1||n>r)throw new Error("Illegal value for startLineNumber");if(t<1||t>r)throw new Error("Illegal value for endLineNumber");const u=this.textModel.getOptions(),f=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,d=!!(f&&f.offSide),l=new Array(t-n+1);let o=-2,c=-1,a=-2,g=-1;for(let h=n;h<=t;h++){const p=h-n,b=this._computeIndentLevel(h-1);if(b>=0){o=h-1,c=b,l[p]=Math.ceil(b/u.indentSize);continue}if(o===-2){o=-1,c=-1;for(let w=h-2;w>=0;w--){const E=this._computeIndentLevel(w);if(E>=0){o=w,c=E;break}}}if(a!==-1&&(a===-2||a<h-1)){a=-1,g=-1;for(let w=h;w<r;w++){const E=this._computeIndentLevel(w);if(E>=0){a=w,g=E;break}}}l[p]=this._getIndentLevelForWhitespaceLine(d,c,g)}return l}_getIndentLevelForWhitespaceLine(n,t,r){const u=this.textModel.getOptions();return t===-1||r===-1?0:t<r?1+Math.floor(t/u.indentSize):t===r||n?Math.ceil(r/u.indentSize):1+Math.floor(r/u.indentSize)}}e.GuidesTextModelPart=C;class s{constructor(){this.activeClassName="indent-active"}getInlineClassName(n,t,r){return this.getInlineClassNameOfLevel(r?t:n)}getInlineClassNameOfLevel(n){return`bracket-indent-guide lvl-${n%30}`}}e.BracketPairGuidesClassNames=s}),define(te[518],ie([1,0,6,2]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class y{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(m){this._onDidChange.fire({changedLanguages:m,changedColorMap:!1})}register(m,_){return this._tokenizationSupports.set(m,_),this.handleChange([m]),(0,I.toDisposable)(()=>{this._tokenizationSupports.get(m)===_&&(this._tokenizationSupports.delete(m),this.handleChange([m]))})}get(m){return this._tokenizationSupports.get(m)||null}registerFactory(m,_){var v;(v=this._factories.get(m))===null||v===void 0||v.dispose();const C=new D(this,m,_);return this._factories.set(m,C),(0,I.toDisposable)(()=>{const s=this._factories.get(m);!s||s!==C||(this._factories.delete(m),s.dispose())})}getOrCreate(m){return be(this,void 0,void 0,function*(){const _=this.get(m);if(_)return _;const v=this._factories.get(m);return!v||v.isResolved?null:(yield v.resolve(),this.get(m))})}isResolved(m){if(this.get(m))return!0;const v=this._factories.get(m);return!!(!v||v.isResolved)}setColorMap(m){this._colorMap=m,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=y;class D extends I.Disposable{get isResolved(){return this._isResolved}constructor(m,_,v){super(),this._registry=m,this._languageId=_,this._factory=v,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return be(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return be(this,void 0,void 0,function*(){const m=yield this._factory.tokenizationSupport;this._isResolved=!0,m&&!this._isDisposed&&this._register(this._registry.register(this._languageId,m))})}}}),define(te[519],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class L{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(y,D){this._startLineNumber=y,this._tokens=D}getLineTokens(y){return this._tokens[y-this._startLineNumber]}appendLineTokens(y){this._tokens.push(y)}}e.ContiguousMultilineTokens=L}),define(te[291],ie([1,0,519]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class I{constructor(){this._tokens=[]}add(D,S){if(this._tokens.length>0){const m=this._tokens[this._tokens.length-1];if(m.endLineNumber+1===D){m.appendLineTokens(S);return}}this._tokens.push(new L.ContiguousMultilineTokens(D,[S]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=I}),define(te[91],ie([1,0,124]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class I{static createEmpty(S,m){const _=I.defaultTokenMetadata,v=new Uint32Array(2);return v[0]=S.length,v[1]=_,new I(v,S,m)}constructor(S,m,_){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=m,this._languageIdCodec=_}equals(S){return S instanceof I?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,m,_){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const v=m<<1,C=v+(_<<1);for(let s=v;s<C;s++)if(this._tokens[s]!==S._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const m=this._tokens[(S<<1)+1],_=L.TokenMetadata.getLanguageId(m);return this._languageIdCodec.decodeLanguageId(_)}getStandardTokenType(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getTokenType(m)}getForeground(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getForeground(m)}getClassName(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getClassNameFromMetadata(m)}getInlineStyle(S,m){const _=this._tokens[(S<<1)+1];return L.TokenMetadata.getInlineStyleFromMetadata(_,m)}getPresentation(S){const m=this._tokens[(S<<1)+1];return L.TokenMetadata.getPresentationFromMetadata(m)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return I.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,m,_){return new y(this,S,m,_)}static convertToEndOffset(S,m){const v=(S.length>>>1)-1;for(let C=0;C<v;C++)S[C<<1]=S[C+1<<1];S[v<<1]=m}static findIndexInTokensArray(S,m){if(S.length<=2)return 0;let _=0,v=(S.length>>>1)-1;for(;_<v;){const C=_+Math.floor((v-_)/2),s=S[C<<1];if(s===m)return C+1;s<m?_=C+1:s>m&&(v=C)}return _}withInserted(S){if(S.length===0)return this;let m=0,_=0,v="";const C=new Array;let s=0;for(;;){const i=m<this._tokensCount?this._tokens[m<<1]:-1,n=_<S.length?S[_]:null;if(i!==-1&&(n===null||i<=n.offset)){v+=this._text.substring(s,i);const t=this._tokens[(m<<1)+1];C.push(v.length,t),m++,s=i}else if(n){if(n.offset>s){v+=this._text.substring(s,n.offset);const t=this._tokens[(m<<1)+1];C.push(v.length,t),s=n.offset}v+=n.text,C.push(v.length,n.tokenMetadata),_++}else break}return new I(new Uint32Array(C),v,this._languageIdCodec)}}e.LineTokens=I,I.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class y{constructor(S,m,_,v){this._source=S,this._startOffset=m,this._endOffset=_,this._deltaOffset=v,this._firstTokenIndex=S.findTokenIndexAtOffset(m),this._tokensCount=0;for(let C=this._firstTokenIndex,s=S.getCount();C<s&&!(S.getStartOffset(C)>=_);C++)this._tokensCount++}getMetadata(S){return this._source.getMetadata(this._firstTokenIndex+S)}getLanguageId(S){return this._source.getLanguageId(this._firstTokenIndex+S)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof y?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const m=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,m)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,m){return this._source.getInlineStyle(this._firstTokenIndex+S,m)}getPresentation(S){return this._source.getPresentation(this._firstTokenIndex+S)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(te[520],ie([1,0,91]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class I{static deleteBeginning(S,m){return S===null||S===e.EMPTY_LINE_TOKENS?S:I.delete(S,0,m)}static deleteEnding(S,m){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const _=y(S),v=_[_.length-2];return I.delete(S,m,v)}static delete(S,m,_){if(S===null||S===e.EMPTY_LINE_TOKENS||m===_)return S;const v=y(S),C=v.length>>>1;if(m===0&&v[v.length-2]===_)return e.EMPTY_LINE_TOKENS;const s=L.LineTokens.findIndexInTokensArray(v,m),i=s>0?v[s-1<<1]:0,n=v[s<<1];if(_<n){const d=_-m;for(let l=s;l<C;l++)v[l<<1]-=d;return S}let t,r;i!==m?(v[s<<1]=m,t=s+1<<1,r=m):(t=s<<1,r=i);const u=_-m;for(let d=s+1;d<C;d++){const l=v[d<<1]-u;l>r&&(v[t++]=l,v[t++]=v[(d<<1)+1],r=l)}if(t===v.length)return S;const f=new Uint32Array(t);return f.set(v.subarray(0,t),0),f.buffer}static append(S,m){if(m===e.EMPTY_LINE_TOKENS)return S;if(S===e.EMPTY_LINE_TOKENS)return m;if(S===null)return S;if(m===null)return null;const _=y(S),v=y(m),C=v.length>>>1,s=new Uint32Array(_.length+v.length);s.set(_,0);let i=_.length;const n=_[_.length-2];for(let t=0;t<C;t++)s[i++]=v[t<<1]+n,s[i++]=v[(t<<1)+1];return s.buffer}static insert(S,m,_){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const v=y(S),C=v.length>>>1;let s=L.LineTokens.findIndexInTokensArray(v,m);s>0&&v[s-1<<1]===m&&s--;for(let i=s;i<C;i++)v[i<<1]+=_;return S}}e.ContiguousTokensEditing=I;function y(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=y}),define(te[521],ie([1,0,13,12,520,91,124]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class m{constructor(C){this._lineTokens=[],this._len=0,this._languageIdCodec=C}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(C,s,i){let n=null;if(s<this._len&&(n=this._lineTokens[s]),n!==null&&n!==y.EMPTY_LINE_TOKENS)return new D.LineTokens((0,y.toUint32Array)(n),i,this._languageIdCodec);const t=new Uint32Array(2);return t[0]=i.length,t[1]=_(this._languageIdCodec.encodeLanguageId(C)),new D.LineTokens(t,i,this._languageIdCodec)}static _massageTokens(C,s,i){const n=i?(0,y.toUint32Array)(i):null;if(s===0){let t=!1;if(n&&n.length>1&&(t=S.TokenMetadata.getLanguageId(n[1])!==C),!t)return y.EMPTY_LINE_TOKENS}if(!n||n.length===0){const t=new Uint32Array(2);return t[0]=s,t[1]=_(C),t.buffer}return n[n.length-2]=s,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(C){for(;C>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(C,s){s!==0&&(C+s>this._len&&(s=this._len-C),this._lineTokens.splice(C,s),this._len-=s)}_insertLines(C,s){if(s===0)return;const i=[];for(let n=0;n<s;n++)i[n]=null;this._lineTokens=L.arrayInsert(this._lineTokens,C,i),this._len+=s}setTokens(C,s,i,n,t){const r=m._massageTokens(this._languageIdCodec.encodeLanguageId(C),i,n);this._ensureLine(s);const u=this._lineTokens[s];return this._lineTokens[s]=r,t?!m._equals(u,r):!1}static _equals(C,s){if(!C||!s)return!C&&!s;const i=(0,y.toUint32Array)(C),n=(0,y.toUint32Array)(s);if(i.length!==n.length)return!1;for(let t=0,r=i.length;t<r;t++)if(i[t]!==n[t])return!1;return!0}acceptEdit(C,s,i){this._acceptDeleteRange(C),this._acceptInsertText(new I.Position(C.startLineNumber,C.startColumn),s,i)}_acceptDeleteRange(C){const s=C.startLineNumber-1;if(s>=this._len)return;if(C.startLineNumber===C.endLineNumber){if(C.startColumn===C.endColumn)return;this._lineTokens[s]=y.ContiguousTokensEditing.delete(this._lineTokens[s],C.startColumn-1,C.endColumn-1);return}this._lineTokens[s]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[s],C.startColumn-1);const i=C.endLineNumber-1;let n=null;i<this._len&&(n=y.ContiguousTokensEditing.deleteBeginning(this._lineTokens[i],C.endColumn-1)),this._lineTokens[s]=y.ContiguousTokensEditing.append(this._lineTokens[s],n),this._deleteLines(C.startLineNumber,C.endLineNumber-C.startLineNumber)}_acceptInsertText(C,s,i){if(s===0&&i===0)return;const n=C.lineNumber-1;if(!(n>=this._len)){if(s===0){this._lineTokens[n]=y.ContiguousTokensEditing.insert(this._lineTokens[n],C.column-1,i);return}this._lineTokens[n]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[n],C.column-1),this._lineTokens[n]=y.ContiguousTokensEditing.insert(this._lineTokens[n],C.column-1,i),this._insertLines(C.lineNumber,s)}}setMultilineTokens(C,s){if(C.length===0)return{changes:[]};const i=[];for(let n=0,t=C.length;n<t;n++){const r=C[n];let u=0,f=0,d=!1;for(let l=r.startLineNumber;l<=r.endLineNumber;l++)d?(this.setTokens(s.getLanguageId(),l-1,s.getLineLength(l),r.getLineTokens(l),!1),f=l):this.setTokens(s.getLanguageId(),l-1,s.getLineLength(l),r.getLineTokens(l),!0)&&(d=!0,u=l,f=l);d&&i.push({fromLineNumber:u,toLineNumber:f})}return{changes:i}}}e.ContiguousTokensStore=m;function _(v){return(v<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(te[522],ie([1,0,12,5,122]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(v,C){return new D(v,new S(C))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(v,C){this._startLineNumber=v,this._tokens=C,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(v){return this._startLineNumber<=v&&v<=this._endLineNumber?this._tokens.getLineTokens(v-this._startLineNumber):null}getRange(){const v=this._tokens.getRange();return v&&new I.Range(this._startLineNumber+v.startLineNumber,v.startColumn,this._startLineNumber+v.endLineNumber,v.endColumn)}removeTokens(v){const C=v.startLineNumber-this._startLineNumber,s=v.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(C,v.startColumn-1,s,v.endColumn-1),this._updateEndLineNumber()}split(v){const C=v.startLineNumber-this._startLineNumber,s=v.endLineNumber-this._startLineNumber,[i,n,t]=this._tokens.split(C,v.startColumn-1,s,v.endColumn-1);return[new D(this._startLineNumber,i),new D(this._startLineNumber+t,n)]}applyEdit(v,C){const[s,i,n]=(0,y.countEOL)(C);this.acceptEdit(v,s,i,n,C.length>0?C.charCodeAt(0):0)}acceptEdit(v,C,s,i,n){this._acceptDeleteRange(v),this._acceptInsertText(new L.Position(v.startLineNumber,v.startColumn),C,s,i,n),this._updateEndLineNumber()}_acceptDeleteRange(v){if(v.startLineNumber===v.endLineNumber&&v.startColumn===v.endColumn)return;const C=v.startLineNumber-this._startLineNumber,s=v.endLineNumber-this._startLineNumber;if(s<0){const n=s-C;this._startLineNumber-=n;return}const i=this._tokens.getMaxDeltaLine();if(!(C>=i+1)){if(C<0&&s>=i+1){this._startLineNumber=0,this._tokens.clear();return}if(C<0){const n=-C;this._startLineNumber-=n,this._tokens.acceptDeleteRange(v.startColumn-1,0,0,s,v.endColumn-1)}else this._tokens.acceptDeleteRange(0,C,v.startColumn-1,s,v.endColumn-1)}}_acceptInsertText(v,C,s,i,n){if(C===0&&s===0)return;const t=v.lineNumber-this._startLineNumber;if(t<0){this._startLineNumber+=C;return}const r=this._tokens.getMaxDeltaLine();t>=r+1||this._tokens.acceptInsertText(t,v.column-1,C,s,i,n)}}e.SparseMultilineTokens=D;class S{constructor(v){this._tokens=v,this._tokenCount=v.length/4}toString(v){const C=[];for(let s=0;s<this._tokenCount;s++)C.push(`(${this._getDeltaLine(s)+v},${this._getStartCharacter(s)}-${this._getEndCharacter(s)})`);return`[${C.join(",")}]`}getMaxDeltaLine(){const v=this._getTokenCount();return v===0?-1:this._getDeltaLine(v-1)}getRange(){const v=this._getTokenCount();if(v===0)return null;const C=this._getStartCharacter(0),s=this._getDeltaLine(v-1),i=this._getEndCharacter(v-1);return new I.Range(0,C+1,s,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(v){return this._tokens[4*v]}_getStartCharacter(v){return this._tokens[4*v+1]}_getEndCharacter(v){return this._tokens[4*v+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(v){let C=0,s=this._getTokenCount()-1;for(;C<s;){const i=C+Math.floor((s-C)/2),n=this._getDeltaLine(i);if(n<v)C=i+1;else if(n>v)s=i-1;else{let t=i;for(;t>C&&this._getDeltaLine(t-1)===v;)t--;let r=i;for(;r<s&&this._getDeltaLine(r+1)===v;)r++;return new m(this._tokens.subarray(4*t,4*r+4))}}return this._getDeltaLine(C)===v?new m(this._tokens.subarray(4*C,4*C+4)):null}clear(){this._tokenCount=0}removeTokens(v,C,s,i){const n=this._tokens,t=this._tokenCount;let r=0,u=!1,f=0;for(let d=0;d<t;d++){const l=4*d,o=n[l],c=n[l+1],a=n[l+2],g=n[l+3];if((o>v||o===v&&a>=C)&&(o<s||o===s&&c<=i))u=!0;else{if(r===0&&(f=o),u){const h=4*r;n[h]=o-f,n[h+1]=c,n[h+2]=a,n[h+3]=g}r++}}return this._tokenCount=r,f}split(v,C,s,i){const n=this._tokens,t=this._tokenCount,r=[],u=[];let f=r,d=0,l=0;for(let o=0;o<t;o++){const c=4*o,a=n[c],g=n[c+1],h=n[c+2],p=n[c+3];if(a>v||a===v&&h>=C){if(a<s||a===s&&g<=i)continue;f!==u&&(f=u,d=0,l=a)}f[d++]=a-l,f[d++]=g,f[d++]=h,f[d++]=p}return[new S(new Uint32Array(r)),new S(new Uint32Array(u)),l]}acceptDeleteRange(v,C,s,i,n){const t=this._tokens,r=this._tokenCount,u=i-C;let f=0,d=!1;for(let l=0;l<r;l++){const o=4*l;let c=t[o],a=t[o+1],g=t[o+2];const h=t[o+3];if(c<C||c===C&&g<=s){f++;continue}else if(c===C&&a<s)c===i&&g>n?g-=n-s:g=s;else if(c===C&&a===s)if(c===i&&g>n)g-=n-s;else{d=!0;continue}else if(c<i||c===i&&a<n)if(c===i&&g>n)c=C,a=s,g=a+(g-n);else{d=!0;continue}else if(c>i){if(u===0&&!d){f=r;break}c-=u}else if(c===i&&a>=n)v&&c===0&&(a+=v,g+=v),c-=u,a-=n-s,g-=n-s;else throw new Error("Not possible!");const p=4*f;t[p]=c,t[p+1]=a,t[p+2]=g,t[p+3]=h,f++}this._tokenCount=f}acceptInsertText(v,C,s,i,n,t){const r=s===0&&i===1&&(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122),u=this._tokens,f=this._tokenCount;for(let d=0;d<f;d++){const l=4*d;let o=u[l],c=u[l+1],a=u[l+2];if(!(o<v||o===v&&a<C)){if(o===v&&a===C)if(r)a+=1;else continue;else if(o===v&&c<C&&C<a)s===0?a+=i:a=C;else{if(o===v&&c===C&&r)continue;if(o===v)if(o+=s,s===0)c+=i,a+=i;else{const g=a-c;c=n+(c-C),a=c+g}else o+=s}u[l]=o,u[l+1]=c,u[l+2]=a}}}}class m{constructor(v){this._tokens=v}getCount(){return this._tokens.length/4}getStartCharacter(v){return this._tokens[4*v+1]}getEndCharacter(v){return this._tokens[4*v+2]}getMetadata(v){return this._tokens[4*v+3]}}e.SparseLineTokens=m}),define(te[523],ie([1,0,13,91]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class y{constructor(S){this._pieces=[],this._isComplete=!1,this._languageIdCodec=S}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(S,m){this._pieces=S||[],this._isComplete=m}setPartial(S,m){let _=S;if(m.length>0){const C=m[0].getRange(),s=m[m.length-1].getRange();if(!C||!s)return S;_=S.plusRange(C).plusRange(s)}let v=null;for(let C=0,s=this._pieces.length;C<s;C++){const i=this._pieces[C];if(i.endLineNumber<_.startLineNumber)continue;if(i.startLineNumber>_.endLineNumber){v=v||{index:C};break}if(i.removeTokens(_),i.isEmpty()){this._pieces.splice(C,1),C--,s--;continue}if(i.endLineNumber<_.startLineNumber)continue;if(i.startLineNumber>_.endLineNumber){v=v||{index:C};continue}const[n,t]=i.split(_);if(n.isEmpty()){v=v||{index:C};continue}t.isEmpty()||(this._pieces.splice(C,1,n,t),C++,s++,v=v||{index:C})}return v=v||{index:this._pieces.length},m.length>0&&(this._pieces=L.arrayInsert(this._pieces,v.index,m)),_}isComplete(){return this._isComplete}addSparseTokens(S,m){if(m.getLineContent().length===0)return m;const _=this._pieces;if(_.length===0)return m;const v=y._findFirstPieceWithLine(_,S),C=_[v].getLineTokens(S);if(!C)return m;const s=m.getCount(),i=C.getCount();let n=0;const t=[];let r=0,u=0;const f=(d,l)=>{d!==u&&(u=d,t[r++]=d,t[r++]=l)};for(let d=0;d<i;d++){const l=C.getStartCharacter(d),o=C.getEndCharacter(d),c=C.getMetadata(d),a=((c&1?2048:0)|(c&2?4096:0)|(c&4?8192:0)|(c&8?16384:0)|(c&16?16744448:0)|(c&32?4278190080:0))>>>0,g=~a>>>0;for(;n<s&&m.getEndOffset(n)<=l;)f(m.getEndOffset(n),m.getMetadata(n)),n++;for(n<s&&m.getStartOffset(n)<l&&f(l,m.getMetadata(n));n<s&&m.getEndOffset(n)<o;)f(m.getEndOffset(n),m.getMetadata(n)&g|c&a),n++;if(n<s)f(o,m.getMetadata(n)&g|c&a),m.getEndOffset(n)===o&&n++;else{const h=Math.min(Math.max(0,n-1),s-1);f(o,m.getMetadata(h)&g|c&a)}}for(;n<s;)f(m.getEndOffset(n),m.getMetadata(n)),n++;return new I.LineTokens(new Uint32Array(t),m.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(S,m){let _=0,v=S.length-1;for(;_<v;){let C=_+Math.floor((v-_)/2);if(S[C].endLineNumber<m)_=C+1;else if(S[C].startLineNumber>m)v=C-1;else{for(;C>_&&S[C-1].startLineNumber<=m&&m<=S[C-1].endLineNumber;)C--;return C}}return _}acceptEdit(S,m,_,v,C){for(const s of this._pieces)s.acceptEdit(S,m,_,v,C)}}e.SparseTokensStore=y}),define(te[148],ie([1,0,2]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class I extends L.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let S=!1;for(let m=0,_=D.length;m<_;m++){const v=D[m];switch(v.type){case 0:this.onCompositionStart(v)&&(S=!0);break;case 1:this.onCompositionEnd(v)&&(S=!0);break;case 2:this.onConfigurationChanged(v)&&(S=!0);break;case 3:this.onCursorStateChanged(v)&&(S=!0);break;case 4:this.onDecorationsChanged(v)&&(S=!0);break;case 5:this.onFlushed(v)&&(S=!0);break;case 6:this.onFocusChanged(v)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(v)&&(S=!0);break;case 8:this.onLineMappingChanged(v)&&(S=!0);break;case 9:this.onLinesChanged(v)&&(S=!0);break;case 10:this.onLinesDeleted(v)&&(S=!0);break;case 11:this.onLinesInserted(v)&&(S=!0);break;case 12:this.onRevealRangeRequest(v)&&(S=!0);break;case 13:this.onScrollChanged(v)&&(S=!0);break;case 15:this.onTokensChanged(v)&&(S=!0);break;case 14:this.onThemeChanged(v)&&(S=!0);break;case 16:this.onTokensColorsChanged(v)&&(S=!0);break;case 17:this.onZonesChanged(v)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(v)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=I}),define(te[111],ie([1,0,148]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class I extends L.ViewEventHandler{}e.DynamicViewOverlay=I}),define(te[53],ie([1,0,148]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class I extends L.ViewEventHandler{constructor(S){super(),this._context=S,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=I;class y{static write(S,m){S.setAttribute("data-mprt",String(m))}static read(S){const m=S.getAttribute("data-mprt");return m===null?0:parseInt(m,10)}static collect(S,m){const _=[];let v=0;for(;S&&S!==S.ownerDocument.body&&S!==m;)S.nodeType===S.ELEMENT_NODE&&(_[v++]=this.read(S)),S=S.parentElement;const C=new Uint8Array(v);for(let s=0;s<v;s++)C[s]=_[v-s-1];return C}}e.PartFingerprints=y}),define(te[524],ie([1,0,38,53,420]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class y extends I.ViewPart{constructor(S){super(S),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let S=!1;const _=this._context.configuration.options.get(143),v=_.contentWidth-_.verticalScrollbarWidth;this.contentWidth!==v&&(this.contentWidth=v,S=!0);const C=_.contentLeft;return this.contentLeft!==C&&(this.contentLeft=C,S=!0),S}dispose(){super.dispose()}onConfigurationChanged(S){return this.update()}onScrollChanged(S){return S.scrollTopChanged||S.scrollLeftChanged}onDecorationsChanged(S){return!0}onZonesChanged(S){return!0}prepareRender(S){}render(S){var m;let _=0;const v=S.getDecorationsInViewport();for(const C of v){if(!C.options.blockClassName)continue;let s=this.blocks[_];s||(s=this.blocks[_]=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(s));let i,n;C.options.blockIsAfterEnd?(i=S.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!1),n=S.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0)):(i=S.getVerticalOffsetForLineNumber(C.range.startLineNumber,!0),n=C.range.isEmpty()&&!C.options.blockDoesNotCollapse?S.getVerticalOffsetForLineNumber(C.range.startLineNumber,!1):S.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0));const[t,r,u,f]=(m=C.options.blockPadding)!==null&&m!==void 0?m:[0,0,0,0];s.setClassName("blockDecorations-block "+C.options.blockClassName),s.setLeft(this.contentLeft-f),s.setWidth(this.contentWidth+f+r),s.setTop(i-S.scrollTop-t),s.setHeight(n-i+t+u),_++}for(let C=_;C<this.blocks.length;C++)this.blocks[C].domNode.remove();this.blocks.length=_}}e.BlockDecorations=y}),define(te[525],ie([1,0,111,142,5,422]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends L.DynamicViewOverlay{constructor(m){super(),this._context=m;const _=this._context.configuration.options;this._lineHeight=_.get(66),this._typicalHalfwidthCharacterWidth=_.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(m){const _=this._context.configuration.options;return this._lineHeight=_.get(66),this._typicalHalfwidthCharacterWidth=_.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(m){return!0}onFlushed(m){return!0}onLinesChanged(m){return!0}onLinesDeleted(m){return!0}onLinesInserted(m){return!0}onScrollChanged(m){return m.scrollTopChanged||m.scrollWidthChanged}onZonesChanged(m){return!0}prepareRender(m){const _=m.getDecorationsInViewport();let v=[],C=0;for(let t=0,r=_.length;t<r;t++){const u=_[t];u.options.className&&(v[C++]=u)}v=v.sort((t,r)=>{if(t.options.zIndex<r.options.zIndex)return-1;if(t.options.zIndex>r.options.zIndex)return 1;const u=t.options.className,f=r.options.className;return u<f?-1:u>f?1:y.Range.compareRangesUsingStarts(t.range,r.range)});const s=m.visibleRange.startLineNumber,i=m.visibleRange.endLineNumber,n=[];for(let t=s;t<=i;t++){const r=t-s;n[r]=""}this._renderWholeLineDecorations(m,v,n),this._renderNormalDecorations(m,v,n),this._renderResult=n}_renderWholeLineDecorations(m,_,v){const C=String(this._lineHeight),s=m.visibleRange.startLineNumber,i=m.visibleRange.endLineNumber;for(let n=0,t=_.length;n<t;n++){const r=_[n];if(!r.options.isWholeLine)continue;const u='<div class="cdr '+r.options.className+'" style="left:0;width:100%;height:'+C+'px;"></div>',f=Math.max(r.range.startLineNumber,s),d=Math.min(r.range.endLineNumber,i);for(let l=f;l<=d;l++){const o=l-s;v[o]+=u}}}_renderNormalDecorations(m,_,v){var C;const s=String(this._lineHeight),i=m.visibleRange.startLineNumber;let n=null,t=!1,r=null,u=!1;for(let f=0,d=_.length;f<d;f++){const l=_[f];if(l.options.isWholeLine)continue;const o=l.options.className,c=!!l.options.showIfCollapsed;let a=l.range;if(c&&a.endColumn===1&&a.endLineNumber!==a.startLineNumber&&(a=new y.Range(a.startLineNumber,a.startColumn,a.endLineNumber-1,this._context.viewModel.getLineMaxColumn(a.endLineNumber-1))),n===o&&t===c&&y.Range.areIntersectingOrTouching(r,a)){r=y.Range.plusRange(r,a);continue}n!==null&&this._renderNormalDecoration(m,r,n,u,t,s,i,v),n=o,t=c,r=a,u=(C=l.options.shouldFillLineOnLineBreak)!==null&&C!==void 0?C:!1}n!==null&&this._renderNormalDecoration(m,r,n,u,t,s,i,v)}_renderNormalDecoration(m,_,v,C,s,i,n,t){const r=m.linesVisibleRangesForRange(_,v==="findMatch");if(r)for(let u=0,f=r.length;u<f;u++){const d=r[u];if(d.outsideRenderedLine)continue;const l=d.lineNumber-n;if(s&&d.ranges.length===1){const o=d.ranges[0];if(o.width<this._typicalHalfwidthCharacterWidth){const c=Math.round(o.left+o.width/2),a=Math.max(0,Math.round(c-this._typicalHalfwidthCharacterWidth/2));d.ranges[0]=new I.HorizontalRange(a,this._typicalHalfwidthCharacterWidth)}}for(let o=0,c=d.ranges.length;o<c;o++){const a=C&&d.continuesOnNextLine&&c===1,g=d.ranges[o],h='<div class="cdr '+v+'" style="left:'+String(g.left)+(a?"px;width:100%;height:":"px;width:"+String(g.width)+"px;height:")+i+'px;"></div>';t[l]+=h}}}render(m,_){if(!this._renderResult)return"";const v=_-m;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}e.DecorationsOverlay=D}),define(te[211],ie([1,0,38,13,111,53,5,423]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class m{constructor(u,f,d,l){this._decorationToRenderBrand=void 0,this.startLineNumber=+u,this.endLineNumber=+f,this.className=String(d),this.zIndex=l??0}}e.DecorationToRender=m;class _{constructor(u,f){this.className=u,this.zIndex=f}}e.LineDecorationToRender=_;class v{constructor(){this.decorations=[]}add(u){this.decorations.push(u)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=v;class C extends y.DynamicViewOverlay{_render(u,f,d){const l=[];for(let a=u;a<=f;a++){const g=a-u;l[g]=new v}if(d.length===0)return l;d.sort((a,g)=>a.className===g.className?a.startLineNumber===g.startLineNumber?a.endLineNumber-g.endLineNumber:a.startLineNumber-g.startLineNumber:a.className<g.className?-1:1);let o=null,c=0;for(let a=0,g=d.length;a<g;a++){const h=d[a],p=h.className,b=h.zIndex;let w=Math.max(h.startLineNumber,u)-u;const E=Math.min(h.endLineNumber,f)-u;o===p?(w=Math.max(c+1,w),c=Math.max(c,E)):(o=p,c=E);for(let k=w;k<=c;k++)l[k].add(new _(p,b))}return l}}e.DedupOverlay=C;class s extends D.ViewPart{constructor(u){super(u),this._widgets={},this._context=u;const f=this._context.configuration.options,d=f.get(143);this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=f.get(66),this._glyphMargin=f.get(57),this._glyphMarginLeft=d.glyphMarginLeft,this._glyphMarginWidth=d.glyphMarginWidth,this._glyphMarginDecorationLaneCount=d.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(u){const f=this._context.configuration.options,d=f.get(143);return this._lineHeight=f.get(66),this._glyphMargin=f.get(57),this._glyphMarginLeft=d.glyphMarginLeft,this._glyphMarginWidth=d.glyphMarginWidth,this._glyphMarginDecorationLaneCount=d.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}addWidget(u){const f=(0,L.createFastDomNode)(u.getDomNode());this._widgets[u.getId()]={widget:u,preference:u.getPosition(),domNode:f,renderInfo:null},f.setPosition("absolute"),f.setDisplay("none"),f.setAttribute("widgetId",u.getId()),this.domNode.appendChild(f),this.setShouldRender()}setWidgetPosition(u,f){const d=this._widgets[u.getId()];return d.preference.lane===f.lane&&d.preference.zIndex===f.zIndex&&S.Range.equalsRange(d.preference.range,f.range)?!1:(d.preference=f,this.setShouldRender(),!0)}removeWidget(u){var f;const d=u.getId();if(this._widgets[d]){const o=this._widgets[d].domNode.domNode;delete this._widgets[d],(f=o.parentNode)===null||f===void 0||f.removeChild(o),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(u,f){var d,l,o;const c=u.visibleRange.startLineNumber,a=u.visibleRange.endLineNumber,g=u.getDecorationsInViewport();for(const h of g){const p=h.options.glyphMarginClassName;if(!p)continue;const b=Math.max(h.range.startLineNumber,c),w=Math.min(h.range.endLineNumber,a),E=Math.min((l=(d=h.options.glyphMargin)===null||d===void 0?void 0:d.position)!==null&&l!==void 0?l:1,this._glyphMarginDecorationLaneCount),k=(o=h.options.zIndex)!==null&&o!==void 0?o:0;for(let M=b;M<=w;M++)f.push(new i(M,E,k,p))}}_collectWidgetBasedGlyphRenderRequest(u,f){const d=u.visibleRange.startLineNumber,l=u.visibleRange.endLineNumber;for(const o of Object.values(this._widgets)){const c=o.preference.range;if(c.endLineNumber<d||c.startLineNumber>l)continue;const a=Math.max(c.startLineNumber,d),g=Math.min(o.preference.lane,this._glyphMarginDecorationLaneCount);f.push(new n(a,g,o.preference.zIndex,o))}}_collectSortedGlyphRenderRequests(u){const f=[];return this._collectDecorationBasedGlyphRenderRequest(u,f),this._collectWidgetBasedGlyphRenderRequest(u,f),f.sort((d,l)=>d.lineNumber===l.lineNumber?d.lane===l.lane?d.zIndex===l.zIndex?l.type===d.type?d.type===0&&l.type===0?d.className<l.className?-1:1:0:l.type-d.type:l.zIndex-d.zIndex:d.lane-l.lane:d.lineNumber-l.lineNumber),f}prepareRender(u){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const l of Object.values(this._widgets))l.renderInfo=null;const f=new I.ArrayQueue(this._collectSortedGlyphRenderRequests(u)),d=[];for(;f.length>0;){const l=f.peek();if(!l)break;const o=f.takeWhile(a=>a.lineNumber===l.lineNumber&&a.lane===l.lane);if(!o||o.length===0)break;const c=o[0];if(c.type===0){const a=[];for(const g of o){if(g.zIndex!==c.zIndex||g.type!==c.type)break;(a.length===0||a[a.length-1]!==g.className)&&a.push(g.className)}d.push(c.accept(a.join(" ")))}else c.widget.renderInfo={lineNumber:c.lineNumber,lane:c.lane}}this._decorationGlyphsToRender=d}render(u){if(!this._glyphMargin){for(const d of Object.values(this._widgets))d.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const d=this._managedDomNodes.pop();d?.domNode.remove()}return}const f=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const d of Object.values(this._widgets))if(!d.renderInfo)d.domNode.setDisplay("none");else{const l=u.viewportData.relativeVerticalOffset[d.renderInfo.lineNumber-u.viewportData.startLineNumber],o=this._glyphMarginLeft+(d.renderInfo.lane-1)*this._lineHeight;d.domNode.setDisplay("block"),d.domNode.setTop(l),d.domNode.setLeft(o),d.domNode.setWidth(f),d.domNode.setHeight(this._lineHeight)}for(let d=0;d<this._decorationGlyphsToRender.length;d++){const l=this._decorationGlyphsToRender[d],o=u.viewportData.relativeVerticalOffset[l.lineNumber-u.viewportData.startLineNumber],c=this._glyphMarginLeft+(l.lane-1)*this._lineHeight;let a;d<this._managedDomNodes.length?a=this._managedDomNodes[d]:(a=(0,L.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(a),this.domNode.appendChild(a)),a.setClassName("cgmr codicon "+l.combinedClassName),a.setPosition("absolute"),a.setTop(o),a.setLeft(c),a.setWidth(f),a.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const d=this._managedDomNodes.pop();d?.domNode.remove()}}}e.GlyphMarginWidgets=s;class i{constructor(u,f,d,l){this.lineNumber=u,this.lane=f,this.zIndex=d,this.className=l,this.type=0}accept(u){return new t(this.lineNumber,this.lane,u)}}class n{constructor(u,f,d,l){this.lineNumber=u,this.lane=f,this.zIndex=d,this.widget=l,this.type=1}}class t{constructor(u,f,d){this.lineNumber=u,this.lane=f,this.combinedClassName=d}}}),define(te[526],ie([1,0,211,427]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class I extends L.DedupOverlay{constructor(D){super(),this._context=D;const m=this._context.configuration.options.get(143);this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const m=this._context.configuration.options.get(143);return this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),m=[];let _=0;for(let v=0,C=S.length;v<C;v++){const s=S[v],i=s.options.linesDecorationsClassName,n=s.options.zIndex;i&&(m[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,i,n));const t=s.options.firstLineDecorationClassName;t&&(m[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.startLineNumber,t,n))}return m}prepareRender(D){const S=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,_=this._render(S,m,this._getDecorations(D)),v=this._decorationsLeft.toString(),C=this._decorationsWidth.toString(),s='" style="left:'+v+"px;width:"+C+'px;"></div>',i=[];for(let n=S;n<=m;n++){const t=n-S,r=_[t].getDecorations();let u="";for(const f of r)u+='<div class="cldr '+f.className+s;i[t]=u}this._renderResult=i}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.LinesDecorationsOverlay=I}),define(te[292],ie([1,0,38,53,428]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class y extends I.ViewPart{constructor(S){super(S);const m=this._context.configuration.options,_=m.get(143);this._canUseLayerHinting=!m.get(32),this._contentLeft=_.contentLeft,this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(y.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(y.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const m=this._context.configuration.options,_=m.get(143);return this._canUseLayerHinting=!m.get(32),this._contentLeft=_.contentLeft,this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const m=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-m);const _=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(_),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(_)}}e.Margin=y,y.CLASS_NAME="glyph-margin",y.OUTER_CLASS_NAME="margin"}),define(te[527],ie([1,0,211,429]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class I extends L.DedupOverlay{constructor(D){super(),this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),m=[];let _=0;for(let v=0,C=S.length;v<C;v++){const s=S[v],i=s.options.marginClassName,n=s.options.zIndex;i&&(m[_++]=new L.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,i,n))}return m}prepareRender(D){const S=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,_=this._render(S,m,this._getDecorations(D)),v=[];for(let C=S;C<=m;C++){const s=C-S,i=_[s].getDecorations();let n="";for(const t of i)n+='<div class="cmdr '+t.className+'" style=""></div>';v[s]=n}this._renderResult=v}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.MarginViewLineDecorationsOverlay=I}),define(te[528],ie([1,0,38,53,431]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class y extends I.ViewPart{constructor(S){super(S);const _=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),I.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const _=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,!0}addWidget(S){const m=(0,L.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:m},m.setPosition("absolute"),m.setAttribute("widgetId",S.getId()),this._domNode.appendChild(m),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(S,m){const _=this._widgets[S.getId()];return _.preference===m?(this._updateMaxMinWidth(),!1):(_.preference=m,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(S){const m=S.getId();if(this._widgets.hasOwnProperty(m)){const v=this._widgets[m].domNode.domNode;delete this._widgets[m],v.parentNode.removeChild(v),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var S,m;let _=0;const v=Object.keys(this._widgets);for(let C=0,s=v.length;C<s;C++){const i=v[C],t=(m=(S=this._widgets[i].widget).getMinContentWidthInPx)===null||m===void 0?void 0:m.call(S);typeof t<"u"&&(_=Math.max(_,t))}this._context.viewLayout.setOverlayWidgetsMinWidth(_)}_renderWidget(S){const m=S.domNode;if(S.preference===null){m.setTop("");return}if(S.preference===0)m.setTop(0),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const _=m.domNode.clientHeight;m.setTop(this._editorHeight-_-2*this._horizontalScrollbarHeight),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(m.setTop(0),m.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const m=Object.keys(this._widgets);for(let _=0,v=m.length;_<v;_++){const C=m[_];this._renderWidget(this._widgets[C])}}}e.ViewOverlayWidgets=y}),define(te[529],ie([1,0,38,53,432]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class y extends I.ViewPart{constructor(S){super(S),this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const m=this._context.configuration.options;this._rulers=m.get(101),this._typicalHalfwidthCharacterWidth=m.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(S){const m=this._context.configuration.options;return this._rulers=m.get(101),this._typicalHalfwidthCharacterWidth=m.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(S){return S.scrollHeightChanged}prepareRender(S){}_ensureRulersCount(){const S=this._renderedRulers.length,m=this._rulers.length;if(S===m)return;if(S<m){const{tabSize:v}=this._context.viewModel.model.getOptions(),C=v;let s=m-S;for(;s>0;){const i=(0,L.createFastDomNode)(document.createElement("div"));i.setClassName("view-ruler"),i.setWidth(C),this.domNode.appendChild(i),this._renderedRulers.push(i),s--}return}let _=S-m;for(;_>0;){const v=this._renderedRulers.pop();this.domNode.removeChild(v),_--}}render(S){this._ensureRulersCount();for(let m=0,_=this._rulers.length;m<_;m++){const v=this._renderedRulers[m],C=this._rulers[m];v.setBoxShadow(C.color?`1px 0 0 0 ${C.color} inset`:""),v.setHeight(Math.min(S.scrollHeight,1e6)),v.setLeft(C.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=y}),define(te[530],ie([1,0,38,53,433]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class y extends I.ViewPart{constructor(S){super(S),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const _=this._context.configuration.options.get(102);this._useShadows=_.useShadows,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const S=this._useShadows&&this._scrollTop>0;return this._shouldShow!==S?(this._shouldShow=S,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const m=this._context.configuration.options.get(143);m.minimap.renderMinimap===0||m.minimap.minimapWidth>0&&m.minimap.minimapLeft===0?this._width=m.width:this._width=m.width-m.verticalScrollbarWidth}onConfigurationChanged(S){const _=this._context.configuration.options.get(102);return this._useShadows=_.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(S){return this._scrollTop=S.scrollTop,this._updateShouldShow()}prepareRender(S){}render(S){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=y}),define(te[531],ie([1,0,38,9,53,12]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class m extends y.ViewPart{constructor(C){super(C);const s=this._context.configuration.options,i=s.get(143);this._lineHeight=s.get(66),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,L.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const C=this._context.viewLayout.getWhitespaces(),s=new Map;for(const n of C)s.set(n.id,n);let i=!1;return this._context.viewModel.changeWhitespace(n=>{const t=Object.keys(this._zones);for(let r=0,u=t.length;r<u;r++){const f=t[r],d=this._zones[f],l=this._computeWhitespaceProps(d.delegate);d.isInHiddenArea=l.isInHiddenArea;const o=s.get(f);o&&(o.afterLineNumber!==l.afterViewLineNumber||o.height!==l.heightInPx)&&(n.changeOneWhitespace(f,l.afterViewLineNumber,l.heightInPx),this._safeCallOnComputedHeight(d.delegate,l.heightInPx),i=!0)}}),i}onConfigurationChanged(C){const s=this._context.configuration.options,i=s.get(143);return this._lineHeight=s.get(66),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,C.hasChanged(66)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(C){return this._recomputeWhitespacesProps()}onLinesDeleted(C){return!0}onScrollChanged(C){return C.scrollTopChanged||C.scrollWidthChanged}onZonesChanged(C){return!0}onLinesInserted(C){return!0}_getZoneOrdinal(C){var s,i;return(i=(s=C.ordinal)!==null&&s!==void 0?s:C.afterColumn)!==null&&i!==void 0?i:1e4}_computeWhitespaceProps(C){if(C.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(C),minWidthInPx:this._minWidthInPixels(C)};let s;if(typeof C.afterColumn<"u")s=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:C.afterColumn});else{const r=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:1}).lineNumber;s=new D.Position(r,this._context.viewModel.model.getLineMaxColumn(r))}let i;s.column===this._context.viewModel.model.getLineMaxColumn(s.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber,column:s.column+1});const n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s,C.afterColumnAffinity,!0),t=C.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!t,afterViewLineNumber:n.lineNumber,heightInPx:t?this._heightInPixels(C):0,minWidthInPx:this._minWidthInPixels(C)}}changeViewZones(C){let s=!1;return this._context.viewModel.changeWhitespace(i=>{const n={addZone:t=>(s=!0,this._addZone(i,t)),removeZone:t=>{t&&(s=this._removeZone(i,t)||s)},layoutZone:t=>{t&&(s=this._layoutZone(i,t)||s)}};_(C,n),n.addZone=S,n.removeZone=S,n.layoutZone=S}),s}_addZone(C,s){const i=this._computeWhitespaceProps(s),t={whitespaceId:C.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(s),i.heightInPx,i.minWidthInPx),delegate:s,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,L.createFastDomNode)(s.domNode),marginDomNode:s.marginDomNode?(0,L.createFastDomNode)(s.marginDomNode):null};return this._safeCallOnComputedHeight(t.delegate,i.heightInPx),t.domNode.setPosition("absolute"),t.domNode.domNode.style.width="100%",t.domNode.setDisplay("none"),t.domNode.setAttribute("monaco-view-zone",t.whitespaceId),this.domNode.appendChild(t.domNode),t.marginDomNode&&(t.marginDomNode.setPosition("absolute"),t.marginDomNode.domNode.style.width="100%",t.marginDomNode.setDisplay("none"),t.marginDomNode.setAttribute("monaco-view-zone",t.whitespaceId),this.marginDomNode.appendChild(t.marginDomNode)),this._zones[t.whitespaceId]=t,this.setShouldRender(),t.whitespaceId}_removeZone(C,s){if(this._zones.hasOwnProperty(s)){const i=this._zones[s];return delete this._zones[s],C.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(C,s){if(this._zones.hasOwnProperty(s)){const i=this._zones[s],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,C.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(C){return this._zones.hasOwnProperty(C)?!!this._zones[C].delegate.suppressMouseDown:!1}_heightInPixels(C){return typeof C.heightInPx=="number"?C.heightInPx:typeof C.heightInLines=="number"?this._lineHeight*C.heightInLines:this._lineHeight}_minWidthInPixels(C){return typeof C.minWidthInPx=="number"?C.minWidthInPx:0}_safeCallOnComputedHeight(C,s){if(typeof C.onComputedHeight=="function")try{C.onComputedHeight(s)}catch(i){(0,I.onUnexpectedError)(i)}}_safeCallOnDomNodeTop(C,s){if(typeof C.onDomNodeTop=="function")try{C.onDomNodeTop(s)}catch(i){(0,I.onUnexpectedError)(i)}}prepareRender(C){}render(C){const s=C.viewportData.whitespaceViewportData,i={};let n=!1;for(const r of s)this._zones[r.id].isInHiddenArea||(i[r.id]=r,n=!0);const t=Object.keys(this._zones);for(let r=0,u=t.length;r<u;r++){const f=t[r],d=this._zones[f];let l=0,o=0,c="none";i.hasOwnProperty(f)?(l=i[f].verticalOffset-C.bigNumbersDelta,o=i[f].height,c="block",d.isVisible||(d.domNode.setAttribute("monaco-visible-view-zone","true"),d.isVisible=!0),this._safeCallOnDomNodeTop(d.delegate,C.getScrolledTopFromAbsoluteTop(i[f].verticalOffset))):(d.isVisible&&(d.domNode.removeAttribute("monaco-visible-view-zone"),d.isVisible=!1),this._safeCallOnDomNodeTop(d.delegate,C.getScrolledTopFromAbsoluteTop(-1e6))),d.domNode.setTop(l),d.domNode.setHeight(o),d.domNode.setDisplay(c),d.marginDomNode&&(d.marginDomNode.setTop(l),d.marginDomNode.setHeight(o),d.marginDomNode.setDisplay(c))}n&&(this.domNode.setWidth(Math.max(C.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=m;function _(v,C){try{return v(C)}catch(s){(0,I.onUnexpectedError)(s)}}}),define(te[212],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class L{constructor(){this.type=0}}e.ViewCompositionStartEvent=L;class I{constructor(){this.type=1}}e.ViewCompositionEndEvent=I;class y{constructor(c){this.type=2,this._source=c}hasChanged(c){return this._source.hasChanged(c)}}e.ViewConfigurationChangedEvent=y;class D{constructor(c,a,g){this.selections=c,this.modelSelections=a,this.reason=g,this.type=3}}e.ViewCursorStateChangedEvent=D;class S{constructor(c){this.type=4,c?(this.affectsMinimap=c.affectsMinimap,this.affectsOverviewRuler=c.affectsOverviewRuler,this.affectsGlyphMargin=c.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}e.ViewDecorationsChangedEvent=S;class m{constructor(){this.type=5}}e.ViewFlushedEvent=m;class _{constructor(c){this.type=6,this.isFocused=c}}e.ViewFocusChangedEvent=_;class v{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=v;class C{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=C;class s{constructor(c,a){this.fromLineNumber=c,this.count=a,this.type=9}}e.ViewLinesChangedEvent=s;class i{constructor(c,a){this.type=10,this.fromLineNumber=c,this.toLineNumber=a}}e.ViewLinesDeletedEvent=i;class n{constructor(c,a){this.type=11,this.fromLineNumber=c,this.toLineNumber=a}}e.ViewLinesInsertedEvent=n;class t{constructor(c,a,g,h,p,b,w){this.source=c,this.minimalReveal=a,this.range=g,this.selections=h,this.verticalType=p,this.revealHorizontal=b,this.scrollType=w,this.type=12}}e.ViewRevealRangeRequestEvent=t;class r{constructor(c){this.type=13,this.scrollWidth=c.scrollWidth,this.scrollLeft=c.scrollLeft,this.scrollHeight=c.scrollHeight,this.scrollTop=c.scrollTop,this.scrollWidthChanged=c.scrollWidthChanged,this.scrollLeftChanged=c.scrollLeftChanged,this.scrollHeightChanged=c.scrollHeightChanged,this.scrollTopChanged=c.scrollTopChanged}}e.ViewScrollChangedEvent=r;class u{constructor(c){this.theme=c,this.type=14}}e.ViewThemeChangedEvent=u;class f{constructor(c){this.type=15,this.ranges=c}}e.ViewTokensChangedEvent=f;class d{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=d;class l{constructor(){this.type=17}}e.ViewZonesChangedEvent=l}),define(te[149],ie([1,0,10]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class I{constructor(_,v,C,s){this.startColumn=_,this.endColumn=v,this.className=C,this.type=s,this._lineDecorationBrand=void 0}static _equals(_,v){return _.startColumn===v.startColumn&&_.endColumn===v.endColumn&&_.className===v.className&&_.type===v.type}static equalsArr(_,v){const C=_.length,s=v.length;if(C!==s)return!1;for(let i=0;i<C;i++)if(!I._equals(_[i],v[i]))return!1;return!0}static extractWrapped(_,v,C){if(_.length===0)return _;const s=v+1,i=C+1,n=C-v,t=[];let r=0;for(const u of _)u.endColumn<=s||u.startColumn>=i||(t[r++]=new I(Math.max(1,u.startColumn-s+1),Math.min(n+1,u.endColumn-s+1),u.className,u.type));return t}static filter(_,v,C,s){if(_.length===0)return[];const i=[];let n=0;for(let t=0,r=_.length;t<r;t++){const u=_[t],f=u.range;if(f.endLineNumber<v||f.startLineNumber>v||f.isEmpty()&&(u.type===0||u.type===3))continue;const d=f.startLineNumber===v?f.startColumn:C,l=f.endLineNumber===v?f.endColumn:s;i[n++]=new I(d,l,u.inlineClassName,u.type)}return i}static _typeCompare(_,v){const C=[2,0,1,3];return C[_]-C[v]}static compare(_,v){if(_.startColumn!==v.startColumn)return _.startColumn-v.startColumn;if(_.endColumn!==v.endColumn)return _.endColumn-v.endColumn;const C=I._typeCompare(_.type,v.type);return C!==0?C:_.className!==v.className?_.className<v.className?-1:1:0}}e.LineDecoration=I;class y{constructor(_,v,C,s){this.startOffset=_,this.endOffset=v,this.className=C,this.metadata=s}}e.DecorationSegment=y;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(_){let v=0;for(let C=0,s=_.length;C<s;C++)v|=_[C];return v}consumeLowerThan(_,v,C){for(;this.count>0&&this.stopOffsets[0]<_;){let s=0;for(;s+1<this.count&&this.stopOffsets[s]===this.stopOffsets[s+1];)s++;C.push(new y(v,this.stopOffsets[s],this.classNames.join(" "),D._metadata(this.metadata))),v=this.stopOffsets[s]+1,this.stopOffsets.splice(0,s+1),this.classNames.splice(0,s+1),this.metadata.splice(0,s+1),this.count-=s+1}return this.count>0&&v<_&&(C.push(new y(v,_-1,this.classNames.join(" "),D._metadata(this.metadata))),v=_),v}insert(_,v,C){if(this.count===0||this.stopOffsets[this.count-1]<=_)this.stopOffsets.push(_),this.classNames.push(v),this.metadata.push(C);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=_){this.stopOffsets.splice(s,0,_),this.classNames.splice(s,0,v),this.metadata.splice(s,0,C);break}this.count++}}class S{static normalize(_,v){if(v.length===0)return[];const C=[],s=new D;let i=0;for(let n=0,t=v.length;n<t;n++){const r=v[n];let u=r.startColumn,f=r.endColumn;const d=r.className,l=r.type===1?2:r.type===2?4:0;if(u>1){const a=_.charCodeAt(u-2);L.isHighSurrogate(a)&&u--}if(f>1){const a=_.charCodeAt(f-2);L.isHighSurrogate(a)&&f--}const o=u-1,c=f-2;i=s.consumeLowerThan(o,i,C),s.count===0&&(i=o),s.insert(c,d,l)}return s.consumeLowerThan(1073741824,i,C),C}}e.LineDecorationsNormalizer=S}),define(te[532],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class L{constructor(y,D,S,m){this.endIndex=y,this.type=D,this.metadata=S,this.containsRTL=m,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=L}),define(te[533],ie([1,0,10]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class I{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(m){this._hasPending=!0,this._inserts.push(m)}change(m){this._hasPending=!0,this._changes.push(m)}remove(m){this._hasPending=!0,this._removes.push(m)}mustCommit(){return this._hasPending}commit(m){if(!this._hasPending)return;const _=this._inserts,v=this._changes,C=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],m._commitPendingChanges(_,v,C)}}class y{constructor(m,_,v,C,s){this.id=m,this.afterLineNumber=_,this.ordinal=v,this.height=C,this.minWidth=s,this.prefixSum=0}}e.EditorWhitespace=y;class D{constructor(m,_,v,C){this._instanceId=L.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new I,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=m,this._lineHeight=_,this._paddingTop=v,this._paddingBottom=C}static findInsertionIndex(m,_,v){let C=0,s=m.length;for(;C<s;){const i=C+s>>>1;_===m[i].afterLineNumber?v<m[i].ordinal?s=i:C=i+1:_<m[i].afterLineNumber?s=i:C=i+1}return C}setLineHeight(m){this._checkPendingChanges(),this._lineHeight=m}setPadding(m,_){this._paddingTop=m,this._paddingBottom=_}onFlushed(m){this._checkPendingChanges(),this._lineCount=m}changeWhitespace(m){let _=!1;try{m({insertWhitespace:(C,s,i,n)=>{_=!0,C=C|0,s=s|0,i=i|0,n=n|0;const t=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new y(t,C,s,i,n)),t},changeOneWhitespace:(C,s,i)=>{_=!0,s=s|0,i=i|0,this._pendingChanges.change({id:C,newAfterLineNumber:s,newHeight:i})},removeWhitespace:C=>{_=!0,this._pendingChanges.remove({id:C})}})}finally{this._pendingChanges.commit(this)}return _}_commitPendingChanges(m,_,v){if((m.length>0||v.length>0)&&(this._minWidth=-1),m.length+_.length+v.length<=1){for(const t of m)this._insertWhitespace(t);for(const t of _)this._changeOneWhitespace(t.id,t.newAfterLineNumber,t.newHeight);for(const t of v){const r=this._findWhitespaceIndex(t.id);r!==-1&&this._removeWhitespace(r)}return}const C=new Set;for(const t of v)C.add(t.id);const s=new Map;for(const t of _)s.set(t.id,t);const i=t=>{const r=[];for(const u of t)if(!C.has(u.id)){if(s.has(u.id)){const f=s.get(u.id);u.afterLineNumber=f.newAfterLineNumber,u.height=f.newHeight}r.push(u)}return r},n=i(this._arr).concat(i(m));n.sort((t,r)=>t.afterLineNumber===r.afterLineNumber?t.ordinal-r.ordinal:t.afterLineNumber-r.afterLineNumber),this._arr=n,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(m){const _=D.findInsertionIndex(this._arr,m.afterLineNumber,m.ordinal);this._arr.splice(_,0,m),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}_findWhitespaceIndex(m){const _=this._arr;for(let v=0,C=_.length;v<C;v++)if(_[v].id===m)return v;return-1}_changeOneWhitespace(m,_,v){const C=this._findWhitespaceIndex(m);if(C!==-1&&(this._arr[C].height!==v&&(this._arr[C].height=v,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)),this._arr[C].afterLineNumber!==_)){const s=this._arr[C];this._removeWhitespace(C),s.afterLineNumber=_,this._insertWhitespace(s)}}_removeWhitespace(m){this._arr.splice(m,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,m-1)}onLinesDeleted(m,_){this._checkPendingChanges(),m=m|0,_=_|0,this._lineCount-=_-m+1;for(let v=0,C=this._arr.length;v<C;v++){const s=this._arr[v].afterLineNumber;m<=s&&s<=_?this._arr[v].afterLineNumber=m-1:s>_&&(this._arr[v].afterLineNumber-=_-m+1)}}onLinesInserted(m,_){this._checkPendingChanges(),m=m|0,_=_|0,this._lineCount+=_-m+1;for(let v=0,C=this._arr.length;v<C;v++){const s=this._arr[v].afterLineNumber;m<=s&&(this._arr[v].afterLineNumber+=_-m+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(m){this._checkPendingChanges(),m=m|0;let _=Math.max(0,this._prefixSumValidIndex+1);_===0&&(this._arr[0].prefixSum=this._arr[0].height,_++);for(let v=_;v<=m;v++)this._arr[v].prefixSum=this._arr[v-1].prefixSum+this._arr[v].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,m),this._arr[m].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const m=this._lineHeight*this._lineCount,_=this.getWhitespacesTotalHeight();return m+_+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(m){this._checkPendingChanges(),m=m|0;const _=this._findLastWhitespaceBeforeLineNumber(m);return _===-1?0:this.getWhitespacesAccumulatedHeight(_)}_findLastWhitespaceBeforeLineNumber(m){m=m|0;const _=this._arr;let v=0,C=_.length-1;for(;v<=C;){const i=(C-v|0)/2|0,n=v+i|0;if(_[n].afterLineNumber<m){if(n+1>=_.length||_[n+1].afterLineNumber>=m)return n;v=n+1|0}else C=n-1|0}return-1}_findFirstWhitespaceAfterLineNumber(m){m=m|0;const v=this._findLastWhitespaceBeforeLineNumber(m)+1;return v<this._arr.length?v:-1}getFirstWhitespaceIndexAfterLineNumber(m){return this._checkPendingChanges(),m=m|0,this._findFirstWhitespaceAfterLineNumber(m)}getVerticalOffsetForLineNumber(m,_=!1){this._checkPendingChanges(),m=m|0;let v;m>1?v=this._lineHeight*(m-1):v=0;const C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m-(_?1:0));return v+C+this._paddingTop}getVerticalOffsetAfterLineNumber(m,_=!1){this._checkPendingChanges(),m=m|0;const v=this._lineHeight*m,C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m+(_?1:0));return v+C+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let m=0;for(let _=0,v=this._arr.length;_<v;_++)m=Math.max(m,this._arr[_].minWidth);this._minWidth=m}return this._minWidth}isAfterLines(m){this._checkPendingChanges();const _=this.getLinesTotalHeight();return m>_}isInTopPadding(m){return this._paddingTop===0?!1:(this._checkPendingChanges(),m<this._paddingTop)}isInBottomPadding(m){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const _=this.getLinesTotalHeight();return m>=_-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(m){if(this._checkPendingChanges(),m=m|0,m<0)return 1;const _=this._lineCount|0,v=this._lineHeight;let C=1,s=_;for(;C<s;){const i=(C+s)/2|0,n=this.getVerticalOffsetForLineNumber(i)|0;if(m>=n+v)C=i+1;else{if(m>=n)return i;s=i}}return C>_?_:C}getLinesViewportData(m,_){this._checkPendingChanges(),m=m|0,_=_|0;const v=this._lineHeight,C=this.getLineNumberAtOrAfterVerticalOffset(m)|0,s=this.getVerticalOffsetForLineNumber(C)|0;let i=this._lineCount|0,n=this.getFirstWhitespaceIndexAfterLineNumber(C)|0;const t=this.getWhitespacesCount()|0;let r,u;n===-1?(n=t,u=i+1,r=0):(u=this.getAfterLineNumberForWhitespaceIndex(n)|0,r=this.getHeightForWhitespaceIndex(n)|0);let f=s,d=f;const l=5e5;let o=0;s>=l&&(o=Math.floor(s/l)*l,o=Math.floor(o/v)*v,d-=o);const c=[],a=m+(_-m)/2;let g=-1;for(let w=C;w<=i;w++){if(g===-1){const E=f,k=f+v;(E<=a&&a<k||E>a)&&(g=w)}for(f+=v,c[w-C]=d,d+=v;u===w;)d+=r,f+=r,n++,n>=t?u=i+1:(u=this.getAfterLineNumberForWhitespaceIndex(n)|0,r=this.getHeightForWhitespaceIndex(n)|0);if(f>=_){i=w;break}}g===-1&&(g=i);const h=this.getVerticalOffsetForLineNumber(i)|0;let p=C,b=i;return p<b&&s<m&&p++,p<b&&h+v>_&&b--,{bigNumbersDelta:o,startLineNumber:C,endLineNumber:i,relativeVerticalOffset:c,centeredLineNumber:g,completelyVisibleStartLineNumber:p,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(m){this._checkPendingChanges(),m=m|0;const _=this.getAfterLineNumberForWhitespaceIndex(m);let v;_>=1?v=this._lineHeight*_:v=0;let C;return m>0?C=this.getWhitespacesAccumulatedHeight(m-1):C=0,v+C+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(m){this._checkPendingChanges(),m=m|0;let _=0,v=this.getWhitespacesCount()-1;if(v<0)return-1;const C=this.getVerticalOffsetForWhitespaceIndex(v),s=this.getHeightForWhitespaceIndex(v);if(m>=C+s)return-1;for(;_<v;){const i=Math.floor((_+v)/2),n=this.getVerticalOffsetForWhitespaceIndex(i),t=this.getHeightForWhitespaceIndex(i);if(m>=n+t)_=i+1;else{if(m>=n)return i;v=i}}return _}getWhitespaceAtVerticalOffset(m){this._checkPendingChanges(),m=m|0;const _=this.getWhitespaceIndexAtOrAfterVerticallOffset(m);if(_<0||_>=this.getWhitespacesCount())return null;const v=this.getVerticalOffsetForWhitespaceIndex(_);if(v>m)return null;const C=this.getHeightForWhitespaceIndex(_),s=this.getIdForWhitespaceIndex(_),i=this.getAfterLineNumberForWhitespaceIndex(_);return{id:s,afterLineNumber:i,verticalOffset:v,height:C}}getWhitespaceViewportData(m,_){this._checkPendingChanges(),m=m|0,_=_|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(m),C=this.getWhitespacesCount()-1;if(v<0)return[];const s=[];for(let i=v;i<=C;i++){const n=this.getVerticalOffsetForWhitespaceIndex(i),t=this.getHeightForWhitespaceIndex(i);if(n>=_)break;s.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:n,height:t})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].id}getAfterLineNumberForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].afterLineNumber}getHeightForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(te[534],ie([1,0,5]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class I{constructor(D,S,m,_){this.selections=D,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=m,this._model=_,this.visibleRange=new L.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=I}),define(te[82],ie([1,0,13,10,5]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class D{constructor(t,r,u,f){this._viewportBrand=void 0,this.top=t|0,this.left=r|0,this.width=u|0,this.height=f|0}}e.Viewport=D;class S{constructor(t,r){this.tabSize=t,this.data=r}}e.MinimapLinesRenderingData=S;class m{constructor(t,r,u,f,d,l,o){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=r,this.minColumn=u,this.maxColumn=f,this.startVisibleColumn=d,this.tokens=l,this.inlineDecorations=o}}e.ViewLineData=m;class _{constructor(t,r,u,f,d,l,o,c,a,g){this.minColumn=t,this.maxColumn=r,this.content=u,this.continuesWithWrappedLine=f,this.isBasicASCII=_.isBasicASCII(u,l),this.containsRTL=_.containsRTL(u,this.isBasicASCII,d),this.tokens=o,this.inlineDecorations=c,this.tabSize=a,this.startVisibleColumn=g}static isBasicASCII(t,r){return r?I.isBasicASCII(t):!0}static containsRTL(t,r,u){return!r&&u?I.containsRTL(t):!1}}e.ViewLineRenderingData=_;class v{constructor(t,r,u){this.range=t,this.inlineClassName=r,this.type=u}}e.InlineDecoration=v;class C{constructor(t,r,u,f){this.startOffset=t,this.endOffset=r,this.inlineClassName=u,this.inlineClassNameAffectsLetterSpacing=f}toInlineDecoration(t){return new v(new y.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=C;class s{constructor(t,r){this._viewModelDecorationBrand=void 0,this.range=t,this.options=r}}e.ViewModelDecoration=s;class i{constructor(t,r,u){this.color=t,this.zIndex=r,this.data=u}static compareByRenderingProps(t,r){return t.zIndex===r.zIndex?t.color<r.color?-1:t.color>r.color?1:0:t.zIndex-r.zIndex}static equals(t,r){return t.color===r.color&&t.zIndex===r.zIndex&&L.equals(t.data,r.data)}static equalsArr(t,r){return L.equals(t,r,i.equals)}}e.OverviewRulerDecorationsGroup=i}),define(te[535],ie([1,0,91,12,110,82]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function S(n,t){return n===null?t?_.INSTANCE:v.INSTANCE:new m(n,t)}e.createModelLineProjection=S;class m{constructor(t,r){this._projectionData=t,this._isVisible=r}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,r,u){this._assertVisible();const f=u>0?this._projectionData.breakOffsets[u-1]:0,d=this._projectionData.breakOffsets[u];let l;if(this._projectionData.injectionOffsets!==null){const o=this._projectionData.injectionOffsets.map((a,g)=>new y.LineInjectedText(0,0,a+1,this._projectionData.injectionOptions[g],0));l=y.LineInjectedText.applyInjectedText(t.getLineContent(r),o).substring(f,d)}else l=t.getValueInRange({startLineNumber:r,startColumn:f+1,endLineNumber:r,endColumn:d+1});return u>0&&(l=s(this._projectionData.wrappedTextIndentLength)+l),l}getViewLineLength(t,r,u){return this._assertVisible(),this._projectionData.getLineLength(u)}getViewLineMinColumn(t,r,u){return this._assertVisible(),this._projectionData.getMinOutputOffset(u)+1}getViewLineMaxColumn(t,r,u){return this._assertVisible(),this._projectionData.getMaxOutputOffset(u)+1}getViewLineData(t,r,u){const f=new Array;return this.getViewLinesData(t,r,u,1,0,[!0],f),f[0]}getViewLinesData(t,r,u,f,d,l,o){this._assertVisible();const c=this._projectionData,a=c.injectionOffsets,g=c.injectionOptions;let h=null;if(a){h=[];let b=0,w=0;for(let E=0;E<c.getOutputLineCount();E++){const k=new Array;h[E]=k;const M=E>0?c.breakOffsets[E-1]:0,R=c.breakOffsets[E];for(;w<a.length;){const B=g[w].content.length,T=a[w]+b,N=T+B;if(T>R)break;if(M<N){const A=g[w];if(A.inlineClassName){const P=E>0?c.wrappedTextIndentLength:0,O=P+Math.max(T-M,0),x=P+Math.min(N-M,R-M);O!==x&&k.push(new D.SingleLineInlineDecoration(O,x,A.inlineClassName,A.inlineClassNameAffectsLetterSpacing))}}if(N<=R)b+=B,w++;else break}}}let p;a?p=t.tokenization.getLineTokens(r).withInserted(a.map((b,w)=>({offset:b,text:g[w].content,tokenMetadata:L.LineTokens.defaultTokenMetadata}))):p=t.tokenization.getLineTokens(r);for(let b=u;b<u+f;b++){const w=d+b-u;if(!l[w]){o[w]=null;continue}o[w]=this._getViewLineData(p,h?h[b]:null,b)}}_getViewLineData(t,r,u){this._assertVisible();const f=this._projectionData,d=u>0?f.wrappedTextIndentLength:0,l=u>0?f.breakOffsets[u-1]:0,o=f.breakOffsets[u],c=t.sliceAndInflate(l,o,d);let a=c.getLineContent();u>0&&(a=s(f.wrappedTextIndentLength)+a);const g=this._projectionData.getMinOutputOffset(u)+1,h=a.length+1,p=u+1<this.getViewLineCount(),b=u===0?0:f.breakOffsetsVisibleColumn[u-1];return new D.ViewLineData(a,p,g,h,b,c,r)}getModelColumnOfViewPosition(t,r){return this._assertVisible(),this._projectionData.translateToInputOffset(t,r-1)+1}getViewPositionOfModelPosition(t,r,u=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(r-1,u).toPosition(t)}getViewLineNumberOfModelPosition(t,r){this._assertVisible();const u=this._projectionData.translateToOutputPosition(r-1);return t+u.outputLineIndex}normalizePosition(t,r,u){const f=r.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,r.column-1,u).toPosition(f)}getInjectedTextAt(t,r){return this._projectionData.getInjectedText(t,r-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class _{constructor(){}isVisible(){return!0}setVisible(t){return t?this:v.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,r,u){return t.getLineContent(r)}getViewLineLength(t,r,u){return t.getLineLength(r)}getViewLineMinColumn(t,r,u){return t.getLineMinColumn(r)}getViewLineMaxColumn(t,r,u){return t.getLineMaxColumn(r)}getViewLineData(t,r,u){const f=t.tokenization.getLineTokens(r),d=f.getLineContent();return new D.ViewLineData(d,!1,1,d.length+1,0,f.inflate(),null)}getViewLinesData(t,r,u,f,d,l,o){if(!l[d]){o[d]=null;return}o[d]=this.getViewLineData(t,r,0)}getModelColumnOfViewPosition(t,r){return r}getViewPositionOfModelPosition(t,r){return new I.Position(t,r)}getViewLineNumberOfModelPosition(t,r){return t}normalizePosition(t,r,u){return r}getInjectedTextAt(t,r){return null}}_.INSTANCE=new _;class v{constructor(){}isVisible(){return!1}setVisible(t){return t?_.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,r,u){throw new Error("Not supported")}getViewLineLength(t,r,u){throw new Error("Not supported")}getViewLineMinColumn(t,r,u){throw new Error("Not supported")}getViewLineMaxColumn(t,r,u){throw new Error("Not supported")}getViewLineData(t,r,u){throw new Error("Not supported")}getViewLinesData(t,r,u,f,d,l,o){throw new Error("Not supported")}getModelColumnOfViewPosition(t,r){throw new Error("Not supported")}getViewPositionOfModelPosition(t,r){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,r){throw new Error("Not supported")}normalizePosition(t,r,u){throw new Error("Not supported")}getInjectedTextAt(t,r){throw new Error("Not supported")}}v.INSTANCE=new v;const C=[""];function s(n){if(n>=C.length)for(let t=1;t<=n;t++)C[t]=i(t);return C[n]}function i(n){return new Array(n+1).join(" ")}}),define(te[536],ie([1,0,10,121,110,287]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S{static create(f){return new S(f.get(132),f.get(131))}constructor(f,d){this.classifier=new m(f,d)}createLineBreaksComputer(f,d,l,o,c){const a=[],g=[],h=[];return{addRequest:(p,b,w)=>{a.push(p),g.push(b),h.push(w)},finalize:()=>{const p=f.typicalFullwidthCharacterWidth/f.typicalHalfwidthCharacterWidth,b=[];for(let w=0,E=a.length;w<E;w++){const k=g[w],M=h[w];M&&!M.injectionOptions&&!k?b[w]=C(this.classifier,M,a[w],d,l,p,o,c):b[w]=s(this.classifier,a[w],k,d,l,p,o,c)}return _.length=0,v.length=0,b}}}}e.MonospaceLineBreaksComputerFactory=S;class m extends I.CharacterClassifier{constructor(f,d){super(0);for(let l=0;l<f.length;l++)this.set(f.charCodeAt(l),1);for(let l=0;l<d.length;l++)this.set(d.charCodeAt(l),2)}get(f){return f>=0&&f<256?this._asciiMap[f]:f>=12352&&f<=12543||f>=13312&&f<=19903||f>=19968&&f<=40959?3:this._map.get(f)||this._defaultValue}}let _=[],v=[];function C(u,f,d,l,o,c,a,g){if(o===-1)return null;const h=d.length;if(h<=1)return null;const p=g==="keepAll",b=f.breakOffsets,w=f.breakOffsetsVisibleColumn,E=r(d,l,o,c,a),k=o-E,M=_,R=v;let B=0,T=0,N=0,A=o;const P=b.length;let O=0;if(O>=0){let x=Math.abs(w[O]-A);for(;O+1<P;){const W=Math.abs(w[O+1]-A);if(W>=x)break;x=W,O++}}for(;O<P;){let x=O<0?0:b[O],W=O<0?0:w[O];T>x&&(x=T,W=N);let U=0,F=0,G=0,Y=0;if(W<=A){let se=W,J=x===0?0:d.charCodeAt(x-1),q=x===0?0:u.get(J),H=!0;for(let V=x;V<h;V++){const Z=V,ee=d.charCodeAt(V);let le,ue;if(L.isHighSurrogate(ee)?(V++,le=0,ue=2):(le=u.get(ee),ue=i(ee,se,l,c)),Z>T&&t(J,q,ee,le,p)&&(U=Z,F=se),se+=ue,se>A){Z>T?(G=Z,Y=se-ue):(G=V+1,Y=se),se-F>k&&(U=0),H=!1;break}J=ee,q=le}if(H){B>0&&(M[B]=b[b.length-1],R[B]=w[b.length-1],B++);break}}if(U===0){let se=W,J=d.charCodeAt(x),q=u.get(J),H=!1;for(let V=x-1;V>=T;V--){const Z=V+1,ee=d.charCodeAt(V);if(ee===9){H=!0;break}let le,ue;if(L.isLowSurrogate(ee)?(V--,le=0,ue=2):(le=u.get(ee),ue=L.isFullWidthCharacter(ee)?c:1),se<=A){if(G===0&&(G=Z,Y=se),se<=A-k)break;if(t(ee,le,J,q,p)){U=Z,F=se;break}}se-=ue,J=ee,q=le}if(U!==0){const V=k-(Y-F);if(V<=l){const Z=d.charCodeAt(G);let ee;L.isHighSurrogate(Z)?ee=2:ee=i(Z,Y,l,c),V-ee<0&&(U=0)}}if(H){O--;continue}}if(U===0&&(U=G,F=Y),U<=T){const se=d.charCodeAt(T);L.isHighSurrogate(se)?(U=T+2,F=N+2):(U=T+1,F=N+i(se,N,l,c))}for(T=U,M[B]=U,N=F,R[B]=F,B++,A=F+k;O<0||O<P&&w[O]<F;)O++;let ne=Math.abs(w[O]-A);for(;O+1<P;){const se=Math.abs(w[O+1]-A);if(se>=ne)break;ne=se,O++}}return B===0?null:(M.length=B,R.length=B,_=f.breakOffsets,v=f.breakOffsetsVisibleColumn,f.breakOffsets=M,f.breakOffsetsVisibleColumn=R,f.wrappedTextIndentLength=E,f)}function s(u,f,d,l,o,c,a,g){const h=y.LineInjectedText.applyInjectedText(f,d);let p,b;if(d&&d.length>0?(p=d.map(F=>F.options),b=d.map(F=>F.column-1)):(p=null,b=null),o===-1)return p?new D.ModelLineProjectionData(b,p,[h.length],[],0):null;const w=h.length;if(w<=1)return p?new D.ModelLineProjectionData(b,p,[h.length],[],0):null;const E=g==="keepAll",k=r(h,l,o,c,a),M=o-k,R=[],B=[];let T=0,N=0,A=0,P=o,O=h.charCodeAt(0),x=u.get(O),W=i(O,0,l,c),U=1;L.isHighSurrogate(O)&&(W+=1,O=h.charCodeAt(1),x=u.get(O),U++);for(let F=U;F<w;F++){const G=F,Y=h.charCodeAt(F);let ne,se;L.isHighSurrogate(Y)?(F++,ne=0,se=2):(ne=u.get(Y),se=i(Y,W,l,c)),t(O,x,Y,ne,E)&&(N=G,A=W),W+=se,W>P&&((N===0||W-A>M)&&(N=G,A=W-se),R[T]=N,B[T]=A,T++,P=A+M,N=0),O=Y,x=ne}return T===0&&(!d||d.length===0)?null:(R[T]=w,B[T]=W,new D.ModelLineProjectionData(b,p,R,B,k))}function i(u,f,d,l){return u===9?d-f%d:L.isFullWidthCharacter(u)||u<32?l:1}function n(u,f){return f-u%f}function t(u,f,d,l,o){return d!==32&&(f===2&&l!==2||f!==1&&l===1||!o&&f===3&&l!==2||!o&&l===3&&f!==1)}function r(u,f,d,l,o){let c=0;if(o!==0){const a=L.firstNonWhitespaceIndex(u);if(a!==-1){for(let h=0;h<a;h++){const p=u.charCodeAt(h)===9?n(c,f):1;c+=p}const g=o===3?2:o===2?1:0;for(let h=0;h<g;h++){const p=n(c,f);c+=p}c+l>d&&(c=0)}}return c}}),define(te[293],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class L{constructor(S,m,_){this._colorZoneBrand=void 0,this.from=S|0,this.to=m|0,this.colorId=_|0}static compare(S,m){return S.colorId===m.colorId?S.from===m.from?S.to-m.to:S.from-m.from:S.colorId-m.colorId}}e.ColorZone=L;class I{constructor(S,m,_,v){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=m,this.heightInLines=_,this.color=v,this._colorZone=null}static compare(S,m){return S.color===m.color?S.startLineNumber===m.startLineNumber?S.heightInLines===m.heightInLines?S.endLineNumber-m.endLineNumber:S.heightInLines-m.heightInLines:S.startLineNumber-m.startLineNumber:S.color<m.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=I;class y{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(I.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,m=Math.floor(this._lineHeight),_=Math.floor(this.getCanvasHeight()),v=Math.floor(this._outerHeight),C=_/v,s=Math.floor(4*this._pixelRatio/2),i=[];for(let n=0,t=this._zones.length;n<t;n++){const r=this._zones[n];if(!S){const p=r.getColorZones();if(p){i.push(p);continue}}const u=this._getVerticalOffsetForLine(r.startLineNumber),f=r.heightInLines===0?this._getVerticalOffsetForLine(r.endLineNumber)+m:u+r.heightInLines*m,d=Math.floor(C*u),l=Math.floor(C*f);let o=Math.floor((d+l)/2),c=l-o;c<s&&(c=s),o-c<0&&(o=c),o+c>_&&(o=_-c);const a=r.color;let g=this._color2Id[a];g||(g=++this._lastAssignedId,this._color2Id[a]=g,this._id2Color[g]=a);const h=new L(o-c,o+c,g);r.setColorZone(h),i.push(h)}return this._colorZonesInvalid=!1,i.sort(L.compare),i}}e.OverviewZoneManager=y}),define(te[537],ie([1,0,38,293,148]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends y.ViewEventHandler{constructor(m,_){super(),this._context=m;const v=this._context.configuration.options;this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(_),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new I.OverviewZoneManager(C=>this._context.viewLayout.getVerticalOffsetForLineNumber(C)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(v.get(66)),this._zoneManager.setPixelRatio(v.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(m){const _=this._context.configuration.options;return m.hasChanged(66)&&(this._zoneManager.setLineHeight(_.get(66)),this._render()),m.hasChanged(141)&&(this._zoneManager.setPixelRatio(_.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(m){return this._render(),!0}onScrollChanged(m){return m.scrollHeightChanged&&(this._zoneManager.setOuterHeight(m.scrollHeight),this._render()),!0}onZonesChanged(m){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(m){this._domNode.setTop(m.top),this._domNode.setRight(m.right);let _=!1;_=this._zoneManager.setDOMWidth(m.width)||_,_=this._zoneManager.setDOMHeight(m.height)||_,_&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(m){this._zoneManager.setZones(m),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const m=this._zoneManager.getCanvasWidth(),_=this._zoneManager.getCanvasHeight(),v=this._zoneManager.resolveColorZones(),C=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,m,_),v.length>0&&this._renderOneLane(s,v,C,m),!0}_renderOneLane(m,_,v,C){let s=0,i=0,n=0;for(const t of _){const r=t.colorId,u=t.from,f=t.to;r!==s?(m.fillRect(0,i,C,n-i),s=r,m.fillStyle=v[s],i=u,n=f):n>=u?n=Math.max(n,f):(m.fillRect(0,i,C,n-i),i=u,n=f)}m.fillRect(0,i,C,n-i)}}e.OverviewRuler=D}),define(te[538],ie([1,0,496]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class I{constructor(D,S,m){this.configuration=D,this.theme=new L.EditorTheme(S),this.viewModel=m,this.viewLayout=m.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=I}),define(te[213],ie([1,0,6,2]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class y extends I.Disposable{constructor(){super(),this._onEvent=this._register(new L.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(o){this._addOutgoingEvent(o),this._emitOutgoingEvents()}_addOutgoingEvent(o){for(let c=0,a=this._outgoingEvents.length;c<a;c++){const g=this._outgoingEvents[c].kind===o.kind?this._outgoingEvents[c].attemptToMerge(o):null;if(g){this._outgoingEvents[c]=g;return}}this._outgoingEvents.push(o)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const o=this._outgoingEvents.shift();o.isNoOp()||this._onEvent.fire(o)}}addViewEventHandler(o){for(let c=0,a=this._eventHandlers.length;c<a;c++)this._eventHandlers[c]===o&&console.warn("Detected duplicate listener in ViewEventDispatcher",o);this._eventHandlers.push(o)}removeViewEventHandler(o){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===o){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const o=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const a of o)this._addOutgoingEvent(a);c.length>0&&this._emitMany(c)}this._emitOutgoingEvents()}emitSingleViewEvent(o){try{this.beginEmitViewEvents().emitViewEvent(o)}finally{this.endEmitViewEvents()}}_emitMany(o){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(o):this._viewEventQueue=o,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const o=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const a of c)a.handleEvents(o)}}}e.ViewModelEventDispatcher=y;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(o){this.viewEvents.push(o)}emitOutgoingEvent(o){this.outgoingEvents.push(o)}}e.ViewModelEventsCollector=D;class S{constructor(o,c,a,g){this.kind=0,this._oldContentWidth=o,this._oldContentHeight=c,this.contentWidth=a,this.contentHeight=g,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(o){return o.kind!==this.kind?null:new S(this._oldContentWidth,this._oldContentHeight,o.contentWidth,o.contentHeight)}}e.ContentSizeChangedEvent=S;class m{constructor(o,c){this.kind=1,this.oldHasFocus=o,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(o){return o.kind!==this.kind?null:new m(this.oldHasFocus,o.hasFocus)}}e.FocusChangedEvent=m;class _{constructor(o,c,a,g,h,p,b,w){this.kind=2,this._oldScrollWidth=o,this._oldScrollLeft=c,this._oldScrollHeight=a,this._oldScrollTop=g,this.scrollWidth=h,this.scrollLeft=p,this.scrollHeight=b,this.scrollTop=w,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(o){return o.kind!==this.kind?null:new _(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,o.scrollWidth,o.scrollLeft,o.scrollHeight,o.scrollTop)}}e.ScrollChangedEvent=_;class v{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=v;class C{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=C;class s{constructor(o,c,a,g,h,p,b){this.kind=6,this.oldSelections=o,this.selections=c,this.oldModelVersionId=a,this.modelVersionId=g,this.source=h,this.reason=p,this.reachedMaxCursorCount=b}static _selectionsAreEqual(o,c){if(!o&&!c)return!0;if(!o||!c)return!1;const a=o.length,g=c.length;if(a!==g)return!1;for(let h=0;h<a;h++)if(!o[h].equalsSelection(c[h]))return!1;return!0}isNoOp(){return s._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(o){return o.kind!==this.kind?null:new s(this.oldSelections,o.selections,this.oldModelVersionId,o.modelVersionId,o.source,o.reason,this.reachedMaxCursorCount||o.reachedMaxCursorCount)}}e.CursorStateChangedEvent=s;class i{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=i;class n{constructor(o){this.event=o,this.kind=7}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelDecorationsChangedEvent=n;class t{constructor(o){this.event=o,this.kind=8}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelLanguageChangedEvent=t;class r{constructor(o){this.event=o,this.kind=9}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelLanguageConfigurationChangedEvent=r;class u{constructor(o){this.event=o,this.kind=10}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelContentChangedEvent=u;class f{constructor(o){this.event=o,this.kind=11}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelOptionsChangedEvent=f;class d{constructor(o){this.event=o,this.kind=12}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelTokensChangedEvent=d}),define(te[539],ie([1,0,6,2,166,533,82,213]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const _=125;class v{constructor(n,t,r,u){n=n|0,t=t|0,r=r|0,u=u|0,n<0&&(n=0),t<0&&(t=0),r<0&&(r=0),u<0&&(u=0),this.width=n,this.contentWidth=t,this.scrollWidth=Math.max(n,t),this.height=r,this.contentHeight=u,this.scrollHeight=Math.max(r,u)}equals(n){return this.width===n.width&&this.contentWidth===n.contentWidth&&this.height===n.height&&this.contentHeight===n.contentHeight}}class C extends I.Disposable{constructor(n,t){super(),this._onDidContentSizeChange=this._register(new L.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new v(0,0,0,0),this._scrollable=this._register(new y.Scrollable({forceIntegerValues:!0,smoothScrollDuration:n,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(n){this._scrollable.setSmoothScrollDuration(n)}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}getScrollDimensions(){return this._dimensions}setScrollDimensions(n){if(this._dimensions.equals(n))return;const t=this._dimensions;this._dimensions=n,this._scrollable.setScrollDimensions({width:n.width,scrollWidth:n.scrollWidth,height:n.height,scrollHeight:n.scrollHeight},!0);const r=t.contentWidth!==n.contentWidth,u=t.contentHeight!==n.contentHeight;(r||u)&&this._onDidContentSizeChange.fire(new m.ContentSizeChangedEvent(t.contentWidth,t.contentHeight,n.contentWidth,n.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(n){this._scrollable.setScrollPositionNow(n)}setScrollPositionSmooth(n){this._scrollable.setScrollPositionSmooth(n)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class s extends I.Disposable{constructor(n,t,r){super(),this._configuration=n;const u=this._configuration.options,f=u.get(143),d=u.get(83);this._linesLayout=new D.LinesLayout(t,u.get(66),d.top,d.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new C(0,r)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new v(f.contentWidth,0,f.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?_:0)}onConfigurationChanged(n){const t=this._configuration.options;if(n.hasChanged(66)&&this._linesLayout.setLineHeight(t.get(66)),n.hasChanged(83)){const r=t.get(83);this._linesLayout.setPadding(r.top,r.bottom)}if(n.hasChanged(143)){const r=t.get(143),u=r.contentWidth,f=r.height,d=this._scrollable.getScrollDimensions(),l=d.contentWidth;this._scrollable.setScrollDimensions(new v(u,d.contentWidth,f,this._getContentHeight(u,f,l)))}else this._updateHeight();n.hasChanged(113)&&this._configureSmoothScrollDuration()}onFlushed(n){this._linesLayout.onFlushed(n)}onLinesDeleted(n,t){this._linesLayout.onLinesDeleted(n,t)}onLinesInserted(n,t){this._linesLayout.onLinesInserted(n,t)}_getHorizontalScrollbarHeight(n,t){const u=this._configuration.options.get(102);return u.horizontal===2||n>=t?0:u.horizontalScrollbarSize}_getContentHeight(n,t,r){const u=this._configuration.options;let f=this._linesLayout.getLinesTotalHeight();return u.get(104)?f+=Math.max(0,t-u.get(66)-u.get(83).bottom):f+=this._getHorizontalScrollbarHeight(n,r),f}_updateHeight(){const n=this._scrollable.getScrollDimensions(),t=n.width,r=n.height,u=n.contentWidth;this._scrollable.setScrollDimensions(new v(t,n.contentWidth,r,this._getContentHeight(t,r,u)))}getCurrentViewport(){const n=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new S.Viewport(t.scrollTop,t.scrollLeft,n.width,n.height)}getFutureViewport(){const n=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new S.Viewport(t.scrollTop,t.scrollLeft,n.width,n.height)}_computeContentWidth(){const n=this._configuration.options,t=this._maxLineWidth,r=n.get(144),u=n.get(50),f=n.get(143);if(r.isViewportWrapping){const d=n.get(72);return t>f.contentWidth+u.typicalHalfwidthCharacterWidth&&d.enabled&&d.side==="right"?t+f.verticalScrollbarWidth:t}else{const d=n.get(103)*u.typicalHalfwidthCharacterWidth,l=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+d+f.verticalScrollbarWidth,l,this._overlayWidgetsMinWidth)}}setMaxLineWidth(n){this._maxLineWidth=n,this._updateContentWidth()}setOverlayWidgetsMinWidth(n){this._overlayWidgetsMinWidth=n,this._updateContentWidth()}_updateContentWidth(){const n=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new v(n.width,this._computeContentWidth(),n.height,n.contentHeight)),this._updateHeight()}saveState(){const n=this._scrollable.getFutureScrollPosition(),t=n.scrollTop,r=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),u=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(r);return{scrollTop:t,scrollTopWithoutViewZones:t-u,scrollLeft:n.scrollLeft}}changeWhitespace(n){const t=this._linesLayout.changeWhitespace(n);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(n,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(n,t)}getVerticalOffsetAfterLineNumber(n,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(n,t)}isAfterLines(n){return this._linesLayout.isAfterLines(n)}isInTopPadding(n){return this._linesLayout.isInTopPadding(n)}isInBottomPadding(n){return this._linesLayout.isInBottomPadding(n)}getLineNumberAtVerticalOffset(n){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n)}getWhitespaceAtVerticalOffset(n){return this._linesLayout.getWhitespaceAtVerticalOffset(n)}getLinesViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(n.top,n.top+n.height)}getLinesViewportDataAtScrollTop(n){const t=this._scrollable.getScrollDimensions();return n+t.height>t.scrollHeight&&(n=t.scrollHeight-t.height),n<0&&(n=0),this._linesLayout.getLinesViewportData(n,n+t.height)}getWhitespaceViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(n.top,n.top+n.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}setScrollPosition(n,t){t===1?this._scrollable.setScrollPositionNow(n):this._scrollable.setScrollPositionSmooth(n)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(n,t){const r=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:r.scrollLeft+n,scrollTop:r.scrollTop+t})}}e.ViewLayout=s}),define(te[540],ie([1,0,5,24]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class y{constructor(S,m){this._selection=S,this._isMovingLeft=m}getEditOperations(S,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const _=this._selection.startLineNumber,v=this._selection.startColumn,C=this._selection.endColumn;if(!(this._isMovingLeft&&v===1)&&!(!this._isMovingLeft&&C===S.getLineMaxColumn(_)))if(this._isMovingLeft){const s=new L.Range(_,v-1,_,v),i=S.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new L.Range(_,C,_,C),i)}else{const s=new L.Range(_,C,_,C+1),i=S.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new L.Range(_,v,_,v),i)}}computeCursorState(S,m){return this._isMovingLeft?new I.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new I.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=y}),define(te[112],ie([1,0,9]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class I{constructor(s){this.value=s}equals(s){return this.value===s.value}contains(s){return this.equals(s)||this.value===""||s.value.startsWith(this.value+I.sep)}intersects(s){return this.contains(s)||s.contains(this)}append(s){return new I(this.value+I.sep+s)}}e.CodeActionKind=I,I.sep=".",I.None=new I("@@none@@"),I.Empty=new I(""),I.QuickFix=new I("quickfix"),I.Refactor=new I("refactor"),I.RefactorExtract=I.Refactor.append("extract"),I.RefactorInline=I.Refactor.append("inline"),I.RefactorMove=I.Refactor.append("move"),I.RefactorRewrite=I.Refactor.append("rewrite"),I.Notebook=new I("notebook"),I.Source=new I("source"),I.SourceOrganizeImports=I.Source.append("organizeImports"),I.SourceFixAll=I.Source.append("fixAll"),I.SurroundWith=I.Refactor.append("surround");var y;(function(C){C.Refactor="refactor",C.RefactorPreview="refactor preview",C.Lightbulb="lightbulb",C.Default="other (default)",C.SourceAction="source action",C.QuickFix="quick fix action",C.FixAll="fix all",C.OrganizeImports="organize imports",C.AutoFix="auto fix",C.QuickFixHover="quick fix hover window",C.OnSave="save participants",C.ProblemsView="problems view"})(y||(e.CodeActionTriggerSource=y={}));function D(C,s){return!(C.include&&!C.include.intersects(s)||C.excludes&&C.excludes.some(i=>m(s,i,C.include))||!C.includeSourceActions&&I.Source.contains(s))}e.mayIncludeActionsOfKind=D;function S(C,s){const i=s.kind?new I(s.kind):void 0;return!(C.include&&(!i||!C.include.contains(i))||C.excludes&&i&&C.excludes.some(n=>m(i,n,C.include))||!C.includeSourceActions&&i&&I.Source.contains(i)||C.onlyIncludePreferredActions&&!s.isPreferred)}e.filtersAction=S;function m(C,s,i){return!(!s.contains(C)||i&&s.contains(i))}class _{static fromUser(s,i){return!s||typeof s!="object"?new _(i.kind,i.apply,!1):new _(_.getKindFromUser(s,i.kind),_.getApplyFromUser(s,i.apply),_.getPreferredUser(s))}static getApplyFromUser(s,i){switch(typeof s.apply=="string"?s.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(s,i){return typeof s.kind=="string"?new I(s.kind):i}static getPreferredUser(s){return typeof s.preferred=="boolean"?s.preferred:!1}constructor(s,i,n){this.kind=s,this.apply=i,this.preferred=n}}e.CodeActionCommandArgs=_;class v{constructor(s,i,n){this.action=s,this.provider=i,this.highlightRange=n}resolve(s){var i;return be(this,void 0,void 0,function*(){if(!((i=this.provider)===null||i===void 0)&&i.resolveCodeAction&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,s)}catch(t){(0,L.onUnexpectedExternalError)(t)}n&&(this.action.edit=n.edit)}return this})}}e.CodeActionItem=v}),define(te[541],ie([1,0,6]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class I{get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(D,S,m){this.presentationIndex=m,this._onColorFlushed=new L.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new L.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new L.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=S}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,S){let m=-1;for(let _=0;_<this.colorPresentations.length;_++)if(S.toLowerCase()===this.colorPresentations[_].label){m=_;break}if(m===-1){const _=S.split("(")[0].toLowerCase();for(let v=0;v<this.colorPresentations.length;v++)if(this.colorPresentations[v].label.toLowerCase().startsWith(_)){m=v;break}}m!==-1&&m!==this.presentationIndex&&(this.presentationIndex=m,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=I}),define(te[294],ie([1,0,71,12,5,24]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class S{constructor(_,v,C){this.languageConfigurationService=C,this._selection=_,this._insertSpace=v,this._usedEndToken=null}static _haystackHasNeedleAtOffset(_,v,C){if(C<0)return!1;const s=v.length,i=_.length;if(C+s>i)return!1;for(let n=0;n<s;n++){const t=_.charCodeAt(C+n),r=v.charCodeAt(n);if(t!==r&&!(t>=65&&t<=90&&t+32===r)&&!(r>=65&&r<=90&&r+32===t))return!1}return!0}_createOperationsForBlockComment(_,v,C,s,i,n){const t=_.startLineNumber,r=_.startColumn,u=_.endLineNumber,f=_.endColumn,d=i.getLineContent(t),l=i.getLineContent(u);let o=d.lastIndexOf(v,r-1+v.length),c=l.indexOf(C,f-1-C.length);if(o!==-1&&c!==-1)if(t===u)d.substring(o+v.length,c).indexOf(C)>=0&&(o=-1,c=-1);else{const g=d.substring(o+v.length),h=l.substring(0,c);(g.indexOf(C)>=0||h.indexOf(C)>=0)&&(o=-1,c=-1)}let a;o!==-1&&c!==-1?(s&&o+v.length<d.length&&d.charCodeAt(o+v.length)===32&&(v=v+" "),s&&c>0&&l.charCodeAt(c-1)===32&&(C=" "+C,c-=1),a=S._createRemoveBlockCommentOperations(new y.Range(t,o+v.length+1,u,c+1),v,C)):(a=S._createAddBlockCommentOperations(_,v,C,this._insertSpace),this._usedEndToken=a.length===1?C:null);for(const g of a)n.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(_,v,C){const s=[];return y.Range.isEmpty(_)?s.push(L.EditOperation.delete(new y.Range(_.startLineNumber,_.startColumn-v.length,_.endLineNumber,_.endColumn+C.length))):(s.push(L.EditOperation.delete(new y.Range(_.startLineNumber,_.startColumn-v.length,_.startLineNumber,_.startColumn))),s.push(L.EditOperation.delete(new y.Range(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn+C.length)))),s}static _createAddBlockCommentOperations(_,v,C,s){const i=[];return y.Range.isEmpty(_)?i.push(L.EditOperation.replace(new y.Range(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn),v+"  "+C)):(i.push(L.EditOperation.insert(new I.Position(_.startLineNumber,_.startColumn),v+(s?" ":""))),i.push(L.EditOperation.insert(new I.Position(_.endLineNumber,_.endColumn),(s?" ":"")+C))),i}getEditOperations(_,v){const C=this._selection.startLineNumber,s=this._selection.startColumn;_.tokenization.tokenizeIfCheap(C);const i=_.getLanguageIdAtPosition(C,s),n=this.languageConfigurationService.getLanguageConfiguration(i).comments;!n||!n.blockCommentStartToken||!n.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,n.blockCommentStartToken,n.blockCommentEndToken,this._insertSpace,_,v)}computeCursorState(_,v){const C=v.getInverseEditOperations();if(C.length===2){const s=C[0],i=C[1];return new D.Selection(s.range.endLineNumber,s.range.endColumn,i.range.startLineNumber,i.range.startColumn)}else{const s=C[0].range,i=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(s.endLineNumber,s.endColumn+i,s.endLineNumber,s.endColumn+i)}}}e.BlockCommentCommand=S}),define(te[542],ie([1,0,10,71,12,5,24,294]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class _{constructor(C,s,i,n,t,r,u){this.languageConfigurationService=C,this._selection=s,this._tabSize=i,this._type=n,this._insertSpace=t,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=u||!1}static _gatherPreflightCommentStrings(C,s,i,n){C.tokenization.tokenizeIfCheap(s);const t=C.getLanguageIdAtPosition(s,1),r=n.getLanguageConfiguration(t).comments,u=r?r.lineCommentToken:null;if(!u)return null;const f=[];for(let d=0,l=i-s+1;d<l;d++)f[d]={ignore:!1,commentStr:u,commentStrOffset:0,commentStrLength:u.length};return f}static _analyzeLines(C,s,i,n,t,r,u,f){let d=!0,l;C===0?l=!0:C===1?l=!1:l=!0;for(let o=0,c=n.length;o<c;o++){const a=n[o],g=t+o;if(g===t&&u){a.ignore=!0;continue}const h=i.getLineContent(g),p=L.firstNonWhitespaceIndex(h);if(p===-1){a.ignore=r,a.commentStrOffset=h.length;continue}if(d=!1,a.ignore=!1,a.commentStrOffset=p,l&&!m.BlockCommentCommand._haystackHasNeedleAtOffset(h,a.commentStr,p)&&(C===0?l=!1:C===1||(a.ignore=!0)),l&&s){const b=p+a.commentStrLength;b<h.length&&h.charCodeAt(b)===32&&(a.commentStrLength+=1)}}if(C===0&&d){l=!1;for(let o=0,c=n.length;o<c;o++)n[o].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:n}}static _gatherPreflightData(C,s,i,n,t,r,u,f){const d=_._gatherPreflightCommentStrings(i,n,t,f);return d===null?{supported:!1}:_._analyzeLines(C,s,i,d,n,r,u,f)}_executeLineComments(C,s,i,n){let t;i.shouldRemoveComments?t=_._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(_._normalizeInsertionPoint(C,i.lines,n.startLineNumber,this._tabSize),t=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));const r=new y.Position(n.positionLineNumber,n.positionColumn);for(let u=0,f=t.length;u<f;u++)s.addEditOperation(t[u].range,t[u].text),D.Range.isEmpty(t[u].range)&&D.Range.getStartPosition(t[u].range).equals(r)&&C.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(t[u].text||"").length);this._selectionId=s.trackSelection(n)}_attemptRemoveBlockComment(C,s,i,n){let t=s.startLineNumber,r=s.endLineNumber;const u=n.length+Math.max(C.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.startColumn);let f=C.getLineContent(t).lastIndexOf(i,u-1),d=C.getLineContent(r).indexOf(n,s.endColumn-1-i.length);return f!==-1&&d===-1&&(d=C.getLineContent(t).indexOf(n,f+i.length),r=t),f===-1&&d!==-1&&(f=C.getLineContent(r).lastIndexOf(i,d),t=r),s.isEmpty()&&(f===-1||d===-1)&&(f=C.getLineContent(t).indexOf(i),f!==-1&&(d=C.getLineContent(t).indexOf(n,f+i.length))),f!==-1&&C.getLineContent(t).charCodeAt(f+i.length)===32&&(i+=" "),d!==-1&&C.getLineContent(r).charCodeAt(d-1)===32&&(n=" "+n,d-=1),f!==-1&&d!==-1?m.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(t,f+i.length+1,r,d+1),i,n):null}_executeBlockComment(C,s,i){C.tokenization.tokenizeIfCheap(i.startLineNumber);const n=C.getLanguageIdAtPosition(i.startLineNumber,1),t=this.languageConfigurationService.getLanguageConfiguration(n).comments;if(!t||!t.blockCommentStartToken||!t.blockCommentEndToken)return;const r=t.blockCommentStartToken,u=t.blockCommentEndToken;let f=this._attemptRemoveBlockComment(C,i,r,u);if(!f){if(i.isEmpty()){const d=C.getLineContent(i.startLineNumber);let l=L.firstNonWhitespaceIndex(d);l===-1&&(l=d.length),f=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(i.startLineNumber,l+1,i.startLineNumber,d.length+1),r,u,this._insertSpace)}else f=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(i.startLineNumber,C.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,C.getLineMaxColumn(i.endLineNumber)),r,u,this._insertSpace);f.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=s.trackSelection(i);for(const d of f)s.addEditOperation(d.range,d.text)}getEditOperations(C,s){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){s.addEditOperation(new D.Range(i.startLineNumber,C.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===C.getLineCount()?"":`
`),this._selectionId=s.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,C.getLineMaxColumn(i.endLineNumber-1)));const n=_._gatherPreflightData(this._type,this._insertSpace,C,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(C,s,n,i):this._executeBlockComment(C,s,i)}computeCursorState(C,s){let i=s.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new S.Selection(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(C,s){const i=[];for(let n=0,t=C.length;n<t;n++){const r=C[n];r.ignore||i.push(I.EditOperation.delete(new D.Range(s+n,r.commentStrOffset+1,s+n,r.commentStrOffset+r.commentStrLength+1)))}return i}_createAddLineCommentsOperations(C,s){const i=[],n=this._insertSpace?" ":"";for(let t=0,r=C.length;t<r;t++){const u=C[t];u.ignore||i.push(I.EditOperation.insert(new y.Position(s+t,u.commentStrOffset+1),u.commentStr+n))}return i}static nextVisibleColumn(C,s,i,n){return i?C+(s-C%s):C+n}static _normalizeInsertionPoint(C,s,i,n){let t=1073741824,r,u;for(let f=0,d=s.length;f<d;f++){if(s[f].ignore)continue;const l=C.getLineContent(i+f);let o=0;for(let c=0,a=s[f].commentStrOffset;o<t&&c<a;c++)o=_.nextVisibleColumn(o,n,l.charCodeAt(c)===9,1);o<t&&(t=o)}t=Math.floor(t/n)*n;for(let f=0,d=s.length;f<d;f++){if(s[f].ignore)continue;const l=C.getLineContent(i+f);let o=0;for(r=0,u=s[f].commentStrOffset;o<t&&r<u;r++)o=_.nextVisibleColumn(o,n,l.charCodeAt(r)===9,1);o>t?s[f].commentStrOffset=r-1:s[f].commentStrOffset=r}}}e.LineCommentCommand=_}),define(te[543],ie([1,0,5,24]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class y{constructor(S,m,_){this.selection=S,this.targetPosition=m,this.copy=_,this.targetSelection=null}getEditOperations(S,m){const _=S.getValueInRange(this.selection);if(this.copy||m.addEditOperation(this.selection,null),m.addEditOperation(new L.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),_),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new I.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new I.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new I.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new I.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new I.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,m){return this.targetSelection}}e.DragAndDropCommand=y}),define(te[544],ie([1,0,5]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class I{constructor(D,S,m){this._editorSelection=D,this._ranges=S,this._replaceStrings=m,this._trackedEditorSelectionId=null}getEditOperations(D,S){if(this._ranges.length>0){const m=[];for(let C=0;C<this._ranges.length;C++)m.push({range:this._ranges[C],text:this._replaceStrings[C]});m.sort((C,s)=>L.Range.compareRangesUsingStarts(C.range,s.range));const _=[];let v=m[0];for(let C=1;C<m.length;C++)v.range.endLineNumber===m[C].range.startLineNumber&&v.range.endColumn===m[C].range.startColumn?(v.range=v.range.plusRange(m[C].range),v.text=v.text+m[C].text):(_.push(v),v=m[C]);_.push(v);for(const C of _)S.addEditOperation(C.range,C.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(D,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=I}),define(te[545],ie([1,0,396]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class I{constructor(C){this.staticValue=C,this.kind=0}}class y{constructor(C){this.pieces=C,this.kind=1}}class D{static fromStaticValue(C){return new D([S.staticValue(C)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(C){!C||C.length===0?this._state=new I(""):C.length===1&&C[0].staticValue!==null?this._state=new I(C[0].staticValue):this._state=new y(C)}buildReplaceString(C,s){if(this._state.kind===0)return s?(0,L.buildReplaceStringWithCasePreserved)(C,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,t=this._state.pieces.length;n<t;n++){const r=this._state.pieces[n];if(r.staticValue!==null){i+=r.staticValue;continue}let u=D._substitute(r.matchIndex,C);if(r.caseOps!==null&&r.caseOps.length>0){const f=[],d=r.caseOps.length;let l=0;for(let o=0,c=u.length;o<c;o++){if(l>=d){f.push(u.slice(o));break}switch(r.caseOps[l]){case"U":f.push(u[o].toUpperCase());break;case"u":f.push(u[o].toUpperCase()),l++;break;case"L":f.push(u[o].toLowerCase());break;case"l":f.push(u[o].toLowerCase()),l++;break;default:f.push(u[o])}}u=f.join("")}i+=u}return i}static _substitute(C,s){if(s===null)return"";if(C===0)return s[0];let i="";for(;C>0;){if(C<s.length)return(s[C]||"")+i;i=String(C%10)+i,C=Math.floor(C/10)}return"$"+i}}e.ReplacePattern=D;class S{static staticValue(C){return new S(C,-1,null)}static caseOps(C,s){return new S(null,C,s)}constructor(C,s,i){this.staticValue=C,this.matchIndex=s,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}}e.ReplacePiece=S;class m{constructor(C){this._source=C,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(C){this._emitStatic(this._source.substring(this._lastCharIndex,C)),this._lastCharIndex=C}emitStatic(C,s){this._emitStatic(C),this._lastCharIndex=s}_emitStatic(C){C.length!==0&&(this._currentStaticPiece+=C)}emitMatchIndex(C,s,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(C,i),this._lastCharIndex=s}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function _(v){if(!v||v.length===0)return new D(null);const C=[],s=new m(v);for(let i=0,n=v.length;i<n;i++){const t=v.charCodeAt(i);if(t===92){if(i++,i>=n)break;const r=v.charCodeAt(i);switch(r){case 92:s.emitUnchanged(i-1),s.emitStatic("\\",i+1);break;case 110:s.emitUnchanged(i-1),s.emitStatic(`
`,i+1);break;case 116:s.emitUnchanged(i-1),s.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:s.emitUnchanged(i-1),s.emitStatic("",i+1),C.push(String.fromCharCode(r));break}continue}if(t===36){if(i++,i>=n)break;const r=v.charCodeAt(i);if(r===36){s.emitUnchanged(i-1),s.emitStatic("$",i+1);continue}if(r===48||r===38){s.emitUnchanged(i-1),s.emitMatchIndex(0,i+1,C),C.length=0;continue}if(49<=r&&r<=57){let u=r-48;if(i+1<n){const f=v.charCodeAt(i+1);if(48<=f&&f<=57){i++,u=u*10+(f-48),s.emitUnchanged(i-2),s.emitMatchIndex(u,i+1,C),C.length=0;continue}}s.emitUnchanged(i-1),s.emitMatchIndex(u,i+1,C),C.length=0;continue}}}return s.finalize()}e.parseReplaceString=_}),define(te[180],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={[0]:" ",[1]:"u",[2]:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const L=4278190080;class I{constructor(m){const _=Math.ceil(m/32);this._states=new Uint32Array(_)}get(m){const _=m/32|0,v=m%32;return(this._states[_]&1<<v)!==0}set(m,_){const v=m/32|0,C=m%32,s=this._states[v];_?this._states[v]=s|1<<C:this._states[v]=s&~(1<<C)}}class y{constructor(m,_,v){if(m.length!==_.length||m.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=m,this._endIndexes=_,this._collapseStates=new I(m.length),this._userDefinedStates=new I(m.length),this._recoveredStates=new I(m.length),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const m=[],_=(v,C)=>{const s=m[m.length-1];return this.getStartLineNumber(s)<=v&&this.getEndLineNumber(s)>=C};for(let v=0,C=this._startIndexes.length;v<C;v++){const s=this._startIndexes[v],i=this._endIndexes[v];if(s>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;m.length>0&&!_(s,i);)m.pop();const n=m.length>0?m[m.length-1]:-1;m.push(v),this._startIndexes[v]=s+((n&255)<<24),this._endIndexes[v]=i+((n&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(m){return this._startIndexes[m]&e.MAX_LINE_NUMBER}getEndLineNumber(m){return this._endIndexes[m]&e.MAX_LINE_NUMBER}getType(m){return this._types?this._types[m]:void 0}hasTypes(){return!!this._types}isCollapsed(m){return this._collapseStates.get(m)}setCollapsed(m,_){this._collapseStates.set(m,_)}isUserDefined(m){return this._userDefinedStates.get(m)}setUserDefined(m,_){return this._userDefinedStates.set(m,_)}isRecovered(m){return this._recoveredStates.get(m)}setRecovered(m,_){return this._recoveredStates.set(m,_)}getSource(m){return this.isUserDefined(m)?1:this.isRecovered(m)?2:0}setSource(m,_){_===1?(this.setUserDefined(m,!0),this.setRecovered(m,!1)):_===2?(this.setUserDefined(m,!1),this.setRecovered(m,!0)):(this.setUserDefined(m,!1),this.setRecovered(m,!1))}setCollapsedAllOfType(m,_){let v=!1;if(this._types)for(let C=0;C<this._types.length;C++)this._types[C]===m&&(this.setCollapsed(C,_),v=!0);return v}toRegion(m){return new D(this,m)}getParentIndex(m){this.ensureParentIndices();const _=((this._startIndexes[m]&L)>>>24)+((this._endIndexes[m]&L)>>>16);return _===e.MAX_FOLDING_REGIONS?-1:_}contains(m,_){return this.getStartLineNumber(m)<=_&&this.getEndLineNumber(m)>=_}findIndex(m){let _=0,v=this._startIndexes.length;if(v===0)return-1;for(;_<v;){const C=Math.floor((_+v)/2);m<this.getStartLineNumber(C)?v=C:_=C+1}return _-1}findRange(m){let _=this.findIndex(m);if(_>=0){if(this.getEndLineNumber(_)>=m)return _;for(_=this.getParentIndex(_);_!==-1;){if(this.contains(_,m))return _;_=this.getParentIndex(_)}}return-1}toString(){const m=[];for(let _=0;_<this.length;_++)m[_]=`[${e.foldSourceAbbr[this.getSource(_)]}${this.isCollapsed(_)?"+":"-"}] ${this.getStartLineNumber(_)}/${this.getEndLineNumber(_)}`;return m.join(", ")}toFoldRange(m){return{startLineNumber:this._startIndexes[m]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[m]&e.MAX_LINE_NUMBER,type:this._types?this._types[m]:void 0,isCollapsed:this.isCollapsed(m),source:this.getSource(m)}}static fromFoldRanges(m){const _=m.length,v=new Uint32Array(_),C=new Uint32Array(_);let s=[],i=!1;for(let t=0;t<_;t++){const r=m[t];v[t]=r.startLineNumber,C[t]=r.endLineNumber,s.push(r.type),r.type&&(i=!0)}i||(s=void 0);const n=new y(v,C,s);for(let t=0;t<_;t++)m[t].isCollapsed&&n.setCollapsed(t,!0),n.setSource(t,m[t].source);return n}static sanitizeAndMerge(m,_,v){v=v??Number.MAX_VALUE;const C=(c,a)=>Array.isArray(c)?g=>g<a?c[g]:void 0:g=>g<a?c.toFoldRange(g):void 0,s=C(m,m.length),i=C(_,_.length);let n=0,t=0,r=s(0),u=i(0);const f=[];let d,l=0;const o=[];for(;r||u;){let c;if(u&&(!r||r.startLineNumber>=u.startLineNumber))r&&r.startLineNumber===u.startLineNumber?(u.source===1?c=u:(c=r,c.isCollapsed=u.isCollapsed&&r.endLineNumber===u.endLineNumber,c.source=0),r=s(++n)):(c=u,u.isCollapsed&&u.source===0&&(c.source=2)),u=i(++t);else{let a=t,g=u;for(;;){if(!g||g.startLineNumber>r.endLineNumber){c=r;break}if(g.source===1&&g.endLineNumber>r.endLineNumber)break;g=i(++a)}r=s(++n)}if(c){for(;d&&d.endLineNumber<c.startLineNumber;)d=f.pop();c.endLineNumber>c.startLineNumber&&c.startLineNumber>l&&c.endLineNumber<=v&&(!d||d.endLineNumber>=c.endLineNumber)&&(o.push(c),l=c.startLineNumber,d&&f.push(d),d=c)}}return o}}e.FoldingRegions=y;class D{constructor(m,_){this.ranges=m,this.index=_}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(m){return m.startLineNumber<=this.startLineNumber&&m.endLineNumber>=this.endLineNumber}containsLine(m){return this.startLineNumber<=m&&m<=this.endLineNumber}}e.FoldingRegion=D}),define(te[295],ie([1,0,6,180,141]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(d,l){this._updateEventEmitter=new L.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=d,this._decorationProvider=l,this._regions=new I.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(d){if(!d.length)return;d=d.sort((o,c)=>o.regionIndex-c.regionIndex);const l={};this._decorationProvider.changeDecorations(o=>{let c=0,a=-1,g=-1;const h=p=>{for(;c<p;){const b=this._regions.getEndLineNumber(c),w=this._regions.isCollapsed(c);if(b<=a){const E=this.regions.getSource(c)!==0;o.changeDecorationOptions(this._editorDecorationIds[c],this._decorationProvider.getDecorationOption(w,b<=g,E))}w&&b>g&&(g=b),c++}};for(const p of d){const b=p.regionIndex,w=this._editorDecorationIds[b];if(w&&!l[w]){l[w]=!0,h(b);const E=!this._regions.isCollapsed(b);this._regions.setCollapsed(b,E),a=Math.max(a,this._regions.getEndLineNumber(b))}}h(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:d})}removeManualRanges(d){const l=new Array,o=c=>{for(const a of d)if(!(a.startLineNumber>c.endLineNumber||c.startLineNumber>a.endLineNumber))return!0;return!1};for(let c=0;c<this._regions.length;c++){const a=this._regions.toFoldRange(c);(a.source===0||!o(a))&&l.push(a)}this.updatePost(I.FoldingRegions.fromFoldRanges(l))}update(d,l=[]){const o=this._currentFoldedOrManualRanges(l),c=I.FoldingRegions.sanitizeAndMerge(d,o,this._textModel.getLineCount());this.updatePost(I.FoldingRegions.fromFoldRanges(c))}updatePost(d){const l=[];let o=-1;for(let c=0,a=d.length;c<a;c++){const g=d.getStartLineNumber(c),h=d.getEndLineNumber(c),p=d.isCollapsed(c),b=d.getSource(c)!==0,w={startLineNumber:g,startColumn:this._textModel.getLineMaxColumn(g),endLineNumber:h,endColumn:this._textModel.getLineMaxColumn(h)+1};l.push({range:w,options:this._decorationProvider.getDecorationOption(p,h<=o,b)}),p&&h>o&&(o=h)}this._decorationProvider.changeDecorations(c=>this._editorDecorationIds=c.deltaDecorations(this._editorDecorationIds,l)),this._regions=d,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(d=[]){const l=(c,a)=>{for(const g of d)if(c<g&&g<=a)return!0;return!1},o=[];for(let c=0,a=this._regions.length;c<a;c++){let g=this.regions.isCollapsed(c);const h=this.regions.getSource(c);if(g||h!==0){const p=this._regions.toFoldRange(c),b=this._textModel.getDecorationRange(this._editorDecorationIds[c]);b&&(g&&l(b.startLineNumber,b.endLineNumber)&&(g=!1),o.push({startLineNumber:b.startLineNumber,endLineNumber:b.endLineNumber,type:p.type,isCollapsed:g,source:h}))}}return o}getMemento(){const d=this._currentFoldedOrManualRanges(),l=[],o=this._textModel.getLineCount();for(let c=0,a=d.length;c<a;c++){const g=d[c];if(g.startLineNumber>=g.endLineNumber||g.startLineNumber<1||g.endLineNumber>o)continue;const h=this._getLinesChecksum(g.startLineNumber+1,g.endLineNumber);l.push({startLineNumber:g.startLineNumber,endLineNumber:g.endLineNumber,isCollapsed:g.isCollapsed,source:g.source,checksum:h})}return l.length>0?l:void 0}applyMemento(d){var l,o;if(!Array.isArray(d))return;const c=[],a=this._textModel.getLineCount();for(const h of d){if(h.startLineNumber>=h.endLineNumber||h.startLineNumber<1||h.endLineNumber>a)continue;const p=this._getLinesChecksum(h.startLineNumber+1,h.endLineNumber);(!h.checksum||p===h.checksum)&&c.push({startLineNumber:h.startLineNumber,endLineNumber:h.endLineNumber,type:void 0,isCollapsed:(l=h.isCollapsed)!==null&&l!==void 0?l:!0,source:(o=h.source)!==null&&o!==void 0?o:0})}const g=I.FoldingRegions.sanitizeAndMerge(this._regions,c,a);this.updatePost(I.FoldingRegions.fromFoldRanges(g))}_getLinesChecksum(d,l){return(0,y.hash)(this._textModel.getLineContent(d)+this._textModel.getLineContent(l))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(d,l){const o=[];if(this._regions){let c=this._regions.findRange(d),a=1;for(;c>=0;){const g=this._regions.toRegion(c);(!l||l(g,a))&&o.push(g),a++,c=g.parentIndex}}return o}getRegionAtLine(d){if(this._regions){const l=this._regions.findRange(d);if(l>=0)return this._regions.toRegion(l)}return null}getRegionsInside(d,l){const o=[],c=d?d.regionIndex+1:0,a=d?d.endLineNumber:Number.MAX_VALUE;if(l&&l.length===2){const g=[];for(let h=c,p=this._regions.length;h<p;h++){const b=this._regions.toRegion(h);if(this._regions.getStartLineNumber(h)<a){for(;g.length>0&&!b.containedBy(g[g.length-1]);)g.pop();g.push(b),l(b,g.length)&&o.push(b)}else break}}else for(let g=c,h=this._regions.length;g<h;g++){const p=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<a)(!l||l(p))&&o.push(p);else break}return o}}e.FoldingModel=D;function S(f,d,l){const o=[];for(const c of l){const a=f.getRegionAtLine(c);if(a){const g=!a.isCollapsed;if(o.push(a),d>1){const h=f.getRegionsInside(a,(p,b)=>p.isCollapsed!==g&&b<d);o.push(...h)}}}f.toggleCollapseState(o)}e.toggleCollapseState=S;function m(f,d,l=Number.MAX_VALUE,o){const c=[];if(o&&o.length>0)for(const a of o){const g=f.getRegionAtLine(a);if(g&&(g.isCollapsed!==d&&c.push(g),l>1)){const h=f.getRegionsInside(g,(p,b)=>p.isCollapsed!==d&&b<l);c.push(...h)}}else{const a=f.getRegionsInside(null,(g,h)=>g.isCollapsed!==d&&h<l);c.push(...a)}f.toggleCollapseState(c)}e.setCollapseStateLevelsDown=m;function _(f,d,l,o){const c=[];for(const a of o){const g=f.getAllRegionsAtLine(a,(h,p)=>h.isCollapsed!==d&&p<=l);c.push(...g)}f.toggleCollapseState(c)}e.setCollapseStateLevelsUp=_;function v(f,d,l){const o=[];for(const c of l){const a=f.getAllRegionsAtLine(c,g=>g.isCollapsed!==d);a.length>0&&o.push(a[0])}f.toggleCollapseState(o)}e.setCollapseStateUp=v;function C(f,d,l,o){const c=(g,h)=>h===d&&g.isCollapsed!==l&&!o.some(p=>g.containsLine(p)),a=f.getRegionsInside(null,c);f.toggleCollapseState(a)}e.setCollapseStateAtLevel=C;function s(f,d,l){const o=[];for(const g of l){const h=f.getAllRegionsAtLine(g,void 0);h.length>0&&o.push(h[0])}const c=g=>o.every(h=>!h.containedBy(g)&&!g.containedBy(h))&&g.isCollapsed!==d,a=f.getRegionsInside(null,c);f.toggleCollapseState(a)}e.setCollapseStateForRest=s;function i(f,d,l){const o=f.textModel,c=f.regions,a=[];for(let g=c.length-1;g>=0;g--)if(l!==c.isCollapsed(g)){const h=c.getStartLineNumber(g);d.test(o.getLineContent(h))&&a.push(c.toRegion(g))}f.toggleCollapseState(a)}e.setCollapseStateForMatchingLines=i;function n(f,d,l){const o=f.regions,c=[];for(let a=o.length-1;a>=0;a--)l!==o.isCollapsed(a)&&d===o.getType(a)&&c.push(o.toRegion(a));f.toggleCollapseState(c)}e.setCollapseStateForType=n;function t(f,d){let l=null;const o=d.getRegionAtLine(f);if(o!==null&&(l=o.startLineNumber,f===l)){const c=o.parentIndex;c!==-1?l=d.regions.getStartLineNumber(c):l=null}return l}e.getParentFoldLine=t;function r(f,d){let l=d.getRegionAtLine(f);if(l!==null&&l.startLineNumber===f){if(f!==l.startLineNumber)return l.startLineNumber;{const o=l.parentIndex;let c=0;for(o!==-1&&(c=d.regions.getStartLineNumber(l.parentIndex));l!==null;)if(l.regionIndex>0){if(l=d.regions.toRegion(l.regionIndex-1),l.startLineNumber<=c)return null;if(l.parentIndex===o)return l.startLineNumber}else return null}}else if(d.regions.length>0)for(l=d.regions.toRegion(d.regions.length-1);l!==null;){if(l.startLineNumber<f)return l.startLineNumber;l.regionIndex>0?l=d.regions.toRegion(l.regionIndex-1):l=null}return null}e.getPreviousFoldLine=r;function u(f,d){let l=d.getRegionAtLine(f);if(l!==null&&l.startLineNumber===f){const o=l.parentIndex;let c=0;if(o!==-1)c=d.regions.getEndLineNumber(l.parentIndex);else{if(d.regions.length===0)return null;c=d.regions.getEndLineNumber(d.regions.length-1)}for(;l!==null;)if(l.regionIndex<d.regions.length){if(l=d.regions.toRegion(l.regionIndex+1),l.startLineNumber>=c)return null;if(l.parentIndex===o)return l.startLineNumber}else return null}else if(d.regions.length>0)for(l=d.regions.toRegion(0);l!==null;){if(l.startLineNumber>f)return l.startLineNumber;l.regionIndex<d.regions.length?l=d.regions.toRegion(l.regionIndex+1):l=null}return null}e.getNextFoldLine=u}),define(te[546],ie([1,0,68,6,5,122]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class S{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(C){this._updateEventEmitter=new I.Emitter,this._hasLineChanges=!1,this._foldingModel=C,this._foldingModelListener=C.onDidChange(s=>this.updateHiddenRanges()),this._hiddenRanges=[],C.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(C){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=C.changes.some(s=>s.range.endLineNumber!==s.range.startLineNumber||(0,D.countEOL)(s.text)[0]!==0))}updateHiddenRanges(){let C=!1;const s=[];let i=0,n=0,t=Number.MAX_VALUE,r=-1;const u=this._foldingModel.regions;for(;i<u.length;i++){if(!u.isCollapsed(i))continue;const f=u.getStartLineNumber(i)+1,d=u.getEndLineNumber(i);t<=f&&d<=r||(!C&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===f&&this._hiddenRanges[n].endLineNumber===d?(s.push(this._hiddenRanges[n]),n++):(C=!0,s.push(new y.Range(f,1,d,1))),t=f,r=d)}(this._hasLineChanges||C||n<this._hiddenRanges.length)&&this.applyHiddenRanges(s)}applyHiddenRanges(C){this._hiddenRanges=C,this._hasLineChanges=!1,this._updateEventEmitter.fire(C)}hasRanges(){return this._hiddenRanges.length>0}isHidden(C){return _(this._hiddenRanges,C)!==null}adjustSelections(C){let s=!1;const i=this._foldingModel.textModel;let n=null;const t=r=>((!n||!m(r,n))&&(n=_(this._hiddenRanges,r)),n?n.startLineNumber-1:null);for(let r=0,u=C.length;r<u;r++){let f=C[r];const d=t(f.startLineNumber);d&&(f=f.setStartPosition(d,i.getLineMaxColumn(d)),s=!0);const l=t(f.endLineNumber);l&&(f=f.setEndPosition(l,i.getLineMaxColumn(l)),s=!0),C[r]=f}return s}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=S;function m(v,C){return v>=C.startLineNumber&&v<=C.endLineNumber}function _(v,C){const s=(0,L.findFirstIdxMonotonousOrArrLen)(v,i=>C<i.startLineNumber)-1;return s>=0&&v[s].endLineNumber>=C?v[s]:null}}),define(te[296],ie([1,0,208,180]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=void 0;const y=5e3,D="indent";class S{constructor(s,i,n){this.editorModel=s,this.languageConfigurationService=i,this.foldingRangesLimit=n,this.id=D}dispose(){}compute(s){const i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=i&&!!i.offSide,t=i&&i.markers;return Promise.resolve(v(this.editorModel,n,t,this.foldingRangesLimit))}}e.IndentRangeProvider=S;class m{constructor(s){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=s}insertFirst(s,i,n){if(s>I.MAX_LINE_NUMBER||i>I.MAX_LINE_NUMBER)return;const t=this._length;this._startIndexes[t]=s,this._endIndexes[t]=i,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(s){const i=this._foldingRangesLimit.limit;if(this._length<=i){this._foldingRangesLimit.update(this._length,!1);const n=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let r=this._length-1,u=0;r>=0;r--,u++)n[u]=this._startIndexes[r],t[u]=this._endIndexes[r];return new I.FoldingRegions(n,t)}else{this._foldingRangesLimit.update(this._length,i);let n=0,t=this._indentOccurrences.length;for(let d=0;d<this._indentOccurrences.length;d++){const l=this._indentOccurrences[d];if(l){if(l+n>i){t=d;break}n+=l}}const r=s.getOptions().tabSize,u=new Uint32Array(i),f=new Uint32Array(i);for(let d=this._length-1,l=0;d>=0;d--){const o=this._startIndexes[d],c=s.getLineContent(o),a=(0,L.computeIndentLevel)(c,r);(a<t||a===t&&n++<i)&&(u[l]=o,f[l]=this._endIndexes[d],l++)}return new I.FoldingRegions(u,f)}}}e.RangesCollector=m;const _={limit:y,update:()=>{}};function v(C,s,i,n=_){const t=C.getOptions().tabSize,r=new m(n);let u;i&&(u=new RegExp(`(${i.start.source})|(?:${i.end.source})`));const f=[],d=C.getLineCount()+1;f.push({indent:-1,endAbove:d,line:d});for(let l=C.getLineCount();l>0;l--){const o=C.getLineContent(l),c=(0,L.computeIndentLevel)(o,t);let a=f[f.length-1];if(c===-1){s&&(a.endAbove=l);continue}let g;if(u&&(g=o.match(u)))if(g[1]){let h=f.length-1;for(;h>0&&f[h].indent!==-2;)h--;if(h>0){f.length=h+1,a=f[h],r.insertFirst(l,a.line,c),a.line=l,a.indent=c,a.endAbove=l;continue}}else{f.push({indent:-2,endAbove:l,line:l});continue}if(a.indent>c){do f.pop(),a=f[f.length-1];while(a.indent>c);const h=a.endAbove-1;h-l>=1&&r.insertFirst(l,h,c)}a.indent===c?a.endAbove=l:f.push({indent:c,endAbove:l,line:l})}return r.toIndentRanges(C)}e.computeRanges=v}),define(te[297],ie([1,0,9,2,180]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.SyntaxRangeProvider=void 0;const D={},S="syntax";class m{constructor(i,n,t,r,u){this.editorModel=i,this.providers=n,this.handleFoldingRangesChange=t,this.foldingRangesLimit=r,this.fallbackRangeProvider=u,this.id=S,this.disposables=new I.DisposableStore,u&&this.disposables.add(u);for(const f of n)typeof f.onDidChange=="function"&&this.disposables.add(f.onDidChange(t))}compute(i){return _(this.providers,this.editorModel,i).then(n=>{var t,r;return n?C(n,this.foldingRangesLimit):(r=(t=this.fallbackRangeProvider)===null||t===void 0?void 0:t.compute(i))!==null&&r!==void 0?r:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=m;function _(s,i,n){let t=null;const r=s.map((u,f)=>Promise.resolve(u.provideFoldingRanges(i,D,n)).then(d=>{if(!n.isCancellationRequested&&Array.isArray(d)){Array.isArray(t)||(t=[]);const l=i.getLineCount();for(const o of d)o.start>0&&o.end>o.start&&o.end<=l&&t.push({start:o.start,end:o.end,rank:f,kind:o.kind})}},L.onUnexpectedExternalError));return Promise.all(r).then(u=>t)}class v{constructor(i){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=i}add(i,n,t,r){if(i>y.MAX_LINE_NUMBER||n>y.MAX_LINE_NUMBER)return;const u=this._length;this._startIndexes[u]=i,this._endIndexes[u]=n,this._nestingLevels[u]=r,this._types[u]=t,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){const i=this._foldingRangesLimit.limit;if(this._length<=i){this._foldingRangesLimit.update(this._length,!1);const n=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let r=0;r<this._length;r++)n[r]=this._startIndexes[r],t[r]=this._endIndexes[r];return new y.FoldingRegions(n,t,this._types)}else{this._foldingRangesLimit.update(this._length,i);let n=0,t=this._nestingLevelCounts.length;for(let d=0;d<this._nestingLevelCounts.length;d++){const l=this._nestingLevelCounts[d];if(l){if(l+n>i){t=d;break}n+=l}}const r=new Uint32Array(i),u=new Uint32Array(i),f=[];for(let d=0,l=0;d<this._length;d++){const o=this._nestingLevels[d];(o<t||o===t&&n++<i)&&(r[l]=this._startIndexes[d],u[l]=this._endIndexes[d],f[l]=this._types[d],l++)}return new y.FoldingRegions(r,u,f)}}}function C(s,i){const n=s.sort((f,d)=>{let l=f.start-d.start;return l===0&&(l=f.rank-d.rank),l}),t=new v(i);let r;const u=[];for(const f of n)if(!r)r=f,t.add(f.start,f.end,f.kind&&f.kind.value,u.length);else if(f.start>r.start)if(f.end<=r.end)u.push(r),r=f,t.add(f.start,f.end,f.kind&&f.kind.value,u.length);else{if(f.start>r.end){do r=u.pop();while(r&&f.start>r.end);r&&u.push(r),r=f}t.add(f.start,f.end,f.kind&&f.kind.value,u.length)}return t.toIndentRanges()}e.sanitizeRanges=C}),define(te[298],ie([1,0,71,5,120]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class D{static _handleEolEdits(m,_){let v;const C=[];for(const s of _)typeof s.eol=="number"&&(v=s.eol),s.range&&typeof s.text=="string"&&C.push(s);return typeof v=="number"&&m.hasModel()&&m.getModel().pushEOL(v),C}static _isFullModelReplaceEdit(m,_){if(!m.hasModel())return!1;const v=m.getModel(),C=v.validateRange(_.range);return v.getFullModelRange().equalsRange(C)}static execute(m,_,v){v&&m.pushUndoStop();const C=y.StableEditorScrollState.capture(m),s=D._handleEolEdits(m,_);s.length===1&&D._isFullModelReplaceEdit(m,s[0])?m.executeEdits("formatEditsCommand",s.map(i=>L.EditOperation.replace(I.Range.lift(i.range),i.text))):m.executeEdits("formatEditsCommand",s.map(i=>L.EditOperation.replaceMove(I.Range.lift(i.range),i.text))),v&&m.pushUndoStop(),C.restoreRelativeVerticalPositionOfCursor(m)}}e.FormattingEdit=D}),define(te[99],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class L{constructor(D,S,m,_){this.priority=D,this.range=S,this.initialMousePosX=m,this.initialMousePosY=_,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,S){return D.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=L;class I{constructor(D,S,m,_,v,C){this.priority=D,this.owner=S,this.range=m,this.initialMousePosX=_,this.initialMousePosY=v,this.supportsMarkerHover=C,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,S){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=I,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(te[547],ie([1,0,24]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class I{constructor(D,S,m){this._editRange=D,this._originalSelection=S,this._text=m}getEditOperations(D,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,S){const _=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new L.Selection(_.endLineNumber,Math.min(this._originalSelection.positionColumn,_.endColumn),_.endLineNumber,Math.min(this._originalSelection.positionColumn,_.endColumn)):new L.Selection(_.endLineNumber,_.endColumn-this._text.length,_.endLineNumber,_.endColumn)}}e.InPlaceReplaceCommand=I}),define(te[299],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function L(y,D){let S=0;for(let m=0;m<y.length;m++)y.charAt(m)==="	"?S+=D:S++;return S}e.getSpaceCnt=L;function I(y,D,S){y=y<0?0:y;let m="";if(!S){const _=Math.floor(y/D);y=y%D;for(let v=0;v<_;v++)m+="	"}for(let _=0;_<y;_++)m+=" ";return m}e.generateIndent=I}),define(te[214],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(te[150],ie([1,0,9,2,40,12,5]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfText=e.addPositions=e.applyObservableDecorations=e.ColumnRange=e.getReadonlyEmptyArray=e.applyEdits=void 0;function m(r,u){const f=new _(r),d=u.map(l=>{const o=S.Range.lift(l.range);return{startOffset:f.getOffset(o.getStartPosition()),endOffset:f.getOffset(o.getEndPosition()),text:l.text}});d.sort((l,o)=>o.startOffset-l.startOffset);for(const l of d)r=r.substring(0,l.startOffset)+l.text+r.substring(l.endOffset);return r}e.applyEdits=m;class _{constructor(u){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let f=0;f<u.length;f++)u.charAt(f)===`
`&&this.lineStartOffsetByLineIdx.push(f+1)}getOffset(u){return this.lineStartOffsetByLineIdx[u.lineNumber-1]+u.column-1}}const v=[];function C(){return v}e.getReadonlyEmptyArray=C;class s{constructor(u,f){if(this.startColumn=u,this.endColumnExclusive=f,u>f)throw new L.BugIndicatingError(`startColumn ${u} cannot be after endColumnExclusive ${f}`)}toRange(u){return new S.Range(u,this.startColumn,u,this.endColumnExclusive)}equals(u){return this.startColumn===u.startColumn&&this.endColumnExclusive===u.endColumnExclusive}}e.ColumnRange=s;function i(r,u){const f=new I.DisposableStore,d=r.createDecorationsCollection();return f.add((0,y.autorunOpts)({debugName:()=>`Apply decorations from ${u.debugName}`},l=>{const o=u.read(l);d.set(o)})),f.add({dispose:()=>{d.clear()}}),f}e.applyObservableDecorations=i;function n(r,u){return new D.Position(r.lineNumber+u.lineNumber-1,u.lineNumber===1?r.column+u.column-1:u.column)}e.addPositions=n;function t(r){let u=1,f=1;for(const d of r)d===`
`?(u++,f=1):f++;return new D.Position(u,f)}e.lengthOfText=t}),define(te[215],ie([1,0,150]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ghostTextOrReplacementEquals=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class I{constructor(_,v){this.lineNumber=_,this.parts=v}equals(_){return this.lineNumber===_.lineNumber&&this.parts.length===_.parts.length&&this.parts.every((v,C)=>v.equals(_.parts[C]))}renderForScreenReader(_){if(this.parts.length===0)return"";const v=this.parts[this.parts.length-1],C=_.substr(0,v.column-1);return(0,L.applyEdits)(C,this.parts.map(i=>({range:{startLineNumber:1,endLineNumber:1,startColumn:i.column,endColumn:i.column},text:i.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(_=>_.lines.length===0)}get lineCount(){return 1+this.parts.reduce((_,v)=>_+v.lines.length-1,0)}}e.GhostText=I;class y{constructor(_,v,C){this.column=_,this.lines=v,this.preview=C}equals(_){return this.column===_.column&&this.lines.length===_.lines.length&&this.lines.every((v,C)=>v===_.lines[C])}}e.GhostTextPart=y;class D{constructor(_,v,C,s=0){this.lineNumber=_,this.columnRange=v,this.newLines=C,this.additionalReservedLineCount=s,this.parts=[new y(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(_){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(_=>_.lines.length===0)}equals(_){return this.lineNumber===_.lineNumber&&this.columnRange.equals(_.columnRange)&&this.newLines.length===_.newLines.length&&this.newLines.every((v,C)=>v===_.newLines[C])&&this.additionalReservedLineCount===_.additionalReservedLineCount}}e.GhostTextReplacement=D;function S(m,_){return m===_?!0:!m||!_?!1:m instanceof I&&_ instanceof I||m instanceof D&&_ instanceof D?m.equals(_):!1}e.ghostTextOrReplacementEquals=S}),define(te[300],ie([1,0,167,10,5,215,150]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleTextEdit=void 0;class m{constructor(t,r){this.range=t,this.text=r}removeCommonPrefix(t,r){const u=r?this.range.intersectRanges(r):this.range;if(!u)return this;const f=t.getValueInRange(u,1),d=(0,I.commonPrefixLength)(f,this.text),l=(0,S.addPositions)(this.range.getStartPosition(),(0,S.lengthOfText)(f.substring(0,d))),o=this.text.substring(d),c=y.Range.fromPositions(l,this.range.getEndPosition());return new m(c,o)}augments(t){return this.text.startsWith(t.text)&&_(this.range,t.range)}computeGhostText(t,r,u,f=0){let d=this.removeCommonPrefix(t);if(d.range.endLineNumber!==d.range.startLineNumber)return;const l=t.getLineContent(d.range.startLineNumber),o=(0,I.getLeadingWhitespace)(l).length;if(d.range.startColumn-1<=o){const w=(0,I.getLeadingWhitespace)(d.text).length,E=l.substring(d.range.startColumn-1,o),[k,M]=[d.range.getStartPosition(),d.range.getEndPosition()],R=k.column+E.length<=M.column?k.delta(0,E.length):M,B=y.Range.fromPositions(R,M),T=d.text.startsWith(E)?d.text.substring(E.length):d.text.substring(w);d=new m(B,T)}const a=t.getValueInRange(d.range),g=C(a,d.text);if(!g)return;const h=d.range.startLineNumber,p=new Array;if(r==="prefix"){const w=g.filter(E=>E.originalLength===0);if(w.length>1||w.length===1&&w[0].originalStart!==a.length)return}const b=d.text.length-f;for(const w of g){const E=d.range.startColumn+w.originalStart+w.originalLength;if(r==="subwordSmart"&&u&&u.lineNumber===d.range.startLineNumber&&E<u.column||w.originalLength>0)return;if(w.modifiedLength===0)continue;const k=w.modifiedStart+w.modifiedLength,M=Math.max(w.modifiedStart,Math.min(k,b)),R=d.text.substring(w.modifiedStart,M),B=d.text.substring(M,Math.max(w.modifiedStart,k));if(R.length>0){const T=(0,I.splitLines)(R);p.push(new D.GhostTextPart(E,T,!1))}if(B.length>0){const T=(0,I.splitLines)(B);p.push(new D.GhostTextPart(E,T,!0))}}return new D.GhostText(h,p)}}e.SingleTextEdit=m;function _(n,t){return t.getStartPosition().equals(n.getStartPosition())&&t.getEndPosition().isBeforeOrEqual(n.getEndPosition())}let v;function C(n,t){if(v?.originalValue===n&&v?.newValue===t)return v?.changes;{let r=i(n,t,!0);if(r){const u=s(r);if(u>0){const f=i(n,t,!1);f&&s(f)<u&&(r=f)}}return v={originalValue:n,newValue:t,changes:r},r}}function s(n){let t=0;for(const r of n)t+=r.originalLength;return t}function i(n,t,r){if(n.length>5e3||t.length>5e3)return;function u(a){let g=0;for(let h=0,p=a.length;h<p;h++){const b=a.charCodeAt(h);b>g&&(g=b)}return g}const f=Math.max(u(n),u(t));function d(a){if(a<0)throw new Error("unexpected");return f+a+1}function l(a){let g=0,h=0;const p=new Int32Array(a.length);for(let b=0,w=a.length;b<w;b++)if(r&&a[b]==="("){const E=h*100+g;p[b]=d(2*E),g++}else if(r&&a[b]===")"){g=Math.max(g-1,0);const E=h*100+g;p[b]=d(2*E+1),g===0&&h++}else p[b]=a.charCodeAt(b);return p}const o=l(n),c=l(t);return new L.LcsDiff({getElements:()=>o},{getElements:()=>c}).ComputeDiff(!1).changes}}),define(te[548],ie([1,0,5,24]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class y{constructor(S,m,_){this._selection=S,this._isCopyingDown=m,this._noop=_||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,m){let _=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,_.startLineNumber<_.endLineNumber&&_.endColumn===1&&(this._endLineNumberDelta=1,_=_.setEndPosition(_.endLineNumber-1,S.getLineMaxColumn(_.endLineNumber-1)));const v=[];for(let s=_.startLineNumber;s<=_.endLineNumber;s++)v.push(S.getLineContent(s));const C=v.join(`
`);C===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?m.addEditOperation(new L.Range(_.endLineNumber,S.getLineMaxColumn(_.endLineNumber),_.endLineNumber+1,1),_.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?m.addEditOperation(new L.Range(_.startLineNumber,1,_.startLineNumber,1),C+`
`):m.addEditOperation(new L.Range(_.endLineNumber,S.getLineMaxColumn(_.endLineNumber),_.endLineNumber,S.getLineMaxColumn(_.endLineNumber)),`
`+C),this._selectionId=m.trackSelection(_),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,m){let _=m.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let v=_.startLineNumber,C=_.startColumn,s=_.endLineNumber,i=_.endColumn;this._startLineNumberDelta!==0&&(v=v+this._startLineNumberDelta,C=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,i=1),_=I.Selection.createWithDirection(v,C,s,i,this._selectionDirection)}return _}}e.CopyLinesCommand=y}),define(te[549],ie([1,0,71,5]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class y{static getCollator(){return y._COLLATOR||(y._COLLATOR=new Intl.Collator),y._COLLATOR}constructor(_,v){this.selection=_,this.descending=v,this.selectionId=null}getEditOperations(_,v){const C=S(_,this.selection,this.descending);C&&v.addEditOperation(C.range,C.text),this.selectionId=v.trackSelection(this.selection)}computeCursorState(_,v){return v.getTrackedSelection(this.selectionId)}static canRun(_,v,C){if(_===null)return!1;const s=D(_,v,C);if(!s)return!1;for(let i=0,n=s.before.length;i<n;i++)if(s.before[i]!==s.after[i])return!0;return!1}}e.SortLinesCommand=y,y._COLLATOR=null;function D(m,_,v){const C=_.startLineNumber;let s=_.endLineNumber;if(_.endColumn===1&&s--,C>=s)return null;const i=[];for(let t=C;t<=s;t++)i.push(m.getLineContent(t));let n=i.slice(0);return n.sort(y.getCollator().compare),v===!0&&(n=n.reverse()),{startLineNumber:C,endLineNumber:s,before:i,after:n}}function S(m,_,v){const C=D(m,_,v);return C?L.EditOperation.replace(new I.Range(C.startLineNumber,1,C.endLineNumber,m.getLineMaxColumn(C.endLineNumber)),C.after.join(`
`)):null}}),define(te[301],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function L(I,y,D){var S;const m=(S=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:I.getLanguageId(),resource:I.uri}))===null||S===void 0?void 0:S.enabled;return typeof m=="boolean"?m:y.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=L}),define(te[302],ie([1,0,63,12,5]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(m,_){return be(this,void 0,void 0,function*(){const v=[];for(const C of _){const s=[];v.push(s);const i=new Map;yield new Promise(n=>D._bracketsRightYield(n,0,m,C,i)),yield new Promise(n=>D._bracketsLeftYield(n,0,m,C,i,s))}return v})}static _bracketsRightYield(m,_,v,C,s){const i=new Map,n=Date.now();for(;;){if(_>=D._maxRounds){m();break}if(!C){m();break}const t=v.bracketPairs.findNextBracket(C);if(!t){m();break}if(Date.now()-n>D._maxDuration){setTimeout(()=>D._bracketsRightYield(m,_+1,v,C,s));break}if(t.bracketInfo.isOpeningBracket){const u=t.bracketInfo.bracketText,f=i.has(u)?i.get(u):0;i.set(u,f+1)}else{const u=t.bracketInfo.getOpeningBrackets()[0].bracketText;let f=i.has(u)?i.get(u):0;if(f-=1,i.set(u,Math.max(0,f)),f<0){let d=s.get(u);d||(d=new L.LinkedList,s.set(u,d)),d.push(t.range)}}C=t.range.getEndPosition()}}static _bracketsLeftYield(m,_,v,C,s,i){const n=new Map,t=Date.now();for(;;){if(_>=D._maxRounds&&s.size===0){m();break}if(!C){m();break}const r=v.bracketPairs.findPrevBracket(C);if(!r){m();break}if(Date.now()-t>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(m,_+1,v,C,s,i));break}if(r.bracketInfo.isOpeningBracket){const f=r.bracketInfo.bracketText;let d=n.has(f)?n.get(f):0;if(d-=1,n.set(f,Math.max(0,d)),d<0){const l=s.get(f);if(l){const o=l.shift();l.size===0&&s.delete(f);const c=y.Range.fromPositions(r.range.getEndPosition(),o.getStartPosition()),a=y.Range.fromPositions(r.range.getStartPosition(),o.getEndPosition());i.push({range:c}),i.push({range:a}),D._addBracketLeading(v,a,i)}}}else{const f=r.bracketInfo.getOpeningBrackets()[0].bracketText,d=n.has(f)?n.get(f):0;n.set(f,d+1)}C=r.range.getStartPosition()}}static _addBracketLeading(m,_,v){if(_.startLineNumber===_.endLineNumber)return;const C=_.startLineNumber,s=m.getLineFirstNonWhitespaceColumn(C);s!==0&&s!==_.startColumn&&(v.push({range:y.Range.fromPositions(new I.Position(C,s),_.getEndPosition())}),v.push({range:y.Range.fromPositions(new I.Position(C,1),_.getEndPosition())}));const i=C-1;if(i>0){const n=m.getLineFirstNonWhitespaceColumn(i);n===_.startColumn&&n!==m.getLineLastNonWhitespaceColumn(i)&&(v.push({range:y.Range.fromPositions(new I.Position(i,n),_.getEndPosition())}),v.push({range:y.Range.fromPositions(new I.Position(i,1),_.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(te[550],ie([1,0,10,5]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class y{constructor(S=!0){this.selectSubwords=S}provideSelectionRanges(S,m){const _=[];for(const v of m){const C=[];_.push(C),this.selectSubwords&&this._addInWordRanges(C,S,v),this._addWordRanges(C,S,v),this._addWhitespaceLine(C,S,v),C.push({range:S.getFullModelRange()})}return _}_addInWordRanges(S,m,_){const v=m.getWordAtPosition(_);if(!v)return;const{word:C,startColumn:s}=v,i=_.column-s;let n=i,t=i,r=0;for(;n>=0;n--){const u=C.charCodeAt(n);if(n!==i&&(u===95||u===45))break;if((0,L.isLowerAsciiLetter)(u)&&(0,L.isUpperAsciiLetter)(r))break;r=u}for(n+=1;t<C.length;t++){const u=C.charCodeAt(t);if((0,L.isUpperAsciiLetter)(u)&&(0,L.isLowerAsciiLetter)(r))break;if(u===95||u===45)break;r=u}n<t&&S.push({range:new I.Range(_.lineNumber,s+n,_.lineNumber,s+t)})}_addWordRanges(S,m,_){const v=m.getWordAtPosition(_);v&&S.push({range:new I.Range(_.lineNumber,v.startColumn,_.lineNumber,v.endColumn)})}_addWhitespaceLine(S,m,_){m.getLineLength(_.lineNumber)>0&&m.getLineFirstNonWhitespaceColumn(_.lineNumber)===0&&m.getLineLastNonWhitespaceColumn(_.lineNumber)===0&&S.push({range:new I.Range(_.lineNumber,1,_.lineNumber,m.getLineMaxColumn(_.lineNumber))})}}e.WordSelectionRangeProvider=y}),define(te[127],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class L{constructor(){this.value="",this.pos=0}static isDigitCharacter(r){return r>=48&&r<=57}static isVariableCharacter(r){return r===95||r>=97&&r<=122||r>=65&&r<=90}text(r){this.value=r,this.pos=0}tokenText(r){return this.value.substr(r.pos,r.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const r=this.pos;let u=0,f=this.value.charCodeAt(r),d;if(d=L._table[f],typeof d=="number")return this.pos+=1,{type:d,pos:r,len:1};if(L.isDigitCharacter(f)){d=8;do u+=1,f=this.value.charCodeAt(r+u);while(L.isDigitCharacter(f));return this.pos+=u,{type:d,pos:r,len:u}}if(L.isVariableCharacter(f)){d=9;do f=this.value.charCodeAt(r+ ++u);while(L.isVariableCharacter(f)||L.isDigitCharacter(f));return this.pos+=u,{type:d,pos:r,len:u}}d=10;do u+=1,f=this.value.charCodeAt(r+u);while(!isNaN(f)&&typeof L._table[f]>"u"&&!L.isDigitCharacter(f)&&!L.isVariableCharacter(f));return this.pos+=u,{type:d,pos:r,len:u}}}e.Scanner=L,L._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class I{constructor(){this._children=[]}appendChild(r){return r instanceof y&&this._children[this._children.length-1]instanceof y?this._children[this._children.length-1].value+=r.value:(r.parent=this,this._children.push(r)),this}replace(r,u){const{parent:f}=r,d=f.children.indexOf(r),l=f.children.slice(0);l.splice(d,1,...u),f._children=l,function o(c,a){for(const g of c)g.parent=a,o(g.children,g)}(u,f)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let r=this;for(;;){if(!r)return;if(r instanceof i)return r;r=r.parent}}toString(){return this.children.reduce((r,u)=>r+u.toString(),"")}len(){return 0}}e.Marker=I;class y extends I{constructor(r){super(),this.value=r}toString(){return this.value}len(){return this.value.length}clone(){return new y(this.value)}}e.Text=y;class D extends I{}e.TransformableMarker=D;class S extends D{static compareByIndex(r,u){return r.index===u.index?0:r.isFinalTabstop?1:u.isFinalTabstop||r.index<u.index?-1:r.index>u.index?1:0}constructor(r){super(),this.index=r}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof m?this._children[0]:void 0}clone(){const r=new S(this.index);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(u=>u.clone()),r}}e.Placeholder=S;class m extends I{constructor(){super(...arguments),this.options=[]}appendChild(r){return r instanceof y&&(r.parent=this,this.options.push(r)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const r=new m;return this.options.forEach(r.appendChild,r),r}}e.Choice=m;class _ extends I{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(r){const u=this;let f=!1,d=r.replace(this.regexp,function(){return f=!0,u._replace(Array.prototype.slice.call(arguments,0,-2))});return!f&&this._children.some(l=>l instanceof v&&!!l.elseValue)&&(d=this._replace([])),d}_replace(r){let u="";for(const f of this._children)if(f instanceof v){let d=r[f.index]||"";d=f.resolve(d),u+=d}else u+=f.toString();return u}toString(){return""}clone(){const r=new _;return r.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),r._children=this.children.map(u=>u.clone()),r}}e.Transform=_;class v extends I{constructor(r,u,f,d){super(),this.index=r,this.shorthandName=u,this.ifValue=f,this.elseValue=d}resolve(r){return this.shorthandName==="upcase"?r?r.toLocaleUpperCase():"":this.shorthandName==="downcase"?r?r.toLocaleLowerCase():"":this.shorthandName==="capitalize"?r?r[0].toLocaleUpperCase()+r.substr(1):"":this.shorthandName==="pascalcase"?r?this._toPascalCase(r):"":this.shorthandName==="camelcase"?r?this._toCamelCase(r):"":r&&typeof this.ifValue=="string"?this.ifValue:!r&&typeof this.elseValue=="string"?this.elseValue:r||""}_toPascalCase(r){const u=r.match(/[a-z0-9]+/gi);return u?u.map(f=>f.charAt(0).toUpperCase()+f.substr(1)).join(""):r}_toCamelCase(r){const u=r.match(/[a-z0-9]+/gi);return u?u.map((f,d)=>d===0?f.charAt(0).toLowerCase()+f.substr(1):f.charAt(0).toUpperCase()+f.substr(1)).join(""):r}clone(){return new v(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=v;class C extends D{constructor(r){super(),this.name=r}resolve(r){let u=r.resolve(this);return this.transform&&(u=this.transform.resolve(u||"")),u!==void 0?(this._children=[new y(u)],!0):!1}clone(){const r=new C(this.name);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(u=>u.clone()),r}}e.Variable=C;function s(t,r){const u=[...t];for(;u.length>0;){const f=u.shift();if(!r(f))break;u.unshift(...f.children)}}class i extends I{get placeholderInfo(){if(!this._placeholders){const r=[];let u;this.walk(function(f){return f instanceof S&&(r.push(f),u=!u||u.index<f.index?f:u),!0}),this._placeholders={all:r,last:u}}return this._placeholders}get placeholders(){const{all:r}=this.placeholderInfo;return r}offset(r){let u=0,f=!1;return this.walk(d=>d===r?(f=!0,!1):(u+=d.len(),!0)),f?u:-1}fullLen(r){let u=0;return s([r],f=>(u+=f.len(),!0)),u}enclosingPlaceholders(r){const u=[];let{parent:f}=r;for(;f;)f instanceof S&&u.push(f),f=f.parent;return u}resolveVariables(r){return this.walk(u=>(u instanceof C&&u.resolve(r)&&(this._placeholders=void 0),!0)),this}appendChild(r){return this._placeholders=void 0,super.appendChild(r)}replace(r,u){return this._placeholders=void 0,super.replace(r,u)}clone(){const r=new i;return this._children=this.children.map(u=>u.clone()),r}walk(r){s(this.children,r)}}e.TextmateSnippet=i;class n{constructor(){this._scanner=new L,this._token={type:14,pos:0,len:0}}static escape(r){return r.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(r){return/\${?CLIPBOARD/.test(r)}parse(r,u,f){const d=new i;return this.parseFragment(r,d),this.ensureFinalTabstop(d,f??!1,u??!1),d}parseFragment(r,u){const f=u.children.length;for(this._scanner.text(r),this._token=this._scanner.next();this._parse(u););const d=new Map,l=[];u.walk(a=>(a instanceof S&&(a.isFinalTabstop?d.set(0,void 0):!d.has(a.index)&&a.children.length>0?d.set(a.index,a.children):l.push(a)),!0));const o=(a,g)=>{const h=d.get(a.index);if(!h)return;const p=new S(a.index);p.transform=a.transform;for(const b of h){const w=b.clone();p.appendChild(w),w instanceof S&&d.has(w.index)&&!g.has(w.index)&&(g.add(w.index),o(w,g),g.delete(w.index))}u.replace(a,[p])},c=new Set;for(const a of l)o(a,c);return u.children.slice(f)}ensureFinalTabstop(r,u,f){(u||f&&r.placeholders.length>0)&&(r.placeholders.find(l=>l.index===0)||r.appendChild(new S(0)))}_accept(r,u){if(r===void 0||this._token.type===r){const f=u?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),f}return!1}_backTo(r){return this._scanner.pos=r.pos+r.len,this._token=r,!1}_until(r){const u=this._token;for(;this._token.type!==r;){if(this._token.type===14)return!1;if(this._token.type===5){const d=this._scanner.next();if(d.type!==0&&d.type!==4&&d.type!==5)return!1}this._token=this._scanner.next()}const f=this._scanner.value.substring(u.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),f}_parse(r){return this._parseEscaped(r)||this._parseTabstopOrVariableName(r)||this._parseComplexPlaceholder(r)||this._parseComplexVariable(r)||this._parseAnything(r)}_parseEscaped(r){let u;return(u=this._accept(5,!0))?(u=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||u,r.appendChild(new y(u)),!0):!1}_parseTabstopOrVariableName(r){let u;const f=this._token;return this._accept(0)&&(u=this._accept(9,!0)||this._accept(8,!0))?(r.appendChild(/^\d+$/.test(u)?new S(Number(u)):new C(u)),!0):this._backTo(f)}_parseComplexPlaceholder(r){let u;const f=this._token;if(!(this._accept(0)&&this._accept(3)&&(u=this._accept(8,!0))))return this._backTo(f);const l=new S(Number(u));if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(l),!0;if(!this._parse(l))return r.appendChild(new y("${"+u+":")),l.children.forEach(r.appendChild,r),!0}else if(l.index>0&&this._accept(7)){const o=new m;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(l.appendChild(o),this._accept(4)))return r.appendChild(l),!0}return this._backTo(f),!1}}else return this._accept(6)?this._parseTransform(l)?(r.appendChild(l),!0):(this._backTo(f),!1):this._accept(4)?(r.appendChild(l),!0):this._backTo(f)}_parseChoiceElement(r){const u=this._token,f=[];for(;!(this._token.type===2||this._token.type===7);){let d;if((d=this._accept(5,!0))?d=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||d:d=this._accept(void 0,!0),!d)return this._backTo(u),!1;f.push(d)}return f.length===0?(this._backTo(u),!1):(r.appendChild(new y(f.join(""))),!0)}_parseComplexVariable(r){let u;const f=this._token;if(!(this._accept(0)&&this._accept(3)&&(u=this._accept(9,!0))))return this._backTo(f);const l=new C(u);if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(l),!0;if(!this._parse(l))return r.appendChild(new y("${"+u+":")),l.children.forEach(r.appendChild,r),!0}else return this._accept(6)?this._parseTransform(l)?(r.appendChild(l),!0):(this._backTo(f),!1):this._accept(4)?(r.appendChild(l),!0):this._backTo(f)}_parseTransform(r){const u=new _;let f="",d="";for(;!this._accept(6);){let l;if(l=this._accept(5,!0)){l=this._accept(6,!0)||l,f+=l;continue}if(this._token.type!==14){f+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let l;if(l=this._accept(5,!0)){l=this._accept(5,!0)||this._accept(6,!0)||l,u.appendChild(new y(l));continue}if(!(this._parseFormatString(u)||this._parseAnything(u)))return!1}for(;!this._accept(4);){if(this._token.type!==14){d+=this._accept(void 0,!0);continue}return!1}try{u.regexp=new RegExp(f,d)}catch{return!1}return r.transform=u,!0}_parseFormatString(r){const u=this._token;if(!this._accept(0))return!1;let f=!1;this._accept(3)&&(f=!0);const d=this._accept(8,!0);if(d)if(f){if(this._accept(4))return r.appendChild(new v(Number(d))),!0;if(!this._accept(1))return this._backTo(u),!1}else return r.appendChild(new v(Number(d))),!0;else return this._backTo(u),!1;if(this._accept(6)){const l=this._accept(9,!0);return!l||!this._accept(4)?(this._backTo(u),!1):(r.appendChild(new v(Number(d),l)),!0)}else if(this._accept(11)){const l=this._until(4);if(l)return r.appendChild(new v(Number(d),void 0,l,void 0)),!0}else if(this._accept(12)){const l=this._until(4);if(l)return r.appendChild(new v(Number(d),void 0,void 0,l)),!0}else if(this._accept(13)){const l=this._until(1);if(l){const o=this._until(4);if(o)return r.appendChild(new v(Number(d),void 0,l,o)),!0}}else{const l=this._until(4);if(l)return r.appendChild(new v(Number(d),void 0,void 0,l)),!0}return this._backTo(u),!1}_parseAnything(r){return this._token.type!==14?(r.appendChild(new y(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=n}),define(te[303],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class L{constructor(S,m){this.startLineNumber=S,this.endLineNumber=m}}e.StickyRange=L;class I{constructor(S,m,_){this.range=S,this.children=m,this.parent=_}}e.StickyElement=I;class y{constructor(S,m,_,v){this.uri=S,this.version=m,this.element=_,this.outlineProviderId=v}}e.StickyModel=y}),define(te[304],ie([1,0,13,69,10]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(_,v){this.leadingLineContent=_,this.characterCountDelta=v}}e.LineContext=D;class S{constructor(_,v,C,s,i,n,t=I.FuzzyScoreOptions.default,r=void 0){this.clipboardText=r,this._snippetCompareFn=S._compareCompletionItems,this._items=_,this._column=v,this._wordDistance=s,this._options=i,this._refilterKind=1,this._lineContext=C,this._fuzzyScoreOptions=t,n==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:n==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(_){(this._lineContext.leadingLineContent!==_.leadingLineContent||this._lineContext.characterCountDelta!==_.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<_.characterCountDelta&&this._filteredItems?2:1,this._lineContext=_)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const _=new Set;for(const[v,C]of this.getItemsByProvider())C.length>0&&C[0].container.incomplete&&_.add(v);return _}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const _=[],{leadingLineContent:v,characterCountDelta:C}=this._lineContext;let s="",i="";const n=this._refilterKind===1?this._items:this._filteredItems,t=[],r=!this._options.filterGraceful||n.length>2e3?I.fuzzyScore:I.fuzzyScoreGracefulAggressive;for(let u=0;u<n.length;u++){const f=n[u];if(f.isInvalid)continue;const d=this._itemsByProvider.get(f.provider);d?d.push(f):this._itemsByProvider.set(f.provider,[f]);const l=f.position.column-f.editStart.column,o=l+C-(f.position.column-this._column);if(s.length!==o&&(s=o===0?"":v.slice(-o),i=s.toLowerCase()),f.word=s,o===0)f.score=I.FuzzyScore.Default;else{let c=0;for(;c<l;){const a=s.charCodeAt(c);if(a===32||a===9)c+=1;else break}if(c>=o)f.score=I.FuzzyScore.Default;else if(typeof f.completion.filterText=="string"){const a=r(s,i,c,f.completion.filterText,f.filterTextLow,0,this._fuzzyScoreOptions);if(!a)continue;(0,y.compareIgnoreCase)(f.completion.filterText,f.textLabel)===0?f.score=a:(f.score=(0,I.anyScore)(s,i,c,f.textLabel,f.labelLow,0),f.score[0]=a[0])}else{const a=r(s,i,c,f.textLabel,f.labelLow,0,this._fuzzyScoreOptions);if(!a)continue;f.score=a}}f.idx=u,f.distance=this._wordDistance.distance(f.position,f.completion),t.push(f),_.push(f.textLabel.length)}this._filteredItems=t.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:_.length?(0,L.quickSelect)(_.length-.85,_,(u,f)=>u-f):0}}static _compareCompletionItems(_,v){return _.score[0]>v.score[0]?-1:_.score[0]<v.score[0]?1:_.distance<v.distance?-1:_.distance>v.distance?1:_.idx<v.idx?-1:_.idx>v.idx?1:0}static _compareCompletionItemsSnippetsDown(_,v){if(_.completion.kind!==v.completion.kind){if(_.completion.kind===27)return 1;if(v.completion.kind===27)return-1}return S._compareCompletionItems(_,v)}static _compareCompletionItemsSnippetsUp(_,v){if(_.completion.kind!==v.completion.kind){if(_.completion.kind===27)return-1;if(v.completion.kind===27)return 1}return S._compareCompletionItems(_,v)}}e.CompletionModel=S}),define(te[551],ie([1,0,13,2,121]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(m,_,v,C){this._disposables=new I.DisposableStore,this._disposables.add(v.onDidSuggest(s=>{s.completionModel.items.length===0&&this.reset()})),this._disposables.add(v.onDidCancel(s=>{this.reset()})),this._disposables.add(_.onDidShow(()=>this._onItem(_.getFocusedItem()))),this._disposables.add(_.onDidFocus(this._onItem,this)),this._disposables.add(_.onDidHide(this.reset,this)),this._disposables.add(m.onWillType(s=>{if(this._active&&!_.isFrozen()&&v.state!==0){const i=s.charCodeAt(s.length-1);this._active.acceptCharacters.has(i)&&m.getOption(0)&&C(this._active.item)}}))}_onItem(m){if(!m||!(0,L.isNonEmptyArray)(m.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===m.item)return;const _=new y.CharacterSet;for(const v of m.item.completion.commitCharacters)v.length>0&&_.add(v.charCodeAt(0));this._active={acceptCharacters:_,item:m}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(te[552],ie([1,0,2]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class I{constructor(D,S){this._disposables=new L.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(D.onWillType(()=>{if(this._locked||!D.hasModel())return;const m=D.getSelections(),_=m.length;let v=!1;for(let s=0;s<_;s++)if(!m[s].isEmpty()){v=!0;break}if(!v){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const C=D.getModel();for(let s=0;s<_;s++){const i=m[s];if(C.getValueLengthInRange(i)>I._maxSelectionLength)return;this._lastOvertyped[s]={value:C.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}})),this._disposables.add(S.onDidTrigger(m=>{this._locked=!0})),this._disposables.add(S.onDidCancel(m=>{this._locked=!1}))}getLastOvertypedInfo(D){if(D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=I,I._maxSelectionLength=51200}),define(te[305],ie([1,0,13,5,302]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(m,_){return be(this,void 0,void 0,function*(){if(!_.getOption(117).localityBonus||!_.hasModel())return D.None;const v=_.getModel(),C=_.getPosition();if(!m.canComputeWordRanges(v.uri))return D.None;const[s]=yield new y.BracketSelectionRangeProvider().provideSelectionRanges(v,[C]);if(s.length===0)return D.None;const i=yield m.computeWordRanges(v.uri,s[0].range);if(!i)return D.None;const n=v.getWordUntilPosition(C);return delete i[n.word],new class extends D{distance(t,r){if(!C.equals(_.getPosition()))return 0;if(r.kind===17)return 2<<20;const u=typeof r.label=="string"?r.label:r.label.label,f=i[u];if((0,L.isFalsyOrEmpty)(f))return 2<<20;const d=(0,L.binarySearch)(f,I.Range.fromPositions(t),I.Range.compareRangesUsingStarts),l=d>=0?f[d]:f[Math.max(0,~d-1)];let o=s.length;for(const c of s){if(!I.Range.containsRange(c.range,l))break;o-=1}return o}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(te[306],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function L(t){return Array.isArray(t)}e.isFuzzyActionArr=L;function I(t){return!L(t)}e.isFuzzyAction=I;function y(t){return typeof t=="string"}e.isString=y;function D(t){return!y(t)}e.isIAction=D;function S(t){return!t}e.empty=S;function m(t,r){return t.ignoreCase&&r?r.toLowerCase():r}e.fixCase=m;function _(t){return t.replace(/[&<>'"_]/g,"-")}e.sanitize=_;function v(t,r){console.log(`${t.languageId}: ${r}`)}e.log=v;function C(t,r){return new Error(`${t.languageId}: ${r}`)}e.createError=C;function s(t,r,u,f,d){const l=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return r.replace(l,function(c,a,g,h,p,b,w,E,k){return S(g)?S(h)?!S(p)&&p<f.length?m(t,f[p]):!S(w)&&t&&typeof t[w]=="string"?t[w]:(o===null&&(o=d.split("."),o.unshift(d)),!S(b)&&b<o.length?m(t,o[b]):""):m(t,u):"$"})}e.substituteMatches=s;function i(t,r){let u=r;for(;u&&u.length>0;){const f=t.tokenizer[u];if(f)return f;const d=u.lastIndexOf(".");d<0?u=null:u=u.substr(0,d)}return null}e.findRules=i;function n(t,r){let u=r;for(;u&&u.length>0;){if(t.stateNames[u])return!0;const d=u.lastIndexOf(".");d<0?u=null:u=u.substr(0,d)}return!1}e.stateExists=n}),define(te[553],ie([1,0,306]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function I(t,r){if(!r||!Array.isArray(r))return!1;for(const u of r)if(!t(u))return!1;return!0}function y(t,r){return typeof t=="boolean"?t:r}function D(t,r){return typeof t=="string"?t:r}function S(t){const r={};for(const u of t)r[u]=!0;return r}function m(t,r=!1){r&&(t=t.map(function(f){return f.toLowerCase()}));const u=S(t);return r?function(f){return u[f.toLowerCase()]!==void 0&&u.hasOwnProperty(f.toLowerCase())}:function(f){return u[f]!==void 0&&u.hasOwnProperty(f)}}function _(t,r){r=r.replace(/@@/g,"");let u=0,f;do f=!1,r=r.replace(/@(\w+)/g,function(l,o){f=!0;let c="";if(typeof t[o]=="string")c=t[o];else if(t[o]&&t[o]instanceof RegExp)c=t[o].source;else throw t[o]===void 0?L.createError(t,"language definition does not contain attribute '"+o+"', used at: "+r):L.createError(t,"attribute reference '"+o+"' must be a string, used at: "+r);return L.empty(c)?"":"(?:"+c+")"}),u++;while(f&&u<5);r=r.replace(/\x01/g,"@");const d=(t.ignoreCase?"i":"")+(t.unicode?"u":"");return new RegExp(r,d)}function v(t,r,u,f){if(f<0)return t;if(f<r.length)return r[f];if(f>=100){f=f-100;const d=u.split(".");if(d.unshift(u),f<d.length)return d[f]}return null}function C(t,r,u,f){let d=-1,l=u,o=u.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(d=parseInt(o[3]),o[2]&&(d=d+100)),l=o[4]);let c="~",a=l;!l||l.length===0?(c="!=",a=""):/^\w*$/.test(a)?c="==":(o=l.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(c=o[1],a=o[2]));let g;if((c==="~"||c==="!~")&&/^(\w|\|)*$/.test(a)){const h=m(a.split("|"),t.ignoreCase);g=function(p){return c==="~"?h(p):!h(p)}}else if(c==="@"||c==="!@"){const h=t[a];if(!h)throw L.createError(t,"the @ match target '"+a+"' is not defined, in rule: "+r);if(!I(function(b){return typeof b=="string"},h))throw L.createError(t,"the @ match target '"+a+"' must be an array of strings, in rule: "+r);const p=m(h,t.ignoreCase);g=function(b){return c==="@"?p(b):!p(b)}}else if(c==="~"||c==="!~")if(a.indexOf("$")<0){const h=_(t,"^"+a+"$");g=function(p){return c==="~"?h.test(p):!h.test(p)}}else g=function(h,p,b,w){return _(t,"^"+L.substituteMatches(t,a,p,b,w)+"$").test(h)};else if(a.indexOf("$")<0){const h=L.fixCase(t,a);g=function(p){return c==="=="?p===h:p!==h}}else{const h=L.fixCase(t,a);g=function(p,b,w,E,k){const M=L.substituteMatches(t,h,b,w,E);return c==="=="?p===M:p!==M}}return d===-1?{name:u,value:f,test:function(h,p,b,w){return g(h,h,p,b,w)}}:{name:u,value:f,test:function(h,p,b,w){const E=v(h,p,b,d);return g(E||"",h,p,b,w)}}}function s(t,r,u){if(u){if(typeof u=="string")return u;if(u.token||u.token===""){if(typeof u.token!="string")throw L.createError(t,"a 'token' attribute must be of type string, in rule: "+r);{const f={token:u.token};if(u.token.indexOf("$")>=0&&(f.tokenSubst=!0),typeof u.bracket=="string")if(u.bracket==="@open")f.bracket=1;else if(u.bracket==="@close")f.bracket=-1;else throw L.createError(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+r);if(u.next){if(typeof u.next!="string")throw L.createError(t,"the next state must be a string value in rule: "+r);{let d=u.next;if(!/^(@pop|@push|@popall)$/.test(d)&&(d[0]==="@"&&(d=d.substr(1)),d.indexOf("$")<0&&!L.stateExists(t,L.substituteMatches(t,d,"",[],""))))throw L.createError(t,"the next state '"+u.next+"' is not defined in rule: "+r);f.next=d}}return typeof u.goBack=="number"&&(f.goBack=u.goBack),typeof u.switchTo=="string"&&(f.switchTo=u.switchTo),typeof u.log=="string"&&(f.log=u.log),typeof u.nextEmbedded=="string"&&(f.nextEmbedded=u.nextEmbedded,t.usesEmbedded=!0),f}}else if(Array.isArray(u)){const f=[];for(let d=0,l=u.length;d<l;d++)f[d]=s(t,r,u[d]);return{group:f}}else if(u.cases){const f=[];for(const l in u.cases)if(u.cases.hasOwnProperty(l)){const o=s(t,r,u.cases[l]);l==="@default"||l==="@"||l===""?f.push({test:void 0,value:o,name:l}):l==="@eos"?f.push({test:function(c,a,g,h){return h},value:o,name:l}):f.push(C(t,r,l,o))}const d=t.defaultToken;return{test:function(l,o,c,a){for(const g of f)if(!g.test||g.test(l,o,c,a))return g.value;return d}}}else throw L.createError(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+r)}else return{token:""}}class i{constructor(r){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=r}setRegex(r,u){let f;if(typeof u=="string")f=u;else if(u instanceof RegExp)f=u.source;else throw L.createError(r,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=f.length>0&&f[0]==="^",this.name=this.name+": "+f,this.regex=_(r,"^(?:"+(this.matchOnlyAtLineStart?f.substr(1):f)+")")}setAction(r,u){this.action=s(r,this.name,u)}}function n(t,r){if(!r||typeof r!="object")throw new Error("Monarch: expecting a language definition object");const u={};u.languageId=t,u.includeLF=y(r.includeLF,!1),u.noThrow=!1,u.maxStack=100,u.start=typeof r.start=="string"?r.start:null,u.ignoreCase=y(r.ignoreCase,!1),u.unicode=y(r.unicode,!1),u.tokenPostfix=D(r.tokenPostfix,"."+u.languageId),u.defaultToken=D(r.defaultToken,"source"),u.usesEmbedded=!1;const f=r;f.languageId=t,f.includeLF=u.includeLF,f.ignoreCase=u.ignoreCase,f.unicode=u.unicode,f.noThrow=u.noThrow,f.usesEmbedded=u.usesEmbedded,f.stateNames=r.tokenizer,f.defaultToken=u.defaultToken;function d(o,c,a){for(const g of a){let h=g.include;if(h){if(typeof h!="string")throw L.createError(u,"an 'include' attribute must be a string at: "+o);if(h[0]==="@"&&(h=h.substr(1)),!r.tokenizer[h])throw L.createError(u,"include target '"+h+"' is not defined at: "+o);d(o+"."+h,c,r.tokenizer[h])}else{const p=new i(o);if(Array.isArray(g)&&g.length>=1&&g.length<=3)if(p.setRegex(f,g[0]),g.length>=3)if(typeof g[1]=="string")p.setAction(f,{token:g[1],next:g[2]});else if(typeof g[1]=="object"){const b=g[1];b.next=g[2],p.setAction(f,b)}else throw L.createError(u,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else p.setAction(f,g[1]);else{if(!g.regex)throw L.createError(u,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);g.name&&typeof g.name=="string"&&(p.name=g.name),g.matchOnlyAtStart&&(p.matchOnlyAtLineStart=y(g.matchOnlyAtLineStart,!1)),p.setRegex(f,g.regex),p.setAction(f,g.action)}c.push(p)}}}if(!r.tokenizer||typeof r.tokenizer!="object")throw L.createError(u,"a language definition must define the 'tokenizer' attribute as an object");u.tokenizer=[];for(const o in r.tokenizer)if(r.tokenizer.hasOwnProperty(o)){u.start||(u.start=o);const c=r.tokenizer[o];u.tokenizer[o]=new Array,d("tokenizer."+o,u.tokenizer[o],c)}if(u.usesEmbedded=f.usesEmbedded,r.brackets){if(!Array.isArray(r.brackets))throw L.createError(u,"the 'brackets' attribute must be defined as an array")}else r.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const l=[];for(const o of r.brackets){let c=o;if(c&&Array.isArray(c)&&c.length===3&&(c={token:c[2],open:c[0],close:c[1]}),c.open===c.close)throw L.createError(u,"open and close brackets in a 'brackets' attribute must be different: "+c.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof c.open=="string"&&typeof c.token=="string"&&typeof c.close=="string")l.push({token:c.token+u.tokenPostfix,open:L.fixCase(u,c.open),close:L.fixCase(u,c.close)});else throw L.createError(u,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return u.brackets=l,u.noThrow=!0,u}e.compile=n}),define(te[554],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(te[555],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/findinput/findInput",e)}),define(te[556],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(te[557],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(te[558],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/hover/hoverWidget",e)}),define(te[559],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(te[560],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(te[561],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(te[562],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(te[563],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(te[564],ie([3,4]),function($,e){return $.create("vs/base/browser/ui/tree/abstractTree",e)}),define(te[565],ie([3,4]),function($,e){return $.create("vs/base/common/actions",e)}),define(te[41],ie([1,0,6,2,565]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends I.Disposable{constructor(i,n="",t="",r=!0,u){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=n,this._cssClass=t,this._enabled=r,this._actionCallback=u}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,n){return be(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=D;class S extends I.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new L.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event}run(i,n){return be(this,void 0,void 0,function*(){if(!i.enabled)return;this._onWillRun.fire({action:i});let t;try{yield this.runAction(i,n)}catch(r){t=r}this._onDidRun.fire({action:i,error:t})})}runAction(i,n){return be(this,void 0,void 0,function*(){yield i.run(n)})}}e.ActionRunner=S;class m{constructor(){this.id=m.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...i){let n=[];for(const t of i)t.length&&(n.length?n=[...n,new m,...t]:n=t);return n}run(){return be(this,void 0,void 0,function*(){})}}e.Separator=m,m.ID="vs.actions.separator";class _{get actions(){return this._actions}constructor(i,n,t,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=n,this.class=r,this._actions=t}run(){return be(this,void 0,void 0,function*(){})}}e.SubmenuAction=_;class v extends D{constructor(){super(v.ID,y.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=v,v.ID="vs.actions.empty";function C(s){var i,n;return{id:s.id,label:s.label,class:void 0,enabled:(i=s.enabled)!==null&&i!==void 0?i:!0,checked:(n=s.checked)!==null&&n!==void 0?n:!1,run:(...t)=>be(this,void 0,void 0,function*(){return s.run(...t)}),tooltip:s.label}}e.toAction=C}),define(te[566],ie([3,4]),function($,e){return $.create("vs/base/common/errorMessage",e)}),define(te[567],ie([1,0,13,20,566]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(v,C){return C&&(v.stack||v.stacktrace)?y.localize(0,null,m(v),S(v.stack)||S(v.stacktrace)):m(v)}function S(v){return Array.isArray(v)?v.join(`
`):v}function m(v){return v.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${v.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof v.code=="string"&&typeof v.errno=="number"&&typeof v.syscall=="string"?y.localize(1,null,v.message):v.message||y.localize(2,null)}function _(v=null,C=!1){if(!v)return y.localize(3,null);if(Array.isArray(v)){const s=L.coalesce(v),i=_(s[0],C);return s.length>1?y.localize(4,null,i,s.length):i}if(I.isString(v))return v;if(v.detail){const s=v.detail;if(s.error)return D(s.error,C);if(s.exception)return D(s.exception,C)}return v.stack?D(v,C):v.message?v.message:y.localize(5,null)}e.toErrorMessage=_}),define(te[568],ie([3,4]),function($,e){return $.create("vs/base/common/keybindingLabels",e)}),define(te[216],ie([1,0,568]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class I{constructor(S,m,_=m){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=m,this.modifierLabels[3]=_}toLabel(S,m,_){if(m.length===0)return null;const v=[];for(let C=0,s=m.length;C<s;C++){const i=m[C],n=_(i);if(n===null)return null;v[C]=y(i,n,this.modifierLabels[S])}return v.join(" ")}}e.ModifierLabelProvider=I,e.UILabelProvider=new I({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:L.localize(0,null),shiftKey:L.localize(1,null),altKey:L.localize(2,null),metaKey:L.localize(3,null),separator:"+"},{ctrlKey:L.localize(4,null),shiftKey:L.localize(5,null),altKey:L.localize(6,null),metaKey:L.localize(7,null),separator:"+"}),e.AriaLabelProvider=new I({ctrlKey:L.localize(8,null),shiftKey:L.localize(9,null),altKey:L.localize(10,null),metaKey:L.localize(11,null),separator:"+"},{ctrlKey:L.localize(12,null),shiftKey:L.localize(13,null),altKey:L.localize(14,null),metaKey:L.localize(15,null),separator:"+"},{ctrlKey:L.localize(16,null),shiftKey:L.localize(17,null),altKey:L.localize(18,null),metaKey:L.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new I({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new I({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function y(D,S,m){if(S===null)return"";const _=[];return D.ctrlKey&&_.push(m.ctrlKey),D.shiftKey&&_.push(m.shiftKey),D.altKey&&_.push(m.altKey),D.metaKey&&_.push(m.metaKey),S!==""&&_.push(S),_.join(m.separator)}}),define(te[569],ie([3,4]),function($,e){return $.create("vs/base/common/platform",e)}),define(te[17],ie([1,0,569]),function($,e,L){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=e.LANGUAGE_DEFAULT=void 0,e.LANGUAGE_DEFAULT="en";let y=!1,D=!1,S=!1,m=!1,_=!1,v=!1,C=!1,s=!1,i=!1,n=!1,t,r=e.LANGUAGE_DEFAULT,u=e.LANGUAGE_DEFAULT,f,d;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let l;typeof e.globals.vscode<"u"&&typeof e.globals.vscode.process<"u"?l=e.globals.vscode.process:typeof process<"u"&&(l=process);const o=typeof((I=l?.versions)===null||I===void 0?void 0:I.electron)=="string",c=o&&l?.type==="renderer";if(typeof navigator=="object"&&!c)d=navigator.userAgent,y=d.indexOf("Windows")>=0,D=d.indexOf("Macintosh")>=0,s=(d.indexOf("Macintosh")>=0||d.indexOf("iPad")>=0||d.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=d.indexOf("Linux")>=0,n=d?.indexOf("Mobi")>=0,v=!0,t=L.getConfiguredDefaultLocale(L.localize(0,null))||e.LANGUAGE_DEFAULT,r=t,u=navigator.language;else if(typeof l=="object"){y=l.platform==="win32",D=l.platform==="darwin",S=l.platform==="linux",m=S&&!!l.env.SNAP&&!!l.env.SNAP_REVISION,C=o,i=!!l.env.CI||!!l.env.BUILD_ARTIFACTSTAGINGDIRECTORY,t=e.LANGUAGE_DEFAULT,r=e.LANGUAGE_DEFAULT;const b=l.env.VSCODE_NLS_CONFIG;if(b)try{const w=JSON.parse(b),E=w.availableLanguages["*"];t=w.locale,u=w.osLocale,r=E||e.LANGUAGE_DEFAULT,f=w._translationsConfigFile}catch{}_=!0}else console.error("Unable to resolve platform.");let a=0;D?a=1:y?a=3:S&&(a=2),e.isWindows=y,e.isMacintosh=D,e.isLinux=S,e.isNative=_,e.isWeb=v,e.isWebWorker=v&&typeof e.globals.importScripts=="function",e.isIOS=s,e.isMobile=n,e.userAgent=d,e.language=r,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const b=[];e.globals.addEventListener("message",E=>{if(E.data&&E.data.vscodeScheduleAsyncWork)for(let k=0,M=b.length;k<M;k++){const R=b[k];if(R.id===E.data.vscodeScheduleAsyncWork){b.splice(k,1),R.callback();return}}});let w=0;return E=>{const k=++w;b.push({id:k,callback:E}),e.globals.postMessage({vscodeScheduleAsyncWork:k},"*")}}return b=>setTimeout(b)})(),e.OS=D||s?2:y?1:3;let g=!0,h=!1;function p(){if(!h){h=!0;const b=new Uint8Array(2);b[0]=1,b[1]=2,g=new Uint16Array(b.buffer)[0]===(2<<8)+1}return g}e.isLittleEndian=p,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(te[217],ie([1,0,51,17]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:I.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:I.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>I.isNative||L.isStandalone()?0:navigator.keyboard||L.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(te[44],ie([1,0,51,62,118,17]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function S(i){if(i.charCode){const t=String.fromCharCode(i.charCode).toUpperCase();return I.KeyCodeUtils.fromString(t)}const n=i.keyCode;if(n===3)return 7;if(L.isFirefox)switch(n){case 59:return 85;case 60:if(D.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(D.isMacintosh)return 57;break}else if(L.isWebKit){if(D.isMacintosh&&n===93)return 57;if(!D.isMacintosh&&n===92)return 57}return I.EVENT_KEY_CODE_MAP[n]||0}const m=D.isMacintosh?256:2048,_=512,v=1024,C=D.isMacintosh?2048:256;class s{constructor(n){this._standardKeyboardEventBrand=!0;const t=n;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState("AltGraph"),this.keyCode=S(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(n){return this._asKeybinding===n}_computeKeybinding(){let n=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode);let t=0;return this.ctrlKey&&(t|=m),this.altKey&&(t|=_),this.shiftKey&&(t|=v),this.metaKey&&(t|=C),t|=n,t}_computeKeyCodeChord(){let n=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode),new y.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,n)}}e.StandardKeyboardEvent=s}),define(te[60],ie([1,0,51,384,17]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(_){this.timestamp=Date.now(),this.browserEvent=_,this.leftButton=_.button===0,this.middleButton=_.button===1,this.rightButton=_.button===2,this.buttons=_.buttons,this.target=_.target,this.detail=_.detail||1,_.type==="dblclick"&&(this.detail=2),this.ctrlKey=_.ctrlKey,this.shiftKey=_.shiftKey,this.altKey=_.altKey,this.metaKey=_.metaKey,typeof _.pageX=="number"?(this.posx=_.pageX,this.posy=_.pageY):(this.posx=_.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=_.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const v=I.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(window,_.view);this.posx-=v.left,this.posy-=v.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class S{constructor(_,v=0,C=0){if(this.browserEvent=_||null,this.target=_?_.target||_.targetNode||_.srcElement:null,this.deltaY=C,this.deltaX=v,_){const s=_,i=_;if(typeof s.wheelDeltaY<"u")this.deltaY=s.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS<"u"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(_.type==="wheel"){const n=_;n.deltaMode===n.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaY=-_.deltaY/3:this.deltaY=-_.deltaY:this.deltaY=-_.deltaY/40}if(typeof s.wheelDeltaX<"u")L.isSafari&&y.isWindows?this.deltaX=-(s.wheelDeltaX/120):this.deltaX=s.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS<"u"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-_.detail/3;else if(_.type==="wheel"){const n=_;n.deltaMode===n.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaX=-_.deltaX/3:this.deltaX=-_.deltaX:this.deltaX=-_.deltaX/40}this.deltaY===0&&this.deltaX===0&&_.wheelDelta&&(this.deltaY=_.wheelDelta/120)}}preventDefault(){var _;(_=this.browserEvent)===null||_===void 0||_.preventDefault()}stopPropagation(){var _;(_=this.browserEvent)===null||_===void 0||_.stopPropagation()}}e.StandardWheelEvent=S});var yt=this&&this.__asyncValues||function($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=$[Symbol.asyncIterator],L;return e?e.call($):($=typeof __values=="function"?__values($):$[Symbol.iterator](),L={},I("next"),I("throw"),I("return"),L[Symbol.asyncIterator]=function(){return this},L);function I(D){L[D]=$[D]&&function(S){return new Promise(function(m,_){S=$[D](S),y(m,_,S.done,S.value)})}}function y(D,S,m,_){Promise.resolve(_).then(function(v){D({value:v,done:m})},S)}};define(te[14],ie([1,0,19,9,6,2,17,263]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function _(E){return!!E&&typeof E.then=="function"}e.isThenable=_;function v(E){const k=new L.CancellationTokenSource,M=E(k.token),R=new Promise((B,T)=>{const N=k.token.onCancellationRequested(()=>{N.dispose(),k.dispose(),T(new I.CancellationError)});Promise.resolve(M).then(A=>{N.dispose(),k.dispose(),B(A)},A=>{N.dispose(),k.dispose(),T(A)})});return new class{cancel(){k.cancel()}then(B,T){return R.then(B,T)}catch(B){return this.then(void 0,B)}finally(B){return R.finally(B)}}}e.createCancelablePromise=v;function C(E,k,M){return new Promise((R,B)=>{const T=k.onCancellationRequested(()=>{T.dispose(),R(M)});E.then(R,B).finally(()=>T.dispose())})}e.raceCancellation=C;class s{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(k){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=k,!this.queuedPromise){const M=()=>{if(this.queuedPromise=null,this.isDisposed)return;const R=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,R};this.queuedPromise=new Promise(R=>{this.activePromise.then(M,M).then(R)})}return new Promise((M,R)=>{this.queuedPromise.then(M,R)})}return this.activePromise=k(),new Promise((M,R)=>{this.activePromise.then(B=>{this.activePromise=null,M(B)},B=>{this.activePromise=null,R(B)})})}dispose(){this.isDisposed=!0}}e.Throttler=s;const i=(E,k)=>{let M=!0;const R=setTimeout(()=>{M=!1,k()},E);return{isTriggered:()=>M,dispose:()=>{clearTimeout(R),M=!1}}},n=E=>{let k=!0;return queueMicrotask(()=>{k&&(k=!1,E())}),{isTriggered:()=>k,dispose:()=>{k=!1}}};class t{constructor(k){this.defaultDelay=k,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(k,M=this.defaultDelay){this.task=k,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((B,T)=>{this.doResolve=B,this.doReject=T}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const B=this.task;return this.task=null,B()}}));const R=()=>{var B;this.deferred=null,(B=this.doResolve)===null||B===void 0||B.call(this,null)};return this.deferred=M===m.MicrotaskDelay?n(R):i(M,R),this.completionPromise}isTriggered(){var k;return!!(!((k=this.deferred)===null||k===void 0)&&k.isTriggered())}cancel(){var k;this.cancelTimeout(),this.completionPromise&&((k=this.doReject)===null||k===void 0||k.call(this,new I.CancellationError),this.completionPromise=null)}cancelTimeout(){var k;(k=this.deferred)===null||k===void 0||k.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class r{constructor(k){this.delayer=new t(k),this.throttler=new s}trigger(k,M){return this.delayer.trigger(()=>this.throttler.queue(k),M)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=r;function u(E,k){return k?new Promise((M,R)=>{const B=setTimeout(()=>{T.dispose(),M()},E),T=k.onCancellationRequested(()=>{clearTimeout(B),T.dispose(),R(new I.CancellationError)})}):v(M=>u(E,M))}e.timeout=u;function f(E,k=0,M){const R=setTimeout(()=>{E(),M&&B.dispose()},k),B=(0,D.toDisposable)(()=>{clearTimeout(R),M?.deleteAndLeak(B)});return M?.add(B),B}e.disposableTimeout=f;function d(E,k=R=>!!R,M=null){let R=0;const B=E.length,T=()=>{if(R>=B)return Promise.resolve(M);const N=E[R++];return Promise.resolve(N()).then(P=>k(P)?Promise.resolve(P):T())};return T()}e.first=d;class l{constructor(k,M){this._token=-1,typeof k=="function"&&typeof M=="number"&&this.setIfNotSet(k,M)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(k,M){this.cancel(),this._token=setTimeout(()=>{this._token=-1,k()},M)}setIfNotSet(k,M){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,k()},M))}}e.TimeoutTimer=l;class o{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(k,M){this.cancel(),this._token=setInterval(()=>{k()},M)}}e.IntervalTimer=o;class c{constructor(k,M){this.timeoutToken=-1,this.runner=k,this.timeout=M,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(k=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,k)}get delay(){return this.timeout}set delay(k){this.timeout=k}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var k;(k=this.runner)===null||k===void 0||k.call(this)}}e.RunOnceScheduler=c,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=E=>{(0,S.setTimeout0)(()=>{if(k)return;const M=Date.now()+15;E(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,M-Date.now())}}))});let k=!1;return{dispose(){k||(k=!0)}}}:e.runWhenIdle=(E,k)=>{const M=requestIdleCallback(E,typeof k=="number"?{timeout:k}:void 0);let R=!1;return{dispose(){R||(R=!0,cancelIdleCallback(M))}}}}();class a{constructor(k){this._didRun=!1,this._executor=()=>{try{this._value=k()}catch(M){this._error=M}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=a;class g{get isRejected(){var k;return((k=this.outcome)===null||k===void 0?void 0:k.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((k,M)=>{this.completeCallback=k,this.errorCallback=M})}complete(k){return new Promise(M=>{this.completeCallback(k),this.outcome={outcome:0,value:k},M()})}error(k){return new Promise(M=>{this.errorCallback(k),this.outcome={outcome:1,value:k},M()})}cancel(){return this.error(new I.CancellationError)}}e.DeferredPromise=g;var h;(function(E){function k(R){return be(this,void 0,void 0,function*(){let B;const T=yield Promise.all(R.map(N=>N.then(A=>A,A=>{B||(B=A)})));if(typeof B<"u")throw B;return T})}E.settled=k;function M(R){return new Promise((B,T)=>be(this,void 0,void 0,function*(){try{yield R(B,T)}catch(N){T(N)}}))}E.withAsyncBody=M})(h||(e.Promises=h={}));class p{static fromArray(k){return new p(M=>{M.emitMany(k)})}static fromPromise(k){return new p(M=>be(this,void 0,void 0,function*(){M.emitMany(yield k)}))}static fromPromises(k){return new p(M=>be(this,void 0,void 0,function*(){yield Promise.all(k.map(R=>be(this,void 0,void 0,function*(){return M.emitOne(yield R)})))}))}static merge(k){return new p(M=>be(this,void 0,void 0,function*(){yield Promise.all(k.map(R=>{var B,T,N;return be(this,void 0,void 0,function*(){var A,P,O,x;try{for(B=!0,T=yt(R);N=yield T.next(),A=N.done,!A;B=!0){x=N.value,B=!1;const W=x;M.emitOne(W)}}catch(W){P={error:W}}finally{try{!B&&!A&&(O=T.return)&&(yield O.call(T))}finally{if(P)throw P.error}}})}))}))}constructor(k){this._state=0,this._results=[],this._error=null,this._onStateChanged=new y.Emitter,queueMicrotask(()=>be(this,void 0,void 0,function*(){const M={emitOne:R=>this.emitOne(R),emitMany:R=>this.emitMany(R),reject:R=>this.reject(R)};try{yield Promise.resolve(k(M)),this.resolve()}catch(R){this.reject(R)}finally{M.emitOne=void 0,M.emitMany=void 0,M.reject=void 0}}))}[Symbol.asyncIterator](){let k=0;return{next:()=>be(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(k<this._results.length)return{done:!1,value:this._results[k++]};if(this._state===1)return{done:!0,value:void 0};yield y.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(k,M){return new p(R=>be(this,void 0,void 0,function*(){var B,T,N,A;try{for(var P=!0,O=yt(k),x;x=yield O.next(),B=x.done,!B;P=!0){A=x.value,P=!1;const W=A;R.emitOne(M(W))}}catch(W){T={error:W}}finally{try{!P&&!B&&(N=O.return)&&(yield N.call(O))}finally{if(T)throw T.error}}}))}map(k){return p.map(this,k)}static filter(k,M){return new p(R=>be(this,void 0,void 0,function*(){var B,T,N,A;try{for(var P=!0,O=yt(k),x;x=yield O.next(),B=x.done,!B;P=!0){A=x.value,P=!1;const W=A;M(W)&&R.emitOne(W)}}catch(W){T={error:W}}finally{try{!P&&!B&&(N=O.return)&&(yield N.call(O))}finally{if(T)throw T.error}}}))}filter(k){return p.filter(this,k)}static coalesce(k){return p.filter(k,M=>!!M)}coalesce(){return p.coalesce(this)}static toPromise(k){var M,R,B,T,N,A,P;return be(this,void 0,void 0,function*(){const O=[];try{for(M=!0,R=yt(k);B=yield R.next(),T=B.done,!T;M=!0){P=B.value,M=!1;const x=P;O.push(x)}}catch(x){N={error:x}}finally{try{!M&&!T&&(A=R.return)&&(yield A.call(R))}finally{if(N)throw N.error}}return O})}toPromise(){return p.toPromise(this)}emitOne(k){this._state===0&&(this._results.push(k),this._onStateChanged.fire())}emitMany(k){this._state===0&&(this._results=this._results.concat(k),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(k){this._state===0&&(this._state=2,this._error=k,this._onStateChanged.fire())}}e.AsyncIterableObject=p,p.EMPTY=p.fromArray([]);class b extends p{constructor(k,M){super(M),this._source=k}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=b;function w(E){const k=new L.CancellationTokenSource,M=E(k.token);return new b(k,R=>be(this,void 0,void 0,function*(){var B,T,N,A;const P=k.token.onCancellationRequested(()=>{P.dispose(),k.dispose(),R.reject(new I.CancellationError)});try{try{for(var O=!0,x=yt(M),W;W=yield x.next(),B=W.done,!B;O=!0){A=W.value,O=!1;const U=A;if(k.token.isCancellationRequested)return;R.emitOne(U)}}catch(U){T={error:U}}finally{try{!O&&!B&&(N=x.return)&&(yield N.call(x))}finally{if(T)throw T.error}}P.dispose(),k.dispose()}catch(U){P.dispose(),k.dispose(),R.reject(U)}}))}e.createCancelableAsyncIterable=w}),define(te[570],ie([1,0,14,2]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class y extends I.Disposable{constructor(S,m,_){super(),this._visibility=S,this._visibleClassName=m,this._invisibleClassName=_,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new L.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var S;(S=this._domNode)===null||S===void 0||S.setClassName(this._visibleClassName)},0))}_hide(S){var m;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(m=this._domNode)===null||m===void 0||m.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=y}),define(te[218],ie([1,0,137,13,14,263,167,6,43]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function v(n){return typeof n=="object"&&"visibility"in n&&"data"in n}e.isFilterResult=v;function C(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}e.getVisibleState=C;function s(n){return typeof n.collapsible=="boolean"}class i{constructor(t,r,u,f={}){this.user=t,this.list=r,this.rootRef=[],this.eventBufferer=new m.EventBufferer,this._onDidChangeCollapseState=new m.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new m.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new m.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new y.Delayer(D.MicrotaskDelay),this.collapseByDefault=typeof f.collapseByDefault>"u"?!1:f.collapseByDefault,this.filter=f.filter,this.autoExpandSingleChildren=typeof f.autoExpandSingleChildren>"u"?!1:f.autoExpandSingleChildren,this.root={parent:void 0,element:u,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,r,u=_.Iterable.empty(),f={}){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");f.diffIdentityProvider?this.spliceSmart(f.diffIdentityProvider,t,r,u,f):this.spliceSimple(t,r,u,f)}spliceSmart(t,r,u,f,d,l){var o;f===void 0&&(f=_.Iterable.empty()),l===void 0&&(l=(o=d.diffDepth)!==null&&o!==void 0?o:0);const{parentNode:c}=this.getParentNodeWithListIndex(r);if(!c.lastDiffIds)return this.spliceSimple(r,u,f,d);const a=[...f],g=r[r.length-1],h=new S.LcsDiff({getElements:()=>c.lastDiffIds},{getElements:()=>[...c.children.slice(0,g),...a,...c.children.slice(g+u)].map(k=>t.getId(k.element).toString())}).ComputeDiff(!1);if(h.quitEarly)return c.lastDiffIds=void 0,this.spliceSimple(r,u,a,d);const p=r.slice(0,-1),b=(k,M,R)=>{if(l>0)for(let B=0;B<R;B++)k--,M--,this.spliceSmart(t,[...p,k,0],Number.MAX_SAFE_INTEGER,a[M].children,d,l-1)};let w=Math.min(c.children.length,g+u),E=a.length;for(const k of h.changes.sort((M,R)=>R.originalStart-M.originalStart))b(w,E,w-(k.originalStart+k.originalLength)),w=k.originalStart,E=k.modifiedStart-g,this.spliceSimple([...p,w],k.originalLength,_.Iterable.slice(a,E,E+k.modifiedLength),d);b(w,E,w)}spliceSimple(t,r,u=_.Iterable.empty(),{onDidCreateNode:f,onDidDeleteNode:d,diffIdentityProvider:l}){const{parentNode:o,listIndex:c,revealed:a,visible:g}=this.getParentNodeWithListIndex(t),h=[],p=_.Iterable.map(u,P=>this.createTreeNode(P,o,o.visible?1:0,a,h,f)),b=t[t.length-1],w=o.children.length>0;let E=0;for(let P=b;P>=0&&P<o.children.length;P--){const O=o.children[P];if(O.visible){E=O.visibleChildIndex;break}}const k=[];let M=0,R=0;for(const P of p)k.push(P),R+=P.renderNodeCount,P.visible&&(P.visibleChildIndex=E+M++);const B=(0,I.splice)(o.children,b,r,k);l?o.lastDiffIds?(0,I.splice)(o.lastDiffIds,b,r,k.map(P=>l.getId(P.element).toString())):o.lastDiffIds=o.children.map(P=>l.getId(P.element).toString()):o.lastDiffIds=void 0;let T=0;for(const P of B)P.visible&&T++;if(T!==0)for(let P=b+k.length;P<o.children.length;P++){const O=o.children[P];O.visible&&(O.visibleChildIndex-=T)}if(o.visibleChildrenCount+=M-T,a&&g){const P=B.reduce((O,x)=>O+(x.visible?x.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(o,R-P),this.list.splice(c,P,h)}if(B.length>0&&d){const P=O=>{d(O),O.children.forEach(P)};B.forEach(P)}this._onDidSplice.fire({insertedNodes:k,deletedNodes:B});const N=o.children.length>0;w!==N&&this.setCollapsible(t.slice(0,-1),N);let A=o;for(;A;){if(A.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}A=A.parent}}rerender(t){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");const{node:r,listIndex:u,revealed:f}=this.getTreeNodeWithListIndex(t);r.visible&&f&&this.list.splice(u,1,[r])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:r,visible:u,revealed:f}=this.getTreeNodeWithListIndex(t);return u&&f?r:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,r){const u=this.getTreeNode(t);typeof r>"u"&&(r=!u.collapsible);const f={collapsible:r};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,f))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,r,u){const f=this.getTreeNode(t);typeof r>"u"&&(r=!f.collapsed);const d={collapsed:r,recursive:u||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,d))}_setCollapseState(t,r){const{node:u,listIndex:f,revealed:d}=this.getTreeNodeWithListIndex(t),l=this._setListNodeCollapseState(u,f,d,r);if(u!==this.root&&this.autoExpandSingleChildren&&l&&!s(r)&&u.collapsible&&!u.collapsed&&!r.recursive){let o=-1;for(let c=0;c<u.children.length;c++)if(u.children[c].visible)if(o>-1){o=-1;break}else o=c;o>-1&&this._setCollapseState([...t,o],r)}return l}_setListNodeCollapseState(t,r,u,f){const d=this._setNodeCollapseState(t,f,!1);if(!u||!t.visible||!d)return d;const l=t.renderNodeCount,o=this.updateNodeAfterCollapseChange(t),c=l-(r===-1?0:1);return this.list.splice(r+1,c,o.slice(1)),d}_setNodeCollapseState(t,r,u){let f;if(t===this.root?f=!1:(s(r)?(f=t.collapsible!==r.collapsible,t.collapsible=r.collapsible):t.collapsible?(f=t.collapsed!==r.collapsed,t.collapsed=r.collapsed):f=!1,f&&this._onDidChangeCollapseState.fire({node:t,deep:u})),!s(r)&&r.recursive)for(const d of t.children)f=this._setNodeCollapseState(d,r,!0)||f;return f}expandTo(t){this.eventBufferer.bufferEvents(()=>{let r=this.getTreeNode(t);for(;r.parent;)r=r.parent,t=t.slice(0,t.length-1),r.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,r=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,r),this.refilterDelayer.cancel()}createTreeNode(t,r,u,f,d,l){const o={parent:r,element:t.element,children:[],depth:r.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed<"u",collapsed:typeof t.collapsed>"u"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},c=this._filterNode(o,u);o.visibility=c,f&&d.push(o);const a=t.children||_.Iterable.empty(),g=f&&c!==0&&!o.collapsed;let h=0,p=1;for(const b of a){const w=this.createTreeNode(b,o,c,g,d,l);o.children.push(w),p+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=h++)}return o.collapsible=o.collapsible||o.children.length>0,o.visibleChildrenCount=h,o.visible=c===2?h>0:c===1,o.visible?o.collapsed||(o.renderNodeCount=p):(o.renderNodeCount=0,f&&d.pop()),l?.(o),o}updateNodeAfterCollapseChange(t){const r=t.renderNodeCount,u=[];return this._updateNodeAfterCollapseChange(t,u),this._updateAncestorsRenderNodeCount(t.parent,u.length-r),u}_updateNodeAfterCollapseChange(t,r){if(t.visible===!1)return 0;if(r.push(t),t.renderNodeCount=1,!t.collapsed)for(const u of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(u,r);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const r=t.renderNodeCount,u=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,u),this._updateAncestorsRenderNodeCount(t.parent,u.length-r),u}_updateNodeAfterFilterChange(t,r,u,f=!0){let d;if(t!==this.root){if(d=this._filterNode(t,r),d===0)return t.visible=!1,t.renderNodeCount=0,!1;f&&u.push(t)}const l=u.length;t.renderNodeCount=t===this.root?0:1;let o=!1;if(!t.collapsed||d!==0){let c=0;for(const a of t.children)o=this._updateNodeAfterFilterChange(a,d,u,f&&!t.collapsed)||o,a.visible&&(a.visibleChildIndex=c++);t.visibleChildrenCount=c}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=d===2?o:d===1,t.visibility=d),t.visible?t.collapsed||(t.renderNodeCount+=u.length-l):(t.renderNodeCount=0,f&&u.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,r){if(r!==0)for(;t;)t.renderNodeCount+=r,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,r){const u=this.filter?this.filter.filter(t.element,r):1;return typeof u=="boolean"?(t.filterData=void 0,u?1:0):v(u)?(t.filterData=u.data,C(u.visibility)):(t.filterData=void 0,C(u))}hasTreeNode(t,r=this.root){if(!t||t.length===0)return!0;const[u,...f]=t;return u<0||u>r.children.length?!1:this.hasTreeNode(f,r.children[u])}getTreeNode(t,r=this.root){if(!t||t.length===0)return r;const[u,...f]=t;if(u<0||u>r.children.length)throw new L.TreeError(this.user,"Invalid tree location");return this.getTreeNode(f,r.children[u])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:r,listIndex:u,revealed:f,visible:d}=this.getParentNodeWithListIndex(t),l=t[t.length-1];if(l<0||l>r.children.length)throw new L.TreeError(this.user,"Invalid tree location");const o=r.children[l];return{node:o,listIndex:u,revealed:f,visible:d&&o.visible}}getParentNodeWithListIndex(t,r=this.root,u=0,f=!0,d=!0){const[l,...o]=t;if(l<0||l>r.children.length)throw new L.TreeError(this.user,"Invalid tree location");for(let c=0;c<l;c++)u+=r.children[c].renderNodeCount;return f=f&&!r.collapsed,d=d&&r.visible,o.length===0?{parentNode:r,listIndex:u,revealed:f,visible:d}:this.getParentNodeWithListIndex(o,r.children[l],u+1,f,d)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const r=[];let u=t;for(;u.parent;)r.push(u.parent.children.indexOf(u)),u=u.parent;return r.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,I.tail2)(t)[0]}getFirstElementChild(t){const r=this.getTreeNode(t);if(r.children.length!==0)return r.children[0].element}}e.IndexTreeModel=i}),define(te[219],ie([1,0,218,137,43]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(m,_,v={}){this.user=m,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new L.IndexTreeModel(m,_,null,v),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,v.sorter&&(this.sorter={compare(C,s){return v.sorter.compare(C.element,s.element)}}),this.identityProvider=v.identityProvider}setChildren(m,_=y.Iterable.empty(),v={}){const C=this.getElementLocation(m);this._setChildren(C,this.preserveCollapseState(_),v)}_setChildren(m,_=y.Iterable.empty(),v){const C=new Set,s=new Set,i=t=>{var r;if(t.element===null)return;const u=t;if(C.add(u.element),this.nodes.set(u.element,u),this.identityProvider){const f=this.identityProvider.getId(u.element).toString();s.add(f),this.nodesByIdentity.set(f,u)}(r=v.onDidCreateNode)===null||r===void 0||r.call(v,u)},n=t=>{var r;if(t.element===null)return;const u=t;if(C.has(u.element)||this.nodes.delete(u.element),this.identityProvider){const f=this.identityProvider.getId(u.element).toString();s.has(f)||this.nodesByIdentity.delete(f)}(r=v.onDidDeleteNode)===null||r===void 0||r.call(v,u)};this.model.splice([...m,0],Number.MAX_VALUE,_,Object.assign(Object.assign({},v),{onDidCreateNode:i,onDidDeleteNode:n}))}preserveCollapseState(m=y.Iterable.empty()){return this.sorter&&(m=[...m].sort(this.sorter.compare.bind(this.sorter))),y.Iterable.map(m,_=>{let v=this.nodes.get(_.element);if(!v&&this.identityProvider){const i=this.identityProvider.getId(_.element).toString();v=this.nodesByIdentity.get(i)}if(!v){let i;return typeof _.collapsed>"u"?i=void 0:_.collapsed===I.ObjectTreeElementCollapseState.Collapsed||_.collapsed===I.ObjectTreeElementCollapseState.PreserveOrCollapsed?i=!0:_.collapsed===I.ObjectTreeElementCollapseState.Expanded||_.collapsed===I.ObjectTreeElementCollapseState.PreserveOrExpanded?i=!1:i=!!_.collapsed,Object.assign(Object.assign({},_),{children:this.preserveCollapseState(_.children),collapsed:i})}const C=typeof _.collapsible=="boolean"?_.collapsible:v.collapsible;let s;return typeof _.collapsed>"u"||_.collapsed===I.ObjectTreeElementCollapseState.PreserveOrCollapsed||_.collapsed===I.ObjectTreeElementCollapseState.PreserveOrExpanded?s=v.collapsed:_.collapsed===I.ObjectTreeElementCollapseState.Collapsed?s=!0:_.collapsed===I.ObjectTreeElementCollapseState.Expanded?s=!1:s=!!_.collapsed,Object.assign(Object.assign({},_),{collapsible:C,collapsed:s,children:this.preserveCollapseState(_.children)})})}rerender(m){const _=this.getElementLocation(m);this.model.rerender(_)}getFirstElementChild(m=null){const _=this.getElementLocation(m);return this.model.getFirstElementChild(_)}has(m){return this.nodes.has(m)}getListIndex(m){const _=this.getElementLocation(m);return this.model.getListIndex(_)}getListRenderCount(m){const _=this.getElementLocation(m);return this.model.getListRenderCount(_)}isCollapsible(m){const _=this.getElementLocation(m);return this.model.isCollapsible(_)}setCollapsible(m,_){const v=this.getElementLocation(m);return this.model.setCollapsible(v,_)}isCollapsed(m){const _=this.getElementLocation(m);return this.model.isCollapsed(_)}setCollapsed(m,_,v){const C=this.getElementLocation(m);return this.model.setCollapsed(C,_,v)}expandTo(m){const _=this.getElementLocation(m);this.model.expandTo(_)}refilter(){this.model.refilter()}getNode(m=null){if(m===null)return this.model.getNode(this.model.rootRef);const _=this.nodes.get(m);if(!_)throw new I.TreeError(this.user,`Tree element not found: ${m}`);return _}getNodeLocation(m){return m.element}getParentNodeLocation(m){if(m===null)throw new I.TreeError(this.user,"Invalid getParentNodeLocation call");const _=this.nodes.get(m);if(!_)throw new I.TreeError(this.user,`Tree element not found: ${m}`);const v=this.model.getNodeLocation(_),C=this.model.getParentNodeLocation(v);return this.model.getNode(C).element}getElementLocation(m){if(m===null)return[];const _=this.nodes.get(m);if(!_)throw new I.TreeError(this.user,`Tree element not found: ${m}`);return this.model.getNodeLocation(_)}}e.ObjectTreeModel=D}),define(te[571],ie([1,0,219,137,13,6,43]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function m(l){const o=[l.element],c=l.incompressible||!1;return{element:{elements:o,incompressible:c},children:S.Iterable.map(S.Iterable.from(l.children),m),collapsible:l.collapsible,collapsed:l.collapsed}}function _(l){const o=[l.element],c=l.incompressible||!1;let a,g;for(;[g,a]=S.Iterable.consume(S.Iterable.from(l.children),2),!(g.length!==1||g[0].incompressible);)l=g[0],o.push(l.element);return{element:{elements:o,incompressible:c},children:S.Iterable.map(S.Iterable.concat(g,a),_),collapsible:l.collapsible,collapsed:l.collapsed}}e.compress=_;function v(l,o=0){let c;return o<l.element.elements.length-1?c=[v(l,o+1)]:c=S.Iterable.map(S.Iterable.from(l.children),a=>v(a,0)),o===0&&l.element.incompressible?{element:l.element.elements[o],children:c,incompressible:!0,collapsible:l.collapsible,collapsed:l.collapsed}:{element:l.element.elements[o],children:c,collapsible:l.collapsible,collapsed:l.collapsed}}function C(l){return v(l,0)}e.decompress=C;function s(l,o,c){return l.element===o?Object.assign(Object.assign({},l),{children:c}):Object.assign(Object.assign({},l),{children:S.Iterable.map(S.Iterable.from(l.children),a=>s(a,o,c))})}const i=l=>({getId(o){return o.elements.map(c=>l.getId(c).toString()).join("\0")}});class n{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(o,c,a={}){this.user=o,this.rootRef=null,this.nodes=new Map,this.model=new L.ObjectTreeModel(o,c,a),this.enabled=typeof a.compressionEnabled>"u"?!0:a.compressionEnabled,this.identityProvider=a.identityProvider}setChildren(o,c=S.Iterable.empty(),a){const g=a.diffIdentityProvider&&i(a.diffIdentityProvider);if(o===null){const T=S.Iterable.map(c,this.enabled?_:m);this._setChildren(null,T,{diffIdentityProvider:g,diffDepth:1/0});return}const h=this.nodes.get(o);if(!h)throw new I.TreeError(this.user,"Unknown compressed tree node");const p=this.model.getNode(h),b=this.model.getParentNodeLocation(h),w=this.model.getNode(b),E=C(p),k=s(E,o,c),M=(this.enabled?_:m)(k),R=a.diffIdentityProvider?(T,N)=>a.diffIdentityProvider.getId(T)===a.diffIdentityProvider.getId(N):void 0;if((0,y.equals)(M.element.elements,p.element.elements,R)){this._setChildren(h,M.children||S.Iterable.empty(),{diffIdentityProvider:g,diffDepth:1});return}const B=w.children.map(T=>T===p?M:T);this._setChildren(w.element,B,{diffIdentityProvider:g,diffDepth:p.depth-w.depth})}setCompressionEnabled(o){if(o===this.enabled)return;this.enabled=o;const a=this.model.getNode().children,g=S.Iterable.map(a,C),h=S.Iterable.map(g,o?_:m);this._setChildren(null,h,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(o,c,a){const g=new Set,h=b=>{for(const w of b.element.elements)g.add(w),this.nodes.set(w,b.element)},p=b=>{for(const w of b.element.elements)g.has(w)||this.nodes.delete(w)};this.model.setChildren(o,c,Object.assign(Object.assign({},a),{onDidCreateNode:h,onDidDeleteNode:p}))}has(o){return this.nodes.has(o)}getListIndex(o){const c=this.getCompressedNode(o);return this.model.getListIndex(c)}getListRenderCount(o){const c=this.getCompressedNode(o);return this.model.getListRenderCount(c)}getNode(o){if(typeof o>"u")return this.model.getNode();const c=this.getCompressedNode(o);return this.model.getNode(c)}getNodeLocation(o){const c=this.model.getNodeLocation(o);return c===null?null:c.elements[c.elements.length-1]}getParentNodeLocation(o){const c=this.getCompressedNode(o),a=this.model.getParentNodeLocation(c);return a===null?null:a.elements[a.elements.length-1]}getFirstElementChild(o){const c=this.getCompressedNode(o);return this.model.getFirstElementChild(c)}isCollapsible(o){const c=this.getCompressedNode(o);return this.model.isCollapsible(c)}setCollapsible(o,c){const a=this.getCompressedNode(o);return this.model.setCollapsible(a,c)}isCollapsed(o){const c=this.getCompressedNode(o);return this.model.isCollapsed(c)}setCollapsed(o,c,a){const g=this.getCompressedNode(o);return this.model.setCollapsed(g,c,a)}expandTo(o){const c=this.getCompressedNode(o);this.model.expandTo(c)}rerender(o){const c=this.getCompressedNode(o);this.model.rerender(c)}refilter(){this.model.refilter()}getCompressedNode(o){if(o===null)return null;const c=this.nodes.get(o);if(!c)throw new I.TreeError(this.user,`Tree element not found: ${o}`);return c}}e.CompressedObjectTreeModel=n;const t=l=>l[l.length-1];e.DefaultElementMapper=t;class r{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(o=>new r(this.unwrapper,o))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(o,c){this.unwrapper=o,this.node=c}}function u(l,o){return{splice(c,a,g){o.splice(c,a,g.map(h=>l.map(h)))},updateElementHeight(c,a){o.updateElementHeight(c,a)}}}function f(l,o){return Object.assign(Object.assign({},o),{identityProvider:o.identityProvider&&{getId(c){return o.identityProvider.getId(l(c))}},sorter:o.sorter&&{compare(c,a){return o.sorter.compare(c.elements[0],a.elements[0])}},filter:o.filter&&{filter(c,a){return o.filter.filter(l(c),a)}}})}class d{get onDidSplice(){return D.Event.map(this.model.onDidSplice,({insertedNodes:o,deletedNodes:c})=>({insertedNodes:o.map(a=>this.nodeMapper.map(a)),deletedNodes:c.map(a=>this.nodeMapper.map(a))}))}get onDidChangeCollapseState(){return D.Event.map(this.model.onDidChangeCollapseState,({node:o,deep:c})=>({node:this.nodeMapper.map(o),deep:c}))}get onDidChangeRenderNodeCount(){return D.Event.map(this.model.onDidChangeRenderNodeCount,o=>this.nodeMapper.map(o))}constructor(o,c,a={}){this.rootRef=null,this.elementMapper=a.elementMapper||e.DefaultElementMapper;const g=h=>this.elementMapper(h.elements);this.nodeMapper=new I.WeakMapper(h=>new r(g,h)),this.model=new n(o,u(this.nodeMapper,c),f(g,a))}setChildren(o,c=S.Iterable.empty(),a={}){this.model.setChildren(o,c,a)}setCompressionEnabled(o){this.model.setCompressionEnabled(o)}has(o){return this.model.has(o)}getListIndex(o){return this.model.getListIndex(o)}getListRenderCount(o){return this.model.getListRenderCount(o)}getNode(o){return this.nodeMapper.map(this.model.getNode(o))}getNodeLocation(o){return o.element}getParentNodeLocation(o){return this.model.getParentNodeLocation(o)}getFirstElementChild(o){const c=this.model.getFirstElementChild(o);return c===null||typeof c>"u"?c:this.elementMapper(c.elements)}isCollapsible(o){return this.model.isCollapsible(o)}setCollapsible(o,c){return this.model.setCollapsible(o,c)}isCollapsed(o){return this.model.isCollapsed(o)}setCollapsed(o,c,a){return this.model.setCollapsed(o,c,a)}expandTo(o){return this.model.expandTo(o)}rerender(o){return this.model.rerender(o)}refilter(){return this.model.refilter()}getCompressedTreeNode(o=null){return this.model.getNode(o)}}e.CompressibleObjectTreeModel=d}),define(te[307],ie([1,0,17]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let I;if(typeof L.globals.vscode<"u"&&typeof L.globals.vscode.process<"u"){const y=L.globals.vscode.process;I={get platform(){return y.platform},get arch(){return y.arch},get env(){return y.env},cwd(){return y.cwd()}}}else typeof process<"u"?I={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:I={get platform(){return L.isWindows?"win32":L.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=I.cwd,e.env=I.env,e.platform=I.platform}),define(te[572],ie([1,0,307]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerHotReloadHandler=e.isHotReloadEnabled=void 0;function I(){return!!L.env.VSCODE_DEV}e.isHotReloadEnabled=I;function y(m){if(I()){const _=D();return _.add(m),{dispose(){_.delete(m)}}}else return{dispose(){}}}e.registerHotReloadHandler=y;function D(){S||(S=new Set);const m=globalThis;return m.$hotReload_applyNewExports||(m.$hotReload_applyNewExports=_=>{for(const v of S){const C=v(_);if(C)return C}}),S}let S}),define(te[92],ie([1,0,307]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const I=65,y=97,D=90,S=122,m=46,_=47,v=92,C=58,s=63;class i extends Error{constructor(g,h,p){let b;typeof h=="string"&&h.indexOf("not ")===0?(b="must not be",h=h.replace(/^not /,"")):b="must be";const w=g.indexOf(".")!==-1?"property":"argument";let E=`The "${g}" ${w} ${b} of type ${h}`;E+=`. Received type ${typeof p}`,super(E),this.code="ERR_INVALID_ARG_TYPE"}}function n(a,g){if(a===null||typeof a!="object")throw new i(g,"Object",a)}function t(a,g){if(typeof a!="string")throw new i(g,"string",a)}const r=L.platform==="win32";function u(a){return a===_||a===v}function f(a){return a===_}function d(a){return a>=I&&a<=D||a>=y&&a<=S}function l(a,g,h,p){let b="",w=0,E=-1,k=0,M=0;for(let R=0;R<=a.length;++R){if(R<a.length)M=a.charCodeAt(R);else{if(p(M))break;M=_}if(p(M)){if(!(E===R-1||k===1))if(k===2){if(b.length<2||w!==2||b.charCodeAt(b.length-1)!==m||b.charCodeAt(b.length-2)!==m){if(b.length>2){const B=b.lastIndexOf(h);B===-1?(b="",w=0):(b=b.slice(0,B),w=b.length-1-b.lastIndexOf(h)),E=R,k=0;continue}else if(b.length!==0){b="",w=0,E=R,k=0;continue}}g&&(b+=b.length>0?`${h}..`:"..",w=2)}else b.length>0?b+=`${h}${a.slice(E+1,R)}`:b=a.slice(E+1,R),w=R-E-1;E=R,k=0}else M===m&&k!==-1?++k:k=-1}return b}function o(a,g){n(g,"pathObject");const h=g.dir||g.root,p=g.base||`${g.name||""}${g.ext||""}`;return h?h===g.root?`${h}${p}`:`${h}${a}${p}`:p}e.win32={resolve(...a){let g="",h="",p=!1;for(let b=a.length-1;b>=-1;b--){let w;if(b>=0){if(w=a[b],t(w,"path"),w.length===0)continue}else g.length===0?w=L.cwd():(w=L.env[`=${g}`]||L.cwd(),(w===void 0||w.slice(0,2).toLowerCase()!==g.toLowerCase()&&w.charCodeAt(2)===v)&&(w=`${g}\\`));const E=w.length;let k=0,M="",R=!1;const B=w.charCodeAt(0);if(E===1)u(B)&&(k=1,R=!0);else if(u(B))if(R=!0,u(w.charCodeAt(1))){let T=2,N=T;for(;T<E&&!u(w.charCodeAt(T));)T++;if(T<E&&T!==N){const A=w.slice(N,T);for(N=T;T<E&&u(w.charCodeAt(T));)T++;if(T<E&&T!==N){for(N=T;T<E&&!u(w.charCodeAt(T));)T++;(T===E||T!==N)&&(M=`\\\\${A}\\${w.slice(N,T)}`,k=T)}}}else k=1;else d(B)&&w.charCodeAt(1)===C&&(M=w.slice(0,2),k=2,E>2&&u(w.charCodeAt(2))&&(R=!0,k=3));if(M.length>0)if(g.length>0){if(M.toLowerCase()!==g.toLowerCase())continue}else g=M;if(p){if(g.length>0)break}else if(h=`${w.slice(k)}\\${h}`,p=R,R&&g.length>0)break}return h=l(h,!p,"\\",u),p?`${g}\\${h}`:`${g}${h}`||"."},normalize(a){t(a,"path");const g=a.length;if(g===0)return".";let h=0,p,b=!1;const w=a.charCodeAt(0);if(g===1)return f(w)?"\\":a;if(u(w))if(b=!0,u(a.charCodeAt(1))){let k=2,M=k;for(;k<g&&!u(a.charCodeAt(k));)k++;if(k<g&&k!==M){const R=a.slice(M,k);for(M=k;k<g&&u(a.charCodeAt(k));)k++;if(k<g&&k!==M){for(M=k;k<g&&!u(a.charCodeAt(k));)k++;if(k===g)return`\\\\${R}\\${a.slice(M)}\\`;k!==M&&(p=`\\\\${R}\\${a.slice(M,k)}`,h=k)}}}else h=1;else d(w)&&a.charCodeAt(1)===C&&(p=a.slice(0,2),h=2,g>2&&u(a.charCodeAt(2))&&(b=!0,h=3));let E=h<g?l(a.slice(h),!b,"\\",u):"";return E.length===0&&!b&&(E="."),E.length>0&&u(a.charCodeAt(g-1))&&(E+="\\"),p===void 0?b?`\\${E}`:E:b?`${p}\\${E}`:`${p}${E}`},isAbsolute(a){t(a,"path");const g=a.length;if(g===0)return!1;const h=a.charCodeAt(0);return u(h)||g>2&&d(h)&&a.charCodeAt(1)===C&&u(a.charCodeAt(2))},join(...a){if(a.length===0)return".";let g,h;for(let w=0;w<a.length;++w){const E=a[w];t(E,"path"),E.length>0&&(g===void 0?g=h=E:g+=`\\${E}`)}if(g===void 0)return".";let p=!0,b=0;if(typeof h=="string"&&u(h.charCodeAt(0))){++b;const w=h.length;w>1&&u(h.charCodeAt(1))&&(++b,w>2&&(u(h.charCodeAt(2))?++b:p=!1))}if(p){for(;b<g.length&&u(g.charCodeAt(b));)b++;b>=2&&(g=`\\${g.slice(b)}`)}return e.win32.normalize(g)},relative(a,g){if(t(a,"from"),t(g,"to"),a===g)return"";const h=e.win32.resolve(a),p=e.win32.resolve(g);if(h===p||(a=h.toLowerCase(),g=p.toLowerCase(),a===g))return"";let b=0;for(;b<a.length&&a.charCodeAt(b)===v;)b++;let w=a.length;for(;w-1>b&&a.charCodeAt(w-1)===v;)w--;const E=w-b;let k=0;for(;k<g.length&&g.charCodeAt(k)===v;)k++;let M=g.length;for(;M-1>k&&g.charCodeAt(M-1)===v;)M--;const R=M-k,B=E<R?E:R;let T=-1,N=0;for(;N<B;N++){const P=a.charCodeAt(b+N);if(P!==g.charCodeAt(k+N))break;P===v&&(T=N)}if(N!==B){if(T===-1)return p}else{if(R>B){if(g.charCodeAt(k+N)===v)return p.slice(k+N+1);if(N===2)return p.slice(k+N)}E>B&&(a.charCodeAt(b+N)===v?T=N:N===2&&(T=3)),T===-1&&(T=0)}let A="";for(N=b+T+1;N<=w;++N)(N===w||a.charCodeAt(N)===v)&&(A+=A.length===0?"..":"\\..");return k+=T,A.length>0?`${A}${p.slice(k,M)}`:(p.charCodeAt(k)===v&&++k,p.slice(k,M))},toNamespacedPath(a){if(typeof a!="string"||a.length===0)return a;const g=e.win32.resolve(a);if(g.length<=2)return a;if(g.charCodeAt(0)===v){if(g.charCodeAt(1)===v){const h=g.charCodeAt(2);if(h!==s&&h!==m)return`\\\\?\\UNC\\${g.slice(2)}`}}else if(d(g.charCodeAt(0))&&g.charCodeAt(1)===C&&g.charCodeAt(2)===v)return`\\\\?\\${g}`;return a},dirname(a){t(a,"path");const g=a.length;if(g===0)return".";let h=-1,p=0;const b=a.charCodeAt(0);if(g===1)return u(b)?a:".";if(u(b)){if(h=p=1,u(a.charCodeAt(1))){let k=2,M=k;for(;k<g&&!u(a.charCodeAt(k));)k++;if(k<g&&k!==M){for(M=k;k<g&&u(a.charCodeAt(k));)k++;if(k<g&&k!==M){for(M=k;k<g&&!u(a.charCodeAt(k));)k++;if(k===g)return a;k!==M&&(h=p=k+1)}}}}else d(b)&&a.charCodeAt(1)===C&&(h=g>2&&u(a.charCodeAt(2))?3:2,p=h);let w=-1,E=!0;for(let k=g-1;k>=p;--k)if(u(a.charCodeAt(k))){if(!E){w=k;break}}else E=!1;if(w===-1){if(h===-1)return".";w=h}return a.slice(0,w)},basename(a,g){g!==void 0&&t(g,"ext"),t(a,"path");let h=0,p=-1,b=!0,w;if(a.length>=2&&d(a.charCodeAt(0))&&a.charCodeAt(1)===C&&(h=2),g!==void 0&&g.length>0&&g.length<=a.length){if(g===a)return"";let E=g.length-1,k=-1;for(w=a.length-1;w>=h;--w){const M=a.charCodeAt(w);if(u(M)){if(!b){h=w+1;break}}else k===-1&&(b=!1,k=w+1),E>=0&&(M===g.charCodeAt(E)?--E===-1&&(p=w):(E=-1,p=k))}return h===p?p=k:p===-1&&(p=a.length),a.slice(h,p)}for(w=a.length-1;w>=h;--w)if(u(a.charCodeAt(w))){if(!b){h=w+1;break}}else p===-1&&(b=!1,p=w+1);return p===-1?"":a.slice(h,p)},extname(a){t(a,"path");let g=0,h=-1,p=0,b=-1,w=!0,E=0;a.length>=2&&a.charCodeAt(1)===C&&d(a.charCodeAt(0))&&(g=p=2);for(let k=a.length-1;k>=g;--k){const M=a.charCodeAt(k);if(u(M)){if(!w){p=k+1;break}continue}b===-1&&(w=!1,b=k+1),M===m?h===-1?h=k:E!==1&&(E=1):h!==-1&&(E=-1)}return h===-1||b===-1||E===0||E===1&&h===b-1&&h===p+1?"":a.slice(h,b)},format:o.bind(null,"\\"),parse(a){t(a,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return g;const h=a.length;let p=0,b=a.charCodeAt(0);if(h===1)return u(b)?(g.root=g.dir=a,g):(g.base=g.name=a,g);if(u(b)){if(p=1,u(a.charCodeAt(1))){let T=2,N=T;for(;T<h&&!u(a.charCodeAt(T));)T++;if(T<h&&T!==N){for(N=T;T<h&&u(a.charCodeAt(T));)T++;if(T<h&&T!==N){for(N=T;T<h&&!u(a.charCodeAt(T));)T++;T===h?p=T:T!==N&&(p=T+1)}}}}else if(d(b)&&a.charCodeAt(1)===C){if(h<=2)return g.root=g.dir=a,g;if(p=2,u(a.charCodeAt(2))){if(h===3)return g.root=g.dir=a,g;p=3}}p>0&&(g.root=a.slice(0,p));let w=-1,E=p,k=-1,M=!0,R=a.length-1,B=0;for(;R>=p;--R){if(b=a.charCodeAt(R),u(b)){if(!M){E=R+1;break}continue}k===-1&&(M=!1,k=R+1),b===m?w===-1?w=R:B!==1&&(B=1):w!==-1&&(B=-1)}return k!==-1&&(w===-1||B===0||B===1&&w===k-1&&w===E+1?g.base=g.name=a.slice(E,k):(g.name=a.slice(E,w),g.base=a.slice(E,k),g.ext=a.slice(w,k))),E>0&&E!==p?g.dir=a.slice(0,E-1):g.dir=g.root,g},sep:"\\",delimiter:";",win32:null,posix:null};const c=(()=>{if(r){const a=/\\/g;return()=>{const g=L.cwd().replace(a,"/");return g.slice(g.indexOf("/"))}}return()=>L.cwd()})();e.posix={resolve(...a){let g="",h=!1;for(let p=a.length-1;p>=-1&&!h;p--){const b=p>=0?a[p]:c();t(b,"path"),b.length!==0&&(g=`${b}/${g}`,h=b.charCodeAt(0)===_)}return g=l(g,!h,"/",f),h?`/${g}`:g.length>0?g:"."},normalize(a){if(t(a,"path"),a.length===0)return".";const g=a.charCodeAt(0)===_,h=a.charCodeAt(a.length-1)===_;return a=l(a,!g,"/",f),a.length===0?g?"/":h?"./":".":(h&&(a+="/"),g?`/${a}`:a)},isAbsolute(a){return t(a,"path"),a.length>0&&a.charCodeAt(0)===_},join(...a){if(a.length===0)return".";let g;for(let h=0;h<a.length;++h){const p=a[h];t(p,"path"),p.length>0&&(g===void 0?g=p:g+=`/${p}`)}return g===void 0?".":e.posix.normalize(g)},relative(a,g){if(t(a,"from"),t(g,"to"),a===g||(a=e.posix.resolve(a),g=e.posix.resolve(g),a===g))return"";const h=1,p=a.length,b=p-h,w=1,E=g.length-w,k=b<E?b:E;let M=-1,R=0;for(;R<k;R++){const T=a.charCodeAt(h+R);if(T!==g.charCodeAt(w+R))break;T===_&&(M=R)}if(R===k)if(E>k){if(g.charCodeAt(w+R)===_)return g.slice(w+R+1);if(R===0)return g.slice(w+R)}else b>k&&(a.charCodeAt(h+R)===_?M=R:R===0&&(M=0));let B="";for(R=h+M+1;R<=p;++R)(R===p||a.charCodeAt(R)===_)&&(B+=B.length===0?"..":"/..");return`${B}${g.slice(w+M)}`},toNamespacedPath(a){return a},dirname(a){if(t(a,"path"),a.length===0)return".";const g=a.charCodeAt(0)===_;let h=-1,p=!0;for(let b=a.length-1;b>=1;--b)if(a.charCodeAt(b)===_){if(!p){h=b;break}}else p=!1;return h===-1?g?"/":".":g&&h===1?"//":a.slice(0,h)},basename(a,g){g!==void 0&&t(g,"ext"),t(a,"path");let h=0,p=-1,b=!0,w;if(g!==void 0&&g.length>0&&g.length<=a.length){if(g===a)return"";let E=g.length-1,k=-1;for(w=a.length-1;w>=0;--w){const M=a.charCodeAt(w);if(M===_){if(!b){h=w+1;break}}else k===-1&&(b=!1,k=w+1),E>=0&&(M===g.charCodeAt(E)?--E===-1&&(p=w):(E=-1,p=k))}return h===p?p=k:p===-1&&(p=a.length),a.slice(h,p)}for(w=a.length-1;w>=0;--w)if(a.charCodeAt(w)===_){if(!b){h=w+1;break}}else p===-1&&(b=!1,p=w+1);return p===-1?"":a.slice(h,p)},extname(a){t(a,"path");let g=-1,h=0,p=-1,b=!0,w=0;for(let E=a.length-1;E>=0;--E){const k=a.charCodeAt(E);if(k===_){if(!b){h=E+1;break}continue}p===-1&&(b=!1,p=E+1),k===m?g===-1?g=E:w!==1&&(w=1):g!==-1&&(w=-1)}return g===-1||p===-1||w===0||w===1&&g===p-1&&g===h+1?"":a.slice(g,p)},format:o.bind(null,"/"),parse(a){t(a,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return g;const h=a.charCodeAt(0)===_;let p;h?(g.root="/",p=1):p=0;let b=-1,w=0,E=-1,k=!0,M=a.length-1,R=0;for(;M>=p;--M){const B=a.charCodeAt(M);if(B===_){if(!k){w=M+1;break}continue}E===-1&&(k=!1,E=M+1),B===m?b===-1?b=M:R!==1&&(R=1):b!==-1&&(R=-1)}if(E!==-1){const B=w===0&&h?1:w;b===-1||R===0||R===1&&b===E-1&&b===w+1?g.base=g.name=a.slice(B,E):(g.name=a.slice(B,b),g.base=a.slice(B,E),g.ext=a.slice(b,E))}return w>0?g.dir=a.slice(0,w-1):h&&(g.dir="/"),g},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=r?e.win32.normalize:e.posix.normalize,e.resolve=r?e.win32.resolve:e.posix.resolve,e.relative=r?e.win32.relative:e.posix.relative,e.dirname=r?e.win32.dirname:e.posix.dirname,e.basename=r?e.win32.basename:e.posix.basename,e.extname=r?e.win32.extname:e.posix.extname,e.sep=r?e.win32.sep:e.posix.sep}),define(te[220],ie([1,0,92,17,10]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(i){return i===47||i===92}e.isPathSeparator=D;function S(i){return i.replace(/[\\/]/g,L.posix.sep)}e.toSlashes=S;function m(i){return i.indexOf("/")===-1&&(i=S(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=m;function _(i,n=L.posix.sep){if(!i)return"";const t=i.length,r=i.charCodeAt(0);if(D(r)){if(D(i.charCodeAt(1))&&!D(i.charCodeAt(2))){let f=3;const d=f;for(;f<t&&!D(i.charCodeAt(f));f++);if(d!==f&&!D(i.charCodeAt(f+1))){for(f+=1;f<t;f++)if(D(i.charCodeAt(f)))return i.slice(0,f+1).replace(/[\\/]/g,n)}}return n}else if(C(r)&&i.charCodeAt(1)===58)return D(i.charCodeAt(2))?i.slice(0,2)+n:i.slice(0,2);let u=i.indexOf("://");if(u!==-1){for(u+=3;u<t;u++)if(D(i.charCodeAt(u)))return i.slice(0,u+1)}return""}e.getRoot=_;function v(i,n,t,r=L.sep){if(i===n)return!0;if(!i||!n||n.length>i.length)return!1;if(t){if(!(0,y.startsWithIgnoreCase)(i,n))return!1;if(n.length===i.length)return!0;let f=n.length;return n.charAt(n.length-1)===r&&f--,i.charAt(f)===r}return n.charAt(n.length-1)!==r&&(n+=r),i.indexOf(n)===0}e.isEqualOrParent=v;function C(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=C;function s(i,n=I.isWindows){return n?C(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=s}),define(te[573],ie([1,0,69,92,17,10]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function m(d,l,o=0,c=0){const a=l;return a.values&&a.values.length>1?_(d,a.values,o,c):v(d,l,o,c)}e.scoreFuzzy2=m;function _(d,l,o,c){let a=0;const g=[];for(const h of l){const[p,b]=v(d,h,o,c);if(typeof p!="number")return S;a+=p,g.push(...b)}return[a,s(g)]}function v(d,l,o,c){const a=(0,L.fuzzyScore)(l.original,l.originalLowercase,o,d,d.toLowerCase(),c,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return a?[a[0],(0,L.createMatches)(a)]:S}const C=Object.freeze({score:0});function s(d){const l=d.sort((a,g)=>a.start-g.start),o=[];let c;for(const a of l)!c||!i(c,a)?(c=a,o.push(a)):(c.start=Math.min(c.start,a.start),c.end=Math.max(c.end,a.end));return o}function i(d,l){return!(d.end<l.start||l.end<d.start)}function n(d){return d.startsWith('"')&&d.endsWith('"')}const t=" ";function r(d){typeof d!="string"&&(d="");const l=d.toLowerCase(),{pathNormalized:o,normalized:c,normalizedLowercase:a}=u(d),g=o.indexOf(I.sep)>=0,h=n(d);let p;const b=d.split(t);if(b.length>1)for(const w of b){const E=n(w),{pathNormalized:k,normalized:M,normalizedLowercase:R}=u(w);M&&(p||(p=[]),p.push({original:w,originalLowercase:w.toLowerCase(),pathNormalized:k,normalized:M,normalizedLowercase:R,expectContiguousMatch:E}))}return{original:d,originalLowercase:l,pathNormalized:o,normalized:c,normalizedLowercase:a,values:p,containsPathSeparator:g,expectContiguousMatch:h}}e.prepareQuery=r;function u(d){let l;y.isWindows?l=d.replace(/\//g,I.sep):l=d.replace(/\\/g,I.sep);const o=(0,D.stripWildcards)(l).replace(/\s|"/g,"");return{pathNormalized:l,normalized:o,normalizedLowercase:o.toLowerCase()}}function f(d){return Array.isArray(d)?r(d.map(l=>l.original).join(t)):r(d.original)}e.pieceToQuery=f}),define(te[308],ie([1,0,14,220,56,92,17,10]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const _="[/\\\\]",v="[^/\\\\]",C=/\//g;function s(O,x){switch(O){case 0:return"";case 1:return`${v}*?`;default:return`(?:${_}|${v}+${_}${x?`|${_}${v}+`:""})*?`}}function i(O,x){if(!O)return[];const W=[];let U=!1,F=!1,G="";for(const Y of O){switch(Y){case x:if(!U&&!F){W.push(G),G="";continue}break;case"{":U=!0;break;case"}":U=!1;break;case"[":F=!0;break;case"]":F=!1;break}G+=Y}return G&&W.push(G),W}e.splitGlobAware=i;function n(O){if(!O)return"";let x="";const W=i(O,e.GLOB_SPLIT);if(W.every(U=>U===e.GLOBSTAR))x=".*";else{let U=!1;W.forEach((F,G)=>{if(F===e.GLOBSTAR){if(U)return;x+=s(2,G===W.length-1)}else{let Y=!1,ne="",se=!1,J="";for(const q of F){if(q!=="}"&&Y){ne+=q;continue}if(se&&(q!=="]"||!J)){let H;q==="-"?H=q:(q==="^"||q==="!")&&!J?H="^":q===e.GLOB_SPLIT?H="":H=(0,m.escapeRegExpCharacters)(q),J+=H;continue}switch(q){case"{":Y=!0;continue;case"[":se=!0;continue;case"}":{const V=`(?:${i(ne,",").map(Z=>n(Z)).join("|")})`;x+=V,Y=!1,ne="";break}case"]":{x+="["+J+"]",se=!1,J="";break}case"?":x+=v;continue;case"*":x+=s(1);continue;default:x+=(0,m.escapeRegExpCharacters)(q)}}G<W.length-1&&(W[G+1]!==e.GLOBSTAR||G+2<W.length)&&(x+=_)}U=F===e.GLOBSTAR})}return x}const t=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,u=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,f=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,d=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,o=new y.LRUCache(1e4),c=function(){return!1},a=function(){return null};function g(O,x){if(!O)return a;let W;typeof O!="string"?W=O.pattern:W=O,W=W.trim();const U=`${W}_${!!x.trimForExclusions}`;let F=o.get(U);if(F)return h(F,O);let G;return t.test(W)?F=b(W.substr(4),W):(G=r.exec(p(W,x)))?F=w(G[1],W):(x.trimForExclusions?f:u).test(W)?F=E(W,x):(G=d.exec(p(W,x)))?F=k(G[1].substr(1),W,!0):(G=l.exec(p(W,x)))?F=k(G[1],W,!1):F=M(W),o.set(U,F),h(F,O)}function h(O,x){if(typeof x=="string")return O;const W=function(U,F){return(0,I.isEqualOrParent)(U,x.base,!S.isLinux)?O((0,m.ltrim)(U.substr(x.base.length),D.sep),F):null};return W.allBasenames=O.allBasenames,W.allPaths=O.allPaths,W.basenames=O.basenames,W.patterns=O.patterns,W}function p(O,x){return x.trimForExclusions&&O.endsWith("/**")?O.substr(0,O.length-2):O}function b(O,x){return function(W,U){return typeof W=="string"&&W.endsWith(O)?x:null}}function w(O,x){const W=`/${O}`,U=`\\${O}`,F=function(Y,ne){return typeof Y!="string"?null:ne?ne===O?x:null:Y===O||Y.endsWith(W)||Y.endsWith(U)?x:null},G=[O];return F.basenames=G,F.patterns=[x],F.allBasenames=G,F}function E(O,x){const W=P(O.slice(1,-1).split(",").map(ne=>g(ne,x)).filter(ne=>ne!==a),O),U=W.length;if(!U)return a;if(U===1)return W[0];const F=function(ne,se){for(let J=0,q=W.length;J<q;J++)if(W[J](ne,se))return O;return null},G=W.find(ne=>!!ne.allBasenames);G&&(F.allBasenames=G.allBasenames);const Y=W.reduce((ne,se)=>se.allPaths?ne.concat(se.allPaths):ne,[]);return Y.length&&(F.allPaths=Y),F}function k(O,x,W){const U=D.sep===D.posix.sep,F=U?O:O.replace(C,D.sep),G=D.sep+F,Y=D.posix.sep+O;let ne;return W?ne=function(se,J){return typeof se=="string"&&(se===F||se.endsWith(G)||!U&&(se===O||se.endsWith(Y)))?x:null}:ne=function(se,J){return typeof se=="string"&&(se===F||!U&&se===O)?x:null},ne.allPaths=[(W?"*/":"./")+O],ne}function M(O){try{const x=new RegExp(`^${n(O)}$`);return function(W){return x.lastIndex=0,typeof W=="string"&&x.test(W)?O:null}}catch{return a}}function R(O,x,W){return!O||typeof x!="string"?!1:B(O)(x,void 0,W)}e.match=R;function B(O,x={}){if(!O)return c;if(typeof O=="string"||T(O)){const W=g(O,x);if(W===a)return c;const U=function(F,G){return!!W(F,G)};return W.allBasenames&&(U.allBasenames=W.allBasenames),W.allPaths&&(U.allPaths=W.allPaths),U}return N(O,x)}e.parse=B;function T(O){const x=O;return x?typeof x.base=="string"&&typeof x.pattern=="string":!1}e.isRelativePattern=T;function N(O,x){const W=P(Object.getOwnPropertyNames(O).map(ne=>A(ne,O[ne],x)).filter(ne=>ne!==a)),U=W.length;if(!U)return a;if(!W.some(ne=>!!ne.requiresSiblings)){if(U===1)return W[0];const ne=function(q,H){let V;for(let Z=0,ee=W.length;Z<ee;Z++){const le=W[Z](q,H);if(typeof le=="string")return le;(0,L.isThenable)(le)&&(V||(V=[]),V.push(le))}return V?(()=>be(this,void 0,void 0,function*(){for(const Z of V){const ee=yield Z;if(typeof ee=="string")return ee}return null}))():null},se=W.find(q=>!!q.allBasenames);se&&(ne.allBasenames=se.allBasenames);const J=W.reduce((q,H)=>H.allPaths?q.concat(H.allPaths):q,[]);return J.length&&(ne.allPaths=J),ne}const F=function(ne,se,J){let q,H;for(let V=0,Z=W.length;V<Z;V++){const ee=W[V];ee.requiresSiblings&&J&&(se||(se=(0,D.basename)(ne)),q||(q=se.substr(0,se.length-(0,D.extname)(ne).length)));const le=ee(ne,se,q,J);if(typeof le=="string")return le;(0,L.isThenable)(le)&&(H||(H=[]),H.push(le))}return H?(()=>be(this,void 0,void 0,function*(){for(const V of H){const Z=yield V;if(typeof Z=="string")return Z}return null}))():null},G=W.find(ne=>!!ne.allBasenames);G&&(F.allBasenames=G.allBasenames);const Y=W.reduce((ne,se)=>se.allPaths?ne.concat(se.allPaths):ne,[]);return Y.length&&(F.allPaths=Y),F}function A(O,x,W){if(x===!1)return a;const U=g(O,W);if(U===a)return a;if(typeof x=="boolean")return U;if(x){const F=x.when;if(typeof F=="string"){const G=(Y,ne,se,J)=>{if(!J||!U(Y,ne))return null;const q=F.replace("$(basename)",()=>se),H=J(q);return(0,L.isThenable)(H)?H.then(V=>V?O:null):H?O:null};return G.requiresSiblings=!0,G}}return U}function P(O,x){const W=O.filter(ne=>!!ne.basenames);if(W.length<2)return O;const U=W.reduce((ne,se)=>{const J=se.basenames;return J?ne.concat(J):ne},[]);let F;if(x){F=[];for(let ne=0,se=U.length;ne<se;ne++)F.push(x)}else F=W.reduce((ne,se)=>{const J=se.patterns;return J?ne.concat(J):ne},[]);const G=function(ne,se){if(typeof ne!="string")return null;if(!se){let q;for(q=ne.length;q>0;q--){const H=ne.charCodeAt(q-1);if(H===47||H===92)break}se=ne.substr(q)}const J=U.indexOf(se);return J!==-1?F[J]:null};G.basenames=U,G.patterns=F,G.allBasenames=U;const Y=O.filter(ne=>!ne.basenames);return Y.push(G),Y}}),define(te[574],ie([1,0,220,17]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function y(S,m=I.isWindows){return(0,L.hasDriveLetter)(S,m)?S.charAt(0).toUpperCase()+S.slice(1):S}e.normalizeDriveLetter=y;let D=Object.create(null)}),define(te[21],ie([1,0,92,17]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const y=/^\w[\w\d+.-]*$/,D=/^\//,S=/^\/\//;function m(h,p){if(!h.scheme&&p)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${h.authority}", path: "${h.path}", query: "${h.query}", fragment: "${h.fragment}"}`);if(h.scheme&&!y.test(h.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(h.path){if(h.authority){if(!D.test(h.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(h.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function _(h,p){return!h&&!p?"file":h}function v(h,p){switch(h){case"https":case"http":case"file":p?p[0]!==s&&(p=s+p):p=s;break}return p}const C="",s="/",i=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class n{static isUri(p){return p instanceof n?!0:p?typeof p.authority=="string"&&typeof p.fragment=="string"&&typeof p.path=="string"&&typeof p.query=="string"&&typeof p.scheme=="string"&&typeof p.fsPath=="string"&&typeof p.with=="function"&&typeof p.toString=="function":!1}constructor(p,b,w,E,k,M=!1){typeof p=="object"?(this.scheme=p.scheme||C,this.authority=p.authority||C,this.path=p.path||C,this.query=p.query||C,this.fragment=p.fragment||C):(this.scheme=_(p,M),this.authority=b||C,this.path=v(this.scheme,w||C),this.query=E||C,this.fragment=k||C,m(this,M))}get fsPath(){return l(this,!1)}with(p){if(!p)return this;let{scheme:b,authority:w,path:E,query:k,fragment:M}=p;return b===void 0?b=this.scheme:b===null&&(b=C),w===void 0?w=this.authority:w===null&&(w=C),E===void 0?E=this.path:E===null&&(E=C),k===void 0?k=this.query:k===null&&(k=C),M===void 0?M=this.fragment:M===null&&(M=C),b===this.scheme&&w===this.authority&&E===this.path&&k===this.query&&M===this.fragment?this:new r(b,w,E,k,M)}static parse(p,b=!1){const w=i.exec(p);return w?new r(w[2]||C,g(w[4]||C),g(w[5]||C),g(w[7]||C),g(w[9]||C),b):new r(C,C,C,C,C)}static file(p){let b=C;if(I.isWindows&&(p=p.replace(/\\/g,s)),p[0]===s&&p[1]===s){const w=p.indexOf(s,2);w===-1?(b=p.substring(2),p=s):(b=p.substring(2,w),p=p.substring(w)||s)}return new r("file",b,p,C,C)}static from(p,b){return new r(p.scheme,p.authority,p.path,p.query,p.fragment,b)}static joinPath(p,...b){if(!p.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let w;return I.isWindows&&p.scheme==="file"?w=n.file(L.win32.join(l(p,!0),...b)).path:w=L.posix.join(p.path,...b),p.with({path:w})}toString(p=!1){return o(this,p)}toJSON(){return this}static revive(p){var b,w;if(p){if(p instanceof n)return p;{const E=new r(p);return E._formatted=(b=p.external)!==null&&b!==void 0?b:null,E._fsPath=p._sep===t&&(w=p.fsPath)!==null&&w!==void 0?w:null,E}}else return p}}e.URI=n;const t=I.isWindows?1:void 0;class r extends n{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=l(this,!1)),this._fsPath}toString(p=!1){return p?o(this,!0):(this._formatted||(this._formatted=o(this,!1)),this._formatted)}toJSON(){const p={$mid:1};return this._fsPath&&(p.fsPath=this._fsPath,p._sep=t),this._formatted&&(p.external=this._formatted),this.path&&(p.path=this.path),this.scheme&&(p.scheme=this.scheme),this.authority&&(p.authority=this.authority),this.query&&(p.query=this.query),this.fragment&&(p.fragment=this.fragment),p}}const u={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function f(h,p,b){let w,E=-1;for(let k=0;k<h.length;k++){const M=h.charCodeAt(k);if(M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===45||M===46||M===95||M===126||p&&M===47||b&&M===91||b&&M===93||b&&M===58)E!==-1&&(w+=encodeURIComponent(h.substring(E,k)),E=-1),w!==void 0&&(w+=h.charAt(k));else{w===void 0&&(w=h.substr(0,k));const R=u[M];R!==void 0?(E!==-1&&(w+=encodeURIComponent(h.substring(E,k)),E=-1),w+=R):E===-1&&(E=k)}}return E!==-1&&(w+=encodeURIComponent(h.substring(E))),w!==void 0?w:h}function d(h){let p;for(let b=0;b<h.length;b++){const w=h.charCodeAt(b);w===35||w===63?(p===void 0&&(p=h.substr(0,b)),p+=u[w]):p!==void 0&&(p+=h[b])}return p!==void 0?p:h}function l(h,p){let b;return h.authority&&h.path.length>1&&h.scheme==="file"?b=`//${h.authority}${h.path}`:h.path.charCodeAt(0)===47&&(h.path.charCodeAt(1)>=65&&h.path.charCodeAt(1)<=90||h.path.charCodeAt(1)>=97&&h.path.charCodeAt(1)<=122)&&h.path.charCodeAt(2)===58?p?b=h.path.substr(1):b=h.path[1].toLowerCase()+h.path.substr(2):b=h.path,I.isWindows&&(b=b.replace(/\//g,"\\")),b}e.uriToFsPath=l;function o(h,p){const b=p?d:f;let w="",{scheme:E,authority:k,path:M,query:R,fragment:B}=h;if(E&&(w+=E,w+=":"),(k||E==="file")&&(w+=s,w+=s),k){let T=k.indexOf("@");if(T!==-1){const N=k.substr(0,T);k=k.substr(T+1),T=N.lastIndexOf(":"),T===-1?w+=b(N,!1,!1):(w+=b(N.substr(0,T),!1,!1),w+=":",w+=b(N.substr(T+1),!1,!0)),w+="@"}k=k.toLowerCase(),T=k.lastIndexOf(":"),T===-1?w+=b(k,!1,!0):(w+=b(k.substr(0,T),!1,!0),w+=k.substr(T))}if(M){if(M.length>=3&&M.charCodeAt(0)===47&&M.charCodeAt(2)===58){const T=M.charCodeAt(1);T>=65&&T<=90&&(M=`/${String.fromCharCode(T+32)}:${M.substr(3)}`)}else if(M.length>=2&&M.charCodeAt(1)===58){const T=M.charCodeAt(0);T>=65&&T<=90&&(M=`${String.fromCharCode(T+32)}:${M.substr(2)}`)}w+=b(M,!0,!1)}return R&&(w+="?",w+=b(R,!1,!1)),B&&(w+="#",w+=p?B:f(B,!1,!1)),w}function c(h){try{return decodeURIComponent(h)}catch{return h.length>3?h.substr(0,3)+c(h.substr(3)):h}}const a=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function g(h){return h.match(a)?h.replace(a,p=>c(p)):h}}),define(te[221],ie([1,0,138,21]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function y(_){return JSON.stringify(_,S)}e.stringify=y;function D(_){let v=JSON.parse(_);return v=m(v),v}e.parse=D;function S(_,v){return v instanceof RegExp?{$mid:2,source:v.source,flags:v.flags}:v}function m(_,v=0){if(!_||v>200)return _;if(typeof _=="object"){switch(_.$mid){case 1:return I.URI.revive(_);case 2:return new RegExp(_.source,_.flags);case 17:return new Date(_.source)}if(_ instanceof L.VSBuffer||_ instanceof Uint8Array)return _;if(Array.isArray(_))for(let C=0;C<_.length;++C)_[C]=m(_[C],v+1);else for(const C in _)Object.hasOwnProperty.call(_,C)&&(_[C]=m(_[C],v+1))}return _}e.revive=m}),define(te[54],ie([1,0,9,17,21]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var D;(function(v){v.inMemory="inmemory",v.vscode="vscode",v.internal="private",v.walkThrough="walkThrough",v.walkThroughSnippet="walkThroughSnippet",v.http="http",v.https="https",v.file="file",v.mailto="mailto",v.untitled="untitled",v.data="data",v.command="command",v.vscodeRemote="vscode-remote",v.vscodeRemoteResource="vscode-remote-resource",v.vscodeManagedRemoteResource="vscode-managed-remote-resource",v.vscodeUserData="vscode-userdata",v.vscodeCustomEditor="vscode-custom-editor",v.vscodeNotebookCell="vscode-notebook-cell",v.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",v.vscodeNotebookCellOutput="vscode-notebook-cell-output",v.vscodeInteractiveInput="vscode-interactive-input",v.vscodeSettings="vscode-settings",v.vscodeWorkspaceTrust="vscode-workspace-trust",v.vscodeTerminal="vscode-terminal",v.vscodeChatSesssion="vscode-chat-editor",v.webviewPanel="webview-panel",v.vscodeWebview="vscode-webview",v.extension="extension",v.vscodeFileResource="vscode-file",v.tmp="tmp",v.vsls="vsls",v.vscodeSourceControl="vscode-scm"})(D||(e.Schemas=D={})),e.connectionTokenQueryName="tkn";class S{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${D.vscodeRemoteResource}`}setPreferredWebSchema(C){this._preferredWebSchema=C}rewrite(C){if(this._delegate)try{return this._delegate(C)}catch(u){return L.onUnexpectedError(u),C}const s=C.authority;let i=this._hosts[s];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const n=this._ports[s],t=this._connectionTokens[s];let r=`path=${encodeURIComponent(C.path)}`;return typeof t=="string"&&(r+=`&${e.connectionTokenQueryName}=${encodeURIComponent(t)}`),y.URI.from({scheme:I.isWeb?this._preferredWebSchema:D.vscodeRemoteResource,authority:`${i}:${n}`,path:this._remoteResourcesPath,query:r})}}e.RemoteAuthorities=new S;class m{uriToBrowserUri(C){return C.scheme===D.vscodeRemote?e.RemoteAuthorities.rewrite(C):C.scheme===D.file&&(I.isNative||I.isWebWorker&&I.globals.origin===`${D.vscodeFileResource}://${m.FALLBACK_AUTHORITY}`)?C.with({scheme:D.vscodeFileResource,authority:C.authority||m.FALLBACK_AUTHORITY,query:null,fragment:null}):C}}m.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new m;var _;(function(v){const C=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);v.CoopAndCoep=Object.freeze(C.get("3"));const s="vscode-coi";function i(t){let r;typeof t=="string"?r=new URL(t).searchParams:t instanceof URL?r=t.searchParams:y.URI.isUri(t)&&(r=new URL(t.toString(!0)).searchParams);const u=r?.get(s);if(u)return C.get(u)}v.getHeadersFromQuery=i;function n(t,r,u){if(!globalThis.crossOriginIsolated)return;const f=r&&u?"3":u?"2":"1";t instanceof URLSearchParams?t.set(s,f):t[s]=f}v.addSearchParam=n})(_||(e.COI=_={}))}),define(te[7],ie([1,0,51,217,44,60,9,6,309,2,54,17]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.hookDomPurifyHrefAndSrcSanitizer=e.asCssValueWithDefault=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.hide=e.show=e.setVisibility=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.isEventLike=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveDocument=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=e.onDidCreateWindow=e.getWindows=e.registerWindow=void 0,i=function(){const Se=[],_e=new m.Emitter;return{onDidCreateWindow:_e.event,registerWindow(ke){Se.push(ke);const Oe=new v.DisposableStore;return Oe.add((0,v.toDisposable)(()=>{const We=Se.indexOf(ke);We!==-1&&Se.splice(We,1)})),_e.fire({window:ke,disposableStore:Oe}),Oe},getWindows(){return Se}}}(),e.registerWindow=i.registerWindow,e.getWindows=i.getWindows,e.onDidCreateWindow=i.onDidCreateWindow;function n(Se){for(;Se.firstChild;)Se.firstChild.remove()}e.clearNode=n;function t(Se){var _e;return(_e=Se?.isConnected)!==null&&_e!==void 0?_e:!1}e.isInDOM=t;class r{constructor(_e,ke,Oe,We){this._node=_e,this._type=ke,this._handler=Oe,this._options=We||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function u(Se,_e,ke,Oe){return new r(Se,_e,ke,Oe)}e.addDisposableListener=u;function f(Se){return function(_e){return Se(new D.StandardMouseEvent(_e))}}function d(Se){return function(_e){return Se(new y.StandardKeyboardEvent(_e))}}const l=function(_e,ke,Oe,We){let qe=Oe;return ke==="click"||ke==="mousedown"?qe=f(Oe):(ke==="keydown"||ke==="keypress"||ke==="keyup")&&(qe=d(Oe)),u(_e,ke,qe,We)};e.addStandardDisposableListener=l;const o=function(_e,ke,Oe){const We=f(ke);return a(_e,We,Oe)};e.addStandardDisposableGenericMouseDownListener=o;const c=function(_e,ke,Oe){const We=f(ke);return g(_e,We,Oe)};e.addStandardDisposableGenericMouseUpListener=c;function a(Se,_e,ke){return u(Se,s.isIOS&&I.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,_e,ke)}e.addDisposableGenericMouseDownListener=a;function g(Se,_e,ke){return u(Se,s.isIOS&&I.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,_e,ke)}e.addDisposableGenericMouseUpListener=g;class h{constructor(_e,ke=0){this._runner=_e,this.priority=ke,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(_e){(0,S.onUnexpectedError)(_e)}}static sort(_e,ke){return ke.priority-_e.priority}}(function(){let Se=[],_e=null,ke=!1,Oe=!1;const We=()=>{for(ke=!1,_e=Se,Se=[],Oe=!0;_e.length>0;)_e.sort(h.sort),_e.shift().execute();Oe=!1};e.scheduleAtNextAnimationFrame=(qe,Ge=0)=>{const je=new h(qe,Ge);return Se.push(je),ke||(ke=!0,requestAnimationFrame(We)),je},e.runAtThisOrScheduleAtNextAnimationFrame=(qe,Ge)=>{if(Oe){const je=new h(qe,Ge);return _e.push(je),je}else return(0,e.scheduleAtNextAnimationFrame)(qe,Ge)}})();function p(Se){return Se.ownerDocument.defaultView.getComputedStyle(Se,null)}e.getComputedStyle=p;function b(Se){var _e;const ke=Se.ownerDocument,Oe=(_e=ke.defaultView)===null||_e===void 0?void 0:_e.window;if(Se!==ke.body)return new E(Se.clientWidth,Se.clientHeight);if(s.isIOS&&Oe?.visualViewport)return new E(Oe.visualViewport.width,Oe.visualViewport.height);if(Oe?.innerWidth&&Oe.innerHeight)return new E(Oe.innerWidth,Oe.innerHeight);if(ke.body&&ke.body.clientWidth&&ke.body.clientHeight)return new E(ke.body.clientWidth,ke.body.clientHeight);if(ke.documentElement&&ke.documentElement.clientWidth&&ke.documentElement.clientHeight)return new E(ke.documentElement.clientWidth,ke.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=b;class w{static convertToPixels(_e,ke){return parseFloat(ke)||0}static getDimension(_e,ke,Oe){const We=p(_e),qe=We?We.getPropertyValue(ke):"0";return w.convertToPixels(_e,qe)}static getBorderLeftWidth(_e){return w.getDimension(_e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(_e){return w.getDimension(_e,"border-right-width","borderRightWidth")}static getBorderTopWidth(_e){return w.getDimension(_e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(_e){return w.getDimension(_e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(_e){return w.getDimension(_e,"padding-left","paddingLeft")}static getPaddingRight(_e){return w.getDimension(_e,"padding-right","paddingRight")}static getPaddingTop(_e){return w.getDimension(_e,"padding-top","paddingTop")}static getPaddingBottom(_e){return w.getDimension(_e,"padding-bottom","paddingBottom")}static getMarginLeft(_e){return w.getDimension(_e,"margin-left","marginLeft")}static getMarginTop(_e){return w.getDimension(_e,"margin-top","marginTop")}static getMarginRight(_e){return w.getDimension(_e,"margin-right","marginRight")}static getMarginBottom(_e){return w.getDimension(_e,"margin-bottom","marginBottom")}}class E{constructor(_e,ke){this.width=_e,this.height=ke}with(_e=this.width,ke=this.height){return _e!==this.width||ke!==this.height?new E(_e,ke):this}static is(_e){return typeof _e=="object"&&typeof _e.height=="number"&&typeof _e.width=="number"}static lift(_e){return _e instanceof E?_e:new E(_e.width,_e.height)}static equals(_e,ke){return _e===ke?!0:!_e||!ke?!1:_e.width===ke.width&&_e.height===ke.height}}e.Dimension=E,E.None=new E(0,0);function k(Se){let _e=Se.offsetParent,ke=Se.offsetTop,Oe=Se.offsetLeft;for(;(Se=Se.parentNode)!==null&&Se!==Se.ownerDocument.body&&Se!==Se.ownerDocument.documentElement;){ke-=Se.scrollTop;const We=U(Se)?null:p(Se);We&&(Oe-=We.direction!=="rtl"?Se.scrollLeft:-Se.scrollLeft),Se===_e&&(Oe+=w.getBorderLeftWidth(Se),ke+=w.getBorderTopWidth(Se),ke+=Se.offsetTop,Oe+=Se.offsetLeft,_e=Se.offsetParent)}return{left:Oe,top:ke}}e.getTopLeftOffset=k;function M(Se,_e,ke){typeof _e=="number"&&(Se.style.width=`${_e}px`),typeof ke=="number"&&(Se.style.height=`${ke}px`)}e.size=M;function R(Se){var _e,ke,Oe,We;const qe=Se.getBoundingClientRect();return{left:qe.left+((ke=(_e=Se.ownerDocument.defaultView)===null||_e===void 0?void 0:_e.scrollX)!==null&&ke!==void 0?ke:0),top:qe.top+((We=(Oe=Se.ownerDocument.defaultView)===null||Oe===void 0?void 0:Oe.scrollY)!==null&&We!==void 0?We:0),width:qe.width,height:qe.height}}e.getDomNodePagePosition=R;function B(Se){let _e=Se,ke=1;do{const Oe=p(_e).zoom;Oe!=null&&Oe!=="1"&&(ke*=Oe),_e=_e.parentElement}while(_e!==null&&_e!==_e.ownerDocument.documentElement);return ke}e.getDomNodeZoomLevel=B;function T(Se){const _e=w.getMarginLeft(Se)+w.getMarginRight(Se);return Se.offsetWidth+_e}e.getTotalWidth=T;function N(Se){const _e=w.getBorderLeftWidth(Se)+w.getBorderRightWidth(Se),ke=w.getPaddingLeft(Se)+w.getPaddingRight(Se);return Se.offsetWidth-_e-ke}e.getContentWidth=N;function A(Se){const _e=w.getBorderTopWidth(Se)+w.getBorderBottomWidth(Se),ke=w.getPaddingTop(Se)+w.getPaddingBottom(Se);return Se.offsetHeight-_e-ke}e.getContentHeight=A;function P(Se){const _e=w.getMarginTop(Se)+w.getMarginBottom(Se);return Se.offsetHeight+_e}e.getTotalHeight=P;function O(Se,_e){for(;Se;){if(Se===_e)return!0;Se=Se.parentNode}return!1}e.isAncestor=O;function x(Se,_e,ke){for(;Se&&Se.nodeType===Se.ELEMENT_NODE;){if(Se.classList.contains(_e))return Se;if(ke){if(typeof ke=="string"){if(Se.classList.contains(ke))return null}else if(Se===ke)return null}Se=Se.parentNode}return null}e.findParentWithClass=x;function W(Se,_e,ke){return!!x(Se,_e,ke)}e.hasParentWithClass=W;function U(Se){return Se&&!!Se.host&&!!Se.mode}e.isShadowRoot=U;function F(Se){return!!G(Se)}e.isInShadowDOM=F;function G(Se){for(var _e;Se.parentNode;){if(Se===((_e=Se.ownerDocument)===null||_e===void 0?void 0:_e.body))return null;Se=Se.parentNode}return U(Se)?Se:null}e.getShadowRoot=G;function Y(){let Se=ne().activeElement;for(;Se?.shadowRoot;)Se=Se.shadowRoot.activeElement;return Se}e.getActiveElement=Y;function ne(){var Se;return(Se=[document,...(0,e.getWindows)().map(ke=>ke.document)].find(ke=>ke.hasFocus()))!==null&&Se!==void 0?Se:document}e.getActiveDocument=ne;function se(Se=document.getElementsByTagName("head")[0],_e){const ke=document.createElement("style");return ke.type="text/css",ke.media="screen",_e?.(ke),Se.appendChild(ke),ke}e.createStyleSheet=se;let J=null;function q(){return J||(J=se()),J}function H(Se){var _e,ke;return!((_e=Se?.sheet)===null||_e===void 0)&&_e.rules?Se.sheet.rules:!((ke=Se?.sheet)===null||ke===void 0)&&ke.cssRules?Se.sheet.cssRules:[]}function V(Se,_e,ke=q()){!ke||!_e||ke.sheet.insertRule(Se+"{"+_e+"}",0)}e.createCSSRule=V;function Z(Se,_e=q()){if(!_e)return;const ke=H(_e),Oe=[];for(let We=0;We<ke.length;We++)ke[We].selectorText.indexOf(Se)!==-1&&Oe.push(We);for(let We=Oe.length-1;We>=0;We--)_e.sheet.deleteRule(Oe[We])}e.removeCSSRulesContainingSelector=Z;function ee(Se){return typeof HTMLElement=="object"?Se instanceof HTMLElement:Se&&typeof Se=="object"&&Se.nodeType===1&&typeof Se.nodeName=="string"}e.isHTMLElement=ee,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:L.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:L.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:L.isWebKit?"webkitAnimationIteration":"animationiteration"};function le(Se){const _e=Se;return!!(_e&&typeof _e.preventDefault=="function"&&typeof _e.stopPropagation=="function")}e.isEventLike=le,e.EventHelper={stop:(Se,_e)=>(Se.preventDefault(),_e&&Se.stopPropagation(),Se)};function ue(Se){const _e=[];for(let ke=0;Se&&Se.nodeType===Se.ELEMENT_NODE;ke++)_e[ke]=Se.scrollTop,Se=Se.parentNode;return _e}e.saveParentsScrollTop=ue;function de(Se,_e){for(let ke=0;Se&&Se.nodeType===Se.ELEMENT_NODE;ke++)Se.scrollTop!==_e[ke]&&(Se.scrollTop=_e[ke]),Se=Se.parentNode}e.restoreParentsScrollTop=de;class ce extends v.Disposable{static hasFocusWithin(_e){if(ee(_e)){const ke=G(_e),Oe=ke?ke.activeElement:_e.ownerDocument.activeElement;return O(Oe,_e)}else return O(window.document.activeElement,window.document)}constructor(_e){super(),this._onDidFocus=this._register(new m.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new m.Emitter),this.onDidBlur=this._onDidBlur.event;let ke=ce.hasFocusWithin(_e),Oe=!1;const We=()=>{Oe=!1,ke||(ke=!0,this._onDidFocus.fire())},qe=()=>{ke&&(Oe=!0,window.setTimeout(()=>{Oe&&(Oe=!1,ke=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ce.hasFocusWithin(_e)!==ke&&(ke?qe():We())},this._register(u(_e,e.EventType.FOCUS,We,!0)),this._register(u(_e,e.EventType.BLUR,qe,!0)),_e instanceof HTMLElement&&(this._register(u(_e,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(u(_e,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler())))}}function ae(Se){return new ce(Se)}e.trackFocus=ae;function X(Se,..._e){if(Se.append(..._e),_e.length===1&&typeof _e[0]!="string")return _e[0]}e.append=X;function K(Se,_e){return Se.insertBefore(_e,Se.firstChild),_e}e.prepend=K;function z(Se,..._e){Se.innerText="",X(Se,..._e)}e.reset=z;const Q=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var j;(function(Se){Se.HTML="http://www.w3.org/1999/xhtml",Se.SVG="http://www.w3.org/2000/svg"})(j||(e.Namespace=j={}));function re(Se,_e,ke,...Oe){const We=Q.exec(_e);if(!We)throw new Error("Bad use of emmet");const qe=We[1]||"div";let Ge;return Se!==j.HTML?Ge=document.createElementNS(Se,qe):Ge=document.createElement(qe),We[3]&&(Ge.id=We[3]),We[4]&&(Ge.className=We[4].replace(/\./g," ").trim()),ke&&Object.entries(ke).forEach(([je,it])=>{typeof it>"u"||(/^on\w+$/.test(je)?Ge[je]=it:je==="selected"?it&&Ge.setAttribute(je,"true"):Ge.setAttribute(je,it))}),Ge.append(...Oe),Ge}function oe(Se,_e,...ke){return re(j.HTML,Se,_e,...ke)}e.$=oe,oe.SVG=function(Se,_e,...ke){return re(j.SVG,Se,_e,...ke)};function he(Se,..._e){Se?me(..._e):pe(..._e)}e.setVisibility=he;function me(...Se){for(const _e of Se)_e.style.display="",_e.removeAttribute("aria-hidden")}e.show=me;function pe(...Se){for(const _e of Se)_e.style.display="none",_e.setAttribute("aria-hidden","true")}e.hide=pe;function ve(Se){const _e=window.devicePixelRatio*Se;return Math.max(1,Math.floor(_e))/window.devicePixelRatio}e.computeScreenAwareSize=ve;function we(Se){window.open(Se,"_blank","noopener")}e.windowOpenNoOpener=we;function Le(Se){const _e=()=>{Se(),ke=(0,e.scheduleAtNextAnimationFrame)(_e)};let ke=(0,e.scheduleAtNextAnimationFrame)(_e);return(0,v.toDisposable)(()=>ke.dispose())}e.animate=Le,C.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ee(Se){return Se?`url('${C.FileAccess.uriToBrowserUri(Se).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Ee;function Ae(Se){return`'${Se.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Ae;function Re(Se,_e){if(Se!==void 0){const ke=Se.match(/^\s*var\((.+)\)$/);if(ke){const Oe=ke[1].split(",",2);return Oe.length===2&&(_e=Re(Oe[1].trim(),_e)),`var(${Oe[0]}, ${_e})`}return Se}return _e}e.asCssValueWithDefault=Re;function Be(Se,_e=!1){const ke=document.createElement("a");return _.addHook("afterSanitizeAttributes",Oe=>{for(const We of["href","src"])if(Oe.hasAttribute(We)){const qe=Oe.getAttribute(We);if(We==="href"&&qe.startsWith("#"))continue;if(ke.href=qe,!Se.includes(ke.protocol.replace(/:$/,""))){if(_e&&We==="src"&&ke.href.startsWith("data:"))continue;Oe.removeAttribute(We)}}}),(0,v.toDisposable)(()=>{_.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=Be,e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const ye=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class De extends m.Emitter{constructor(){super(),this._subscriptions=new v.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(u(window,"keydown",_e=>{if(_e.defaultPrevented)return;const ke=new y.StandardKeyboardEvent(_e);if(!(ke.keyCode===6&&_e.repeat)){if(_e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(_e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(_e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(_e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(ke.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=_e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(u(window,"keyup",_e=>{_e.defaultPrevented||(!_e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!_e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!_e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!_e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=_e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(u(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(u(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(u(document.body,"mousemove",_e=>{_e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(u(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return De.instance||(De.instance=new De),De.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=De;class fe extends v.Disposable{constructor(_e,ke){super(),this.element=_e,this.callbacks=ke,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(u(this.element,e.EventType.DRAG_ENTER,_e=>{this.counter++,this.dragStartTime=_e.timeStamp,this.callbacks.onDragEnter(_e)})),this._register(u(this.element,e.EventType.DRAG_OVER,_e=>{var ke,Oe;_e.preventDefault(),(Oe=(ke=this.callbacks).onDragOver)===null||Oe===void 0||Oe.call(ke,_e,_e.timeStamp-this.dragStartTime)})),this._register(u(this.element,e.EventType.DRAG_LEAVE,_e=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(_e))})),this._register(u(this.element,e.EventType.DRAG_END,_e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(_e)})),this._register(u(this.element,e.EventType.DROP,_e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(_e)}))}}e.DragAndDropObserver=fe;const Ce=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Me(Se,..._e){let ke,Oe;Array.isArray(_e[0])?(ke={},Oe=_e[0]):(ke=_e[0]||{},Oe=_e[1]);const We=Ce.exec(Se);if(!We||!We.groups)throw new Error("Bad use of h");const qe=We.groups.tag||"div",Ge=document.createElement(qe);We.groups.id&&(Ge.id=We.groups.id);const je=[];if(We.groups.class)for(const Ze of We.groups.class.split("."))Ze!==""&&je.push(Ze);if(ke.className!==void 0)for(const Ze of ke.className.split("."))Ze!==""&&je.push(Ze);je.length>0&&(Ge.className=je.join(" "));const it={};if(We.groups.name&&(it[We.groups.name]=Ge),Oe)for(const Ze of Oe)Ze instanceof HTMLElement?Ge.appendChild(Ze):typeof Ze=="string"?Ge.append(Ze):"root"in Ze&&(Object.assign(it,Ze),Ge.appendChild(Ze.root));for(const[Ze,dt]of Object.entries(ke))if(Ze!=="className")if(Ze==="style")for(const[at,nt]of Object.entries(dt))Ge.style.setProperty(Pe(at),typeof nt=="number"?nt+"px":""+nt);else Ze==="tabIndex"?Ge.tabIndex=dt:Ge.setAttribute(Pe(Ze),dt.toString());return it.root=Ge,it}e.h=Me;function Pe(Se){return Se.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(te[310],ie([1,0,7]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function I(s,i={}){const n=D(i);return n.textContent=s,n}e.renderText=I;function y(s,i={}){const n=D(i);return m(n,_(s,!!i.renderCodeSegments),i.actionHandler,i.renderCodeSegments),n}e.renderFormattedText=y;function D(s){const i=s.inline?"span":"div",n=document.createElement(i);return s.className&&(n.className=s.className),n}e.createElement=D;class S{constructor(i){this.source=i,this.index=0}eos(){return this.index>=this.source.length}next(){const i=this.peek();return this.advance(),i}peek(){return this.source[this.index]}advance(){this.index++}}function m(s,i,n,t){let r;if(i.type===2)r=document.createTextNode(i.content||"");else if(i.type===3)r=document.createElement("b");else if(i.type===4)r=document.createElement("i");else if(i.type===7&&t)r=document.createElement("code");else if(i.type===5&&n){const u=document.createElement("a");n.disposables.add(L.addStandardDisposableListener(u,"click",f=>{n.callback(String(i.index),f)})),r=u}else i.type===8?r=document.createElement("br"):i.type===1&&(r=s);r&&s!==r&&s.appendChild(r),r&&Array.isArray(i.children)&&i.children.forEach(u=>{m(r,u,n,t)})}function _(s,i){const n={type:1,children:[]};let t=0,r=n;const u=[],f=new S(s);for(;!f.eos();){let d=f.next();const l=d==="\\"&&C(f.peek(),i)!==0;if(l&&(d=f.next()),!l&&v(d,i)&&d===f.peek()){f.advance(),r.type===2&&(r=u.pop());const o=C(d,i);if(r.type===o||r.type===5&&o===6)r=u.pop();else{const c={type:o,children:[]};o===5&&(c.index=t,t++),r.children.push(c),u.push(r),r=c}}else if(d===`
`)r.type===2&&(r=u.pop()),r.children.push({type:8});else if(r.type!==2){const o={type:2,content:d};r.children.push(o),u.push(r),r=o}else r.content+=d}return r.type===2&&(r=u.pop()),u.length,n}function v(s,i){return C(s,i)!==0}function C(s,i){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return i?7:0;default:return 0}}}),define(te[151],ie([1,0,7,2]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class y{constructor(){this._hooks=new I.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(S,m){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const _=this._onStopCallback;this._onStopCallback=null,S&&_&&_(m)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(S,m,_,v,C){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=v,this._onStopCallback=C;let s=S;try{S.setPointerCapture(m),this._hooks.add((0,I.toDisposable)(()=>{try{S.releasePointerCapture(m)}catch{}}))}catch{s=window}this._hooks.add(L.addDisposableListener(s,L.EventType.POINTER_MOVE,i=>{if(i.buttons!==_){this.stopMonitoring(!0);return}i.preventDefault(),this._pointerMoveCallback(i)})),this._hooks.add(L.addDisposableListener(s,L.EventType.POINTER_UP,i=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=y}),define(te[61],ie([1,0,7,13,105,2,63]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var m;(function(v){v.Tap="-monaco-gesturetap",v.Change="-monaco-gesturechange",v.Start="-monaco-gesturestart",v.End="-monaco-gesturesend",v.Contextmenu="-monaco-gesturecontextmenu"})(m||(e.EventType=m={}));class _ extends D.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new S.LinkedList,this.ignoreTargets=new S.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(L.addDisposableListener(document,"touchstart",C=>this.onTouchStart(C),{passive:!1})),this._register(L.addDisposableListener(document,"touchend",C=>this.onTouchEnd(C))),this._register(L.addDisposableListener(document,"touchmove",C=>this.onTouchMove(C),{passive:!1}))}static addTarget(C){if(!_.isTouchDevice())return D.Disposable.None;_.INSTANCE||(_.INSTANCE=(0,D.markAsSingleton)(new _));const s=_.INSTANCE.targets.push(C);return(0,D.toDisposable)(s)}static ignoreTarget(C){if(!_.isTouchDevice())return D.Disposable.None;_.INSTANCE||(_.INSTANCE=(0,D.markAsSingleton)(new _));const s=_.INSTANCE.ignoreTargets.push(C);return(0,D.toDisposable)(s)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(C){const s=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=C.targetTouches.length;i<n;i++){const t=C.targetTouches.item(i);this.activeTouches[t.identifier]={id:t.identifier,initialTarget:t.target,initialTimeStamp:s,initialPageX:t.pageX,initialPageY:t.pageY,rollingTimestamps:[s],rollingPageX:[t.pageX],rollingPageY:[t.pageY]};const r=this.newGestureEvent(m.Start,t.target);r.pageX=t.pageX,r.pageY=t.pageY,this.dispatchEvent(r)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}onTouchEnd(C){const s=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,t=C.changedTouches.length;n<t;n++){const r=C.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const u=this.activeTouches[r.identifier],f=Date.now()-u.initialTimeStamp;if(f<_.HOLD_DELAY&&Math.abs(u.initialPageX-I.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-I.tail(u.rollingPageY))<30){const d=this.newGestureEvent(m.Tap,u.initialTarget);d.pageX=I.tail(u.rollingPageX),d.pageY=I.tail(u.rollingPageY),this.dispatchEvent(d)}else if(f>=_.HOLD_DELAY&&Math.abs(u.initialPageX-I.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-I.tail(u.rollingPageY))<30){const d=this.newGestureEvent(m.Contextmenu,u.initialTarget);d.pageX=I.tail(u.rollingPageX),d.pageY=I.tail(u.rollingPageY),this.dispatchEvent(d)}else if(i===1){const d=I.tail(u.rollingPageX),l=I.tail(u.rollingPageY),o=I.tail(u.rollingTimestamps)-u.rollingTimestamps[0],c=d-u.rollingPageX[0],a=l-u.rollingPageY[0],g=[...this.targets].filter(h=>u.initialTarget instanceof Node&&h.contains(u.initialTarget));this.inertia(g,s,Math.abs(c)/o,c>0?1:-1,d,Math.abs(a)/o,a>0?1:-1,l)}this.dispatchEvent(this.newGestureEvent(m.End,u.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}newGestureEvent(C,s){const i=document.createEvent("CustomEvent");return i.initEvent(C,!1,!0),i.initialTarget=s,i.tapCount=0,i}dispatchEvent(C){if(C.type===m.Tap){const s=new Date().getTime();let i=0;s-this._lastSetTapCountTime>_.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=s,C.tapCount=i}else(C.type===m.Change||C.type===m.Contextmenu)&&(this._lastSetTapCountTime=0);if(C.initialTarget instanceof Node){for(const s of this.ignoreTargets)if(s.contains(C.initialTarget))return;for(const s of this.targets)s.contains(C.initialTarget)&&(s.dispatchEvent(C),this.dispatched=!0)}}inertia(C,s,i,n,t,r,u,f){this.handle=L.scheduleAtNextAnimationFrame(()=>{const d=Date.now(),l=d-s;let o=0,c=0,a=!0;i+=_.SCROLL_FRICTION*l,r+=_.SCROLL_FRICTION*l,i>0&&(a=!1,o=n*i*l),r>0&&(a=!1,c=u*r*l);const g=this.newGestureEvent(m.Change);g.translationX=o,g.translationY=c,C.forEach(h=>h.dispatchEvent(g)),a||this.inertia(C,d,i,n,t+o,r,u,f+c)})}onTouchMove(C){const s=Date.now();for(let i=0,n=C.changedTouches.length;i<n;i++){const t=C.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(t.identifier))){console.warn("end of an UNKNOWN touch",t);continue}const r=this.activeTouches[t.identifier],u=this.newGestureEvent(m.Change,r.initialTarget);u.translationX=t.pageX-I.tail(r.rollingPageX),u.translationY=t.pageY-I.tail(r.rollingPageY),u.pageX=t.pageX,u.pageY=t.pageY,this.dispatchEvent(u),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(t.pageX),r.rollingPageY.push(t.pageY),r.rollingTimestamps.push(s)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}}e.Gesture=_,_.SCROLL_FRICTION=-.005,_.HOLD_DELAY=700,_.CLEAR_TAP_COUNT_TIME=400,Ie([y.memoize],_,"isTouchDevice",null)}),define(te[45],ie([1,0,7,398]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const I=2e4;let y,D,S,m,_;function v(n){y=document.createElement("div"),y.className="monaco-aria-container";const t=()=>{const u=document.createElement("div");return u.className="monaco-alert",u.setAttribute("role","alert"),u.setAttribute("aria-atomic","true"),y.appendChild(u),u};D=t(),S=t();const r=()=>{const u=document.createElement("div");return u.className="monaco-status",u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),y.appendChild(u),u};m=r(),_=r(),n.appendChild(y)}e.setARIAContainer=v;function C(n){y&&(D.textContent!==n?(L.clearNode(S),i(D,n)):(L.clearNode(D),i(S,n)))}e.alert=C;function s(n){y&&(m.textContent!==n?(L.clearNode(_),i(m,n)):(L.clearNode(m),i(_,n)))}e.status=s;function i(n,t){L.clearNode(n),t.length>I&&(t=t.substr(0,I)),n.textContent=t,n.style.visibility="hidden",n.style.visibility="visible"}}),define(te[311],ie([1,0,217,7,2,17,165,402]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=e.isAnchor=void 0;function m(i){const n=i;return!!n&&typeof n.x=="number"&&typeof n.y=="number"}e.isAnchor=m;var _;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(_||(e.LayoutAnchorMode=_={}));function v(i,n,t){const r=t.mode===_.ALIGN?t.offset:t.offset+t.size,u=t.mode===_.ALIGN?t.offset+t.size:t.offset;return t.position===0?n<=i-r?r:n<=u?u-n:Math.max(i-n,0):n<=u?u-n:n<=i-r?r:0}e.layout=v;class C extends y.Disposable{constructor(n,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=y.Disposable.None,this.toDisposeOnSetContainer=y.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=I.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,I.hide(this.view),this.setContainer(n,t),this._register((0,y.toDisposable)(()=>this.setContainer(null,1)))}setContainer(n,t){var r;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(r=this.shadowRootHostElement)===null||r===void 0||r.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),n){if(this.container=n,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=I.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const f=document.createElement("style");f.textContent=s,this.shadowRoot.appendChild(f),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(I.$("slot"))}else this.container.appendChild(this.view);const u=new y.DisposableStore;C.BUBBLE_UP_EVENTS.forEach(f=>{u.add(I.addStandardDisposableListener(this.container,f,d=>{this.onDOMEvent(d,!1)}))}),C.BUBBLE_DOWN_EVENTS.forEach(f=>{u.add(I.addStandardDisposableListener(this.container,f,d=>{this.onDOMEvent(d,!0)},!0))}),this.toDisposeOnSetContainer=u}}show(n){var t,r;this.isVisible()&&this.hide(),I.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",I.show(this.view),this.toDisposeOnClean=n.render(this.view)||y.Disposable.None,this.delegate=n,this.doLayout(),(r=(t=this.delegate).focus)===null||r===void 0||r.call(t)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&L.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const n=this.delegate.getAnchor();let t;if(I.isHTMLElement(n)){const g=I.getDomNodePagePosition(n),h=I.getDomNodeZoomLevel(n);t={top:g.top*h,left:g.left*h,width:g.width*h,height:g.height*h}}else m(n)?t={top:n.y,left:n.x,width:n.width||1,height:n.height||2}:t={top:n.posy,left:n.posx,width:2,height:2};const r=I.getTotalWidth(this.view),u=I.getTotalHeight(this.view),f=this.delegate.anchorPosition||0,d=this.delegate.anchorAlignment||0,l=this.delegate.anchorAxisAlignment||0;let o,c;if(l===0){const g={offset:t.top-window.pageYOffset,size:t.height,position:f===0?0:1},h={offset:t.left,size:t.width,position:d===0?0:1,mode:_.ALIGN};o=v(window.innerHeight,u,g)+window.pageYOffset,S.Range.intersects({start:o,end:o+u},{start:g.offset,end:g.offset+g.size})&&(h.mode=_.AVOID),c=v(window.innerWidth,r,h)}else{const g={offset:t.left,size:t.width,position:d===0?0:1},h={offset:t.top,size:t.height,position:f===0?0:1,mode:_.ALIGN};c=v(window.innerWidth,r,g),S.Range.intersects({start:c,end:c+r},{start:g.offset,end:g.offset+g.size})&&(h.mode=_.AVOID),o=v(window.innerHeight,u,h)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(f===0?"bottom":"top"),this.view.classList.add(d===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const a=I.getDomNodePagePosition(this.container);this.view.style.top=`${o-(this.useFixedPosition?I.getDomNodePagePosition(this.view).top:a.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?I.getDomNodePagePosition(this.view).left:a.left)}px`,this.view.style.width="initial"}hide(n){const t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(n),this.toDisposeOnClean.dispose(),I.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(n,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(n,document.activeElement):t&&!I.isAncestor(n.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=C,C.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],C.BUBBLE_DOWN_EVENTS=["click"];const s=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(te[312],ie([1,0,7,10,403]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class y{constructor(S,m,_){this.options=m,this.styles=_,this.count=0,this.element=(0,L.append)(S,(0,L.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(S){this.count=S,this.render()}setTitleFormat(S){this.titleFormat=S,this.render()}render(){var S,m;this.element.textContent=(0,I.format)(this.countFormat,this.count),this.element.title=(0,I.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(S=this.styles.badgeBackground)!==null&&S!==void 0?S:"",this.element.style.color=(m=this.styles.badgeForeground)!==null&&m!==void 0?m:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=y}),define(te[575],ie([1,0,7,44,61,41,6,265]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class m extends D.ActionRunner{constructor(C,s){super(),this._onDidChangeVisibility=this._register(new S.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,L.append)(C,(0,L.$)(".monaco-dropdown")),this._label=(0,L.append)(this._element,(0,L.$)(".dropdown-label"));let i=s.labelRenderer;i||(i=t=>(t.textContent=s.label||"",null));for(const t of[L.EventType.CLICK,L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this.element,t,r=>L.EventHelper.stop(r,!0)));for(const t of[L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this._label,t,r=>{r instanceof MouseEvent&&(r.detail>1||r.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,L.addDisposableListener)(this._label,L.EventType.KEY_UP,t=>{const r=new I.StandardKeyboardEvent(t);(r.equals(3)||r.equals(10))&&(L.EventHelper.stop(t,!0),this.visible?this.hide():this.show())}));const n=i(this._label);n&&this._register(n),this._register(y.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class _ extends m{constructor(C,s){super(C,s),this._options=s,this._actions=[],this.actions=s.actions||[]}set menuOptions(C){this._menuOptions=C}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(C){this._actions=C}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(C,s)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(C,s):void 0,getKeyBinding:C=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(C):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=_}),define(te[128],ie([1,0,7,27]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const y=new RegExp(`(\\\\)?\\$\\((${I.ThemeIcon.iconNameExpression}(?:${I.ThemeIcon.iconModifierExpression})?)\\)`,"g");function D(m){const _=new Array;let v,C=0,s=0;for(;(v=y.exec(m))!==null;){s=v.index||0,C<s&&_.push(m.substring(C,s)),C=(v.index||0)+v[0].length;const[,i,n]=v;_.push(i?`$(${n})`:S({id:n}))}return C<m.length&&_.push(m.substring(C)),_}e.renderLabelWithIcons=D;function S(m){const _=L.$("span");return _.classList.add(...I.ThemeIcon.asClassNameArray(m)),_}e.renderIcon=S}),define(te[313],ie([1,0,7,128,52]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(m,_){var v;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(v=_?.supportIcons)!==null&&v!==void 0?v:!1,this.domNode=L.append(m,L.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(m,_=[],v="",C){m||(m=""),C&&(m=D.escapeNewLines(m,_)),!(this.didEverRender&&this.text===m&&this.title===v&&y.equals(this.highlights,_))&&(this.text=m,this.title=v,this.highlights=_,this.render())}render(){const m=[];let _=0;for(const v of this.highlights){if(v.end===v.start)continue;if(_<v.start){const i=this.text.substring(_,v.start);this.supportIcons?m.push(...(0,I.renderLabelWithIcons)(i)):m.push(i),_=v.start}const C=this.text.substring(_,v.end),s=L.$("span.highlight",void 0,...this.supportIcons?(0,I.renderLabelWithIcons)(C):[C]);v.extraClasses&&s.classList.add(...v.extraClasses),m.push(s),_=v.end}if(_<this.text.length){const v=this.text.substring(_);this.supportIcons?m.push(...(0,I.renderLabelWithIcons)(v)):m.push(v)}L.reset(this.domNode,...m),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(m,_){let v=0,C=0;return m.replace(/\r\n|\r|\n/g,(s,i)=>{C=s===`\r
`?-1:0,i+=v;for(const n of _)n.end<=i||(n.start>=i&&(n.start+=C),n.end>=i&&(n.end+=C));return v+=C,"\u23CE"})}}e.HighlightedLabel=D}),define(te[222],ie([1,0,7,216,52,561,407]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const S=L.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class m{constructor(v,C,s){this.os=C,this.keyElements=new Set,this.options=s||Object.create(null);const i=this.options.keybindingLabelForeground;this.domNode=L.append(v,S(".monaco-keybinding")),i&&(this.domNode.style.color=i),this.didEverRender=!1,v.appendChild(this.domNode)}get element(){return this.domNode}set(v,C){this.didEverRender&&this.keybinding===v&&m.areSame(this.matches,C)||(this.keybinding=v,this.matches=C,this.render())}render(){var v;if(this.clear(),this.keybinding){const C=this.keybinding.getChords();C[0]&&this.renderChord(this.domNode,C[0],this.matches?this.matches.firstPart:null);for(let i=1;i<C.length;i++)L.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,C[i],this.matches?this.matches.chordPart:null);const s=(v=this.options.disableTitle)!==null&&v!==void 0&&v?void 0:this.keybinding.getAriaLabel()||void 0;s!==void 0?this.domNode.title=s:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){L.clearNode(this.domNode),this.keyElements.clear()}renderChord(v,C,s){const i=I.UILabelProvider.modifierLabels[this.os];C.ctrlKey&&this.renderKey(v,i.ctrlKey,!!s?.ctrlKey,i.separator),C.shiftKey&&this.renderKey(v,i.shiftKey,!!s?.shiftKey,i.separator),C.altKey&&this.renderKey(v,i.altKey,!!s?.altKey,i.separator),C.metaKey&&this.renderKey(v,i.metaKey,!!s?.metaKey,i.separator);const n=C.keyLabel;n&&this.renderKey(v,n,!!s?.keyCode,"")}renderKey(v,C,s,i){L.append(v,this.createKeyElement(C,s?".highlight":"")),i&&L.append(v,S("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(v){L.append(v,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(v,C=""){const s=S("span.monaco-keybinding-key"+C,void 0,v);return this.keyElements.add(s),this.options.keybindingLabelBackground&&(s.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(s.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(s.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(s.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),s}static areSame(v,C){return v===C||!v&&!C?!0:!!v&&!!C&&(0,y.equals)(v.firstPart,C.firstPart)&&(0,y.equals)(v.chordPart,C.chordPart)}}e.KeybindingLabel=m}),define(te[576],ie([1,0,7]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function I(D){var S;try{(S=D.parentElement)===null||S===void 0||S.removeChild(D)}catch{}}class y{constructor(S){this.renderers=S,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(S){let m=this.getTemplateCache(S).pop(),_=!1;if(m)_=this.transactionNodesPendingRemoval.has(m.domNode),_&&this.transactionNodesPendingRemoval.delete(m.domNode);else{const v=(0,L.$)(".monaco-list-row"),s=this.getRenderer(S).renderTemplate(v);m={domNode:v,templateId:S,templateData:s}}return{row:m,isReusingConnectedDomNode:_}}release(S){S&&this.releaseRow(S)}transact(S){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{S()}finally{for(const m of this.transactionNodesPendingRemoval)this.doRemoveNode(m);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(S){const{domNode:m,templateId:_}=S;m&&(this.inTransaction?this.transactionNodesPendingRemoval.add(m):this.doRemoveNode(m)),this.getTemplateCache(_).push(S)}doRemoveNode(S){S.classList.remove("scrolling"),I(S)}getTemplateCache(S){let m=this.cache.get(S);return m||(m=[],this.cache.set(S,m)),m}dispose(){this.cache.forEach((S,m)=>{for(const _ of S)this.getRenderer(m).disposeTemplate(_.templateData),_.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(S){const m=this.renderers.get(S);if(!m)throw new Error(`No renderer found for ${S}`);return m}}e.RowCache=y}),define(te[577],ie([1,0,7,14,2,409]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const D="done",S="active",m="infinite",_="infinite-long-running",v="discrete";class C extends y.Disposable{constructor(i,n){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new I.RunOnceScheduler(()=>(0,L.show)(this.element),0)),this.longRunningScheduler=this._register(new I.RunOnceScheduler(()=>this.infiniteLongRunning(),C.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(i,n)}create(i,n){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),i.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=n?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(S,m,_,v),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(i){return this.element.classList.add(D),this.element.classList.contains(m)?(this.bit.style.opacity="0",i?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",i?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(v,D,_),this.element.classList.add(S,m),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(_)}getContainer(){return this.element}}e.ProgressBar=C,C.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(te[152],ie([1,0,7,79,61,14,105,6,2,17,410]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const C=!1;var s;(function(c){c.North="north",c.South="south",c.East="east",c.West="west"})(s||(e.OrthogonalEdge=s={}));let i=4;const n=new m.Emitter;let t=300;const r=new m.Emitter;class u{constructor(){this.disposables=new _.DisposableStore}get onPointerMove(){return this.disposables.add(new I.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new I.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Ie([S.memoize],u.prototype,"onPointerMove",null),Ie([S.memoize],u.prototype,"onPointerUp",null);class f{get onPointerMove(){return this.disposables.add(new I.DomEmitter(this.el,y.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new I.DomEmitter(this.el,y.EventType.End)).event}constructor(a){this.el=a,this.disposables=new _.DisposableStore}dispose(){this.disposables.dispose()}}Ie([S.memoize],f.prototype,"onPointerMove",null),Ie([S.memoize],f.prototype,"onPointerUp",null);class d{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(a){this.factory=a}dispose(){}}Ie([S.memoize],d.prototype,"onPointerMove",null),Ie([S.memoize],d.prototype,"onPointerUp",null);const l="pointer-events-disabled";class o extends _.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(a){this._state!==a&&(this.el.classList.toggle("disabled",a===0),this.el.classList.toggle("minimum",a===1),this.el.classList.toggle("maximum",a===2),this._state=a,this.onDidEnablementChange.fire(a))}set orthogonalStartSash(a){if(this._orthogonalStartSash!==a){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),a){const g=h=>{this.orthogonalStartDragHandleDisposables.clear(),h!==0&&(this._orthogonalStartDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,_.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new I.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>o.onMouseEnter(a),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new I.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>o.onMouseLeave(a),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(a.onDidEnablementChange.event(g,this)),g(a.state)}this._orthogonalStartSash=a}}set orthogonalEndSash(a){if(this._orthogonalEndSash!==a){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),a){const g=h=>{this.orthogonalEndDragHandleDisposables.clear(),h!==0&&(this._orthogonalEndDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,_.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new I.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>o.onMouseEnter(a),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new I.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>o.onMouseLeave(a),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(a.onDidEnablementChange.event(g,this)),g(a.state)}this._orthogonalEndSash=a}}constructor(a,g,h){super(),this.hoverDelay=t,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new m.Emitter),this._onDidStart=this._register(new m.Emitter),this._onDidChange=this._register(new m.Emitter),this._onDidReset=this._register(new m.Emitter),this._onDidEnd=this._register(new m.Emitter),this.orthogonalStartSashDisposables=this._register(new _.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new _.DisposableStore),this.orthogonalEndSashDisposables=this._register(new _.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new _.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,L.append)(a,(0,L.$)(".monaco-sash")),h.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${h.orthogonalEdge}`),v.isMacintosh&&this.el.classList.add("mac");const p=this._register(new I.DomEmitter(this.el,"mousedown")).event;this._register(p(B=>this.onPointerStart(B,new u),this));const b=this._register(new I.DomEmitter(this.el,"dblclick")).event;this._register(b(this.onPointerDoublePress,this));const w=this._register(new I.DomEmitter(this.el,"mouseenter")).event;this._register(w(()=>o.onMouseEnter(this)));const E=this._register(new I.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>o.onMouseLeave(this))),this._register(y.Gesture.addTarget(this.el));const k=this._register(new I.DomEmitter(this.el,y.EventType.Start)).event;this._register(k(B=>this.onPointerStart(B,new f(this.el)),this));const M=this._register(new I.DomEmitter(this.el,y.EventType.Tap)).event;let R;this._register(M(B=>{if(R){clearTimeout(R),R=void 0,this.onPointerDoublePress(B);return}clearTimeout(R),R=setTimeout(()=>R=void 0,250)},this)),typeof h.size=="number"?(this.size=h.size,h.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=i,this._register(n.event(B=>{this.size=B,this.layout()}))),this._register(r.event(B=>this.hoverDelay=B)),this.layoutProvider=g,this.orthogonalStartSash=h.orthogonalStartSash,this.orthogonalEndSash=h.orthogonalEndSash,this.orientation=h.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",C),this.layout()}onPointerStart(a,g){L.EventHelper.stop(a);let h=!1;if(!a.__orthogonalSashEvent){const A=this.getOrthogonalSash(a);A&&(h=!0,a.__orthogonalSashEvent=!0,A.onPointerStart(a,new d(g)))}if(this.linkedSash&&!a.__linkedSashEvent&&(a.__linkedSashEvent=!0,this.linkedSash.onPointerStart(a,new d(g))),!this.state)return;const p=document.getElementsByTagName("iframe");for(const A of p)A.classList.add(l);const b=a.pageX,w=a.pageY,E=a.altKey,k={startX:b,currentX:b,startY:w,currentY:w,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(k);const M=(0,L.createStyleSheet)(this.el),R=()=>{let A="";h?A="all-scroll":this.orientation===1?this.state===1?A="s-resize":this.state===2?A="n-resize":A=v.isMacintosh?"row-resize":"ns-resize":this.state===1?A="e-resize":this.state===2?A="w-resize":A=v.isMacintosh?"col-resize":"ew-resize",M.textContent=`* { cursor: ${A} !important; }`},B=new _.DisposableStore;R(),h||this.onDidEnablementChange.event(R,null,B);const T=A=>{L.EventHelper.stop(A,!1);const P={startX:b,currentX:A.pageX,startY:w,currentY:A.pageY,altKey:E};this._onDidChange.fire(P)},N=A=>{L.EventHelper.stop(A,!1),this.el.removeChild(M),this.el.classList.remove("active"),this._onDidEnd.fire(),B.dispose();for(const P of p)P.classList.remove(l)};g.onPointerMove(T,null,B),g.onPointerUp(N,null,B),B.add(g)}onPointerDoublePress(a){const g=this.getOrthogonalSash(a);g&&g._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(a,g=!1){a.el.classList.contains("active")?(a.hoverDelayer.cancel(),a.el.classList.add("hover")):a.hoverDelayer.trigger(()=>a.el.classList.add("hover"),a.hoverDelay).then(void 0,()=>{}),!g&&a.linkedSash&&o.onMouseEnter(a.linkedSash,!0)}static onMouseLeave(a,g=!1){a.hoverDelayer.cancel(),a.el.classList.remove("hover"),!g&&a.linkedSash&&o.onMouseLeave(a.linkedSash,!0)}clearSashHoverState(){o.onMouseLeave(this)}layout(){if(this.orientation===0){const a=this.layoutProvider;this.el.style.left=a.getVerticalSashLeft(this)-this.size/2+"px",a.getVerticalSashTop&&(this.el.style.top=a.getVerticalSashTop(this)+"px"),a.getVerticalSashHeight&&(this.el.style.height=a.getVerticalSashHeight(this)+"px")}else{const a=this.layoutProvider;this.el.style.top=a.getHorizontalSashTop(this)-this.size/2+"px",a.getHorizontalSashLeft&&(this.el.style.left=a.getHorizontalSashLeft(this)+"px"),a.getHorizontalSashWidth&&(this.el.style.width=a.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(a){var g;const h=(g=a.initialTarget)!==null&&g!==void 0?g:a.target;if(!(!h||!(h instanceof HTMLElement))&&h.classList.contains("orthogonal-drag-handle"))return h.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=o}),define(te[223],ie([1,0,7,152,6,2]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new y.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new y.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new L.Dimension(0,0),this._minSize=new L.Dimension(0,0),this._maxSize=new L.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new I.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new I.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new I.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:I.OrthogonalEdge.North}),this._southSash=new I.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:I.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let _,v=0,C=0;this._sashListener.add(y.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{_===void 0&&(this._onDidWillResize.fire(),_=this._size,v=0,C=0)})),this._sashListener.add(y.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{_!==void 0&&(_=void 0,v=0,C=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{_&&(C=s.currentX-s.startX,this.layout(_.height+v,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{_&&(C=-(s.currentX-s.startX),this.layout(_.height+v,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{_&&(v=-(s.currentY-s.startY),this.layout(_.height+v,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{_&&(v=s.currentY-s.startY,this.layout(_.height+v,_.width+C),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(y.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(y.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(_,v,C,s){this._northSash.state=_?3:0,this._eastSash.state=v?3:0,this._southSash.state=C?3:0,this._westSash.state=s?3:0}layout(_=this.size.height,v=this.size.width){const{height:C,width:s}=this._minSize,{height:i,width:n}=this._maxSize;_=Math.max(C,Math.min(i,_)),v=Math.max(s,Math.min(n,v));const t=new L.Dimension(v,_);L.Dimension.equals(t,this._size)||(this.domNode.style.height=_+"px",this.domNode.style.width=v+"px",this._size=t,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(_){this._maxSize=_}get maxSize(){return this._maxSize}set minSize(_){this._minSize=_}get minSize(){return this._minSize}set preferredSize(_){this._preferredSize=_}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(te[578],ie([1,0,7,61,13,6,2,17]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class _ extends S.Disposable{constructor(C,s,i,n){super(),this.selected=0,this.selectBoxOptions=n||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new D.Emitter),this.styles=i,this.registerListeners(),this.setOptions(C,s)}registerListeners(){this._register(I.Gesture.addTarget(this.selectElement)),[I.EventType.Tap].forEach(C=>{this._register(L.addDisposableListener(this.selectElement,C,s=>{this.selectElement.focus()}))}),this._register(L.addStandardDisposableListener(this.selectElement,"click",C=>{L.EventHelper.stop(C,!0)})),this._register(L.addStandardDisposableListener(this.selectElement,"change",C=>{this.selectElement.title=C.target.value,this._onDidSelect.fire({index:C.target.selectedIndex,selected:C.target.value})})),this._register(L.addStandardDisposableListener(this.selectElement,"keydown",C=>{let s=!1;m.isMacintosh?(C.keyCode===18||C.keyCode===16||C.keyCode===10)&&(s=!0):(C.keyCode===18&&C.altKey||C.keyCode===10||C.keyCode===3)&&(s=!0),s&&C.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(C,s){(!this.options||!y.equals(this.options,C))&&(this.options=C,this.selectElement.options.length=0,this.options.forEach((i,n)=>{this.selectElement.add(this.createOption(i.text,n,i.isDisabled))})),s!==void 0&&this.select(s)}select(C){this.options.length===0?this.selected=0:C>=0&&C<this.options.length?this.selected=C:C>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(C){this.selectElement.tabIndex=C?0:-1}render(C){C.classList.add("select-container"),C.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var C,s,i;this.selectElement&&(this.selectElement.style.backgroundColor=(C=this.styles.selectBackground)!==null&&C!==void 0?C:"",this.selectElement.style.color=(s=this.styles.selectForeground)!==null&&s!==void 0?s:"",this.selectElement.style.borderColor=(i=this.styles.selectBorder)!==null&&i!==void 0?i:"")}createOption(C,s,i){const n=document.createElement("option");return n.value=C,n.text=C,n.disabled=!!i,n}}e.SelectBoxNative=_}),define(te[83],ie([1,0,7,44,60,61,2]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class m extends S.Disposable{onclick(v,C){this._register(L.addDisposableListener(v,L.EventType.CLICK,s=>C(new y.StandardMouseEvent(s))))}onmousedown(v,C){this._register(L.addDisposableListener(v,L.EventType.MOUSE_DOWN,s=>C(new y.StandardMouseEvent(s))))}onmouseover(v,C){this._register(L.addDisposableListener(v,L.EventType.MOUSE_OVER,s=>C(new y.StandardMouseEvent(s))))}onmouseleave(v,C){this._register(L.addDisposableListener(v,L.EventType.MOUSE_LEAVE,s=>C(new y.StandardMouseEvent(s))))}onkeydown(v,C){this._register(L.addDisposableListener(v,L.EventType.KEY_DOWN,s=>C(new I.StandardKeyboardEvent(s))))}onkeyup(v,C){this._register(L.addDisposableListener(v,L.EventType.KEY_UP,s=>C(new I.StandardKeyboardEvent(s))))}oninput(v,C){this._register(L.addDisposableListener(v,L.EventType.INPUT,C))}onblur(v,C){this._register(L.addDisposableListener(v,L.EventType.BLUR,C))}onfocus(v,C){this._register(L.addDisposableListener(v,L.EventType.FOCUS,C))}ignoreGesture(v){return D.Gesture.ignoreTarget(v)}}e.Widget=m}),define(te[224],ie([1,0,151,83,14,27,7]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class m extends I.Widget{constructor(v){super(),this._onActivate=v.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=v.bgWidth+"px",this.bgDomNode.style.height=v.bgHeight+"px",typeof v.top<"u"&&(this.bgDomNode.style.top="0px"),typeof v.left<"u"&&(this.bgDomNode.style.left="0px"),typeof v.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof v.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=v.className,this.domNode.classList.add(...D.ThemeIcon.asClassNameArray(v.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof v.top<"u"&&(this.domNode.style.top=v.top+"px"),typeof v.left<"u"&&(this.domNode.style.left=v.left+"px"),typeof v.bottom<"u"&&(this.domNode.style.bottom=v.bottom+"px"),typeof v.right<"u"&&(this.domNode.style.right=v.right+"px"),this._pointerMoveMonitor=this._register(new L.GlobalPointerMoveMonitor),this._register(S.addStandardDisposableListener(this.bgDomNode,S.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._register(S.addStandardDisposableListener(this.domNode,S.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._pointerdownRepeatTimer=this._register(new y.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new y.TimeoutTimer)}_arrowPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const C=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(C,200),this._pointerMoveMonitor.startMonitoring(v.target,v.pointerId,v.buttons,s=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),v.preventDefault()}}e.ScrollbarArrow=m}),define(te[314],ie([1,0,7,38,151,224,570,83,17]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const v=140;class C extends m.Widget{constructor(i){super(),this._lazyRender=i.lazyRender,this._host=i.host,this._scrollable=i.scrollable,this._scrollByPage=i.scrollByPage,this._scrollbarState=i.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(i.visibility,"visible scrollbar "+i.extraScrollbarClassName,"invisible scrollbar "+i.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new y.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,I.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(L.addDisposableListener(this.domNode.domNode,L.EventType.POINTER_DOWN,n=>this._domNodePointerDown(n)))}_createArrow(i){const n=this._register(new D.ScrollbarArrow(i));this.domNode.domNode.appendChild(n.bgDomNode),this.domNode.domNode.appendChild(n.domNode)}_createSlider(i,n,t,r){this.slider=(0,I.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(i),this.slider.setLeft(n),typeof t=="number"&&this.slider.setWidth(t),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(L.addDisposableListener(this.slider.domNode,L.EventType.POINTER_DOWN,u=>{u.button===0&&(u.preventDefault(),this._sliderPointerDown(u))})),this.onclick(this.slider.domNode,u=>{u.leftButton&&u.stopPropagation()})}_onElementSize(i){return this._scrollbarState.setVisibleSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(i){return this._scrollbarState.setScrollSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(i){return this._scrollbarState.setScrollPosition(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(i){i.target===this.domNode.domNode&&this._onPointerDown(i)}delegatePointerDown(i){const n=this.domNode.domNode.getClientRects()[0].top,t=n+this._scrollbarState.getSliderPosition(),r=n+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),u=this._sliderPointerPosition(i);t<=u&&u<=r?i.button===0&&(i.preventDefault(),this._sliderPointerDown(i)):this._onPointerDown(i)}_onPointerDown(i){let n,t;if(i.target===this.domNode.domNode&&typeof i.offsetX=="number"&&typeof i.offsetY=="number")n=i.offsetX,t=i.offsetY;else{const u=L.getDomNodePagePosition(this.domNode.domNode);n=i.pageX-u.left,t=i.pageY-u.top}const r=this._pointerDownRelativePosition(n,t);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),i.button===0&&(i.preventDefault(),this._sliderPointerDown(i))}_sliderPointerDown(i){if(!i.target||!(i.target instanceof Element))return;const n=this._sliderPointerPosition(i),t=this._sliderOrthogonalPointerPosition(i),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,u=>{const f=this._sliderOrthogonalPointerPosition(u),d=Math.abs(f-t);if(_.isWindows&&d>v){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const o=this._sliderPointerPosition(u)-n;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(o))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(i){const n={};this.writeScrollPosition(n,i),this._scrollable.setScrollPositionNow(n)}updateScrollbarSize(i){this._updateScrollbarSize(i),this._scrollbarState.setScrollbarSize(i),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=C}),define(te[579],ie([1,0,60,314,224,195,26]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class m extends I.AbstractScrollbar{constructor(v,C,s){const i=v.getScrollDimensions(),n=v.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:s,scrollbarState:new D.ScrollbarState(C.horizontalHasArrows?C.arrowSize:0,C.horizontal===2?0:C.horizontalScrollbarSize,C.vertical===2?0:C.verticalScrollbarSize,i.width,i.scrollWidth,n.scrollLeft),visibility:C.horizontal,extraScrollbarClassName:"horizontal",scrollable:v,scrollByPage:C.scrollByPage}),C.horizontalHasArrows){const t=(C.arrowSize-y.ARROW_IMG_SIZE)/2,r=(C.horizontalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonLeft,top:r,left:t,bottom:void 0,right:void 0,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonRight,top:r,left:void 0,bottom:void 0,right:t,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((C.horizontalScrollbarSize-C.horizontalSliderSize)/2),0,void 0,C.horizontalSliderSize)}_updateSlider(v,C){this.slider.setWidth(v),this.slider.setLeft(C)}_renderDomNode(v,C){this.domNode.setWidth(v),this.domNode.setHeight(C),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(v){return this._shouldRender=this._onElementScrollSize(v.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(v.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(v.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(v,C){return v}_sliderPointerPosition(v){return v.pageX}_sliderOrthogonalPointerPosition(v){return v.pageY}_updateScrollbarSize(v){this.slider.setHeight(v)}writeScrollPosition(v,C){v.scrollLeft=C}updateOptions(v){this.updateScrollbarSize(v.horizontal===2?0:v.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(v.vertical===2?0:v.verticalScrollbarSize),this._visibilityController.setVisibility(v.horizontal),this._scrollByPage=v.scrollByPage}}e.HorizontalScrollbar=m}),define(te[580],ie([1,0,60,314,224,195,26]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class m extends I.AbstractScrollbar{constructor(v,C,s){const i=v.getScrollDimensions(),n=v.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:s,scrollbarState:new D.ScrollbarState(C.verticalHasArrows?C.arrowSize:0,C.vertical===2?0:C.verticalScrollbarSize,0,i.height,i.scrollHeight,n.scrollTop),visibility:C.vertical,extraScrollbarClassName:"vertical",scrollable:v,scrollByPage:C.scrollByPage}),C.verticalHasArrows){const t=(C.arrowSize-y.ARROW_IMG_SIZE)/2,r=(C.verticalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonUp,top:t,left:r,bottom:void 0,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonDown,top:void 0,left:r,bottom:t,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((C.verticalScrollbarSize-C.verticalSliderSize)/2),C.verticalSliderSize,void 0)}_updateSlider(v,C){this.slider.setHeight(v),this.slider.setTop(C)}_renderDomNode(v,C){this.domNode.setWidth(C),this.domNode.setHeight(v),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(v){return this._shouldRender=this._onElementScrollSize(v.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(v.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(v.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(v,C){return C}_sliderPointerPosition(v){return v.pageY}_sliderOrthogonalPointerPosition(v){return v.pageX}_updateScrollbarSize(v){this.slider.setWidth(v)}writeScrollPosition(v,C){v.scrollTop=C}updateOptions(v){this.updateScrollbarSize(v.vertical===2?0:v.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(v.vertical),this._scrollByPage=v.scrollByPage}}e.VerticalScrollbar=m}),define(te[84],ie([1,0,51,7,38,60,579,580,83,14,6,2,17,166,411]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const t=500,r=50,u=!0;class f{constructor(p,b,w){this.timestamp=p,this.deltaX=b,this.deltaY=w,this.score=0}}class d{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let p=1,b=0,w=1,E=this._rear;do{const k=E===this._front?p:Math.pow(2,-w);if(p-=k,b+=this._memory[E].score*k,E===this._front)break;E=(this._capacity+E-1)%this._capacity,w++}while(!0);return b<=.5}acceptStandardWheelEvent(p){const b=window.devicePixelRatio/(0,L.getZoomFactor)();i.isWindows||i.isLinux?this.accept(Date.now(),p.deltaX/b,p.deltaY/b):this.accept(Date.now(),p.deltaX,p.deltaY)}accept(p,b,w){const E=new f(p,b,w);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(p){if(Math.abs(p.deltaX)>0&&Math.abs(p.deltaY)>0)return 1;let b=.5;const w=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(p.deltaX)||!this._isAlmostInt(p.deltaY))&&(b+=.25),Math.min(Math.max(b,0),1)}_isAlmostInt(p){return Math.abs(Math.round(p)-p)<.01}}e.MouseWheelClassifier=d,d.INSTANCE=new d;class l extends _.Widget{get options(){return this._options}constructor(p,b,w){super(),this._onScroll=this._register(new C.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new C.Emitter),p.style.overflow="hidden",this._options=g(b),this._scrollable=w,this._register(this._scrollable.onScroll(k=>{this._onWillScroll.fire(k),this._onDidScroll(k),this._onScroll.fire(k)}));const E={onMouseWheel:k=>this._onMouseWheel(k),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new m.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new S.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(p),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,k=>this._onMouseOver(k)),this.onmouseleave(this._listenOnDomNode,k=>this._onMouseLeave(k)),this._hideTimeout=this._register(new v.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(p){this._verticalScrollbar.delegatePointerDown(p)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(p){this._scrollable.setScrollDimensions(p,!1)}updateClassName(p){this._options.className=p,i.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(p){typeof p.handleMouseWheel<"u"&&(this._options.handleMouseWheel=p.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof p.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=p.mouseWheelScrollSensitivity),typeof p.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=p.fastScrollSensitivity),typeof p.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=p.scrollPredominantAxis),typeof p.horizontal<"u"&&(this._options.horizontal=p.horizontal),typeof p.vertical<"u"&&(this._options.vertical=p.vertical),typeof p.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=p.horizontalScrollbarSize),typeof p.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=p.verticalScrollbarSize),typeof p.scrollByPage<"u"&&(this._options.scrollByPage=p.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(p){this._onMouseWheel(new D.StandardWheelEvent(p))}_setListeningToMouseWheel(p){if(this._mouseWheelToDispose.length>0!==p&&(this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),p)){const w=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(I.addDisposableListener(this._listenOnDomNode,I.EventType.MOUSE_WHEEL,w,{passive:!1}))}}_onMouseWheel(p){var b;if(!((b=p.browserEvent)===null||b===void 0)&&b.defaultPrevented)return;const w=d.INSTANCE;u&&w.acceptStandardWheelEvent(p);let E=!1;if(p.deltaY||p.deltaX){let M=p.deltaY*this._options.mouseWheelScrollSensitivity,R=p.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&R+M===0?R=M=0:Math.abs(M)>=Math.abs(R)?R=0:M=0),this._options.flipAxes&&([M,R]=[R,M]);const B=!i.isMacintosh&&p.browserEvent&&p.browserEvent.shiftKey;(this._options.scrollYToX||B)&&!R&&(R=M,M=0),p.browserEvent&&p.browserEvent.altKey&&(R=R*this._options.fastScrollSensitivity,M=M*this._options.fastScrollSensitivity);const T=this._scrollable.getFutureScrollPosition();let N={};if(M){const A=r*M,P=T.scrollTop-(A<0?Math.floor(A):Math.ceil(A));this._verticalScrollbar.writeScrollPosition(N,P)}if(R){const A=r*R,P=T.scrollLeft-(A<0?Math.floor(A):Math.ceil(A));this._horizontalScrollbar.writeScrollPosition(N,P)}N=this._scrollable.validateScrollPosition(N),(T.scrollLeft!==N.scrollLeft||T.scrollTop!==N.scrollTop)&&(u&&this._options.mouseWheelSmoothScroll&&w.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(N):this._scrollable.setScrollPositionNow(N),E=!0)}let k=E;!k&&this._options.alwaysConsumeMouseWheel&&(k=!0),!k&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(k=!0),k&&(p.preventDefault(),p.stopPropagation())}_onDidScroll(p){this._shouldRender=this._horizontalScrollbar.onDidScroll(p)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(p)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const p=this._scrollable.getCurrentScrollPosition(),b=p.scrollTop>0,w=p.scrollLeft>0,E=w?" left":"",k=b?" top":"",M=w||b?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${k}`),this._topLeftShadowDomNode.setClassName(`shadow${M}${k}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(p){this._mouseIsOver=!1,this._hide()}_onMouseOver(p){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),t)}}e.AbstractScrollableElement=l;class o extends l{constructor(p,b){b=b||{},b.mouseWheelSmoothScroll=!1;const w=new n.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>I.scheduleAtNextAnimationFrame(E)});super(p,b,w),this._register(w)}setScrollPosition(p){this._scrollable.setScrollPositionNow(p)}}e.ScrollableElement=o;class c extends l{constructor(p,b,w){super(p,b,w)}setScrollPosition(p){p.reuseAnimation?this._scrollable.setScrollPositionSmooth(p,p.reuseAnimation):this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=c;class a extends l{constructor(p,b){b=b||{},b.mouseWheelSmoothScroll=!1;const w=new n.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>I.scheduleAtNextAnimationFrame(E)});super(p,b,w),this._register(w),this._element=p,this._register(this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)})),this.scanDomNode()}setScrollPosition(p){this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=a;function g(h){const p={lazyRender:typeof h.lazyRender<"u"?h.lazyRender:!1,className:typeof h.className<"u"?h.className:"",useShadows:typeof h.useShadows<"u"?h.useShadows:!0,handleMouseWheel:typeof h.handleMouseWheel<"u"?h.handleMouseWheel:!0,flipAxes:typeof h.flipAxes<"u"?h.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof h.consumeMouseWheelIfScrollbarIsNeeded<"u"?h.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof h.alwaysConsumeMouseWheel<"u"?h.alwaysConsumeMouseWheel:!1,scrollYToX:typeof h.scrollYToX<"u"?h.scrollYToX:!1,mouseWheelScrollSensitivity:typeof h.mouseWheelScrollSensitivity<"u"?h.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof h.fastScrollSensitivity<"u"?h.fastScrollSensitivity:5,scrollPredominantAxis:typeof h.scrollPredominantAxis<"u"?h.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof h.mouseWheelSmoothScroll<"u"?h.mouseWheelSmoothScroll:!0,arrowSize:typeof h.arrowSize<"u"?h.arrowSize:11,listenOnDomNode:typeof h.listenOnDomNode<"u"?h.listenOnDomNode:null,horizontal:typeof h.horizontal<"u"?h.horizontal:1,horizontalScrollbarSize:typeof h.horizontalScrollbarSize<"u"?h.horizontalScrollbarSize:10,horizontalSliderSize:typeof h.horizontalSliderSize<"u"?h.horizontalSliderSize:0,horizontalHasArrows:typeof h.horizontalHasArrows<"u"?h.horizontalHasArrows:!1,vertical:typeof h.vertical<"u"?h.vertical:1,verticalScrollbarSize:typeof h.verticalScrollbarSize<"u"?h.verticalScrollbarSize:10,verticalHasArrows:typeof h.verticalHasArrows<"u"?h.verticalHasArrows:!1,verticalSliderSize:typeof h.verticalSliderSize<"u"?h.verticalSliderSize:0,scrollByPage:typeof h.scrollByPage<"u"?h.scrollByPage:!1};return p.horizontalSliderSize=typeof h.horizontalSliderSize<"u"?h.horizontalSliderSize:p.horizontalScrollbarSize,p.verticalSliderSize=typeof h.verticalSliderSize<"u"?h.verticalSliderSize:p.verticalScrollbarSize,i.isMacintosh&&(p.className+=" mac"),p}}),define(te[315],ie([1,0,7,44,84,2,558,404]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverAccessibleViewHint=e.HoverAction=e.HoverWidget=void 0;const m=L.$;class _ extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new y.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=_;class v extends D.Disposable{static render(i,n,t){return new v(i,n,t)}constructor(i,n,t){super(),this.actionContainer=L.append(i,m("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=L.append(this.actionContainer,m("a.action")),this.action.setAttribute("role","button"),n.iconClass&&L.append(this.action,m(`span.icon.${n.iconClass}`));const r=L.append(this.action,m("span"));r.textContent=t?`${n.label} (${t})`:n.label,this._register(L.addDisposableListener(this.actionContainer,L.EventType.CLICK,u=>{u.stopPropagation(),u.preventDefault(),n.run(this.actionContainer)})),this._register(L.addDisposableListener(this.actionContainer,L.EventType.KEY_DOWN,u=>{const f=new I.StandardKeyboardEvent(u);(f.equals(3)||f.equals(10))&&(u.stopPropagation(),u.preventDefault(),n.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(i){i?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=v;function C(s,i){return s&&i?(0,S.localize)(0,null,i):s?(0,S.localize)(1,null):""}e.getHoverAccessibleViewHint=C}),define(te[225],ie([1,0,196,7,79,61,84,13,14,105,6,2,165,166,395,576,9]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const f={CurrentDragAndDropData:void 0},d={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(p){return[p]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class l{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=l;class o{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class c{constructor(){this.types=[],this.files=[]}update(b){if(b.types&&this.types.splice(0,this.types.length,...b.types),b.files){this.files.splice(0,this.files.length);for(let w=0;w<b.files.length;w++){const E=b.files.item(w);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=c;function a(p,b){return Array.isArray(p)&&Array.isArray(b)?(0,m.equals)(p,b):p===b}class g{constructor(b){b?.getSetSize?this.getSetSize=b.getSetSize.bind(b):this.getSetSize=(w,E,k)=>k,b?.getPosInSet?this.getPosInSet=b.getPosInSet.bind(b):this.getPosInSet=(w,E)=>E+1,b?.getRole?this.getRole=b.getRole.bind(b):this.getRole=w=>"listitem",b?.isChecked?this.isChecked=b.isChecked.bind(b):this.isChecked=w=>{}}}class h{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(b){if(b!==this._horizontalScrolling){if(b&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=b,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const w of this.items)this.measureItemWidth(w);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,I.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(b,w,E,k=d){var M,R,B,T,N,A,P,O,x,W,U,F,G;if(this.virtualDelegate=w,this.domId=`list_id_${++h.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new _.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=s.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=s.Disposable.None,this.onDragLeaveTimeout=s.Disposable.None,this.disposables=new s.DisposableStore,this._onDidChangeContentHeight=new C.Emitter,this._onDidChangeContentWidth=new C.Emitter,this._horizontalScrolling=!1,k.horizontalScrolling&&k.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new t.RangeMap((M=k.paddingTop)!==null&&M!==void 0?M:0);for(const ne of E)this.renderers.set(ne.templateId,ne);this.cache=this.disposables.add(new r.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof k.mouseSupport=="boolean"?k.mouseSupport:!0),this._horizontalScrolling=(R=k.horizontalScrolling)!==null&&R!==void 0?R:d.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof k.paddingBottom>"u"?0:k.paddingBottom,this.accessibilityProvider=new g(k.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((B=k.transformOptimization)!==null&&B!==void 0?B:d.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(D.Gesture.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new n.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(T=k.smoothScrolling)!==null&&T!==void 0&&T?125:0,scheduleAtNextAnimationFrame:ne=>(0,I.scheduleAtNextAnimationFrame)(ne)})),this.scrollableElement=this.disposables.add(new S.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(N=k.alwaysConsumeMouseWheel)!==null&&N!==void 0?N:d.alwaysConsumeMouseWheel,horizontal:1,vertical:(A=k.verticalScrollMode)!==null&&A!==void 0?A:d.verticalScrollMode,useShadows:(P=k.useShadows)!==null&&P!==void 0?P:d.useShadows,mouseWheelScrollSensitivity:k.mouseWheelScrollSensitivity,fastScrollSensitivity:k.fastScrollSensitivity,scrollByPage:k.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),b.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,I.addDisposableListener)(this.rowsContainer,D.EventType.Change,ne=>this.onTouchChange(ne))),this.disposables.add((0,I.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",ne=>ne.target.scrollTop=0)),this.disposables.add((0,I.addDisposableListener)(this.domNode,"dragover",ne=>this.onDragOver(this.toDragEvent(ne)))),this.disposables.add((0,I.addDisposableListener)(this.domNode,"drop",ne=>this.onDrop(this.toDragEvent(ne)))),this.disposables.add((0,I.addDisposableListener)(this.domNode,"dragleave",ne=>this.onDragLeave(this.toDragEvent(ne)))),this.disposables.add((0,I.addDisposableListener)(this.domNode,"dragend",ne=>this.onDragEnd(ne))),this.setRowLineHeight=(O=k.setRowLineHeight)!==null&&O!==void 0?O:d.setRowLineHeight,this.setRowHeight=(x=k.setRowHeight)!==null&&x!==void 0?x:d.setRowHeight,this.supportDynamicHeights=(W=k.supportDynamicHeights)!==null&&W!==void 0?W:d.supportDynamicHeights,this.dnd=(U=k.dnd)!==null&&U!==void 0?U:this.disposables.add(d.dnd),this.layout((F=k.initialSize)===null||F===void 0?void 0:F.height,(G=k.initialSize)===null||G===void 0?void 0:G.width)}updateOptions(b){b.paddingBottom!==void 0&&(this.paddingBottom=b.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),b.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(b.smoothScrolling?125:0),b.horizontalScrolling!==void 0&&(this.horizontalScrolling=b.horizontalScrolling);let w;if(b.scrollByPage!==void 0&&(w=Object.assign(Object.assign({},w??{}),{scrollByPage:b.scrollByPage})),b.mouseWheelScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{mouseWheelScrollSensitivity:b.mouseWheelScrollSensitivity})),b.fastScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{fastScrollSensitivity:b.fastScrollSensitivity})),w&&this.scrollableElement.updateOptions(w),b.paddingTop!==void 0&&b.paddingTop!==this.rangeMap.paddingTop){const E=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),k=b.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=b.paddingTop,this.render(E,Math.max(0,this.lastRenderTop+k),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(b,w,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(b,w,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(b,w,E=[]){const k=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),M={start:b,end:b+w},R=i.Range.intersect(k,M),B=new Map;for(let q=R.end-1;q>=R.start;q--){const H=this.items[q];if(H.dragStartDisposable.dispose(),H.checkedDisposable.dispose(),H.row){let V=B.get(H.templateId);V||(V=[],B.set(H.templateId,V));const Z=this.renderers.get(H.templateId);Z&&Z.disposeElement&&Z.disposeElement(H.element,q,H.row.templateData,H.size),V.push(H.row)}H.row=null}const T={start:b+w,end:this.items.length},N=i.Range.intersect(T,k),A=i.Range.relativeComplement(T,k),P=E.map(q=>({id:String(this.itemId++),element:q,templateId:this.virtualDelegate.getTemplateId(q),size:this.virtualDelegate.getHeight(q),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(q),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:s.Disposable.None,checkedDisposable:s.Disposable.None}));let O;b===0&&w>=this.items.length?(this.rangeMap=new t.RangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,P),O=this.items,this.items=P):(this.rangeMap.splice(b,w,P),O=this.items.splice(b,w,...P));const x=E.length-w,W=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),U=(0,t.shift)(N,x),F=i.Range.intersect(W,U);for(let q=F.start;q<F.end;q++)this.updateItemInDOM(this.items[q],q);const G=i.Range.relativeComplement(U,W);for(const q of G)for(let H=q.start;H<q.end;H++)this.removeItemFromDOM(H);const Y=A.map(q=>(0,t.shift)(q,x)),se=[{start:b,end:b+E.length},...Y].map(q=>i.Range.intersect(W,q)),J=this.getNextToLastElement(se);for(const q of se)for(let H=q.start;H<q.end;H++){const V=this.items[H],Z=B.get(V.templateId),ee=Z?.pop();this.insertItemInDOM(H,J,ee)}for(const q of B.values())for(const H of q)this.cache.release(H);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),O.map(q=>q.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,I.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let b=0;for(const w of this.items)typeof w.width<"u"&&(b=Math.max(b,w.width));this.scrollWidth=b,this.scrollableElement.setScrollDimensions({scrollWidth:b===0?0:b+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const b of this.items)b.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const b=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),w=this.rangeMap.positionAt(b.start),E=this.rangeMap.positionAt(b.start+1);return E!==-1&&(E-w)/2+w<this.scrollTop?b.start+1:b.start}element(b){return this.items[b].element}domElement(b){const w=this.items[b].row;return w&&w.domNode}elementHeight(b){return this.items[b].size}elementTop(b){return this.rangeMap.positionAt(b)}indexAt(b){return this.rangeMap.indexAt(b)}indexAfter(b){return this.rangeMap.indexAfter(b)}layout(b,w){const E={height:typeof b=="number"?b:(0,I.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof w<"u"&&(this.renderWidth=w,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof w=="number"?w:(0,I.getContentWidth)(this.domNode)})}render(b,w,E,k,M,R=!1){const B=this.getRenderRange(w,E),T=i.Range.relativeComplement(B,b),N=i.Range.relativeComplement(b,B),A=this.getNextToLastElement(T);if(R){const P=i.Range.intersect(b,B);for(let O=P.start;O<P.end;O++)this.updateItemInDOM(this.items[O],O)}this.cache.transact(()=>{for(const P of N)for(let O=P.start;O<P.end;O++)this.removeItemFromDOM(O);for(const P of T)for(let O=P.start;O<P.end;O++)this.insertItemInDOM(O,A)}),k!==void 0&&(this.rowsContainer.style.left=`-${k}px`),this.rowsContainer.style.top=`-${w}px`,this.horizontalScrolling&&M!==void 0&&(this.rowsContainer.style.width=`${Math.max(M,this.renderWidth)}px`),this.lastRenderTop=w,this.lastRenderHeight=E}insertItemInDOM(b,w,E){const k=this.items[b];let M=!1;if(!k.row)if(E)k.row=E;else{const A=this.cache.alloc(k.templateId);k.row=A.row,M=A.isReusingConnectedDomNode}const R=this.accessibilityProvider.getRole(k.element)||"listitem";k.row.domNode.setAttribute("role",R);const B=this.accessibilityProvider.isChecked(k.element);if(typeof B=="boolean")k.row.domNode.setAttribute("aria-checked",String(!!B));else if(B){const A=P=>k.row.domNode.setAttribute("aria-checked",String(!!P));A(B.value),k.checkedDisposable=B.onDidChange(A)}(M||!k.row.domNode.parentElement)&&(w?this.rowsContainer.insertBefore(k.row.domNode,w):this.rowsContainer.appendChild(k.row.domNode)),this.updateItemInDOM(k,b);const T=this.renderers.get(k.templateId);if(!T)throw new Error(`No renderer found for template id ${k.templateId}`);T?.renderElement(k.element,b,k.row.templateData,k.size);const N=this.dnd.getDragURI(k.element);k.dragStartDisposable.dispose(),k.row.domNode.draggable=!!N,N&&(k.dragStartDisposable=(0,I.addDisposableListener)(k.row.domNode,"dragstart",A=>this.onDragStart(k.element,N,A))),this.horizontalScrolling&&(this.measureItemWidth(k),this.eventuallyUpdateScrollWidth())}measureItemWidth(b){if(!b.row||!b.row.domNode)return;b.row.domNode.style.width="fit-content",b.width=(0,I.getContentWidth)(b.row.domNode);const w=window.getComputedStyle(b.row.domNode);w.paddingLeft&&(b.width+=parseFloat(w.paddingLeft)),w.paddingRight&&(b.width+=parseFloat(w.paddingRight)),b.row.domNode.style.width=""}updateItemInDOM(b,w){b.row.domNode.style.top=`${this.elementTop(w)}px`,this.setRowHeight&&(b.row.domNode.style.height=`${b.size}px`),this.setRowLineHeight&&(b.row.domNode.style.lineHeight=`${b.size}px`),b.row.domNode.setAttribute("data-index",`${w}`),b.row.domNode.setAttribute("data-last-element",w===this.length-1?"true":"false"),b.row.domNode.setAttribute("data-parity",w%2===0?"even":"odd"),b.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(b.element,w,this.length))),b.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(b.element,w))),b.row.domNode.setAttribute("id",this.getElementDomId(w)),b.row.domNode.classList.toggle("drop-target",b.dropTarget)}removeItemFromDOM(b){const w=this.items[b];if(w.dragStartDisposable.dispose(),w.checkedDisposable.dispose(),w.row){const E=this.renderers.get(w.templateId);E&&E.disposeElement&&E.disposeElement(w.element,b,w.row.templateData,w.size),this.cache.release(w.row),w.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(b,w){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:b,reuseAnimation:w})}get scrollTop(){return this.getScrollTop()}set scrollTop(b){this.setScrollTop(b)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"click")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseDblClick(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"dblclick")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseMiddleClick(){return C.Event.filter(C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"auxclick")).event,b=>this.toMouseEvent(b),this.disposables),b=>b.browserEvent.button===1,this.disposables)}get onMouseDown(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mousedown")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseOver(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseover")).event,b=>this.toMouseEvent(b),this.disposables)}get onMouseOut(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseout")).event,b=>this.toMouseEvent(b),this.disposables)}get onContextMenu(){return C.Event.any(C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"contextmenu")).event,b=>this.toMouseEvent(b),this.disposables),C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,b=>this.toGestureEvent(b),this.disposables))}get onTouchStart(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"touchstart")).event,b=>this.toTouchEvent(b),this.disposables)}get onTap(){return C.Event.map(this.disposables.add(new y.DomEmitter(this.rowsContainer,D.EventType.Tap)).event,b=>this.toGestureEvent(b),this.disposables)}toMouseEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],k=E&&E.element;return{browserEvent:b,index:w,element:k}}toTouchEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],k=E&&E.element;return{browserEvent:b,index:w,element:k}}toGestureEvent(b){const w=this.getItemIndexFromEventTarget(b.initialTarget||null),E=typeof w>"u"?void 0:this.items[w],k=E&&E.element;return{browserEvent:b,index:w,element:k}}toDragEvent(b){const w=this.getItemIndexFromEventTarget(b.target||null),E=typeof w>"u"?void 0:this.items[w],k=E&&E.element;return{browserEvent:b,index:w,element:k}}onScroll(b){try{const w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(w,b.scrollTop,b.height,b.scrollLeft,b.scrollWidth),this.supportDynamicHeights&&this._rerender(b.scrollTop,b.height,b.inSmoothScrolling)}catch(w){throw console.error("Got bad scroll event:",b),w}}onTouchChange(b){b.preventDefault(),b.stopPropagation(),this.scrollTop-=b.translationY}onDragStart(b,w,E){var k,M;if(!E.dataTransfer)return;const R=this.dnd.getDragElements(b);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(L.DataTransfers.TEXT,w),E.dataTransfer.setDragImage){let B;this.dnd.getDragLabel&&(B=this.dnd.getDragLabel(R,E)),typeof B>"u"&&(B=String(R.length));const T=(0,I.$)(".monaco-drag-image");T.textContent=B;const A=(P=>{for(;P&&!P.classList.contains("monaco-workbench");)P=P.parentElement;return P||document.body})(this.domNode);A.appendChild(T),E.dataTransfer.setDragImage(T,-10,-10),setTimeout(()=>A.removeChild(T),0)}this.domNode.classList.add("dragging"),this.currentDragData=new l(R),f.CurrentDragAndDropData=new o(R),(M=(k=this.dnd).onDragStart)===null||M===void 0||M.call(k,this.currentDragData,E)}onDragOver(b){var w;if(b.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),f.CurrentDragAndDropData&&f.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(b.browserEvent),!b.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(f.CurrentDragAndDropData)this.currentDragData=f.CurrentDragAndDropData;else{if(!b.browserEvent.dataTransfer.types)return!1;this.currentDragData=new c}const E=this.dnd.onDragOver(this.currentDragData,b.element,b.index,b.browserEvent);if(this.canDrop=typeof E=="boolean"?E:E.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;b.browserEvent.dataTransfer.dropEffect=typeof E!="boolean"&&E.effect===0?"copy":"move";let k;if(typeof E!="boolean"&&E.feedback?k=E.feedback:typeof b.index>"u"?k=[-1]:k=[b.index],k=(0,m.distinct)(k).filter(M=>M>=-1&&M<this.length).sort((M,R)=>M-R),k=k[0]===-1?[-1]:k,a(this.currentDragFeedback,k))return!0;if(this.currentDragFeedback=k,this.currentDragFeedbackDisposable.dispose(),k[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const M of k){const R=this.items[M];R.dropTarget=!0,(w=R.row)===null||w===void 0||w.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{var M;for(const R of k){const B=this.items[R];B.dropTarget=!1,(M=B.row)===null||M===void 0||M.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(b){var w,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,_.disposableTimeout)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((E=(w=this.dnd).onDragLeave)===null||E===void 0||E.call(w,this.currentDragData,b.element,b.index,b.browserEvent))}onDrop(b){if(!this.canDrop)return;const w=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,f.CurrentDragAndDropData=void 0,!(!w||!b.browserEvent.dataTransfer)&&(b.browserEvent.preventDefault(),w.update(b.browserEvent.dataTransfer),this.dnd.drop(w,b.element,b.index,b.browserEvent))}onDragEnd(b){var w,E;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,f.CurrentDragAndDropData=void 0,(E=(w=this.dnd).onDragEnd)===null||E===void 0||E.call(w,b)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=s.Disposable.None}setupDragAndDropScrollTopAnimation(b){if(!this.dragOverAnimationDisposable){const w=(0,I.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,I.animate)(this.animateDragAndDropScrollTop.bind(this,w))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,_.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=b.pageY}animateDragAndDropScrollTop(b){if(this.dragOverMouseY===void 0)return;const w=this.dragOverMouseY-b,E=this.renderHeight-35;w<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(w-35))):w>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(w-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(b){const w=this.scrollableElement.getDomNode();let E=b;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&w.contains(E);){const k=E.getAttribute("data-index");if(k){const M=Number(k);if(!isNaN(M))return M}E=E.parentElement}}getRenderRange(b,w){return{start:this.rangeMap.indexAt(b),end:this.rangeMap.indexAfter(b+w-1)}}_rerender(b,w,E){const k=this.getRenderRange(b,w);let M,R;b===this.elementTop(k.start)?(M=k.start,R=0):k.end-k.start>1&&(M=k.start+1,R=this.elementTop(M)-b);let B=0;for(;;){const T=this.getRenderRange(b,w);let N=!1;for(let A=T.start;A<T.end;A++){const P=this.probeDynamicHeight(A);P!==0&&this.rangeMap.splice(A,1,[this.items[A]]),B+=P,N=N||P!==0}if(!N){B!==0&&this.eventuallyUpdateScrollDimensions();const A=i.Range.relativeComplement(k,T);for(const O of A)for(let x=O.start;x<O.end;x++)this.items[x].row&&this.removeItemFromDOM(x);const P=i.Range.relativeComplement(T,k);for(const O of P)for(let x=O.start;x<O.end;x++){const W=x+1,U=W<this.items.length?this.items[W].row:null,F=U?U.domNode:null;this.insertItemInDOM(x,F)}for(let O=T.start;O<T.end;O++)this.items[O].row&&this.updateItemInDOM(this.items[O],O);if(typeof M=="number"){const O=this.scrollable.getFutureScrollPosition().scrollTop-b,x=this.elementTop(M)-R+O;this.setScrollTop(x,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(b){var w,E,k;const M=this.items[b];if(this.virtualDelegate.getDynamicHeight){const N=this.virtualDelegate.getDynamicHeight(M.element);if(N!==null){const A=M.size;return M.size=N,M.lastDynamicHeightWidth=this.renderWidth,N-A}}if(!M.hasDynamicHeight||M.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(M.element))return 0;const R=M.size;if(M.row)return M.row.domNode.style.height="",M.size=M.row.domNode.offsetHeight,M.lastDynamicHeightWidth=this.renderWidth,M.size-R;const{row:B}=this.cache.alloc(M.templateId);B.domNode.style.height="",this.rowsContainer.appendChild(B.domNode);const T=this.renderers.get(M.templateId);if(!T)throw new u.BugIndicatingError("Missing renderer for templateId: "+M.templateId);return T.renderElement(M.element,b,B.templateData,void 0),M.size=B.domNode.offsetHeight,(w=T.disposeElement)===null||w===void 0||w.call(T,M.element,b,B.templateData,void 0),(k=(E=this.virtualDelegate).setDynamicHeight)===null||k===void 0||k.call(E,M.element,M.size),M.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(B.domNode),this.cache.release(B),M.size-R}getNextToLastElement(b){const w=b[b.length-1];if(!w)return null;const E=this.items[w.end];return!E||!E.row?null:E.row.domNode}getElementDomId(b){return`${this.domId}_${b}`}dispose(){var b,w;for(const E of this.items)if(E.dragStartDisposable.dispose(),E.checkedDisposable.dispose(),E.row){const k=this.renderers.get(E.row.templateId);k&&((b=k.disposeElement)===null||b===void 0||b.call(k,E.element,-1,E.row.templateData,void 0),k.disposeTemplate(E.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(w=this.dragOverAnimationDisposable)===null||w===void 0||w.dispose(),this.disposables.dispose()}}e.ListView=h,h.InstanceCount=0,Ie([v.memoize],h.prototype,"onMouseClick",null),Ie([v.memoize],h.prototype,"onMouseDblClick",null),Ie([v.memoize],h.prototype,"onMouseMiddleClick",null),Ie([v.memoize],h.prototype,"onMouseDown",null),Ie([v.memoize],h.prototype,"onMouseOver",null),Ie([v.memoize],h.prototype,"onMouseOut",null),Ie([v.memoize],h.prototype,"onContextMenu",null),Ie([v.memoize],h.prototype,"onTouchStart",null),Ie([v.memoize],h.prototype,"onTap",null)}),define(te[113],ie([1,0,7,79,44,61,45,386,13,14,36,105,6,69,2,139,17,20,385,225,60,267]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isMonacoEditor=e.isInputElement=void 0;class c{constructor(V){this.trait=V,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(V){return V}renderElement(V,Z,ee){const le=this.renderedElements.findIndex(ue=>ue.templateData===ee);if(le>=0){const ue=this.renderedElements[le];this.trait.unrender(ee),ue.index=Z}else{const ue={index:Z,templateData:ee};this.renderedElements.push(ue)}this.trait.renderIndex(Z,ee)}splice(V,Z,ee){const le=[];for(const ue of this.renderedElements)ue.index<V?le.push(ue):ue.index>=V+Z&&le.push({index:ue.index+ee-Z,templateData:ue.templateData});this.renderedElements=le}renderIndexes(V){for(const{index:Z,templateData:ee}of this.renderedElements)V.indexOf(Z)>-1&&this.trait.renderIndex(Z,ee)}disposeTemplate(V){const Z=this.renderedElements.findIndex(ee=>ee.templateData===V);Z<0||this.renderedElements.splice(Z,1)}}class a{get name(){return this._trait}get renderer(){return new c(this)}constructor(V){this._trait=V,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}splice(V,Z,ee){var le;Z=Math.max(0,Math.min(Z,this.length-V));const ue=ee.length-Z,de=V+Z,ce=[];let ae=0;for(;ae<this.sortedIndexes.length&&this.sortedIndexes[ae]<V;)ce.push(this.sortedIndexes[ae++]);for(let K=0;K<ee.length;K++)ee[K]&&ce.push(K+V);for(;ae<this.sortedIndexes.length&&this.sortedIndexes[ae]>=de;)ce.push(this.sortedIndexes[ae++]+ue);const X=this.length+ue;if(this.sortedIndexes.length>0&&ce.length===0&&X>0){const K=(le=this.sortedIndexes.find(z=>z>=V))!==null&&le!==void 0?le:X-1;ce.push(Math.min(K,X-1))}this.renderer.splice(V,Z,ee.length),this._set(ce,ce),this.length=X}renderIndex(V,Z){Z.classList.toggle(this._trait,this.contains(V))}unrender(V){V.classList.remove(this._trait)}set(V,Z){return this._set(V,[...V].sort(Y),Z)}_set(V,Z,ee){const le=this.indexes,ue=this.sortedIndexes;this.indexes=V,this.sortedIndexes=Z;const de=F(ue,V);return this.renderer.renderIndexes(de),this._onChange.fire({indexes:V,browserEvent:ee}),le}get(){return this.indexes}contains(V){return(0,_.binarySearch)(this.sortedIndexes,V,Y)>=0}dispose(){(0,t.dispose)(this._onChange)}}Ie([s.memoize],a.prototype,"renderer",null);class g extends a{constructor(V){super("selected"),this.setAriaSelected=V}renderIndex(V,Z){super.renderIndex(V,Z),this.setAriaSelected&&(this.contains(V)?Z.setAttribute("aria-selected","true"):Z.setAttribute("aria-selected","false"))}}class h{constructor(V,Z,ee){this.trait=V,this.view=Z,this.identityProvider=ee}splice(V,Z,ee){if(!this.identityProvider)return this.trait.splice(V,Z,new Array(ee.length).fill(!1));const le=this.trait.get().map(ce=>this.identityProvider.getId(this.view.element(ce)).toString());if(le.length===0)return this.trait.splice(V,Z,new Array(ee.length).fill(!1));const ue=new Set(le),de=ee.map(ce=>ue.has(this.identityProvider.getId(ce).toString()));this.trait.splice(V,Z,de)}}function p(H){return H.tagName==="INPUT"||H.tagName==="TEXTAREA"}e.isInputElement=p;function b(H){return H.classList.contains("monaco-editor")?!0:H.classList.contains("monaco-list")||!H.parentElement?!1:b(H.parentElement)}e.isMonacoEditor=b;function w(H){return H.tagName==="A"&&H.classList.contains("monaco-button")||H.tagName==="DIV"&&H.classList.contains("monaco-button-dropdown")?!0:H.classList.contains("monaco-list")||!H.parentElement?!1:w(H.parentElement)}e.isButton=w;class E{get onKeyDown(){return i.Event.chain(this.disposables.add(new I.DomEmitter(this.view.domNode,"keydown")).event,V=>V.filter(Z=>!p(Z.target)).map(Z=>new y.StandardKeyboardEvent(Z)))}constructor(V,Z,ee){this.list=V,this.view=Z,this.disposables=new t.DisposableStore,this.multipleSelectionDisposables=new t.DisposableStore,this.multipleSelectionSupport=ee.multipleSelectionSupport,this.disposables.add(this.onKeyDown(le=>{switch(le.keyCode){case 3:return this.onEnter(le);case 16:return this.onUpArrow(le);case 18:return this.onDownArrow(le);case 11:return this.onPageUpArrow(le);case 12:return this.onPageDownArrow(le);case 9:return this.onEscape(le);case 31:this.multipleSelectionSupport&&(u.isMacintosh?le.metaKey:le.ctrlKey)&&this.onCtrlA(le)}}))}updateOptions(V){V.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=V.multipleSelectionSupport)}onEnter(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection(this.list.getFocus(),V.browserEvent)}onUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPrevious(1,!1,V.browserEvent);const Z=this.list.getFocus()[0];this.list.setAnchor(Z),this.list.reveal(Z),this.view.domNode.focus()}onDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNext(1,!1,V.browserEvent);const Z=this.list.getFocus()[0];this.list.setAnchor(Z),this.list.reveal(Z),this.view.domNode.focus()}onPageUpArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusPreviousPage(V.browserEvent);const Z=this.list.getFocus()[0];this.list.setAnchor(Z),this.list.reveal(Z),this.view.domNode.focus()}onPageDownArrow(V){V.preventDefault(),V.stopPropagation(),this.list.focusNextPage(V.browserEvent);const Z=this.list.getFocus()[0];this.list.setAnchor(Z),this.list.reveal(Z),this.view.domNode.focus()}onCtrlA(V){V.preventDefault(),V.stopPropagation(),this.list.setSelection((0,_.range)(this.list.length),V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(V){this.list.getSelection().length&&(V.preventDefault(),V.stopPropagation(),this.list.setSelection([],V.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Ie([s.memoize],E.prototype,"onKeyDown",null);var k;(function(H){H[H.Automatic=0]="Automatic",H[H.Trigger=1]="Trigger"})(k||(e.TypeNavigationMode=k={}));var M;(function(H){H[H.Idle=0]="Idle",H[H.Typing=1]="Typing"})(M||(M={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(H){return H.ctrlKey||H.metaKey||H.altKey?!1:H.keyCode>=31&&H.keyCode<=56||H.keyCode>=21&&H.keyCode<=30||H.keyCode>=98&&H.keyCode<=107||H.keyCode>=85&&H.keyCode<=95}};class R{constructor(V,Z,ee,le,ue){this.list=V,this.view=Z,this.keyboardNavigationLabelProvider=ee,this.keyboardNavigationEventFilter=le,this.delegate=ue,this.enabled=!1,this.state=M.Idle,this.mode=k.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new t.DisposableStore,this.disposables=new t.DisposableStore,this.updateOptions(V.options)}updateOptions(V){var Z,ee;!((Z=V.typeNavigationEnabled)!==null&&Z!==void 0)||Z?this.enable():this.disable(),this.mode=(ee=V.typeNavigationMode)!==null&&ee!==void 0?ee:k.Automatic}enable(){if(this.enabled)return;let V=!1;const Z=i.Event.chain(this.enabledDisposables.add(new I.DomEmitter(this.view.domNode,"keydown")).event,ue=>ue.filter(de=>!p(de.target)).filter(()=>this.mode===k.Automatic||this.triggered).map(de=>new y.StandardKeyboardEvent(de)).filter(de=>V||this.keyboardNavigationEventFilter(de)).filter(de=>this.delegate.mightProducePrintableCharacter(de)).forEach(de=>L.EventHelper.stop(de,!0)).map(de=>de.browserEvent.key)),ee=i.Event.debounce(Z,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);i.Event.reduce(i.Event.any(Z,ee),(ue,de)=>de===null?null:(ue||"")+de,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ee(this.onClear,this,this.enabledDisposables),Z(()=>V=!0,void 0,this.enabledDisposables),ee(()=>V=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var V;const Z=this.list.getFocus();if(Z.length>0&&Z[0]===this.previouslyFocused){const ee=(V=this.list.options.accessibilityProvider)===null||V===void 0?void 0:V.getAriaLabel(this.list.element(Z[0]));ee&&(0,S.alert)(ee)}this.previouslyFocused=-1}onInput(V){if(!V){this.state=M.Idle,this.triggered=!1;return}const Z=this.list.getFocus(),ee=Z.length>0?Z[0]:0,le=this.state===M.Idle?1:0;this.state=M.Typing;for(let ue=0;ue<this.list.length;ue++){const de=(ee+ue+le)%this.list.length,ce=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(de)),ae=ce&&ce.toString();if(this.list.options.typeNavigationEnabled){if(typeof ae<"u"){if((0,n.matchesPrefix)(V,ae)){this.previouslyFocused=ee,this.list.setFocus([de]),this.list.reveal(de);return}const X=(0,n.matchesFuzzy2)(V,ae);if(X&&X[0].end-X[0].start>1&&X.length===1){this.previouslyFocused=ee,this.list.setFocus([de]),this.list.reveal(de);return}}}else if(typeof ae>"u"||(0,n.matchesPrefix)(V,ae)){this.previouslyFocused=ee,this.list.setFocus([de]),this.list.reveal(de);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class B{constructor(V,Z){this.list=V,this.view=Z,this.disposables=new t.DisposableStore;const ee=i.Event.chain(this.disposables.add(new I.DomEmitter(Z.domNode,"keydown")).event,ue=>ue.filter(de=>!p(de.target)).map(de=>new y.StandardKeyboardEvent(de)));i.Event.chain(ee,ue=>ue.filter(de=>de.keyCode===2&&!de.ctrlKey&&!de.metaKey&&!de.shiftKey&&!de.altKey))(this.onTab,this,this.disposables)}onTab(V){if(V.target!==this.view.domNode)return;const Z=this.list.getFocus();if(Z.length===0)return;const ee=this.view.domElement(Z[0]);if(!ee)return;const le=ee.querySelector("[tabIndex]");if(!le||!(le instanceof HTMLElement)||le.tabIndex===-1)return;const ue=window.getComputedStyle(le);ue.visibility==="hidden"||ue.display==="none"||(V.preventDefault(),V.stopPropagation(),le.focus())}dispose(){this.disposables.dispose()}}function T(H){return u.isMacintosh?H.browserEvent.metaKey:H.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=T;function N(H){return H.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=N;function A(H){return H instanceof MouseEvent&&H.button===2}const P={isSelectionSingleChangeEvent:T,isSelectionRangeChangeEvent:N};class O{constructor(V){this.list=V,this.disposables=new t.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,V.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||P),this.mouseSupport=typeof V.options.mouseSupport>"u"||!!V.options.mouseSupport,this.mouseSupport&&(V.onMouseDown(this.onMouseDown,this,this.disposables),V.onContextMenu(this.onContextMenu,this,this.disposables),V.onMouseDblClick(this.onDoubleClick,this,this.disposables),V.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(V.getHTMLElement()))),i.Event.any(V.onMouseClick,V.onMouseMiddleClick,V.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(V){V.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,V.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||P))}isSelectionSingleChangeEvent(V){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(V):!1}isSelectionRangeChangeEvent(V){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(V):!1}isSelectionChangeEvent(V){return this.isSelectionSingleChangeEvent(V)||this.isSelectionRangeChangeEvent(V)}onMouseDown(V){b(V.browserEvent.target)||document.activeElement!==V.browserEvent.target&&this.list.domFocus()}onContextMenu(V){if(p(V.browserEvent.target)||b(V.browserEvent.target))return;const Z=typeof V.index>"u"?[]:[V.index];this.list.setFocus(Z,V.browserEvent)}onViewPointer(V){if(!this.mouseSupport||p(V.browserEvent.target)||b(V.browserEvent.target)||V.browserEvent.isHandledByList)return;V.browserEvent.isHandledByList=!0;const Z=V.index;if(typeof Z>"u"){this.list.setFocus([],V.browserEvent),this.list.setSelection([],V.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(V))return this.changeSelection(V);this.list.setFocus([Z],V.browserEvent),this.list.setAnchor(Z),A(V.browserEvent)||this.list.setSelection([Z],V.browserEvent),this._onPointer.fire(V)}onDoubleClick(V){if(p(V.browserEvent.target)||b(V.browserEvent.target)||this.isSelectionChangeEvent(V)||V.browserEvent.isHandledByList)return;V.browserEvent.isHandledByList=!0;const Z=this.list.getFocus();this.list.setSelection(Z,V.browserEvent)}changeSelection(V){const Z=V.index;let ee=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(V)){if(typeof ee>"u"){const K=this.list.getFocus()[0];ee=K??Z,this.list.setAnchor(ee)}const le=Math.min(ee,Z),ue=Math.max(ee,Z),de=(0,_.range)(le,ue+1),ce=this.list.getSelection(),ae=U(F(ce,[ee]),ee);if(ae.length===0)return;const X=F(de,G(ce,ae));this.list.setSelection(X,V.browserEvent),this.list.setFocus([Z],V.browserEvent)}else if(this.isSelectionSingleChangeEvent(V)){const le=this.list.getSelection(),ue=le.filter(de=>de!==Z);this.list.setFocus([Z]),this.list.setAnchor(Z),le.length===ue.length?this.list.setSelection([...ue,Z],V.browserEvent):this.list.setSelection(ue,V.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=O;class x{constructor(V,Z){this.styleElement=V,this.selectorSuffix=Z}style(V){var Z,ee;const le=this.selectorSuffix&&`.${this.selectorSuffix}`,ue=[];V.listBackground&&ue.push(`.monaco-list${le} .monaco-list-rows { background: ${V.listBackground}; }`),V.listFocusBackground&&(ue.push(`.monaco-list${le}:focus .monaco-list-row.focused { background-color: ${V.listFocusBackground}; }`),ue.push(`.monaco-list${le}:focus .monaco-list-row.focused:hover { background-color: ${V.listFocusBackground}; }`)),V.listFocusForeground&&ue.push(`.monaco-list${le}:focus .monaco-list-row.focused { color: ${V.listFocusForeground}; }`),V.listActiveSelectionBackground&&(ue.push(`.monaco-list${le}:focus .monaco-list-row.selected { background-color: ${V.listActiveSelectionBackground}; }`),ue.push(`.monaco-list${le}:focus .monaco-list-row.selected:hover { background-color: ${V.listActiveSelectionBackground}; }`)),V.listActiveSelectionForeground&&ue.push(`.monaco-list${le}:focus .monaco-list-row.selected { color: ${V.listActiveSelectionForeground}; }`),V.listActiveSelectionIconForeground&&ue.push(`.monaco-list${le}:focus .monaco-list-row.selected .codicon { color: ${V.listActiveSelectionIconForeground}; }`),V.listFocusAndSelectionBackground&&ue.push(`
				.monaco-drag-image,
				.monaco-list${le}:focus .monaco-list-row.selected.focused { background-color: ${V.listFocusAndSelectionBackground}; }
			`),V.listFocusAndSelectionForeground&&ue.push(`
				.monaco-drag-image,
				.monaco-list${le}:focus .monaco-list-row.selected.focused { color: ${V.listFocusAndSelectionForeground}; }
			`),V.listInactiveFocusForeground&&(ue.push(`.monaco-list${le} .monaco-list-row.focused { color:  ${V.listInactiveFocusForeground}; }`),ue.push(`.monaco-list${le} .monaco-list-row.focused:hover { color:  ${V.listInactiveFocusForeground}; }`)),V.listInactiveSelectionIconForeground&&ue.push(`.monaco-list${le} .monaco-list-row.focused .codicon { color:  ${V.listInactiveSelectionIconForeground}; }`),V.listInactiveFocusBackground&&(ue.push(`.monaco-list${le} .monaco-list-row.focused { background-color:  ${V.listInactiveFocusBackground}; }`),ue.push(`.monaco-list${le} .monaco-list-row.focused:hover { background-color:  ${V.listInactiveFocusBackground}; }`)),V.listInactiveSelectionBackground&&(ue.push(`.monaco-list${le} .monaco-list-row.selected { background-color:  ${V.listInactiveSelectionBackground}; }`),ue.push(`.monaco-list${le} .monaco-list-row.selected:hover { background-color:  ${V.listInactiveSelectionBackground}; }`)),V.listInactiveSelectionForeground&&ue.push(`.monaco-list${le} .monaco-list-row.selected { color: ${V.listInactiveSelectionForeground}; }`),V.listHoverBackground&&ue.push(`.monaco-list${le}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${V.listHoverBackground}; }`),V.listHoverForeground&&ue.push(`.monaco-list${le}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${V.listHoverForeground}; }`);const de=(0,L.asCssValueWithDefault)(V.listFocusAndSelectionOutline,(0,L.asCssValueWithDefault)(V.listSelectionOutline,(Z=V.listFocusOutline)!==null&&Z!==void 0?Z:""));de&&ue.push(`.monaco-list${le}:focus .monaco-list-row.focused.selected { outline: 1px solid ${de}; outline-offset: -1px;}`),V.listFocusOutline&&ue.push(`
				.monaco-drag-image,
				.monaco-list${le}:focus .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${le}.last-focused .monaco-list-row.focused { outline: 1px solid ${V.listFocusOutline}; outline-offset: -1px; }
			`);const ce=(0,L.asCssValueWithDefault)(V.listSelectionOutline,(ee=V.listInactiveFocusOutline)!==null&&ee!==void 0?ee:"");ce&&ue.push(`.monaco-list${le} .monaco-list-row.focused.selected { outline: 1px dotted ${ce}; outline-offset: -1px; }`),V.listSelectionOutline&&ue.push(`.monaco-list${le} .monaco-list-row.selected { outline: 1px dotted ${V.listSelectionOutline}; outline-offset: -1px; }`),V.listInactiveFocusOutline&&ue.push(`.monaco-list${le} .monaco-list-row.focused { outline: 1px dotted ${V.listInactiveFocusOutline}; outline-offset: -1px; }`),V.listHoverOutline&&ue.push(`.monaco-list${le} .monaco-list-row:hover { outline: 1px dashed ${V.listHoverOutline}; outline-offset: -1px; }`),V.listDropBackground&&ue.push(`
				.monaco-list${le}.drop-target,
				.monaco-list${le} .monaco-list-rows.drop-target,
				.monaco-list${le} .monaco-list-row.drop-target { background-color: ${V.listDropBackground} !important; color: inherit !important; }
			`),V.tableColumnsBorder&&ue.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${V.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),V.tableOddRowsBackgroundColor&&ue.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${V.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=ue.join(`
`)}}e.DefaultStyleController=x,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:C.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:C.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:C.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0};const W={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function U(H,V){const Z=H.indexOf(V);if(Z===-1)return[];const ee=[];let le=Z-1;for(;le>=0&&H[le]===V-(Z-le);)ee.push(H[le--]);for(ee.reverse(),le=Z;le<H.length&&H[le]===V+(le-Z);)ee.push(H[le++]);return ee}function F(H,V){const Z=[];let ee=0,le=0;for(;ee<H.length||le<V.length;)if(ee>=H.length)Z.push(V[le++]);else if(le>=V.length)Z.push(H[ee++]);else if(H[ee]===V[le]){Z.push(H[ee]),ee++,le++;continue}else H[ee]<V[le]?Z.push(H[ee++]):Z.push(V[le++]);return Z}function G(H,V){const Z=[];let ee=0,le=0;for(;ee<H.length||le<V.length;)if(ee>=H.length)Z.push(V[le++]);else if(le>=V.length)Z.push(H[ee++]);else if(H[ee]===V[le]){ee++,le++;continue}else H[ee]<V[le]?Z.push(H[ee++]):le++;return Z}const Y=(H,V)=>H-V;class ne{constructor(V,Z){this._templateId=V,this.renderers=Z}get templateId(){return this._templateId}renderTemplate(V){return this.renderers.map(Z=>Z.renderTemplate(V))}renderElement(V,Z,ee,le){let ue=0;for(const de of this.renderers)de.renderElement(V,Z,ee[ue++],le)}disposeElement(V,Z,ee,le){var ue;let de=0;for(const ce of this.renderers)(ue=ce.disposeElement)===null||ue===void 0||ue.call(ce,V,Z,ee[de],le),de+=1}disposeTemplate(V){let Z=0;for(const ee of this.renderers)ee.disposeTemplate(V[Z++])}}class se{constructor(V){this.accessibilityProvider=V,this.templateId="a18n"}renderTemplate(V){return V}renderElement(V,Z,ee){const le=this.accessibilityProvider.getAriaLabel(V);le?ee.setAttribute("aria-label",le):ee.removeAttribute("aria-label");const ue=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(V);typeof ue=="number"?ee.setAttribute("aria-level",`${ue}`):ee.removeAttribute("aria-level")}disposeTemplate(V){}}class J{constructor(V,Z){this.list=V,this.dnd=Z}getDragElements(V){const Z=this.list.getSelectedElements();return Z.indexOf(V)>-1?Z:[V]}getDragURI(V){return this.dnd.getDragURI(V)}getDragLabel(V,Z){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V,Z)}onDragStart(V,Z){var ee,le;(le=(ee=this.dnd).onDragStart)===null||le===void 0||le.call(ee,V,Z)}onDragOver(V,Z,ee,le){return this.dnd.onDragOver(V,Z,ee,le)}onDragLeave(V,Z,ee,le){var ue,de;(de=(ue=this.dnd).onDragLeave)===null||de===void 0||de.call(ue,V,Z,ee,le)}onDragEnd(V){var Z,ee;(ee=(Z=this.dnd).onDragEnd)===null||ee===void 0||ee.call(Z,V)}drop(V,Z,ee,le){this.dnd.drop(V,Z,ee,le)}dispose(){this.dnd.dispose()}}class q{get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),V=>this.toListEvent(V),this.disposables)}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),V=>this.toListEvent(V),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let V=!1;const Z=i.Event.chain(this.disposables.add(new I.DomEmitter(this.view.domNode,"keydown")).event,ue=>ue.map(de=>new y.StandardKeyboardEvent(de)).filter(de=>V=de.keyCode===58||de.shiftKey&&de.keyCode===68).map(de=>L.EventHelper.stop(de,!0)).filter(()=>!1)),ee=i.Event.chain(this.disposables.add(new I.DomEmitter(this.view.domNode,"keyup")).event,ue=>ue.forEach(()=>V=!1).map(de=>new y.StandardKeyboardEvent(de)).filter(de=>de.keyCode===58||de.shiftKey&&de.keyCode===68).map(de=>L.EventHelper.stop(de,!0)).map(({browserEvent:de})=>{const ce=this.getFocus(),ae=ce.length?ce[0]:void 0,X=typeof ae<"u"?this.view.element(ae):void 0,K=typeof ae<"u"?this.view.domElement(ae):this.view.domNode;return{index:ae,element:X,anchor:K,browserEvent:de}})),le=i.Event.chain(this.view.onContextMenu,ue=>ue.filter(de=>!V).map(({element:de,index:ce,browserEvent:ae})=>({element:de,index:ce,anchor:new o.StandardMouseEvent(ae),browserEvent:ae})));return i.Event.any(Z,ee,le)}get onKeyDown(){return this.disposables.add(new I.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new I.DomEmitter(this.view.domNode,"focus",!0)).event)}constructor(V,Z,ee,le,ue=W){var de,ce,ae,X;this.user=V,this._options=ue,this.focus=new a("focused"),this.anchor=new a("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new t.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const K=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(de=this._options.accessibilityProvider)===null||de===void 0?void 0:de.getWidgetRole():"list";this.selection=new g(K!=="listbox");const z=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ue.accessibilityProvider,this.accessibilityProvider&&(z.push(new se(this.accessibilityProvider)),(ae=(ce=this.accessibilityProvider).onDidChangeActiveDescendant)===null||ae===void 0||ae.call(ce,this.onDidChangeActiveDescendant,this,this.disposables)),le=le.map(j=>new ne(j.templateId,[...z,j]));const Q=Object.assign(Object.assign({},ue),{dnd:ue.dnd&&new J(this,ue.dnd)});if(this.view=this.createListView(Z,ee,le,Q),this.view.domNode.setAttribute("role",K),ue.styleController)this.styleController=ue.styleController(this.view.domId);else{const j=(0,L.createStyleSheet)(this.view.domNode);this.styleController=new x(j,this.view.domId)}if(this.spliceable=new m.CombinedSpliceable([new h(this.focus,this.view,ue.identityProvider),new h(this.selection,this.view,ue.identityProvider),new h(this.anchor,this.view,ue.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new B(this,this.view)),(typeof ue.keyboardSupport!="boolean"||ue.keyboardSupport)&&(this.keyboardController=new E(this,this.view,ue),this.disposables.add(this.keyboardController)),ue.keyboardNavigationLabelProvider){const j=ue.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new R(this,this.view,ue.keyboardNavigationLabelProvider,(X=ue.keyboardNavigationEventFilter)!==null&&X!==void 0?X:()=>!0,j),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(ue),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(V,Z,ee,le){return new l.ListView(V,Z,ee,le)}createMouseController(V){return new O(this)}updateOptions(V={}){var Z,ee;this._options=Object.assign(Object.assign({},this._options),V),(Z=this.typeNavigationController)===null||Z===void 0||Z.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(V),(ee=this.keyboardController)===null||ee===void 0||ee.updateOptions(V),this.view.updateOptions(V)}get options(){return this._options}splice(V,Z,ee=[]){if(V<0||V>this.view.length)throw new d.ListError(this.user,`Invalid start index: ${V}`);if(Z<0)throw new d.ListError(this.user,`Invalid delete count: ${Z}`);Z===0&&ee.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(V,Z,ee))}rerender(){this.view.rerender()}element(V){return this.view.element(V)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(V){this.view.setScrollTop(V)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(V){this._ariaLabel=V,this.view.domNode.setAttribute("aria-label",V)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(V,Z){this.view.layout(V,Z)}setSelection(V,Z){for(const ee of V)if(ee<0||ee>=this.length)throw new d.ListError(this.user,`Invalid index ${ee}`);this.selection.set(V,Z)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(V=>this.view.element(V))}setAnchor(V){if(typeof V>"u"){this.anchor.set([]);return}if(V<0||V>=this.length)throw new d.ListError(this.user,`Invalid index ${V}`);this.anchor.set([V])}getAnchor(){return(0,_.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const V=this.getAnchor();return typeof V>"u"?void 0:this.element(V)}setFocus(V,Z){for(const ee of V)if(ee<0||ee>=this.length)throw new d.ListError(this.user,`Invalid index ${ee}`);this.focus.set(V,Z)}focusNext(V=1,Z=!1,ee,le){if(this.length===0)return;const ue=this.focus.get(),de=this.findNextIndex(ue.length>0?ue[0]+V:0,Z,le);de>-1&&this.setFocus([de],ee)}focusPrevious(V=1,Z=!1,ee,le){if(this.length===0)return;const ue=this.focus.get(),de=this.findPreviousIndex(ue.length>0?ue[0]-V:0,Z,le);de>-1&&this.setFocus([de],ee)}focusNextPage(V,Z){return be(this,void 0,void 0,function*(){let ee=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ee=ee===0?0:ee-1;const le=this.getFocus()[0];if(le!==ee&&(le===void 0||ee>le)){const ue=this.findPreviousIndex(ee,!1,Z);ue>-1&&le!==ue?this.setFocus([ue],V):this.setFocus([ee],V)}else{const ue=this.view.getScrollTop();let de=ue+this.view.renderHeight;ee>le&&(de-=this.view.elementHeight(ee)),this.view.setScrollTop(de),this.view.getScrollTop()!==ue&&(this.setFocus([]),yield(0,v.timeout)(0),yield this.focusNextPage(V,Z))}})}focusPreviousPage(V,Z){return be(this,void 0,void 0,function*(){let ee;const le=this.view.getScrollTop();le===0?ee=this.view.indexAt(le):ee=this.view.indexAfter(le-1);const ue=this.getFocus()[0];if(ue!==ee&&(ue===void 0||ue>=ee)){const de=this.findNextIndex(ee,!1,Z);de>-1&&ue!==de?this.setFocus([de],V):this.setFocus([ee],V)}else{const de=le;this.view.setScrollTop(le-this.view.renderHeight),this.view.getScrollTop()!==de&&(this.setFocus([]),yield(0,v.timeout)(0),yield this.focusPreviousPage(V,Z))}})}focusLast(V,Z){if(this.length===0)return;const ee=this.findPreviousIndex(this.length-1,!1,Z);ee>-1&&this.setFocus([ee],V)}focusFirst(V,Z){this.focusNth(0,V,Z)}focusNth(V,Z,ee){if(this.length===0)return;const le=this.findNextIndex(V,!1,ee);le>-1&&this.setFocus([le],Z)}findNextIndex(V,Z=!1,ee){for(let le=0;le<this.length;le++){if(V>=this.length&&!Z)return-1;if(V=V%this.length,!ee||ee(this.element(V)))return V;V++}return-1}findPreviousIndex(V,Z=!1,ee){for(let le=0;le<this.length;le++){if(V<0&&!Z)return-1;if(V=(this.length+V%this.length)%this.length,!ee||ee(this.element(V)))return V;V--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(V=>this.view.element(V))}reveal(V,Z){if(V<0||V>=this.length)throw new d.ListError(this.user,`Invalid index ${V}`);const ee=this.view.getScrollTop(),le=this.view.elementTop(V),ue=this.view.elementHeight(V);if((0,f.isNumber)(Z)){const de=ue-this.view.renderHeight;this.view.setScrollTop(de*(0,r.clamp)(Z,0,1)+le)}else{const de=le+ue,ce=ee+this.view.renderHeight;le<ee&&de>=ce||(le<ee||de>=ce&&ue>=this.view.renderHeight?this.view.setScrollTop(le):de>=ce&&this.view.setScrollTop(de-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(V){return this.view.getElementDomId(V)}style(V){this.styleController.style(V)}toListEvent({indexes:V,browserEvent:Z}){return{indexes:V,elements:V.map(ee=>this.view.element(ee)),browserEvent:Z}}_onFocusChange(){const V=this.focus.get();this.view.domNode.classList.toggle("element-focused",V.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var V;const Z=this.focus.get();if(Z.length>0){let ee;!((V=this.accessibilityProvider)===null||V===void 0)&&V.getActiveDescendantId&&(ee=this.accessibilityProvider.getActiveDescendantId(this.view.element(Z[0]))),this.view.domNode.setAttribute("aria-activedescendant",ee||this.view.getElementDomId(Z[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const V=this.selection.get();this.view.domNode.classList.toggle("selection-none",V.length===0),this.view.domNode.classList.toggle("selection-single",V.length===1),this.view.domNode.classList.toggle("selection-multiple",V.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=q,Ie([s.memoize],q.prototype,"onDidChangeFocus",null),Ie([s.memoize],q.prototype,"onDidChangeSelection",null),Ie([s.memoize],q.prototype,"onContextMenu",null),Ie([s.memoize],q.prototype,"onKeyDown",null),Ie([s.memoize],q.prototype,"onDidFocus",null)}),define(te[581],ie([1,0,13,19,6,2,113,267]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class m{get templateId(){return this.renderer.templateId}constructor(i,n){this.renderer=i,this.modelProvider=n}renderTemplate(i){return{data:this.renderer.renderTemplate(i),disposable:D.Disposable.None}}renderElement(i,n,t,r){var u;if((u=t.disposable)===null||u===void 0||u.dispose(),!t.data)return;const f=this.modelProvider();if(f.isResolved(i))return this.renderer.renderElement(f.get(i),i,t.data,r);const d=new I.CancellationTokenSource,l=f.resolve(i,d.token);t.disposable={dispose:()=>d.cancel()},this.renderer.renderPlaceholder(i,t.data),l.then(o=>this.renderer.renderElement(o,i,t.data,r))}disposeTemplate(i){i.disposable&&(i.disposable.dispose(),i.disposable=void 0),i.data&&(this.renderer.disposeTemplate(i.data),i.data=void 0)}}class _{constructor(i,n){this.modelProvider=i,this.accessibilityProvider=n}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(i){const n=this.modelProvider();return n.isResolved(i)?this.accessibilityProvider.getAriaLabel(n.get(i)):null}}function v(s,i){return Object.assign(Object.assign({},i),{accessibilityProvider:i.accessibilityProvider&&new _(s,i.accessibilityProvider)})}class C{constructor(i,n,t,r,u={}){const f=()=>this.model,d=r.map(l=>new m(l,f));this.list=new S.List(i,n,t,d,v(f,u))}updateOptions(i){this.list.updateOptions(i)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return y.Event.map(this.list.onMouseDblClick,({element:i,index:n,browserEvent:t})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:t}))}get onPointer(){return y.Event.map(this.list.onPointer,({element:i,index:n,browserEvent:t})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:t}))}get onDidChangeSelection(){return y.Event.map(this.list.onDidChangeSelection,({elements:i,indexes:n,browserEvent:t})=>({elements:i.map(r=>this._model.get(r)),indexes:n,browserEvent:t}))}get model(){return this._model}set model(i){this._model=i,this.list.splice(0,this.list.length,(0,L.range)(i.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(i=>this.model.get(i))}style(i){this.list.style(i)}dispose(){this.list.dispose()}}e.PagedList=C}),define(te[316],ie([1,0,7,79,152,84,13,36,6,2,139,166,20,414]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const n={separatorBorder:m.Color.transparent};class t{set size(c){this._size=c}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(c,a){var g,h;c!==this.visible&&(c?(this.size=(0,C.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof a=="number"?a:this.size,this.size=0),this.container.classList.toggle("visible",c),(h=(g=this.view).setVisible)===null||h===void 0||h.call(g,c))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var c;return(c=this.view.proportionalLayout)!==null&&c!==void 0?c:!0}get snap(){return!!this.view.snap}set enabled(c){this.container.style.pointerEvents=c?"":"none"}constructor(c,a,g,h){this.container=c,this.view=a,this.disposable=h,this._cachedVisibleSize=void 0,typeof g=="number"?(this._size=g,this._cachedVisibleSize=void 0,c.classList.add("visible")):(this._size=0,this._cachedVisibleSize=g.cachedVisibleSize)}layout(c,a){this.layoutContainer(c),this.view.layout(this.size,c,a)}dispose(){this.disposable.dispose()}}class r extends t{layoutContainer(c){this.container.style.top=`${c}px`,this.container.style.height=`${this.size}px`}}class u extends t{layoutContainer(c){this.container.style.left=`${c}px`,this.container.style.width=`${this.size}px`}}var f;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(f||(f={}));var d;(function(o){o.Distribute={type:"distribute"};function c(h){return{type:"split",index:h}}o.Split=c;function a(h){return{type:"auto",index:h}}o.Auto=a;function g(h){return{type:"invisible",cachedVisibleSize:h}}o.Invisible=g})(d||(e.Sizing=d={}));class l extends v.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(c){for(const a of this.sashItems)a.sash.orthogonalStartSash=c;this._orthogonalStartSash=c}set orthogonalEndSash(c){for(const a of this.sashItems)a.sash.orthogonalEndSash=c;this._orthogonalEndSash=c}set startSnappingEnabled(c){this._startSnappingEnabled!==c&&(this._startSnappingEnabled=c,this.updateSashEnablement())}set endSnappingEnabled(c){this._endSnappingEnabled!==c&&(this._endSnappingEnabled=c,this.updateSashEnablement())}constructor(c,a={}){var g,h,p,b,w;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=f.Idle,this._onDidSashChange=this._register(new _.Emitter),this._onDidSashReset=this._register(new _.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(g=a.orientation)!==null&&g!==void 0?g:0,this.inverseAltBehavior=(h=a.inverseAltBehavior)!==null&&h!==void 0?h:!1,this.proportionalLayout=(p=a.proportionalLayout)!==null&&p!==void 0?p:!0,this.getSashOrthogonalSize=a.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),c.appendChild(this.el),this.sashContainer=(0,L.append)(this.el,(0,L.$)(".sash-container")),this.viewContainer=(0,L.$)(".split-view-container"),this.scrollable=this._register(new s.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:L.scheduleAtNextAnimationFrame})),this.scrollableElement=this._register(new D.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(b=a.scrollbarVisibility)!==null&&b!==void 0?b:1:2,horizontal:this.orientation===1?(w=a.scrollbarVisibility)!==null&&w!==void 0?w:1:2},this.scrollable));const E=this._register(new I.DomEmitter(this.viewContainer,"scroll")).event;this._register(E(k=>{const M=this.scrollableElement.getScrollPosition(),R=Math.abs(this.viewContainer.scrollLeft-M.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,B=Math.abs(this.viewContainer.scrollTop-M.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(R!==void 0||B!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:R,scrollTop:B})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(k=>{k.scrollTopChanged&&(this.viewContainer.scrollTop=k.scrollTop),k.scrollLeftChanged&&(this.viewContainer.scrollLeft=k.scrollLeft)})),(0,L.append)(this.el,this.scrollableElement.getDomNode()),this.style(a.styles||n),a.descriptor&&(this.size=a.descriptor.size,a.descriptor.views.forEach((k,M)=>{const R=i.isUndefined(k.visible)||k.visible?k.size:{type:"invisible",cachedVisibleSize:k.size},B=k.view;this.doAddView(B,R,M,!0)}),this.contentSize=this.viewItems.reduce((k,M)=>k+M.size,0),this.saveProportions())}style(c){c.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",c.separatorBorder.toString()))}addView(c,a,g=this.viewItems.length,h){this.doAddView(c,a,g,h)}layout(c,a){const g=Math.max(this.size,this.contentSize);if(this.size=c,this.layoutContext=a,this.proportions){let h=0;for(let p=0;p<this.viewItems.length;p++){const b=this.viewItems[p],w=this.proportions[p];typeof w=="number"?h+=w:c-=b.size}for(let p=0;p<this.viewItems.length;p++){const b=this.viewItems[p],w=this.proportions[p];typeof w=="number"&&(b.size=(0,C.clamp)(Math.round(w*c/h),b.minimumSize,b.maximumSize))}}else{const h=(0,S.range)(this.viewItems.length),p=h.filter(w=>this.viewItems[w].priority===1),b=h.filter(w=>this.viewItems[w].priority===2);this.resize(this.viewItems.length-1,c-g,void 0,p,b)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(c=>c.proportionalLayout?c.size/this.contentSize:void 0))}onSashStart({sash:c,start:a,alt:g}){for(const w of this.viewItems)w.enabled=!1;const h=this.sashItems.findIndex(w=>w.sash===c),p=(0,v.combinedDisposable)((0,L.addDisposableListener)(document.body,"keydown",w=>b(this.sashDragState.current,w.altKey)),(0,L.addDisposableListener)(document.body,"keyup",()=>b(this.sashDragState.current,!1))),b=(w,E)=>{const k=this.viewItems.map(N=>N.size);let M=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(E=!E),E)if(h===this.sashItems.length-1){const A=this.viewItems[h];M=(A.minimumSize-A.size)/2,R=(A.maximumSize-A.size)/2}else{const A=this.viewItems[h+1];M=(A.size-A.maximumSize)/2,R=(A.size-A.minimumSize)/2}let B,T;if(!E){const N=(0,S.range)(h,-1),A=(0,S.range)(h+1,this.viewItems.length),P=N.reduce((ne,se)=>ne+(this.viewItems[se].minimumSize-k[se]),0),O=N.reduce((ne,se)=>ne+(this.viewItems[se].viewMaximumSize-k[se]),0),x=A.length===0?Number.POSITIVE_INFINITY:A.reduce((ne,se)=>ne+(k[se]-this.viewItems[se].minimumSize),0),W=A.length===0?Number.NEGATIVE_INFINITY:A.reduce((ne,se)=>ne+(k[se]-this.viewItems[se].viewMaximumSize),0),U=Math.max(P,W),F=Math.min(x,O),G=this.findFirstSnapIndex(N),Y=this.findFirstSnapIndex(A);if(typeof G=="number"){const ne=this.viewItems[G],se=Math.floor(ne.viewMinimumSize/2);B={index:G,limitDelta:ne.visible?U-se:U+se,size:ne.size}}if(typeof Y=="number"){const ne=this.viewItems[Y],se=Math.floor(ne.viewMinimumSize/2);T={index:Y,limitDelta:ne.visible?F+se:F-se,size:ne.size}}}this.sashDragState={start:w,current:w,index:h,sizes:k,minDelta:M,maxDelta:R,alt:E,snapBefore:B,snapAfter:T,disposable:p}};b(a,g)}onSashChange({current:c}){const{index:a,start:g,sizes:h,alt:p,minDelta:b,maxDelta:w,snapBefore:E,snapAfter:k}=this.sashDragState;this.sashDragState.current=c;const M=c-g,R=this.resize(a,M,h,void 0,void 0,b,w,E,k);if(p){const B=a===this.sashItems.length-1,T=this.viewItems.map(W=>W.size),N=B?a:a+1,A=this.viewItems[N],P=A.size-A.maximumSize,O=A.size-A.minimumSize,x=B?a-1:a+1;this.resize(x,-R,T,void 0,void 0,P,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(c){this._onDidSashChange.fire(c),this.sashDragState.disposable.dispose(),this.saveProportions();for(const a of this.viewItems)a.enabled=!0}onViewChange(c,a){const g=this.viewItems.indexOf(c);g<0||g>=this.viewItems.length||(a=typeof a=="number"?a:c.size,a=(0,C.clamp)(a,c.minimumSize,c.maximumSize),this.inverseAltBehavior&&g>0?(this.resize(g-1,Math.floor((c.size-a)/2)),this.distributeEmptySpace(),this.layoutViews()):(c.size=a,this.relayout([g],void 0)))}resizeView(c,a){if(this.state!==f.Idle)throw new Error("Cant modify splitview");if(this.state=f.Busy,c<0||c>=this.viewItems.length)return;const g=(0,S.range)(this.viewItems.length).filter(w=>w!==c),h=[...g.filter(w=>this.viewItems[w].priority===1),c],p=g.filter(w=>this.viewItems[w].priority===2),b=this.viewItems[c];a=Math.round(a),a=(0,C.clamp)(a,b.minimumSize,Math.min(b.maximumSize,this.size)),b.size=a,this.relayout(h,p),this.state=f.Idle}distributeViewSizes(){const c=[];let a=0;for(const w of this.viewItems)w.maximumSize-w.minimumSize>0&&(c.push(w),a+=w.size);const g=Math.floor(a/c.length);for(const w of c)w.size=(0,C.clamp)(g,w.minimumSize,w.maximumSize);const h=(0,S.range)(this.viewItems.length),p=h.filter(w=>this.viewItems[w].priority===1),b=h.filter(w=>this.viewItems[w].priority===2);this.relayout(p,b)}getViewSize(c){return c<0||c>=this.viewItems.length?-1:this.viewItems[c].size}doAddView(c,a,g=this.viewItems.length,h){if(this.state!==f.Idle)throw new Error("Cant modify splitview");this.state=f.Busy;const p=(0,L.$)(".split-view-view");g===this.viewItems.length?this.viewContainer.appendChild(p):this.viewContainer.insertBefore(p,this.viewContainer.children.item(g));const b=c.onDidChange(B=>this.onViewChange(M,B)),w=(0,v.toDisposable)(()=>this.viewContainer.removeChild(p)),E=(0,v.combinedDisposable)(b,w);let k;typeof a=="number"?k=a:(a.type==="auto"&&(this.areViewsDistributed()?a={type:"distribute"}:a={type:"split",index:a.index}),a.type==="split"?k=this.getViewSize(a.index)/2:a.type==="invisible"?k={cachedVisibleSize:a.cachedVisibleSize}:k=c.minimumSize);const M=this.orientation===0?new r(p,c,k,E):new u(p,c,k,E);if(this.viewItems.splice(g,0,M),this.viewItems.length>1){const B={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},T=this.orientation===0?new y.Sash(this.sashContainer,{getHorizontalSashTop:ne=>this.getSashPosition(ne),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},B),{orientation:1})):new y.Sash(this.sashContainer,{getVerticalSashLeft:ne=>this.getSashPosition(ne),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},B),{orientation:0})),N=this.orientation===0?ne=>({sash:T,start:ne.startY,current:ne.currentY,alt:ne.altKey}):ne=>({sash:T,start:ne.startX,current:ne.currentX,alt:ne.altKey}),P=_.Event.map(T.onDidStart,N)(this.onSashStart,this),x=_.Event.map(T.onDidChange,N)(this.onSashChange,this),U=_.Event.map(T.onDidEnd,()=>this.sashItems.findIndex(ne=>ne.sash===T))(this.onSashEnd,this),F=T.onDidReset(()=>{const ne=this.sashItems.findIndex(V=>V.sash===T),se=(0,S.range)(ne,-1),J=(0,S.range)(ne+1,this.viewItems.length),q=this.findFirstSnapIndex(se),H=this.findFirstSnapIndex(J);typeof q=="number"&&!this.viewItems[q].visible||typeof H=="number"&&!this.viewItems[H].visible||this._onDidSashReset.fire(ne)}),G=(0,v.combinedDisposable)(P,x,U,F,T),Y={sash:T,disposable:G};this.sashItems.splice(g-1,0,Y)}p.appendChild(c.element);let R;typeof a!="number"&&a.type==="split"&&(R=[a.index]),h||this.relayout([g],R),this.state=f.Idle,!h&&typeof a!="number"&&a.type==="distribute"&&this.distributeViewSizes()}relayout(c,a){const g=this.viewItems.reduce((h,p)=>h+p.size,0);this.resize(this.viewItems.length-1,this.size-g,void 0,c,a),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(c,a,g=this.viewItems.map(M=>M.size),h,p,b=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY,E,k){if(c<0||c>=this.viewItems.length)return 0;const M=(0,S.range)(c,-1),R=(0,S.range)(c+1,this.viewItems.length);if(p)for(const Y of p)(0,S.pushToStart)(M,Y),(0,S.pushToStart)(R,Y);if(h)for(const Y of h)(0,S.pushToEnd)(M,Y),(0,S.pushToEnd)(R,Y);const B=M.map(Y=>this.viewItems[Y]),T=M.map(Y=>g[Y]),N=R.map(Y=>this.viewItems[Y]),A=R.map(Y=>g[Y]),P=M.reduce((Y,ne)=>Y+(this.viewItems[ne].minimumSize-g[ne]),0),O=M.reduce((Y,ne)=>Y+(this.viewItems[ne].maximumSize-g[ne]),0),x=R.length===0?Number.POSITIVE_INFINITY:R.reduce((Y,ne)=>Y+(g[ne]-this.viewItems[ne].minimumSize),0),W=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((Y,ne)=>Y+(g[ne]-this.viewItems[ne].maximumSize),0),U=Math.max(P,W,b),F=Math.min(x,O,w);let G=!1;if(E){const Y=this.viewItems[E.index],ne=a>=E.limitDelta;G=ne!==Y.visible,Y.setVisible(ne,E.size)}if(!G&&k){const Y=this.viewItems[k.index],ne=a<k.limitDelta;G=ne!==Y.visible,Y.setVisible(ne,k.size)}if(G)return this.resize(c,a,g,h,p,b,w);a=(0,C.clamp)(a,U,F);for(let Y=0,ne=a;Y<B.length;Y++){const se=B[Y],J=(0,C.clamp)(T[Y]+ne,se.minimumSize,se.maximumSize),q=J-T[Y];ne-=q,se.size=J}for(let Y=0,ne=a;Y<N.length;Y++){const se=N[Y],J=(0,C.clamp)(A[Y]-ne,se.minimumSize,se.maximumSize),q=J-A[Y];ne+=q,se.size=J}return a}distributeEmptySpace(c){const a=this.viewItems.reduce((w,E)=>w+E.size,0);let g=this.size-a;const h=(0,S.range)(this.viewItems.length-1,-1),p=h.filter(w=>this.viewItems[w].priority===1),b=h.filter(w=>this.viewItems[w].priority===2);for(const w of b)(0,S.pushToStart)(h,w);for(const w of p)(0,S.pushToEnd)(h,w);typeof c=="number"&&(0,S.pushToEnd)(h,c);for(let w=0;g!==0&&w<h.length;w++){const E=this.viewItems[h[w]],k=(0,C.clamp)(E.size+g,E.minimumSize,E.maximumSize),M=k-E.size;g-=M,E.size=k}}layoutViews(){this.contentSize=this.viewItems.reduce((a,g)=>a+g.size,0);let c=0;for(const a of this.viewItems)a.layout(c,this.layoutContext),c+=a.size;this.sashItems.forEach(a=>a.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let c=!1;const a=this.viewItems.map(E=>c=E.size-E.minimumSize>0||c);c=!1;const g=this.viewItems.map(E=>c=E.maximumSize-E.size>0||c),h=[...this.viewItems].reverse();c=!1;const p=h.map(E=>c=E.size-E.minimumSize>0||c).reverse();c=!1;const b=h.map(E=>c=E.maximumSize-E.size>0||c).reverse();let w=0;for(let E=0;E<this.sashItems.length;E++){const{sash:k}=this.sashItems[E],M=this.viewItems[E];w+=M.size;const R=!(a[E]&&b[E+1]),B=!(g[E]&&p[E+1]);if(R&&B){const T=(0,S.range)(E,-1),N=(0,S.range)(E+1,this.viewItems.length),A=this.findFirstSnapIndex(T),P=this.findFirstSnapIndex(N),O=typeof A=="number"&&!this.viewItems[A].visible,x=typeof P=="number"&&!this.viewItems[P].visible;O&&p[E]&&(w>0||this.startSnappingEnabled)?k.state=1:x&&a[E]&&(w<this.contentSize||this.endSnappingEnabled)?k.state=2:k.state=0}else R&&!B?k.state=1:!R&&B?k.state=2:k.state=3}}getSashPosition(c){let a=0;for(let g=0;g<this.sashItems.length;g++)if(a+=this.viewItems[g].size,this.sashItems[g].sash===c)return a;return 0}findFirstSnapIndex(c){for(const a of c){const g=this.viewItems[a];if(g.visible&&g.snap)return a}for(const a of c){const g=this.viewItems[a];if(g.visible&&g.maximumSize-g.minimumSize>0)return;if(!g.visible&&g.snap)return a}}areViewsDistributed(){let c,a;for(const g of this.viewItems)if(c=c===void 0?g.size:Math.min(c,g.size),a=a===void 0?g.size:Math.max(a,g.size),a-c>2)return!1;return!0}dispose(){var c;(c=this.sashDragState)===null||c===void 0||c.disposable.dispose(),(0,v.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(a=>a.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=l}),define(te[582],ie([1,0,7,113,316,6,2,415]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class m{constructor(i,n,t){this.columns=i,this.getColumnSize=t,this.templateId=m.TemplateId,this.renderedTemplates=new Set;const r=new Map(n.map(u=>[u.templateId,u]));this.renderers=[];for(const u of i){const f=r.get(u.templateId);if(!f)throw new Error(`Table cell renderer for template id ${u.templateId} not found.`);this.renderers.push(f)}}renderTemplate(i){const n=(0,L.append)(i,(0,L.$)(".monaco-table-tr")),t=[],r=[];for(let f=0;f<this.columns.length;f++){const d=this.renderers[f],l=(0,L.append)(n,(0,L.$)(".monaco-table-td",{"data-col-index":f}));l.style.width=`${this.getColumnSize(f)}px`,t.push(l),r.push(d.renderTemplate(l))}const u={container:i,cellContainers:t,cellTemplateData:r};return this.renderedTemplates.add(u),u}renderElement(i,n,t,r){for(let u=0;u<this.columns.length;u++){const d=this.columns[u].project(i);this.renderers[u].renderElement(d,n,t.cellTemplateData[u],r)}}disposeElement(i,n,t,r){for(let u=0;u<this.columns.length;u++){const f=this.renderers[u];if(f.disposeElement){const l=this.columns[u].project(i);f.disposeElement(l,n,t.cellTemplateData[u],r)}}}disposeTemplate(i){for(let n=0;n<this.columns.length;n++)this.renderers[n].disposeTemplate(i.cellTemplateData[n]);(0,L.clearNode)(i.container),this.renderedTemplates.delete(i)}layoutColumn(i,n){for(const{cellContainers:t}of this.renderedTemplates)t[i].style.width=`${n}px`}}m.TemplateId="row";function _(s){return{getHeight(i){return s.getHeight(i)},getTemplateId(){return m.TemplateId}}}class v{get minimumSize(){var i;return(i=this.column.minimumWidth)!==null&&i!==void 0?i:120}get maximumSize(){var i;return(i=this.column.maximumWidth)!==null&&i!==void 0?i:Number.POSITIVE_INFINITY}get onDidChange(){var i;return(i=this.column.onDidChangeWidthConstraints)!==null&&i!==void 0?i:D.Event.None}constructor(i,n){this.column=i,this.index=n,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,L.$)(".monaco-table-th",{"data-col-index":n,title:i.tooltip},i.label)}layout(i){this._onDidLayout.fire([this.index,i])}}class C{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(i){this.list.scrollTop=i}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(i,n,t,r,u,f){this.virtualDelegate=t,this.domId=`table_id_${++C.InstanceCount}`,this.disposables=new S.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,L.append)(n,(0,L.$)(`.monaco-table.${this.domId}`));const d=r.map((c,a)=>new v(c,a)),l={size:d.reduce((c,a)=>c+a.column.weight,0),views:d.map(c=>({size:c.column.weight,view:c}))};this.splitview=this.disposables.add(new y.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${t.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${t.headerRowHeight}px`;const o=new m(r,u,c=>this.splitview.getViewSize(c));this.list=this.disposables.add(new I.List(i,this.domNode,_(t),[o],f)),D.Event.any(...d.map(c=>c.onDidLayout))(([c,a])=>o.layoutColumn(c,a),null,this.disposables),this.splitview.onDidSashReset(c=>{const a=r.reduce((h,p)=>h+p.weight,0),g=r[c].weight/a*this.cachedWidth;this.splitview.resizeView(c,g)},null,this.disposables),this.styleElement=(0,L.createStyleSheet)(this.domNode),this.style(I.unthemedListStyles)}updateOptions(i){this.list.updateOptions(i)}splice(i,n,t=[]){this.list.splice(i,n,t)}getHTMLElement(){return this.domNode}style(i){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=n.join(`
`),this.list.style(i)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=C,C.InstanceCount=0}),define(te[153],ie([1,0,83,27,6,416]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class D extends L.Widget{constructor(m){super(),this._onChange=this._register(new y.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=m,this._checked=this._opts.isChecked;const _=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,_.push(...I.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&_.push(...this._opts.actionClassName.split(" ")),this._checked&&_.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(..._),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,v=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),v.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,v=>{if(v.keyCode===10||v.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),v.preventDefault(),v.stopPropagation();return}this._onKeyDown.fire(v)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(m){this._checked=m,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=D}),define(te[317],ie([1,0,153,26,556]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=y.localize(0,null),S=y.localize(1,null),m=y.localize(2,null);class _ extends L.Toggle{constructor(i){super({icon:I.Codicon.caseSensitive,title:D+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=_;class v extends L.Toggle{constructor(i){super({icon:I.Codicon.wholeWord,title:S+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=v;class C extends L.Toggle{constructor(i){super({icon:I.Codicon.regex,title:m+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=C}),define(te[46],ie([1,0,220,54,92,17,10,21]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function _(s){return(0,m.uriToFsPath)(s,!0)}e.originalFSPath=_;class v{constructor(i){this._ignorePathCasing=i}compare(i,n,t=!1){return i===n?0:(0,S.compare)(this.getComparisonKey(i,t),this.getComparisonKey(n,t))}isEqual(i,n,t=!1){return i===n?!0:!i||!n?!1:this.getComparisonKey(i,t)===this.getComparisonKey(n,t)}getComparisonKey(i,n=!1){return i.with({path:this._ignorePathCasing(i)?i.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}isEqualOrParent(i,n,t=!1){if(i.scheme===n.scheme){if(i.scheme===I.Schemas.file)return L.isEqualOrParent(_(i),_(n),this._ignorePathCasing(i))&&i.query===n.query&&(t||i.fragment===n.fragment);if((0,e.isEqualAuthority)(i.authority,n.authority))return L.isEqualOrParent(i.path,n.path,this._ignorePathCasing(i),"/")&&i.query===n.query&&(t||i.fragment===n.fragment)}return!1}joinPath(i,...n){return m.URI.joinPath(i,...n)}basenameOrAuthority(i){return(0,e.basename)(i)||i.authority}basename(i){return y.posix.basename(i.path)}extname(i){return y.posix.extname(i.path)}dirname(i){if(i.path.length===0)return i;let n;return i.scheme===I.Schemas.file?n=m.URI.file(y.dirname(_(i))).path:(n=y.posix.dirname(i.path),i.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${i.toString})) resulted in a relative path`),n="/")),i.with({path:n})}normalizePath(i){if(!i.path.length)return i;let n;return i.scheme===I.Schemas.file?n=m.URI.file(y.normalize(_(i))).path:n=y.posix.normalize(i.path),i.with({path:n})}relativePath(i,n){if(i.scheme!==n.scheme||!(0,e.isEqualAuthority)(i.authority,n.authority))return;if(i.scheme===I.Schemas.file){const u=y.relative(_(i),_(n));return D.isWindows?L.toSlashes(u):u}let t=i.path||"/";const r=n.path||"/";if(this._ignorePathCasing(i)){let u=0;for(const f=Math.min(t.length,r.length);u<f&&!(t.charCodeAt(u)!==r.charCodeAt(u)&&t.charAt(u).toLowerCase()!==r.charAt(u).toLowerCase());u++);t=r.substr(0,u)+t.substr(u)}return y.posix.relative(t,r)}resolvePath(i,n){if(i.scheme===I.Schemas.file){const t=m.URI.file(y.resolve(_(i),n));return i.with({authority:t.authority,path:t.path})}return n=L.toPosixPath(n),i.with({path:y.posix.resolve(i.path,n)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,n){return i===n||i!==void 0&&n!==void 0&&(0,S.equalsIgnoreCase)(i,n)}hasTrailingPathSeparator(i,n=y.sep){if(i.scheme===I.Schemas.file){const t=_(i);return t.length>L.getRoot(t).length&&t[t.length-1]===n}else{const t=i.path;return t.length>1&&t.charCodeAt(t.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,n=y.sep){return(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,n=y.sep){let t=!1;if(i.scheme===I.Schemas.file){const r=_(i);t=r!==void 0&&r.length===L.getRoot(r).length&&r[r.length-1]===n}else{n="/";const r=i.path;t=r.length===1&&r.charCodeAt(r.length-1)===47}return!t&&!(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path+"/"}):i}}e.ExtUri=v,e.extUri=new v(()=>!1),e.extUriBiasedIgnorePathCase=new v(s=>s.scheme===I.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new v(s=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var C;(function(s){s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function i(n){const t=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(f=>{const[d,l]=f.split(":");d&&l&&t.set(d,l)});const u=n.path.substring(0,n.path.indexOf(";"));return u&&t.set(s.META_DATA_MIME,u),t}s.parseMetaData=i})(C||(e.DataUri=C={}))}),define(te[57],ie([1,0,9,119,46,10,21]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class m{constructor(u="",f=!1){var d,l,o;if(this.value=u,typeof this.value!="string")throw(0,L.illegalArgument)("value");typeof f=="boolean"?(this.isTrusted=f,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(d=f.isTrusted)!==null&&d!==void 0?d:void 0,this.supportThemeIcons=(l=f.supportThemeIcons)!==null&&l!==void 0?l:!1,this.supportHtml=(o=f.supportHtml)!==null&&o!==void 0?o:!1)}appendText(u,f=0){return this.value+=s(this.supportThemeIcons?(0,I.escapeIcons)(u):u).replace(/([ \t]+)/g,(d,l)=>"&nbsp;".repeat(l.length)).replace(/\>/gm,"\\>").replace(/\n/g,f===1?`\\
`:`

`),this}appendMarkdown(u){return this.value+=u,this}appendCodeblock(u,f){return this.value+="\n```",this.value+=u,this.value+=`
`,this.value+=f,this.value+="\n```\n",this}appendLink(u,f,d){return this.value+="[",this.value+=this._escape(f,"]"),this.value+="](",this.value+=this._escape(String(u),")"),d&&(this.value+=` "${this._escape(this._escape(d,'"'),")")}"`),this.value+=")",this}_escape(u,f){const d=new RegExp((0,D.escapeRegExpCharacters)(f),"g");return u.replace(d,(l,o)=>u.charAt(o-1)!=="\\"?`\\${l}`:l)}}e.MarkdownString=m;function _(r){return v(r)?!r.value:Array.isArray(r)?r.every(_):!0}e.isEmptyMarkdownString=_;function v(r){return r instanceof m?!0:r&&typeof r=="object"?typeof r.value=="string"&&(typeof r.isTrusted=="boolean"||typeof r.isTrusted=="object"||r.isTrusted===void 0)&&(typeof r.supportThemeIcons=="boolean"||r.supportThemeIcons===void 0):!1}e.isMarkdownString=v;function C(r,u){return r===u?!0:!r||!u?!1:r.value===u.value&&r.isTrusted===u.isTrusted&&r.supportThemeIcons===u.supportThemeIcons&&r.supportHtml===u.supportHtml&&(r.baseUri===u.baseUri||!!r.baseUri&&!!u.baseUri&&(0,y.isEqual)(S.URI.from(r.baseUri),S.URI.from(u.baseUri)))}e.markdownStringEqual=C;function s(r){return r.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=s;function i(r){return r.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=i;function n(r){return r&&r.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}e.removeMarkdownEscapes=n;function t(r){const u=[],f=r.split("|").map(l=>l.trim());r=f[0];const d=f[1];if(d){const l=/height=(\d+)/.exec(d),o=/width=(\d+)/.exec(d),c=l?l[1]:"",a=o?o[1]:"",g=isFinite(parseInt(a)),h=isFinite(parseInt(c));g&&u.push(`width="${a}"`),h&&u.push(`height="${c}"`)}return{href:r,dimensions:u}}e.parseHrefAndDimensions=t}),define(te[181],ie([1,0,7,309,79,310,44,60,128,9,6,57,119,163,97,2,390,221,54,52,46,10,21]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fillInIncompleteTokens=e.renderMarkdownAsPlaintext=e.renderStringAsPlaintext=e.allowedMarkdownAttr=e.renderMarkdown=void 0;const g=Object.freeze({image:(J,q,H)=>{let V=[],Z=[];return J&&({href:J,dimensions:V}=(0,s.parseHrefAndDimensions)(J),Z.push(`src="${(0,s.escapeDoubleQuotes)(J)}"`)),H&&Z.push(`alt="${(0,s.escapeDoubleQuotes)(H)}"`),q&&Z.push(`title="${(0,s.escapeDoubleQuotes)(q)}"`),V.length&&(Z=Z.concat(V)),"<img "+Z.join(" ")+">"},paragraph:J=>`<p>${J}</p>`,link:(J,q,H)=>typeof J!="string"?"":(J===H&&(H=(0,s.removeMarkdownEscapes)(H)),q=typeof q=="string"?(0,s.escapeDoubleQuotes)((0,s.removeMarkdownEscapes)(q)):"",J=(0,s.removeMarkdownEscapes)(J),J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${J}" title="${q||J}">${H}</a>`)});function h(J,q={},H={}){var V,Z;const ee=new r.DisposableStore;let le=!1;const ue=(0,D.createElement)(q),de=function(oe){let he;try{he=(0,f.parse)(decodeURIComponent(oe))}catch{}return he?(he=(0,l.cloneAndChange)(he,me=>{if(J.uris&&J.uris[me])return a.URI.revive(J.uris[me])}),encodeURIComponent(JSON.stringify(he))):oe},ce=function(oe,he){const me=J.uris&&J.uris[oe];let pe=a.URI.revive(me);return he?oe.startsWith(d.Schemas.data+":")?oe:(pe||(pe=a.URI.parse(oe)),d.FileAccess.uriToBrowserUri(pe).toString(!0)):!pe||a.URI.parse(oe).toString()===pe.toString()?oe:(pe.query&&(pe=pe.with({query:de(pe.query)})),pe.toString())},ae=new u.marked.Renderer;ae.image=g.image,ae.link=g.link,ae.paragraph=g.paragraph;const X=[],K=[];if(q.codeBlockRendererSync?ae.code=(oe,he)=>{const me=n.defaultGenerator.nextId(),pe=q.codeBlockRendererSync(p(he),oe);return K.push([me,pe]),`<div class="code" data-code="${me}">${(0,c.escape)(oe)}</div>`}:q.codeBlockRenderer&&(ae.code=(oe,he)=>{const me=n.defaultGenerator.nextId(),pe=q.codeBlockRenderer(p(he),oe);return X.push(pe.then(ve=>[me,ve])),`<div class="code" data-code="${me}">${(0,c.escape)(oe)}</div>`}),q.actionHandler){const oe=function(pe){let ve=pe.target;if(!(ve.tagName!=="A"&&(ve=ve.parentElement,!ve||ve.tagName!=="A")))try{let we=ve.dataset.href;we&&(J.baseUri&&(we=b(a.URI.from(J.baseUri),we)),q.actionHandler.callback(we,pe))}catch(we){(0,v.onUnexpectedError)(we)}finally{pe.preventDefault()}},he=q.actionHandler.disposables.add(new y.DomEmitter(ue,"click")),me=q.actionHandler.disposables.add(new y.DomEmitter(ue,"auxclick"));q.actionHandler.disposables.add(C.Event.any(he.event,me.event)(pe=>{const ve=new m.StandardMouseEvent(pe);!ve.leftButton&&!ve.middleButton||oe(ve)})),q.actionHandler.disposables.add(L.addDisposableListener(ue,"keydown",pe=>{const ve=new S.StandardKeyboardEvent(pe);!ve.equals(10)&&!ve.equals(3)||oe(ve)}))}J.supportHtml||(H.sanitizer=oe=>(J.isTrusted?oe.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?oe:"",H.sanitize=!0,H.silent=!0),H.renderer=ae;let z=(V=J.value)!==null&&V!==void 0?V:"";z.length>1e5&&(z=`${z.substr(0,1e5)}\u2026`),J.supportThemeIcons&&(z=(0,i.markdownEscapeEscapedIcons)(z));let Q;if(q.fillInIncompleteTokens){const oe=Object.assign(Object.assign({},u.marked.defaults),H),he=u.marked.lexer(z,oe),me=A(he);Q=u.marked.parser(me,oe)}else Q=u.marked.parse(z,H);J.supportThemeIcons&&(Q=(0,_.renderLabelWithIcons)(Q).map(he=>typeof he=="string"?he:he.outerHTML).join(""));const re=new DOMParser().parseFromString(w(J,Q),"text/html");if(re.body.querySelectorAll("img").forEach(oe=>{const he=oe.getAttribute("src");if(he){let me=he;try{J.baseUri&&(me=b(a.URI.from(J.baseUri),me))}catch{}oe.src=ce(me,!0)}}),re.body.querySelectorAll("a").forEach(oe=>{const he=oe.getAttribute("href");if(oe.setAttribute("href",""),!he||/^data:|javascript:/i.test(he)||/^command:/i.test(he)&&!J.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(he))oe.replaceWith(...oe.childNodes);else{let me=ce(he,!1);J.baseUri&&(me=b(a.URI.from(J.baseUri),he)),oe.dataset.href=me}}),ue.innerHTML=w(J,re.body.innerHTML),X.length>0)Promise.all(X).then(oe=>{var he,me;if(le)return;const pe=new Map(oe),ve=ue.querySelectorAll("div[data-code]");for(const we of ve){const Le=pe.get((he=we.dataset.code)!==null&&he!==void 0?he:"");Le&&L.reset(we,Le)}(me=q.asyncRenderCallback)===null||me===void 0||me.call(q)});else if(K.length>0){const oe=new Map(K),he=ue.querySelectorAll("div[data-code]");for(const me of he){const pe=oe.get((Z=me.dataset.code)!==null&&Z!==void 0?Z:"");pe&&L.reset(me,pe)}}if(q.asyncRenderCallback)for(const oe of ue.getElementsByTagName("img")){const he=ee.add(L.addDisposableListener(oe,"load",()=>{he.dispose(),q.asyncRenderCallback()}))}return{element:ue,dispose:()=>{le=!0,ee.dispose()}}}e.renderMarkdown=h;function p(J){if(!J)return"";const q=J.split(/[\s+|:|,|\{|\?]/,1);return q.length?q[0]:J}function b(J,q){return/^\w[\w\d+.-]*:/.test(q)?q:J.path.endsWith("/")?(0,o.resolvePath)(J,q).toString():(0,o.resolvePath)((0,o.dirname)(J),q).toString()}function w(J,q){const{config:H,allowedSchemes:V}=E(J);I.addHook("uponSanitizeAttribute",(ee,le)=>{if(le.attrName==="style"||le.attrName==="class"){if(ee.tagName==="SPAN"){if(le.attrName==="style"){le.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(le.attrValue);return}else if(le.attrName==="class"){le.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(le.attrValue);return}}le.keepAttr=!1;return}});const Z=L.hookDomPurifyHrefAndSrcSanitizer(V);try{return I.sanitize(q,Object.assign(Object.assign({},H),{RETURN_TRUSTED_TYPE:!0}))}finally{I.removeHook("uponSanitizeAttribute"),Z.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function E(J){const q=[d.Schemas.http,d.Schemas.https,d.Schemas.mailto,d.Schemas.data,d.Schemas.file,d.Schemas.vscodeFileResource,d.Schemas.vscodeRemote,d.Schemas.vscodeRemoteResource];return J.isTrusted&&q.push(d.Schemas.command),{config:{ALLOWED_TAGS:[...L.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:q}}function k(J){return typeof J=="string"?J:M(J)}e.renderStringAsPlaintext=k;function M(J){var q;let H=(q=J.value)!==null&&q!==void 0?q:"";H.length>1e5&&(H=`${H.substr(0,1e5)}\u2026`);const V=u.marked.parse(H,{renderer:B.value}).replace(/&(#\d+|[a-zA-Z]+);/g,Z=>{var ee;return(ee=R.get(Z))!==null&&ee!==void 0?ee:Z});return w({isTrusted:!1},V).toString()}e.renderMarkdownAsPlaintext=M;const R=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),B=new t.Lazy(()=>{const J=new u.marked.Renderer;return J.code=q=>q,J.blockquote=q=>q,J.html=q=>"",J.heading=(q,H,V)=>q+`
`,J.hr=()=>"",J.list=(q,H)=>q,J.listitem=q=>q+`
`,J.paragraph=q=>q+`
`,J.table=(q,H)=>q+H+`
`,J.tablerow=q=>q,J.tablecell=(q,H)=>q+" ",J.strong=q=>q,J.em=q=>q,J.codespan=q=>q,J.br=()=>`
`,J.del=q=>q,J.image=(q,H,V)=>"",J.text=q=>q,J.link=(q,H,V)=>V,J});function T(J){let q="";return J.forEach(H=>{q+=H.raw}),q}function N(J){for(const q of J.tokens)if(q.type==="text"){const H=q.raw.split(`
`),V=H[H.length-1];if(V.includes("`"))return O(J);if(V.includes("**"))return G(J);if(V.match(/\*\w/))return x(J);if(V.match(/(^|\s)__\w/))return Y(J);if(V.match(/(^|\s)_\w/))return W(J);if(V.match(/(^|\s)\[.*\]\(\w*/))return U(J);if(V.match(/(^|\s)\[\w/))return F(J)}}function A(J){let q,H;for(q=0;q<J.length;q++){const V=J[q];if(V.type==="paragraph"&&V.raw.match(/(\n|^)```/)){H=P(J.slice(q));break}if(V.type==="paragraph"&&V.raw.match(/(\n|^)\|/)){H=se(J.slice(q));break}if(q===J.length-1&&V.type==="paragraph"){const Z=N(V);if(Z){H=[Z];break}}}if(H){const V=[...J.slice(0,q),...H];return V.links=J.links,V}return J}e.fillInIncompleteTokens=A;function P(J){const q=T(J);return u.marked.lexer(q+"\n```")}function O(J){return ne(J,"`")}function x(J){return ne(J,"*")}function W(J){return ne(J,"_")}function U(J){return ne(J,")")}function F(J){return ne(J,"](about:blank)")}function G(J){return ne(J,"**")}function Y(J){return ne(J,"__")}function ne(J,q){const H=T(Array.isArray(J)?J:[J]);return u.marked.lexer(H+q)[0]}function se(J){const q=T(J),H=q.split(`
`);let V,Z=!1;for(let ee=0;ee<H.length;ee++){const le=H[ee].trim();if(typeof V>"u"&&le.match(/^\s*\|/)){const ue=le.match(/(\|[^\|]+)(?=\||$)/g);ue&&(V=ue.length)}else if(typeof V=="number")if(le.match(/^\s*\|/)){if(ee!==H.length-1)return;Z=!0}else return}if(typeof V=="number"&&V>0){const ee=Z?H.slice(0,-1).join(`
`):q,le=!!ee.match(/\|\s*$/),ue=ee+(le?"":"|")+`
|${" --- |".repeat(V)}`;return u.marked.lexer(ue)}}}),define(te[318],ie([1,0,7,309,44,181,61,128,36,6,57,2,399]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:_.Color.white.toString(),buttonForeground:_.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class i extends s.Disposable{get onDidClick(){return this._onDidClick.event}constructor(t,r){super(),this._label="",this._onDidClick=this._register(new v.Emitter),this.options=r,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!r.secondary);const u=r.secondary?r.buttonSecondaryBackground:r.buttonBackground,f=r.secondary?r.buttonSecondaryForeground:r.buttonForeground;this._element.style.color=f||"",this._element.style.backgroundColor=u||"",r.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),t.appendChild(this._element),this._register(S.Gesture.addTarget(this._element)),[L.EventType.CLICK,S.EventType.Tap].forEach(d=>{this._register((0,L.addDisposableListener)(this._element,d,l=>{if(!this.enabled){L.EventHelper.stop(l);return}this._onDidClick.fire(l)}))}),this._register((0,L.addDisposableListener)(this._element,L.EventType.KEY_DOWN,d=>{const l=new y.StandardKeyboardEvent(d);let o=!1;this.enabled&&(l.equals(3)||l.equals(10))?(this._onDidClick.fire(d),o=!0):l.equals(9)&&(this._element.blur(),o=!0),o&&L.EventHelper.stop(l,!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OUT,d=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,L.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(t){const r=[];for(let u of(0,m.renderLabelWithIcons)(t))if(typeof u=="string"){if(u=u.trim(),u==="")continue;const f=document.createElement("span");f.textContent=u,r.push(f)}else r.push(u);return r}updateBackground(t){let r;this.options.secondary?r=t?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:r=t?this.options.buttonHoverBackground:this.options.buttonBackground,r&&(this._element.style.backgroundColor=r)}get element(){return this._element}set label(t){var r;if(this._label===t||(0,C.isMarkdownString)(this._label)&&(0,C.isMarkdownString)(t)&&(0,C.markdownStringEqual)(this._label,t))return;this._element.classList.add("monaco-text-button");const u=this.options.supportShortLabel?this._labelElement:this._element;if((0,C.isMarkdownString)(t)){const f=(0,D.renderMarkdown)(t,{inline:!0});f.dispose();const d=(r=f.element.querySelector("p"))===null||r===void 0?void 0:r.innerHTML;if(d){const l=(0,I.sanitize)(d,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});u.innerHTML=l}else(0,L.reset)(u)}else this.options.supportIcons?(0,L.reset)(u,...this.getContentElements(t)):u.textContent=t;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,D.renderStringAsPlaintext)(t)),this._label=t}get label(){return this._label}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=i}),define(te[319],ie([1,0,7,14,19,57,119,2,20,559]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function C(n,t){(0,_.isString)(t)?n.title=(0,S.stripIcons)(t):t?.markdownNotSupportedFallback?n.title=t.markdownNotSupportedFallback:n.removeAttribute("title")}e.setupNativeHover=C;class s{constructor(t,r,u){this.hoverDelegate=t,this.target=r,this.fadeInAnimation=u}update(t,r,u){var f;return be(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let d;if(t===void 0||(0,_.isString)(t)||t instanceof HTMLElement)d=t;else if(!(0,_.isFunction)(t.markdown))d=(f=t.markdown)!==null&&f!==void 0?f:t.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,v.localize)(0,null),r),this._cancellationTokenSource=new y.CancellationTokenSource;const l=this._cancellationTokenSource.token;if(d=yield t.markdown(l),d===void 0&&(d=t.markdownNotSupportedFallback),this.isDisposed||l.isCancellationRequested)return}this.show(d,r,u)})}show(t,r,u){const f=this._hoverWidget;if(this.hasContent(t)){const d=Object.assign({content:t,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!f},u);this._hoverWidget=this.hoverDelegate.showHover(d,r)}f?.dispose()}hasContent(t){return t?(0,D.isMarkdownString)(t)?!!t.value:!0:!1}get isDisposed(){var t;return(t=this._hoverWidget)===null||t===void 0?void 0:t.isDisposed}dispose(){var t,r;(t=this._hoverWidget)===null||t===void 0||t.dispose(),(r=this._cancellationTokenSource)===null||r===void 0||r.dispose(!0),this._cancellationTokenSource=void 0}}function i(n,t,r,u){let f,d;const l=(h,p)=>{var b;const w=d!==void 0;h&&(d?.dispose(),d=void 0),p&&(f?.dispose(),f=void 0),w&&((b=n.onDidHideHover)===null||b===void 0||b.call(n))},o=(h,p,b)=>new I.TimeoutTimer(()=>be(this,void 0,void 0,function*(){(!d||d.isDisposed)&&(d=new s(n,b||t,h>0),yield d.update(r,p,u))}),h),c=()=>{if(f)return;const h=new m.DisposableStore,p=E=>l(!1,E.fromElement===t);h.add(L.addDisposableListener(t,L.EventType.MOUSE_LEAVE,p,!0));const b=()=>l(!0,!0);h.add(L.addDisposableListener(t,L.EventType.MOUSE_DOWN,b,!0));const w={targetElements:[t],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const E=k=>{w.x=k.x+10,k.target instanceof HTMLElement&&k.target.classList.contains("action-label")&&l(!0,!0)};h.add(L.addDisposableListener(t,L.EventType.MOUSE_MOVE,E,!0))}h.add(o(n.delay,!1,w)),f=h},a=L.addDisposableListener(t,L.EventType.MOUSE_OVER,c,!0);return{show:h=>{l(!1,!0),o(0,h)},hide:()=>{l(!0,!0)},update:(h,p)=>be(this,void 0,void 0,function*(){r=h,yield d?.update(r,void 0,p)}),dispose:()=>{a.dispose(),l(!0,!0)}}}e.setupCustomHover=i}),define(te[226],ie([1,0,7,313,319,2,52,165,405]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class _{constructor(t){this._element=t}get element(){return this._element}set textContent(t){this.disposed||t===this._textContent||(this._textContent=t,this._element.textContent=t)}set className(t){this.disposed||t===this._className||(this._className=t,this._element.className=t)}set empty(t){this.disposed||t===this._empty||(this._empty=t,this._element.style.marginLeft=t?"0":"")}dispose(){this.disposed=!0}}class v extends D.Disposable{constructor(t,r){super(),this.customHovers=new Map,this.creationOptions=r,this.domNode=this._register(new _(L.append(t,L.$(".monaco-icon-label")))),this.labelContainer=L.append(this.domNode.element,L.$(".monaco-icon-label-container"));const u=L.append(this.labelContainer,L.$("span.monaco-icon-name-container"));r?.supportHighlights||r?.supportIcons?this.nameNode=new i(u,!!r.supportIcons):this.nameNode=new C(u),this.hoverDelegate=r?.hoverDelegate}get element(){return this.domNode.element}setLabel(t,r,u){const f=["monaco-icon-label"],d=["monaco-icon-label-container"];let l="";if(u&&(u.extraClasses&&f.push(...u.extraClasses),u.italic&&f.push("italic"),u.strikethrough&&f.push("strikethrough"),u.disabledCommand&&d.push("disabled"),u.title&&(l+=u.title)),this.domNode.className=f.join(" "),this.domNode.element.setAttribute("aria-label",l),this.labelContainer.className=d.join(" "),this.setupHover(u?.descriptionTitle?this.labelContainer:this.element,u?.title),this.nameNode.setLabel(t,u),r||this.descriptionNode){const o=this.getOrCreateDescriptionNode();o instanceof I.HighlightedLabel?(o.set(r||"",u?u.descriptionMatches:void 0,void 0,u?.labelEscapeNewLines),this.setupHover(o.element,u?.descriptionTitle)):(o.textContent=r&&u?.labelEscapeNewLines?I.HighlightedLabel.escapeNewLines(r,[]):r||"",this.setupHover(o.element,u?.descriptionTitle||""),o.empty=!r)}}setupHover(t,r){const u=this.customHovers.get(t);if(u&&(u.dispose(),this.customHovers.delete(t)),!r){t.removeAttribute("title");return}if(!this.hoverDelegate)(0,y.setupNativeHover)(t,r);else{const f=(0,y.setupCustomHover)(this.hoverDelegate,t,r);f&&this.customHovers.set(t,f)}}dispose(){super.dispose();for(const t of this.customHovers.values())t.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var t;if(!this.descriptionNode){const r=this._register(new _(L.append(this.labelContainer,L.$("span.monaco-icon-description-container"))));!((t=this.creationOptions)===null||t===void 0)&&t.supportDescriptionHighlights?this.descriptionNode=new I.HighlightedLabel(L.append(r.element,L.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new _(L.append(r.element,L.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=v;class C{constructor(t){this.container=t,this.label=void 0,this.singleLabel=void 0}setLabel(t,r){if(!(this.label===t&&(0,S.equals)(this.options,r)))if(this.label=t,this.options=r,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=L.append(this.container,L.$("a.label-name",{id:r?.domId}))),this.singleLabel.textContent=t;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let u=0;u<t.length;u++){const f=t[u],d=r?.domId&&`${r?.domId}_${u}`;L.append(this.container,L.$("a.label-name",{id:d,"data-icon-label-count":t.length,"data-icon-label-index":u,role:"treeitem"},f)),u<t.length-1&&L.append(this.container,L.$("span.label-separator",void 0,r?.separator||"/"))}}}}function s(n,t,r){if(!r)return;let u=0;return n.map(f=>{const d={start:u,end:u+f.length},l=r.map(o=>m.Range.intersect(d,o)).filter(o=>!m.Range.isEmpty(o)).map(({start:o,end:c})=>({start:o-u,end:c-u}));return u=d.end+t.length,l})}class i{constructor(t,r){this.container=t,this.supportIcons=r,this.label=void 0,this.singleLabel=void 0}setLabel(t,r){if(!(this.label===t&&(0,S.equals)(this.options,r)))if(this.label=t,this.options=r,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new I.HighlightedLabel(L.append(this.container,L.$("a.label-name",{id:r?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(t,r?.matches,void 0,r?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const u=r?.separator||"/",f=s(t,u,r?.matches);for(let d=0;d<t.length;d++){const l=t[d],o=f?f[d]:void 0,c=r?.domId&&`${r?.domId}_${d}`,a=L.$("a.label-name",{id:c,"data-icon-label-count":t.length,"data-icon-label-index":d,role:"treeitem"});new I.HighlightedLabel(L.append(this.container,a),{supportIcons:this.supportIcons}).set(l,o,void 0,r?.labelEscapeNewLines),d<t.length-1&&L.append(a,L.$("span.label-separator",void 0,u))}}}}}),define(te[583],ie([1,0,7,79,44,181,113,13,6,62,2,17,562,413]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const n=L.$,t="selectOption.entry.template";class r{get templateId(){return t}renderTemplate(d){const l=Object.create(null);return l.root=d,l.text=L.append(d,n(".option-text")),l.detail=L.append(d,n(".option-detail")),l.decoratorRight=L.append(d,n(".option-decorator-right")),l}renderElement(d,l,o){const c=o,a=d.text,g=d.detail,h=d.decoratorRight,p=d.isDisabled;c.text.textContent=a,c.detail.textContent=g||"",c.decoratorRight.innerText=h||"",p?c.root.classList.add("option-disabled"):c.root.classList.remove("option-disabled")}disposeTemplate(d){}}class u extends C.Disposable{constructor(d,l,o,c,a){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=c,this.selectBoxOptions=a||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new _.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(o),this.selected=l||0,d&&this.setOptions(d,l),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return t}constructSelectDropDown(d){this.contextViewProvider=d,this.selectDropDownContainer=L.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=L.append(this.selectDropDownContainer,n(".select-box-details-pane"));const l=L.append(this.selectDropDownContainer,n(".select-box-dropdown-container-width-control")),o=L.append(l,n(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",L.append(o,this.widthControlElement),this._dropDownPosition=0,this.styleElement=L.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.DRAG_START,c=>{L.EventHelper.stop(c,!0)}))}registerListeners(){this._register(L.addStandardDisposableListener(this.selectElement,"change",l=>{this.selected=l.target.selectedIndex,this._onDidSelect.fire({index:l.target.selectedIndex,selected:l.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(L.addDisposableListener(this.selectElement,L.EventType.CLICK,l=>{L.EventHelper.stop(l),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.MOUSE_DOWN,l=>{L.EventHelper.stop(l)}));let d;this._register(L.addDisposableListener(this.selectElement,"touchstart",l=>{d=this._isVisible})),this._register(L.addDisposableListener(this.selectElement,"touchend",l=>{L.EventHelper.stop(l),d?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.KEY_DOWN,l=>{const o=new y.StandardKeyboardEvent(l);let c=!1;s.isMacintosh?(o.keyCode===18||o.keyCode===16||o.keyCode===10||o.keyCode===3)&&(c=!0):(o.keyCode===18&&o.altKey||o.keyCode===16&&o.altKey||o.keyCode===10||o.keyCode===3)&&(c=!0),c&&(this.showSelectDropDown(),L.EventHelper.stop(l,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(d,l){m.equals(this.options,d)||(this.options=d,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((o,c)=>{this.selectElement.add(this.createOption(o.text,c,o.isDisabled)),typeof o.description=="string"&&(this._hasDetails=!0)})),l!==void 0&&(this.select(l),this._currentSelection=this.selected)}setOptionsList(){var d;(d=this.selectList)===null||d===void 0||d.splice(0,this.selectList.length,this.options)}select(d){d>=0&&d<this.options.length?this.selected=d:d>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(d){this.selectElement.tabIndex=d?0:-1}render(d){this.container=d,d.classList.add("select-container"),d.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const d=[];this.styles.listFocusBackground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(d.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),d.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),d.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(d.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),d.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&d.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),d.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),d.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=d.join(`
`)}styleSelectElement(){var d,l,o;const c=(d=this.styles.selectBackground)!==null&&d!==void 0?d:"",a=(l=this.styles.selectForeground)!==null&&l!==void 0?l:"",g=(o=this.styles.selectBorder)!==null&&o!==void 0?o:"";this.selectElement.style.backgroundColor=c,this.selectElement.style.color=a,this.selectElement.style.borderColor=g}styleList(){var d,l;const o=(d=this.styles.selectBackground)!==null&&d!==void 0?d:"",c=L.asCssValueWithDefault(this.styles.selectListBackground,o);this.selectDropDownListContainer.style.backgroundColor=c,this.selectionDetailsPane.style.backgroundColor=c;const a=(l=this.styles.focusBorder)!==null&&l!==void 0?l:"";this.selectDropDownContainer.style.outlineColor=a,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(d,l,o){const c=document.createElement("option");return c.value=d,c.text=d,c.disabled=!!o,c}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:d=>this.renderSelectDropDown(d,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:d=>this.renderSelectDropDown(d),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(d){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),d&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(d,l){return d.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(l),{dispose:()=>{try{d.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let d=0;return this.options.forEach((l,o)=>{this.updateDetail(o),this.selectionDetailsPane.offsetHeight>d&&(d=this.selectionDetailsPane.offsetHeight)}),d}layoutSelectDropDown(d){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const l=L.getDomNodePagePosition(this.selectElement),o=getComputedStyle(this.selectElement),c=parseFloat(o.getPropertyValue("--dropdown-padding-top"))+parseFloat(o.getPropertyValue("--dropdown-padding-bottom")),a=window.innerHeight-l.top-l.height-(this.selectBoxOptions.minBottomMargin||0),g=l.top-u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,h=this.selectElement.offsetWidth,p=this.setWidthControlElement(this.widthControlElement),b=Math.max(p,Math.round(h)).toString()+"px";this.selectDropDownContainer.style.width=b,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let w=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const E=this._hasDetails?this._cachedMaxDetailsHeight:0,k=w+c+E,M=Math.floor((a-c-E)/this.getHeight()),R=Math.floor((g-c-E)/this.getHeight());if(d)return l.top+l.height>window.innerHeight-22||l.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||M<1&&R<1?!1:(M<u.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&R>M&&this.options.length>M?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(l.top+l.height>window.innerHeight-22||l.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&M<1||this._dropDownPosition===1&&R<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&M+R<1)return this.hideSelectDropDown(!0),!1;k>a&&(w=M*this.getHeight())}else k>g&&(w=R*this.getHeight());return this.selectList.layout(w),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=w+c+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=w+c+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=b,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(d){let l=0;if(d){let o=0,c=0;this.options.forEach((a,g)=>{const h=a.detail?a.detail.length:0,p=a.decoratorRight?a.decoratorRight.length:0,b=a.text.length+h+p;b>c&&(o=g,c=b)}),d.textContent=this.options[o].text+(this.options[o].decoratorRight?this.options[o].decoratorRight+" ":""),l=L.getTotalWidth(d)}return l}createSelectList(d){if(this.selectList)return;this.selectDropDownListContainer=L.append(d,n(".select-box-dropdown-list-container")),this.listRenderer=new r,this.selectList=new S.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:c=>{let a=c.text;return c.detail&&(a+=`. ${c.detail}`),c.decoratorRight&&(a+=`. ${c.decoratorRight}`),c.description&&(a+=`. ${c.description}`),a},getWidgetAriaLabel:()=>(0,i.localize)(0,null),getRole:()=>s.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const l=this._register(new I.DomEmitter(this.selectDropDownListContainer,"keydown")),o=_.Event.chain(l.event,c=>c.filter(()=>this.selectList.length>0).map(a=>new y.StandardKeyboardEvent(a)));this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode===3))(this.onEnter,this)),this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode===2))(this.onEnter,this)),this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode===9))(this.onEscape,this)),this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode===16))(this.onUpArrow,this)),this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode===18))(this.onDownArrow,this)),this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode===12))(this.onPageDown,this)),this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode===11))(this.onPageUp,this)),this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode===14))(this.onHome,this)),this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode===13))(this.onEnd,this)),this._register(_.Event.chain(o,c=>c.filter(a=>a.keyCode>=21&&a.keyCode<=56||a.keyCode>=85&&a.keyCode<=113))(this.onCharacter,this)),this._register(L.addDisposableListener(this.selectList.getHTMLElement(),L.EventType.POINTER_UP,c=>this.onPointerUp(c))),this._register(this.selectList.onMouseOver(c=>typeof c.index<"u"&&this.selectList.setFocus([c.index]))),this._register(this.selectList.onDidChangeFocus(c=>this.onListFocus(c))),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.FOCUS_OUT,c=>{!this._isVisible||L.isAncestor(c.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(d){if(!this.selectList.length)return;L.EventHelper.stop(d);const l=d.target;if(!l||l.classList.contains("slider"))return;const o=l.closest(".monaco-list-row");if(!o)return;const c=Number(o.getAttribute("data-index")),a=o.classList.contains("option-disabled");c>=0&&c<this.options.length&&!a&&(this.selected=c,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(d,l){const o=a=>{for(let g=0;g<a.childNodes.length;g++){const h=a.childNodes.item(g);(h.tagName&&h.tagName.toLowerCase())==="img"?a.removeChild(h):o(h)}},c=(0,D.renderMarkdown)({value:d,supportThemeIcons:!0},{actionHandler:l});return c.element.classList.add("select-box-description-markdown"),o(c.element),c.element}onListFocus(d){!this._isVisible||!this._hasDetails||this.updateDetail(d.indexes[0])}updateDetail(d){var l,o;this.selectionDetailsPane.innerText="";const c=this.options[d],a=(l=c?.description)!==null&&l!==void 0?l:"",g=(o=c?.descriptionIsMarkdown)!==null&&o!==void 0?o:!1;if(a){if(g){const h=c.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(a,h))}else this.selectionDetailsPane.innerText=a;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(d){L.EventHelper.stop(d),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(d){L.EventHelper.stop(d),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(d){if(this.selected<this.options.length-1){L.EventHelper.stop(d,!0);const l=this.options[this.selected+1].isDisabled;if(l&&this.options.length>this.selected+2)this.selected+=2;else{if(l)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(d){this.selected>0&&(L.EventHelper.stop(d,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(d){L.EventHelper.stop(d),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(d){L.EventHelper.stop(d),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(d){L.EventHelper.stop(d),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(d){L.EventHelper.stop(d),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(d){const l=v.KeyCodeUtils.toString(d.keyCode);let o=-1;for(let c=0;c<this.options.length-1;c++)if(o=(c+this.selected+1)%this.options.length,this.options[o].text.charAt(0).toUpperCase()===l&&!this.options[o].isDisabled){this.select(o),this.selectList.setFocus([o]),this.selectList.reveal(this.selectList.getFocus()[0]),L.EventHelper.stop(d);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=u,u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,u.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(te[584],ie([1,0,583,578,83,17,412]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class S extends y.Widget{constructor(_,v,C,s,i){super(),D.isMacintosh&&!i?.useCustomDrawn?this.selectBoxDelegate=new I.SelectBoxNative(_,v,s,i):this.selectBoxDelegate=new L.SelectBoxList(_,v,C,s,i),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(_,v){this.selectBoxDelegate.setOptions(_,v)}select(_){this.selectBoxDelegate.select(_)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(_){this.selectBoxDelegate.setFocusable(_)}render(_){this.selectBoxDelegate.render(_)}}e.SelectBox=S}),define(te[129],ie([1,0,51,196,7,61,319,584,41,2,17,20,554,264]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class n extends v.Disposable{get action(){return this._action}constructor(f,d,l={}){super(),this.options=l,this._context=f||this,this._action=d,d instanceof _.Action&&this._register(d.onDidChange(o=>{this.element&&this.handleActionChangeEvent(o)}))}handleActionChangeEvent(f){f.enabled!==void 0&&this.updateEnabled(),f.checked!==void 0&&this.updateChecked(),f.class!==void 0&&this.updateClass(),f.label!==void 0&&(this.updateLabel(),this.updateTooltip()),f.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new _.ActionRunner)),this._actionRunner}set actionRunner(f){this._actionRunner=f}isEnabled(){return this._action.enabled}setActionContext(f){this._context=f}render(f){const d=this.element=f;this._register(D.Gesture.addTarget(f));const l=this.options&&this.options.draggable;l&&(f.draggable=!0,L.isFirefox&&this._register((0,y.addDisposableListener)(f,y.EventType.DRAG_START,o=>{var c;return(c=o.dataTransfer)===null||c===void 0?void 0:c.setData(I.DataTransfers.TEXT,this._action.label)}))),this._register((0,y.addDisposableListener)(d,D.EventType.Tap,o=>this.onClick(o,!0))),this._register((0,y.addDisposableListener)(d,y.EventType.MOUSE_DOWN,o=>{l||y.EventHelper.stop(o,!0),this._action.enabled&&o.button===0&&d.classList.add("active")})),C.isMacintosh&&this._register((0,y.addDisposableListener)(d,y.EventType.CONTEXT_MENU,o=>{o.button===0&&o.ctrlKey===!0&&this.onClick(o)})),this._register((0,y.addDisposableListener)(d,y.EventType.CLICK,o=>{y.EventHelper.stop(o,!0),this.options&&this.options.isMenu||this.onClick(o)})),this._register((0,y.addDisposableListener)(d,y.EventType.DBLCLICK,o=>{y.EventHelper.stop(o,!0)})),[y.EventType.MOUSE_UP,y.EventType.MOUSE_OUT].forEach(o=>{this._register((0,y.addDisposableListener)(d,o,c=>{y.EventHelper.stop(c),d.classList.remove("active")}))})}onClick(f,d=!1){var l;y.EventHelper.stop(f,!0);const o=s.isUndefinedOrNull(this._context)?!((l=this.options)===null||l===void 0)&&l.useEventAsContext?f:{preserveFocus:d}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(f){this.element&&(this.element.tabIndex=f?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var f;if(!this.element)return;const d=(f=this.getTooltip())!==null&&f!==void 0?f:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(d):(this.customHover=(0,S.setupCustomHover)(this.options.hoverDelegate,this.element,d),this._store.add(this.customHover))):this.element.title=d}updateAriaLabel(){var f;if(this.element){const d=(f=this.getTooltip())!==null&&f!==void 0?f:"";this.element.setAttribute("aria-label",d)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=n;class t extends n{constructor(f,d,l){super(f,d,l),this.options=l,this.options.icon=l.icon!==void 0?l.icon:!1,this.options.label=l.label!==void 0?l.label:!0,this.cssClass=""}render(f){super.render(f),this.element&&(this.label=(0,y.append)(this.element,(0,y.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&((0,y.append)(this.element,(0,y.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===_.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(f){this.label&&(this.label.tabIndex=f?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let f=null;return this.action.tooltip?f=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(f=this.action.label,this.options.keybinding&&(f=i.localize(0,null,f,this.options.keybinding))),f??void 0}updateClass(){var f;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(f=this.label)===null||f===void 0||f.classList.remove("codicon")}updateEnabled(){var f,d;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(f=this.element)===null||f===void 0||f.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(d=this.element)===null||d===void 0||d.classList.add("disabled"))}updateAriaLabel(){var f;if(this.label){const d=(f=this.getTooltip())!==null&&f!==void 0?f:"";this.label.setAttribute("aria-label",d)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=t;class r extends n{constructor(f,d,l,o,c,a,g){super(f,d),this.selectBox=new m.SelectBox(l,o,c,a,g),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(f){this.selectBox.select(f)}registerListeners(){this._register(this.selectBox.onDidSelect(f=>this.runAction(f.selected,f.index)))}runAction(f,d){this.actionRunner.run(this._action,this.getActionContext(f,d))}getActionContext(f,d){return f}setFocusable(f){this.selectBox.setFocusable(f)}focus(){var f;(f=this.selectBox)===null||f===void 0||f.focus()}blur(){var f;(f=this.selectBox)===null||f===void 0||f.blur()}render(f){this.selectBox.render(f)}}e.SelectActionViewItem=r}),define(te[73],ie([1,0,7,44,129,41,6,2,20,264]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class v extends m.Disposable{constructor(s,i={}){var n,t,r,u,f,d;super(),this._actionRunnerDisposables=this._register(new m.DisposableStore),this.viewItemDisposables=this._register(new m.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new S.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new S.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new S.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new S.Emitter),this.onWillRun=this._onWillRun.event,this.options=i,this._context=(n=i.context)!==null&&n!==void 0?n:null,this._orientation=(t=this.options.orientation)!==null&&t!==void 0?t:0,this._triggerKeys={keyDown:(u=(r=this.options.triggerKeys)===null||r===void 0?void 0:r.keyDown)!==null&&u!==void 0?u:!1,keys:(d=(f=this.options.triggerKeys)===null||f===void 0?void 0:f.keys)!==null&&d!==void 0?d:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(c=>this._onDidRun.fire(c))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(c=>this._onWillRun.fire(c))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",i.animated!==!1&&this.domNode.classList.add("animated");let l,o;switch(this._orientation){case 0:l=[15],o=[17];break;case 1:l=[16],o=[18],this.domNode.className+=" vertical";break}this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_DOWN,c=>{const a=new I.StandardKeyboardEvent(c);let g=!0;const h=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;l&&(a.equals(l[0])||a.equals(l[1]))?g=this.focusPrevious():o&&(a.equals(o[0])||a.equals(o[1]))?g=this.focusNext():a.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():a.equals(14)?g=this.focusFirst():a.equals(13)?g=this.focusLast():a.equals(2)&&h instanceof y.BaseActionViewItem&&h.trapsArrowNavigation?g=this.focusNext():this.isTriggerKeyEvent(a)?this._triggerKeys.keyDown?this.doTrigger(a):this.triggerKeyDown=!0:g=!1,g&&(a.preventDefault(),a.stopPropagation())})),this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_UP,c=>{const a=new I.StandardKeyboardEvent(c);this.isTriggerKeyEvent(a)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(a)),a.preventDefault(),a.stopPropagation()):(a.equals(2)||a.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(L.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(L.getActiveElement()===this.domNode||!L.isAncestor(L.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(s){if(this.focusable=s,this.focusable){const i=this.viewItems.find(n=>n instanceof y.BaseActionViewItem&&n.isEnabled());i instanceof y.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof y.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(s){let i=!1;return this._triggerKeys.keys.forEach(n=>{i=i||s.equals(n)}),i}updateFocusedItem(){for(let s=0;s<this.actionsList.children.length;s++){const i=this.actionsList.children[s];if(L.isAncestor(L.getActiveElement(),i)){this.focusedItem=s;break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(i=>i.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){this._actionRunner=s,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=s)}getContainer(){return this.domNode}getAction(s){var i;if(typeof s=="number")return(i=this.viewItems[s])===null||i===void 0?void 0:i.action;if(s instanceof HTMLElement){for(;s.parentElement!==this.actionsList;){if(!s.parentElement)return;s=s.parentElement}for(let n=0;n<this.actionsList.childNodes.length;n++)if(this.actionsList.childNodes[n]===s)return this.viewItems[n].action}}push(s,i={}){const n=Array.isArray(s)?s:[s];let t=_.isNumber(i.index)?i.index:null;n.forEach(r=>{const u=document.createElement("li");u.className="action-item",u.setAttribute("role","presentation");let f;const d=Object.assign({hoverDelegate:this.options.hoverDelegate},i);this.options.actionViewItemProvider&&(f=this.options.actionViewItemProvider(r,d)),f||(f=new y.ActionViewItem(this.context,r,d)),this.options.allowContextMenu||this.viewItemDisposables.set(f,L.addDisposableListener(u,L.EventType.CONTEXT_MENU,l=>{L.EventHelper.stop(l,!0)})),f.actionRunner=this._actionRunner,f.setActionContext(this.context),f.render(u),this.focusable&&f instanceof y.BaseActionViewItem&&this.viewItems.length===0&&f.setFocusable(!0),t===null||t<0||t>=this.actionsList.children.length?(this.actionsList.appendChild(u),this.viewItems.push(f)):(this.actionsList.insertBefore(u,this.actionsList.children[t]),this.viewItems.splice(t,0,f),t++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,m.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),L.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(s){let i=!1,n;if(s===void 0?i=!0:typeof s=="number"?n=s:typeof s=="boolean"&&(i=s),i&&typeof this.focusedItem>"u"){const t=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=t===-1?void 0:t,this.updateFocus(void 0,void 0,!0)}else n!==void 0&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(s){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(!s&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===D.Separator.ID));return this.updateFocus(),!0}focusPrevious(s){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!s&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===D.Separator.ID));return this.updateFocus(!0),!0}updateFocus(s,i,n=!1){var t;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((t=this.viewItems[this.previouslyFocusedItem])===null||t===void 0||t.blur());const r=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(r){let u=!0;_.isFunction(r.focus)||(u=!1),this.options.focusOnlyEnabledItems&&_.isFunction(r.isEnabled)&&!r.isEnabled()&&(u=!1),r.action.id===D.Separator.ID&&(u=!1),u?(n||this.previouslyFocusedItem!==this.focusedItem)&&(r.focus(s),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0)}}doTrigger(s){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof y.BaseActionViewItem){const n=i._context===null||i._context===void 0?s:i._context;this.run(i._action,n)}}run(s,i){return be(this,void 0,void 0,function*(){yield this._actionRunner.run(s,i)})}dispose(){this._context=void 0,this.viewItems=(0,m.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=v}),define(te[320],ie([1,0,7,129,575,6,265]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends I.BaseActionViewItem{constructor(_,v,C,s=Object.create(null)){super(null,_,s),this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=v,this.contextMenuProvider=C,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(_){this.actionItem=_;const v=i=>{this.element=(0,L.append)(i,(0,L.$)("a.action-label"));let n=[];return typeof this.options.classNames=="string"?n=this.options.classNames.split(/\s+/g).filter(t=>!!t):this.options.classNames&&(n=this.options.classNames),n.find(t=>t==="icon")||n.push("codicon"),this.element.classList.add(...n),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},C=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:v,menuAsChild:this.options.menuAsChild,actions:C?this.menuActionsOrProvider:void 0,actionProvider:C?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new y.DropdownMenu(_,s)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return i.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let _=null;return this.action.tooltip?_=this.action.tooltip:this.action.label&&(_=this.action.label),_??void 0}setActionContext(_){super.setActionContext(_),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=_:this.dropdownMenu.menuOptions={context:_})}show(){var _;(_=this.dropdownMenu)===null||_===void 0||_.show()}updateEnabled(){var _,v;const C=!this.action.enabled;(_=this.actionItem)===null||_===void 0||_.classList.toggle("disabled",C),(v=this.element)===null||v===void 0||v.classList.toggle("disabled",C)}}e.DropdownMenuActionViewItem=S}),define(te[227],ie([1,0,7,79,310,73,45,84,83,6,392,52,560,406]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const n=L.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class t extends _.Widget{constructor(f,d,l){var o;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new v.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=d,this.options=l,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(o=this.options.tooltip)!==null&&o!==void 0?o:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=L.append(f,n(".monaco-inputbox.idle"));const c=this.options.flexibleHeight?"textarea":"input",a=L.append(this.element,n(".ibwrapper"));if(this.input=L.append(a,n(c+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=L.append(a,n("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new m.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),L.append(f,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(p=>this.input.scrollTop=p.scrollTop));const g=this._register(new I.DomEmitter(document,"selectionchange")),h=v.Event.filter(g.event,()=>{const p=document.getSelection();return p?.anchorNode===a});this._register(h(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(f){this.placeholder=f,this.input.setAttribute("placeholder",f)}setTooltip(f){this.tooltip=f,this.input.title=f}get inputElement(){return this.input}get value(){return this.input.value}set value(f){this.input.value!==f&&(this.input.value=f,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:L.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(f=null){this.input.select(),f&&(this.input.setSelectionRange(f.start,f.end),f.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(f){this.input.style.width=`calc(100% - ${f}px)`,this.mirror&&(this.mirror.style.paddingRight=f+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const f=this.cachedContentHeight,d=this.cachedHeight,l=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:f,height:d}),this.scrollableElement.setScrollPosition({scrollTop:l})}showMessage(f,d){if(this.state==="open"&&(0,s.equals)(this.message,f))return;this.message=f,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(f.type));const l=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${L.asCssValueWithDefault(l.border,"transparent")}`,this.message.content&&(this.hasFocus()||d)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let f=null;return this.validation&&(f=this.validation(this.value),f?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(f)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),f?.type}stylesForType(f){const d=this.options.inputBoxStyles;switch(f){case 1:return{border:d.inputValidationInfoBorder,background:d.inputValidationInfoBackground,foreground:d.inputValidationInfoForeground};case 2:return{border:d.inputValidationWarningBorder,background:d.inputValidationWarningBackground,foreground:d.inputValidationWarningForeground};default:return{border:d.inputValidationErrorBorder,background:d.inputValidationErrorBackground,foreground:d.inputValidationErrorForeground}}}classForType(f){switch(f){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let f;const d=()=>f.style.width=L.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{var c,a;if(!this.message)return null;f=L.append(o,n(".monaco-inputbox-container")),d();const g={inline:!0,className:"monaco-inputbox-message"},h=this.message.formatContent?(0,y.renderFormattedText)(this.message.content,g):(0,y.renderText)(this.message.content,g);h.classList.add(this.classForType(this.message.type));const p=this.stylesForType(this.message.type);return h.style.backgroundColor=(c=p.background)!==null&&c!==void 0?c:"",h.style.color=(a=p.foreground)!==null&&a!==void 0?a:"",h.style.border=p.border?`1px solid ${p.border}`:"",L.append(f,h),null},onHide:()=>{this.state="closed"},layout:d});let l;this.message.type===3?l=i.localize(0,null,this.message.content):this.message.type===2?l=i.localize(1,null,this.message.content):l=i.localize(2,null,this.message.content),S.alert(l),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const f=this.value,l=f.charCodeAt(f.length-1)===10?" ":"";(f+l).replace(/\u000c/g,"")?this.mirror.textContent=f+l:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var f,d,l;const o=this.options.inputBoxStyles,c=(f=o.inputBackground)!==null&&f!==void 0?f:"",a=(d=o.inputForeground)!==null&&d!==void 0?d:"",g=(l=o.inputBorder)!==null&&l!==void 0?l:"";this.element.style.backgroundColor=c,this.element.style.color=a,this.input.style.backgroundColor="inherit",this.input.style.color=a,this.element.style.border=`1px solid ${L.asCssValueWithDefault(g,"transparent")}`}layout(){if(!this.mirror)return;const f=this.cachedContentHeight;this.cachedContentHeight=L.getTotalHeight(this.mirror),f!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(f){const d=this.inputElement,l=d.selectionStart,o=d.selectionEnd,c=d.value;l!==null&&o!==null&&(this.value=c.substr(0,l)+f+c.substr(o),d.setSelectionRange(l+1,l+1),this.layout())}dispose(){var f;this._hideMessage(),this.message=null,(f=this.actionbar)===null||f===void 0||f.dispose(),super.dispose()}}e.InputBox=t;class r extends t{constructor(f,d,l){const o=i.localize(3,null),c=` or \u21C5 ${o}`,a=` (\u21C5 ${o})`;super(f,d,l),this._onDidFocus=this._register(new v.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new v.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new C.HistoryNavigator(l.history,100);const g=()=>{if(l.showHistoryHint&&l.showHistoryHint()&&!this.placeholder.endsWith(c)&&!this.placeholder.endsWith(a)&&this.history.getHistory().length){const h=this.placeholder.endsWith(")")?c:a,p=this.placeholder+h;l.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=p:this.setPlaceHolder(p)}};this.observer=new MutationObserver((h,p)=>{h.forEach(b=>{b.target.textContent||g()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>g()),this.onblur(this.input,()=>{const h=p=>{if(this.placeholder.endsWith(p)){const b=this.placeholder.slice(0,this.placeholder.length-p.length);return l.showPlaceholderOnFocus?this.placeholder=b:this.setPlaceHolder(b),!0}else return!1};h(a)||h(c)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(f){this.value&&(f||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let f=this.getNextValue();f&&(f=f===this.value?this.getNextValue():f),this.value=f??"",S.status(this.value?this.value:i.localize(4,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let f=this.getPreviousValue();f&&(f=f===this.value?this.getPreviousValue():f),f&&(this.value=f,S.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let f=this.history.current();return f||(f=this.history.last(),this.history.next()),f}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=r}),define(te[228],ie([1,0,7,317,227,83,6,555,2,266]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=m.localize(0,null);class C extends D.Widget{constructor(i,n,t){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new _.MutableDisposable),this.additionalToggles=[],this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=t.placeholder||"",this.validation=t.validation,this.label=t.label||v,this.showCommonFindToggles=!!t.showCommonFindToggles;const r=t.appendCaseSensitiveLabel||"",u=t.appendWholeWordsLabel||"",f=t.appendRegexLabel||"",d=t.history||[],l=!!t.flexibleHeight,o=!!t.flexibleWidth,c=t.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,n,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:d,showHistoryHint:t.showHistoryHint,flexibleHeight:l,flexibleWidth:o,flexibleMaxHeight:c,inputBoxStyles:t.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new I.RegexToggle(Object.assign({appendTitle:f,isChecked:!1},t.toggleStyles))),this._register(this.regex.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(g=>{this._onRegexKeyDown.fire(g)})),this.wholeWords=this._register(new I.WholeWordsToggle(Object.assign({appendTitle:u,isChecked:!1},t.toggleStyles))),this._register(this.wholeWords.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new I.CaseSensitiveToggle(Object.assign({appendTitle:r,isChecked:!1},t.toggleStyles))),this._register(this.caseSensitive.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(g=>{this._onCaseSensitiveKeyDown.fire(g)}));const a=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){const h=a.indexOf(document.activeElement);if(h>=0){let p=-1;g.equals(17)?p=(h+1)%a.length:g.equals(15)&&(h===0?p=a.length-1:p=h-1),g.equals(9)?(a[h].blur(),this.inputBox.focus()):p>=0&&a[p].focus(),L.EventHelper.stop(g,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(t?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),i?.appendChild(this.domNode),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionstart",a=>{this.imeSessionInProgress=!0})),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionend",a=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,a=>this._onKeyDown.fire(a)),this.onkeyup(this.inputBox.inputElement,a=>this._onKeyUp.fire(a)),this.oninput(this.inputBox.inputElement,a=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,a=>this._onMouseDown.fire(a))}get onDidChange(){return this.inputBox.onDidChange}layout(i){this.inputBox.layout(),this.updateInputBoxPadding(i.collapsedFindWidget)}enable(){var i,n,t;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(i=this.regex)===null||i===void 0||i.enable(),(n=this.wholeWords)===null||n===void 0||n.enable(),(t=this.caseSensitive)===null||t===void 0||t.enable();for(const r of this.additionalToggles)r.enable()}disable(){var i,n,t;this.domNode.classList.add("disabled"),this.inputBox.disable(),(i=this.regex)===null||i===void 0||i.disable(),(n=this.wholeWords)===null||n===void 0||n.disable(),(t=this.caseSensitive)===null||t===void 0||t.disable();for(const r of this.additionalToggles)r.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}setAdditionalToggles(i){for(const n of this.additionalToggles)n.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new _.DisposableStore;for(const n of i??[])this.additionalTogglesDisposables.value.add(n),this.controls.appendChild(n.domNode),this.additionalTogglesDisposables.value.add(n.onChange(t=>{this._onDidOptionChange.fire(t),!t&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(n);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(i=!1){var n,t,r,u,f,d;i?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((t=(n=this.caseSensitive)===null||n===void 0?void 0:n.width())!==null&&t!==void 0?t:0)+((u=(r=this.wholeWords)===null||r===void 0?void 0:r.width())!==null&&u!==void 0?u:0)+((d=(f=this.regex)===null||f===void 0?void 0:f.width())!==null&&d!==void 0?d:0)+this.additionalToggles.reduce((l,o)=>l+o.width(),0)}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var i,n;return(n=(i=this.caseSensitive)===null||i===void 0?void 0:i.checked)!==null&&n!==void 0?n:!1}setCaseSensitive(i){this.caseSensitive&&(this.caseSensitive.checked=i)}getWholeWords(){var i,n;return(n=(i=this.wholeWords)===null||i===void 0?void 0:i.checked)!==null&&n!==void 0?n:!1}setWholeWords(i){this.wholeWords&&(this.wholeWords.checked=i)}getRegex(){var i,n;return(n=(i=this.regex)===null||i===void 0?void 0:i.checked)!==null&&n!==void 0?n:!1}setRegex(i){this.regex&&(this.regex.checked=i,this.validate())}focusOnCaseSensitive(){var i;(i=this.caseSensitive)===null||i===void 0||i.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=C}),define(te[585],ie([1,0,7,153,227,83,26,6,557,266]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const v=_.localize(0,null),C=_.localize(1,null);class s extends I.Toggle{constructor(t){super({icon:S.Codicon.preserveCase,title:C+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class i extends D.Widget{constructor(t,r,u,f){super(),this._showOptionButtons=u,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new m.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new m.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new m.Emitter),this._onInput=this._register(new m.Emitter),this._onKeyUp=this._register(new m.Emitter),this._onPreserveCaseKeyDown=this._register(new m.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=r,this.placeholder=f.placeholder||"",this.validation=f.validation,this.label=f.label||v;const d=f.appendPreserveCaseLabel||"",l=f.history||[],o=!!f.flexibleHeight,c=!!f.flexibleWidth,a=f.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:l,showHistoryHint:f.showHistoryHint,flexibleHeight:o,flexibleWidth:c,flexibleMaxHeight:a,inputBoxStyles:f.inputBoxStyles})),this.preserveCase=this._register(new s(Object.assign({appendTitle:d,isChecked:!1},f.toggleStyles))),this._register(this.preserveCase.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(p=>{this._onPreserveCaseKeyDown.fire(p)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const g=[this.preserveCase.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){const b=g.indexOf(document.activeElement);if(b>=0){let w=-1;p.equals(17)?w=(b+1)%g.length:p.equals(15)&&(b===0?w=g.length-1:w=b-1),p.equals(9)?(g[b].blur(),this.inputBox.focus()):w>=0&&g[w].focus(),L.EventHelper.stop(p,!0)}}});const h=document.createElement("div");h.className="controls",h.style.display=this._showOptionButtons?"block":"none",h.appendChild(this.preserveCase.domNode),this.domNode.appendChild(h),t?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,p=>this._onKeyDown.fire(p)),this.onkeyup(this.inputBox.inputElement,p=>this._onKeyUp.fire(p)),this.oninput(this.inputBox.inputElement,p=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,p=>this._onMouseDown.fire(p))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(t){t?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(t){this.preserveCase.checked=t}focusOnPreserve(){this.preserveCase.focus()}validate(){var t;(t=this.inputBox)===null||t===void 0||t.validate()}set width(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=t+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(te[586],ie([1,0,51,61,7,44,60,73,129,311,84,41,14,26,27,119,2,17,10]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var l;(function(w){w[w.Right=0]="Right",w[w.Left=1]="Left"})(l||(e.Direction=l={}));class o extends m.ActionBar{constructor(E,k,M,R){E.classList.add("monaco-menu-container"),E.setAttribute("role","presentation");const B=document.createElement("div");B.classList.add("monaco-menu"),B.setAttribute("role","presentation"),super(B,{orientation:1,actionViewItemProvider:A=>this.doGetActionViewItem(A,M,T),context:M.context,actionRunner:M.actionRunner,ariaLabel:M.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...f.isMacintosh||f.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=R,this.menuElement=B,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new u.DisposableStore),this.initializeOrUpdateStyleSheet(E,R),this._register(I.Gesture.addTarget(B)),(0,y.addDisposableListener)(B,y.EventType.KEY_DOWN,A=>{new D.StandardKeyboardEvent(A).equals(2)&&A.preventDefault()}),M.enableMnemonics&&this.menuDisposables.add((0,y.addDisposableListener)(B,y.EventType.KEY_DOWN,A=>{const P=A.key.toLocaleLowerCase();if(this.mnemonics.has(P)){y.EventHelper.stop(A,!0);const O=this.mnemonics.get(P);if(O.length===1&&(O[0]instanceof a&&O[0].container&&this.focusItemByElement(O[0].container),O[0].onClick(A)),O.length>1){const x=O.shift();x&&x.container&&(this.focusItemByElement(x.container),O.push(x)),this.mnemonics.set(P,O)}}})),f.isLinux&&this._register((0,y.addDisposableListener)(B,y.EventType.KEY_DOWN,A=>{const P=new D.StandardKeyboardEvent(A);P.equals(14)||P.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),y.EventHelper.stop(A,!0)):(P.equals(13)||P.equals(12))&&(this.focusedItem=0,this.focusPrevious(),y.EventHelper.stop(A,!0))})),this._register((0,y.addDisposableListener)(this.domNode,y.EventType.MOUSE_OUT,A=>{const P=A.relatedTarget;(0,y.isAncestor)(P,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),A.stopPropagation())})),this._register((0,y.addDisposableListener)(this.actionsList,y.EventType.MOUSE_OVER,A=>{let P=A.target;if(!(!P||!(0,y.isAncestor)(P,this.actionsList)||P===this.actionsList)){for(;P.parentElement!==this.actionsList&&P.parentElement!==null;)P=P.parentElement;if(P.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(P),O!==this.focusedItem&&this.updateFocus()}}})),this._register(I.Gesture.addTarget(this.actionsList)),this._register((0,y.addDisposableListener)(this.actionsList,I.EventType.Tap,A=>{let P=A.initialTarget;if(!(!P||!(0,y.isAncestor)(P,this.actionsList)||P===this.actionsList)){for(;P.parentElement!==this.actionsList&&P.parentElement!==null;)P=P.parentElement;if(P.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(P),O!==this.focusedItem&&this.updateFocus()}}}));const T={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new C.DomScrollableElement(B,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const N=this.scrollableElement.getDomNode();N.style.position="",this.styleScrollElement(N,R),this._register((0,y.addDisposableListener)(B,I.EventType.Change,A=>{y.EventHelper.stop(A,!0);const P=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:P-A.translationY})})),this._register((0,y.addDisposableListener)(N,y.EventType.MOUSE_UP,A=>{A.preventDefault()})),B.style.maxHeight=`${Math.max(10,window.innerHeight-E.getBoundingClientRect().top-35)}px`,k=k.filter(A=>{var P;return!((P=M.submenuIds)===null||P===void 0)&&P.has(A.id)?(console.warn(`Found submenu cycle: ${A.id}`),!1):!0}),this.push(k,{icon:!0,label:!0,isMenu:!0}),E.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(A=>!(A instanceof g)).forEach((A,P,O)=>{A.updatePositionInSet(P+1,O.length)})}initializeOrUpdateStyleSheet(E,k){this.styleSheet||((0,y.isInShadowDOM)(E)?this.styleSheet=(0,y.createStyleSheet)(E):(o.globalStyleSheet||(o.globalStyleSheet=(0,y.createStyleSheet)()),this.styleSheet=o.globalStyleSheet)),this.styleSheet.textContent=b(k,(0,y.isInShadowDOM)(E))}styleScrollElement(E,k){var M,R;const B=(M=k.foregroundColor)!==null&&M!==void 0?M:"",T=(R=k.backgroundColor)!==null&&R!==void 0?R:"",N=k.borderColor?`1px solid ${k.borderColor}`:"",A="5px",P=k.shadowColor?`0 2px 8px ${k.shadowColor}`:"";E.style.outline=N,E.style.borderRadius=A,E.style.color=B,E.style.backgroundColor=T,E.style.boxShadow=P}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(E){const k=this.focusedItem;this.setFocusedItem(E),k!==this.focusedItem&&this.updateFocus()}setFocusedItem(E){for(let k=0;k<this.actionsList.children.length;k++){const M=this.actionsList.children[k];if(E===M){this.focusedItem=k;break}}}updateFocus(E){super.updateFocus(E,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(E,k,M){if(E instanceof s.Separator)return new g(k.context,E,{icon:!0},this.menuStyles);if(E instanceof s.SubmenuAction){const R=new a(E,E.actions,M,Object.assign(Object.assign({},k),{submenuIds:new Set([...k.submenuIds||[],E.id])}),this.menuStyles);if(k.enableMnemonics){const B=R.getMnemonic();if(B&&R.isEnabled()){let T=[];this.mnemonics.has(B)&&(T=this.mnemonics.get(B)),T.push(R),this.mnemonics.set(B,T)}}return R}else{const R={enableMnemonics:k.enableMnemonics,useEventAsContext:k.useEventAsContext};if(k.getKeyBinding){const T=k.getKeyBinding(E);if(T){const N=T.getLabel();N&&(R.keybinding=N)}}const B=new c(k.context,E,R,this.menuStyles);if(k.enableMnemonics){const T=B.getMnemonic();if(T&&B.isEnabled()){let N=[];this.mnemonics.has(T)&&(N=this.mnemonics.get(T)),N.push(B),this.mnemonics.set(T,N)}}return B}}}e.Menu=o;class c extends _.BaseActionViewItem{constructor(E,k,M,R){if(M.isMenu=!0,super(k,k,M),this.menuStyle=R,this.options=M,this.options.icon=M.icon!==void 0?M.icon:!1,this.options.label=M.label!==void 0?M.label:!0,this.cssClass="",this.options.label&&M.enableMnemonics){const B=this.action.label;if(B){const T=e.MENU_MNEMONIC_REGEX.exec(B);T&&(this.mnemonic=(T[1]?T[1]:T[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new i.RunOnceScheduler(()=>{this.element&&(this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_UP,B=>{if(y.EventHelper.stop(B,!0),L.isFirefox){if(new S.StandardMouseEvent(B).rightButton)return;this.onClick(B)}else setTimeout(()=>{this.onClick(B)},0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.CONTEXT_MENU,B=>{y.EventHelper.stop(B,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(E){super.render(E),this.element&&(this.container=E,this.item=(0,y.append)(this.element,(0,y.$)("a.action-menu-item")),this._action.id===s.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,y.append)(this.item,(0,y.$)("span.menu-item-check"+t.ThemeIcon.asCSSSelector(n.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,y.append)(this.item,(0,y.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,y.append)(this.item,(0,y.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var E;super.focus(),(E=this.item)===null||E===void 0||E.focus(),this.applyStyle()}updatePositionInSet(E,k){this.item&&(this.item.setAttribute("aria-posinset",`${E}`),this.item.setAttribute("aria-setsize",`${k}`))}updateLabel(){var E;if(this.label&&this.options.label){(0,y.clearNode)(this.label);let k=(0,r.stripIcons)(this.action.label);if(k){const M=h(k);this.options.enableMnemonics||(k=M),this.label.setAttribute("aria-label",M.replace(/&&/g,"&"));const R=e.MENU_MNEMONIC_REGEX.exec(k);if(R){k=d.escape(k),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let B=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(k);for(;B&&B[1];)B=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(k);const T=N=>N.replace(/&amp;&amp;/g,"&amp;");B?this.label.append(d.ltrim(T(k.substr(0,B.index))," "),(0,y.$)("u",{"aria-hidden":"true"},B[3]),d.rtrim(T(k.substr(B.index+B[0].length))," ")):this.label.innerText=T(k).trim(),(E=this.item)===null||E===void 0||E.setAttribute("aria-keyshortcuts",(R[1]?R[1]:R[3]).toLocaleLowerCase())}else this.label.innerText=k.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const E=this.action.checked;this.item.classList.toggle("checked",!!E),E!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",E?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const E=this.element&&this.element.classList.contains("focused"),k=E&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,M=E&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,R=E&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",B=E&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=k??"",this.item.style.backgroundColor=M??"",this.item.style.outline=R,this.item.style.outlineOffset=B),this.check&&(this.check.style.color=k??"")}}class a extends c{constructor(E,k,M,R,B){super(E,E,R,B),this.submenuActions=k,this.parentData=M,this.submenuOptions=R,this.mysubmenu=null,this.submenuDisposables=this._register(new u.DisposableStore),this.mouseOver=!1,this.expandDirection=R&&R.expandDirection!==void 0?R.expandDirection:l.Right,this.showScheduler=new i.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new i.RunOnceScheduler(()=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(E){super.render(E),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,y.append)(this.item,(0,y.$)("span.submenu-indicator"+t.ThemeIcon.asCSSSelector(n.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_UP,k=>{const M=new D.StandardKeyboardEvent(k);(M.equals(17)||M.equals(3))&&(y.EventHelper.stop(k,!0),this.createSubmenu(!0))})),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_DOWN,k=>{const M=new D.StandardKeyboardEvent(k);(0,y.getActiveElement)()===this.item&&(M.equals(17)||M.equals(3))&&y.EventHelper.stop(k,!0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_OVER,k=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_LEAVE,k=>{this.mouseOver=!1})),this._register((0,y.addDisposableListener)(this.element,y.EventType.FOCUS_OUT,k=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(E){y.EventHelper.stop(E,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(E){if(this.parentData.submenu&&(E||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(E,k,M,R){const B={top:0,left:0};return B.left=(0,v.layout)(E.width,k.width,{position:R===l.Right?0:1,offset:M.left,size:M.width}),B.left>=M.left&&B.left<M.left+M.width&&(M.left+10+k.width<=E.width&&(B.left=M.left+10),M.top+=10,M.height=0),B.top=(0,v.layout)(E.height,k.height,{position:0,offset:M.top,size:0}),B.top+k.height===M.top&&B.top+M.height+k.height<=E.height&&(B.top+=M.height),B}createSubmenu(E=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,y.append)(this.element,(0,y.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const k=getComputedStyle(this.parentData.parent.domNode),M=parseFloat(k.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new o(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new s.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const R=this.element.getBoundingClientRect(),B={top:R.top-M,left:R.left,height:R.height+2*M,width:R.width},T=this.submenuContainer.getBoundingClientRect(),{top:N,left:A}=this.calculateSubmenuMenuLayout(new y.Dimension(window.innerWidth,window.innerHeight),y.Dimension.lift(T),B,this.expandDirection);this.submenuContainer.style.left=`${A-T.left}px`,this.submenuContainer.style.top=`${N-T.top}px`,this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_UP,P=>{new D.StandardKeyboardEvent(P).equals(15)&&(y.EventHelper.stop(P,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_DOWN,P=>{new D.StandardKeyboardEvent(P).equals(15)&&y.EventHelper.stop(P,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(E),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(E){var k;this.item&&((k=this.item)===null||k===void 0||k.setAttribute("aria-expanded",E))}applyStyle(){super.applyStyle();const k=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=k??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class g extends _.ActionViewItem{constructor(E,k,M,R){super(E,k,M),this.menuStyles=R}render(E){super.render(E),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function h(w){const E=e.MENU_MNEMONIC_REGEX,k=E.exec(w);if(!k)return w;const M=!k[1];return w.replace(E,M?"$2$3":"").trim()}e.cleanMnemonic=h;function p(w){const E=(0,n.getCodiconFontCharacters)()[w.id];return`.codicon-${w.id}:before { content: '\\${E.toString(16)}'; }`}e.formatRule=p;function b(w,E){let k=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${p(n.Codicon.menuSelection)}
${p(n.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(E){k+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const M=w.scrollbarShadow;M&&(k+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${M} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${M} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${M} 6px 6px 6px -6px inset;
				}
			`);const R=w.scrollbarSliderBackground;R&&(k+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${R};
				}
			`);const B=w.scrollbarSliderHoverBackground;B&&(k+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${B};
				}
			`);const T=w.scrollbarSliderActiveBackground;T&&(k+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${T};
				}
			`)}return k}}),define(te[587],ie([1,0,73,320,41,26,27,6,2,563,417]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class C extends _.Disposable{constructor(n,t,r={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new m.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new _.DisposableStore),this.options=r,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new s(()=>{var u;return(u=this.toggleMenuActionViewItem)===null||u===void 0?void 0:u.show()},r.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",n.appendChild(this.element),this.actionBar=this._register(new L.ActionBar(this.element,{orientation:r.orientation,ariaLabel:r.ariaLabel,actionRunner:r.actionRunner,allowContextMenu:r.allowContextMenu,highlightToggledItems:r.highlightToggledItems,actionViewItemProvider:(u,f)=>{var d;if(u.id===s.ID)return this.toggleMenuActionViewItem=new I.DropdownMenuActionViewItem(u,u.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:S.ThemeIcon.asClassNameArray((d=r.moreIcon)!==null&&d!==void 0?d:D.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(r.actionViewItemProvider){const l=r.actionViewItemProvider(u,f);if(l)return l}if(u instanceof y.SubmenuAction){const l=new I.DropdownMenuActionViewItem(u,u.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:u.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return l.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(l),this.disposables.add(this._onDidChangeDropdownVisibility.add(l.onDidChangeVisibility)),l}}}))}set actionRunner(n){this.actionBar.actionRunner=n}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(n){return this.actionBar.getAction(n)}setActions(n,t){this.clear();const r=n?n.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),r.push(this.toggleMenuAction)),r.forEach(u=>{this.actionBar.push(u,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(u)})})}getKeybindingLabel(n){var t,r,u;const f=this.lookupKeybindings?(r=(t=this.options).getKeyBinding)===null||r===void 0?void 0:r.call(t,n):void 0;return(u=f?.getLabel())!==null&&u!==void 0?u:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}e.ToolBar=C;class s extends y.Action{constructor(n,t){t=t||v.localize(0,null),super(s.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=n}run(){return be(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(n){this._menuActions=n}}e.ToggleMenuAction=s,s.ID="toolbar.toggle.more"}),define(te[182],ie([1,0,7,79,44,73,228,227,225,113,153,218,137,41,13,14,26,27,56,6,69,2,139,20,564,418]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class p extends _.ElementsDragAndDropData{constructor(H){super(H.elements.map(V=>V.element)),this.data=H}}function b(q){return q instanceof _.ElementsDragAndDropData?new p(q):q}class w{constructor(H,V){this.modelProvider=H,this.dnd=V,this.autoExpandDisposable=c.Disposable.None,this.disposables=new c.DisposableStore}getDragURI(H){return this.dnd.getDragURI(H.element)}getDragLabel(H,V){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(H.map(Z=>Z.element),V)}onDragStart(H,V){var Z,ee;(ee=(Z=this.dnd).onDragStart)===null||ee===void 0||ee.call(Z,b(H),V)}onDragOver(H,V,Z,ee,le=!0){const ue=this.dnd.onDragOver(b(H),V&&V.element,Z,ee),de=this.autoExpandNode!==V;if(de&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=V),typeof V>"u")return ue;if(de&&typeof ue!="boolean"&&ue.autoExpand&&(this.autoExpandDisposable=(0,r.disposableTimeout)(()=>{const z=this.modelProvider(),Q=z.getNodeLocation(V);z.isCollapsed(Q)&&z.setCollapsed(Q,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof ue=="boolean"||!ue.accept||typeof ue.bubble>"u"||ue.feedback){if(!le){const z=typeof ue=="boolean"?ue:ue.accept,Q=typeof ue=="boolean"?void 0:ue.effect;return{accept:z,effect:Q,feedback:[Z]}}return ue}if(ue.bubble===1){const z=this.modelProvider(),Q=z.getNodeLocation(V),j=z.getParentNodeLocation(Q),re=z.getNode(j),oe=j&&z.getListIndex(j);return this.onDragOver(H,re,oe,ee,!1)}const ce=this.modelProvider(),ae=ce.getNodeLocation(V),X=ce.getListIndex(ae),K=ce.getListRenderCount(ae);return Object.assign(Object.assign({},ue),{feedback:(0,t.range)(X,X+K)})}drop(H,V,Z,ee){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(b(H),V&&V.element,Z,ee)}onDragEnd(H){var V,Z;(Z=(V=this.dnd).onDragEnd)===null||Z===void 0||Z.call(V,H)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function E(q,H){return H&&Object.assign(Object.assign({},H),{identityProvider:H.identityProvider&&{getId(V){return H.identityProvider.getId(V.element)}},dnd:H.dnd&&new w(q,H.dnd),multipleSelectionController:H.multipleSelectionController&&{isSelectionSingleChangeEvent(V){return H.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))},isSelectionRangeChangeEvent(V){return H.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))}},accessibilityProvider:H.accessibilityProvider&&Object.assign(Object.assign({},H.accessibilityProvider),{getSetSize(V){const Z=q(),ee=Z.getNodeLocation(V),le=Z.getParentNodeLocation(ee);return Z.getNode(le).visibleChildrenCount},getPosInSet(V){return V.visibleChildIndex+1},isChecked:H.accessibilityProvider&&H.accessibilityProvider.isChecked?V=>H.accessibilityProvider.isChecked(V.element):void 0,getRole:H.accessibilityProvider&&H.accessibilityProvider.getRole?V=>H.accessibilityProvider.getRole(V.element):()=>"treeitem",getAriaLabel(V){return H.accessibilityProvider.getAriaLabel(V.element)},getWidgetAriaLabel(){return H.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:H.accessibilityProvider&&H.accessibilityProvider.getWidgetRole?()=>H.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:H.accessibilityProvider&&H.accessibilityProvider.getAriaLevel?V=>H.accessibilityProvider.getAriaLevel(V.element):V=>V.depth,getActiveDescendantId:H.accessibilityProvider.getActiveDescendantId&&(V=>H.accessibilityProvider.getActiveDescendantId(V.element))}),keyboardNavigationLabelProvider:H.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},H.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(V){return H.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(V.element)}})})}class k{constructor(H){this.delegate=H}getHeight(H){return this.delegate.getHeight(H.element)}getTemplateId(H){return this.delegate.getTemplateId(H.element)}hasDynamicHeight(H){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(H.element)}setDynamicHeight(H,V){var Z,ee;(ee=(Z=this.delegate).setDynamicHeight)===null||ee===void 0||ee.call(Z,H.element,V)}}e.ComposedTreeDelegate=k;var M;(function(q){q.None="none",q.OnHover="onHover",q.Always="always"})(M||(e.RenderIndentGuides=M={}));class R{get elements(){return this._elements}constructor(H,V=[]){this._elements=V,this.disposables=new c.DisposableStore,this.onDidChange=l.Event.forEach(H,Z=>this._elements=Z,this.disposables)}dispose(){this.disposables.dispose()}}class B{constructor(H,V,Z,ee,le,ue={}){var de;this.renderer=H,this.modelProvider=V,this.activeNodes=ee,this.renderedIndentGuides=le,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=B.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=c.Disposable.None,this.disposables=new c.DisposableStore,this.templateId=H.templateId,this.updateOptions(ue),l.Event.map(Z,ce=>ce.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(de=H.onDidChangeTwistieState)===null||de===void 0||de.call(H,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(H={}){if(typeof H.indent<"u"){const V=(0,a.clamp)(H.indent,0,40);if(V!==this.indent){this.indent=V;for(const[Z,ee]of this.renderedNodes)this.renderTreeElement(Z,ee)}}if(typeof H.renderIndentGuides<"u"){const V=H.renderIndentGuides!==M.None;if(V!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=V;for(const[Z,ee]of this.renderedNodes)this._renderIndentGuides(Z,ee);if(this.indentGuidesDisposable.dispose(),V){const Z=new c.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Z),this.indentGuidesDisposable=Z,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof H.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=H.hideTwistiesOfChildlessElements)}renderTemplate(H){const V=(0,L.append)(H,(0,L.$)(".monaco-tl-row")),Z=(0,L.append)(V,(0,L.$)(".monaco-tl-indent")),ee=(0,L.append)(V,(0,L.$)(".monaco-tl-twistie")),le=(0,L.append)(V,(0,L.$)(".monaco-tl-contents")),ue=this.renderer.renderTemplate(le);return{container:H,indent:Z,twistie:ee,indentGuidesDisposable:c.Disposable.None,templateData:ue}}renderElement(H,V,Z,ee){this.renderedNodes.set(H,Z),this.renderedElements.set(H.element,H),this.renderTreeElement(H,Z),this.renderer.renderElement(H,V,Z.templateData,ee)}disposeElement(H,V,Z,ee){var le,ue;Z.indentGuidesDisposable.dispose(),(ue=(le=this.renderer).disposeElement)===null||ue===void 0||ue.call(le,H,V,Z.templateData,ee),typeof ee=="number"&&(this.renderedNodes.delete(H),this.renderedElements.delete(H.element))}disposeTemplate(H){this.renderer.disposeTemplate(H.templateData)}onDidChangeTwistieState(H){const V=this.renderedElements.get(H);V&&this.onDidChangeNodeTwistieState(V)}onDidChangeNodeTwistieState(H){const V=this.renderedNodes.get(H);V&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(H,V))}renderTreeElement(H,V){const Z=B.DefaultIndent+(H.depth-1)*this.indent;V.twistie.style.paddingLeft=`${Z}px`,V.indent.style.width=`${Z+this.indent-16}px`,H.collapsible?V.container.setAttribute("aria-expanded",String(!H.collapsed)):V.container.removeAttribute("aria-expanded"),V.twistie.classList.remove(...f.ThemeIcon.asClassNameArray(u.Codicon.treeItemExpanded));let ee=!1;this.renderer.renderTwistie&&(ee=this.renderer.renderTwistie(H.element,V.twistie)),H.collapsible&&(!this.hideTwistiesOfChildlessElements||H.visibleChildrenCount>0)?(ee||V.twistie.classList.add(...f.ThemeIcon.asClassNameArray(u.Codicon.treeItemExpanded)),V.twistie.classList.add("collapsible"),V.twistie.classList.toggle("collapsed",H.collapsed)):V.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(H,V)}_renderIndentGuides(H,V){if((0,L.clearNode)(V.indent),V.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Z=new c.DisposableStore,ee=this.modelProvider();for(;;){const le=ee.getNodeLocation(H),ue=ee.getParentNodeLocation(le);if(!ue)break;const de=ee.getNode(ue),ce=(0,L.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(de)&&ce.classList.add("active"),V.indent.childElementCount===0?V.indent.appendChild(ce):V.indent.insertBefore(ce,V.indent.firstElementChild),this.renderedIndentGuides.add(de,ce),Z.add((0,c.toDisposable)(()=>this.renderedIndentGuides.delete(de,ce))),H=de}V.indentGuidesDisposable=Z}_onDidChangeActiveNodes(H){if(!this.shouldRenderIndentGuides)return;const V=new Set,Z=this.modelProvider();H.forEach(ee=>{const le=Z.getNodeLocation(ee);try{const ue=Z.getParentNodeLocation(le);ee.collapsible&&ee.children.length>0&&!ee.collapsed?V.add(ee):ue&&V.add(Z.getNode(ue))}catch{}}),this.activeIndentNodes.forEach(ee=>{V.has(ee)||this.renderedIndentGuides.forEach(ee,le=>le.classList.remove("active"))}),V.forEach(ee=>{this.activeIndentNodes.has(ee)||this.renderedIndentGuides.forEach(ee,le=>le.classList.add("active"))}),this.activeIndentNodes=V}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,c.dispose)(this.disposables)}}B.DefaultIndent=8;class T{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(H,V,Z){this.tree=H,this.keyboardNavigationLabelProvider=V,this._filter=Z,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new c.DisposableStore,H.onWillRefilter(this.reset,this,this.disposables)}filter(H,V){let Z=1;if(this._filter){const ue=this._filter.filter(H,V);if(typeof ue=="boolean"?Z=ue?1:0:(0,s.isFilterResult)(ue)?Z=(0,s.getVisibleState)(ue.visibility):Z=ue,Z===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:o.FuzzyScore.Default,visibility:Z};const ee=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(H),le=Array.isArray(ee)?ee:[ee];for(const ue of le){const de=ue&&ue.toString();if(typeof de>"u")return{data:o.FuzzyScore.Default,visibility:Z};let ce;if(this.tree.findMatchType===x.Contiguous){const ae=de.toLowerCase().indexOf(this._lowercasePattern);if(ae>-1){ce=[Number.MAX_SAFE_INTEGER,0];for(let X=this._lowercasePattern.length;X>0;X--)ce.push(ae+X-1)}}else ce=(0,o.fuzzyScore)(this._pattern,this._lowercasePattern,0,de,de.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ce)return this._matchCount++,le.length===1?{data:ce,visibility:Z}:{data:{label:de,score:ce},visibility:Z}}return this.tree.findMode===O.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(H):2:{data:o.FuzzyScore.Default,visibility:Z}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,c.dispose)(this.disposables)}}class N extends C.Toggle{constructor(H){var V;super({icon:u.Codicon.listFilter,title:(0,h.localize)(0,null),isChecked:(V=H.isChecked)!==null&&V!==void 0?V:!1,inputActiveOptionBorder:H.inputActiveOptionBorder,inputActiveOptionForeground:H.inputActiveOptionForeground,inputActiveOptionBackground:H.inputActiveOptionBackground})}}e.ModeToggle=N;class A extends C.Toggle{constructor(H){var V;super({icon:u.Codicon.searchFuzzy,title:(0,h.localize)(1,null),isChecked:(V=H.isChecked)!==null&&V!==void 0?V:!1,inputActiveOptionBorder:H.inputActiveOptionBorder,inputActiveOptionForeground:H.inputActiveOptionForeground,inputActiveOptionBackground:H.inputActiveOptionBackground})}}e.FuzzyToggle=A;const P={inputBoxStyles:m.unthemedInboxStyles,toggleStyles:C.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var O;(function(q){q[q.Highlight=0]="Highlight",q[q.Filter=1]="Filter"})(O||(e.TreeFindMode=O={}));var x;(function(q){q[q.Fuzzy=0]="Fuzzy",q[q.Contiguous=1]="Contiguous"})(x||(e.TreeFindMatchType=x={}));class W extends c.Disposable{set mode(H){this.modeToggle.checked=H===O.Filter,this.findInput.inputBox.setPlaceHolder(H===O.Filter?(0,h.localize)(2,null):(0,h.localize)(3,null))}set matchType(H){this.matchTypeToggle.checked=H===x.Fuzzy}constructor(H,V,Z,ee,le,ue){var de;super(),this.tree=V,this.elements=(0,L.h)(".monaco-tree-type-filter",[(0,L.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,L.h)(".monaco-tree-type-filter-input@findInput"),(0,L.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new l.Emitter,H.appendChild(this.elements.root),this._register((0,c.toDisposable)(()=>H.removeChild(this.elements.root)));const ce=(de=ue?.styles)!==null&&de!==void 0?de:P;ce.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=ce.listFilterWidgetBackground),ce.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${ce.listFilterWidgetShadow}`),this.modeToggle=this._register(new N(Object.assign(Object.assign({},ce.toggleStyles),{isChecked:ee===O.Filter}))),this.matchTypeToggle=this._register(new A(Object.assign(Object.assign({},ce.toggleStyles),{isChecked:le===x.Fuzzy}))),this.onDidChangeMode=l.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?O.Filter:O.Highlight,this._store),this.onDidChangeMatchType=l.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?x.Fuzzy:x.Contiguous,this._store),this.findInput=this._register(new S.FindInput(this.elements.findInput,Z,{label:(0,h.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:ce.inputBoxStyles,toggleStyles:ce.toggleStyles,history:ue?.history})),this.actionbar=this._register(new D.ActionBar(this.elements.actionbar)),this.mode=ee;const ae=this._register(new I.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),X=l.Event.chain(ae.event,j=>j.map(re=>new y.StandardKeyboardEvent(re)));this._register(X(j=>{if(j.equals(3)){j.preventDefault(),j.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(j.equals(18)){j.preventDefault(),j.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(j.equals(16)){j.preventDefault(),j.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const K=this._register(new n.Action("close",(0,h.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(K,{icon:!0,label:!1});const z=this._register(new I.DomEmitter(this.elements.grab,"mousedown"));this._register(z.event(j=>{const re=new c.DisposableStore,oe=re.add(new I.DomEmitter(window,"mousemove")),he=re.add(new I.DomEmitter(window,"mouseup")),me=this.right,pe=j.pageX,ve=this.top,we=j.pageY;this.elements.grab.classList.add("grabbing");const Le=this.elements.root.style.transition;this.elements.root.style.transition="unset";const Ee=Ae=>{const Re=Ae.pageX-pe;this.right=me-Re;const Be=Ae.pageY-we;this.top=ve+Be,this.layout()};re.add(oe.event(Ee)),re.add(he.event(Ae=>{Ee(Ae),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=Le,re.dispose()}))}));const Q=l.Event.chain(this._register(new I.DomEmitter(this.elements.grab,"keydown")).event,j=>j.map(re=>new y.StandardKeyboardEvent(re)));this._register(Q(j=>{let re,oe;if(j.keyCode===15?re=Number.POSITIVE_INFINITY:j.keyCode===17?re=0:j.keyCode===10&&(re=this.right===0?Number.POSITIVE_INFINITY:0),j.keyCode===16?oe=0:j.keyCode===18&&(oe=Number.POSITIVE_INFINITY),re!==void 0&&(j.preventDefault(),j.stopPropagation(),this.right=re,this.layout()),oe!==void 0){j.preventDefault(),j.stopPropagation(),this.top=oe;const he=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=he},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(H=this.width){this.width=H,this.right=(0,a.clamp)(this.right,0,Math.max(0,H-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,a.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(H){this.findInput.showMessage(H)}clearMessage(){this.findInput.clearMessage()}dispose(){const H=Object.create(null,{dispose:{get:()=>super.dispose}});return be(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield(0,r.timeout)(300),H.dispose.call(this)})}}class U{get pattern(){return this._pattern}get mode(){return this._mode}set mode(H){H!==this._mode&&(this._mode=H,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(H))}get matchType(){return this._matchType}set matchType(H){H!==this._matchType&&(this._matchType=H,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(H))}constructor(H,V,Z,ee,le,ue={}){var de,ce;this.tree=H,this.view=Z,this.filter=ee,this.contextViewProvider=le,this.options=ue,this._pattern="",this.width=0,this._onDidChangeMode=new l.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new l.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new l.Emitter,this._onDidChangeOpenState=new l.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new c.DisposableStore,this.disposables=new c.DisposableStore,this._mode=(de=H.options.defaultFindMode)!==null&&de!==void 0?de:O.Highlight,this._matchType=(ce=H.options.defaultFindMatchType)!==null&&ce!==void 0?ce:x.Fuzzy,V.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(H={}){H.defaultFindMode!==void 0&&(this.mode=H.defaultFindMode),H.defaultFindMatchType!==void 0&&(this.matchType=H.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var H,V,Z,ee;const le=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&le?!((H=this.tree.options.showNotFoundMessage)!==null&&H!==void 0)||H?(V=this.widget)===null||V===void 0||V.showMessage({type:2,content:(0,h.localize)(6,null)}):(Z=this.widget)===null||Z===void 0||Z.showMessage({type:2}):(ee=this.widget)===null||ee===void 0||ee.clearMessage()}shouldAllowFocus(H){return!this.widget||!this.pattern||this._mode===O.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!o.FuzzyScore.isDefault(H.filterData)}layout(H){var V;this.width=H,(V=this.widget)===null||V===void 0||V.layout(H)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function F(q){let H=i.TreeMouseEventTarget.Unknown;return(0,L.hasParentWithClass)(q.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?H=i.TreeMouseEventTarget.Twistie:(0,L.hasParentWithClass)(q.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?H=i.TreeMouseEventTarget.Element:(0,L.hasParentWithClass)(q.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(H=i.TreeMouseEventTarget.Filter),{browserEvent:q.browserEvent,element:q.element?q.element.element:null,target:H}}function G(q,H){H(q),q.children.forEach(V=>G(V,H))}class Y{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(H,V){this.getFirstViewElementWithTrait=H,this.identityProvider=V,this.nodes=[],this._onDidChange=new l.Emitter,this.onDidChange=this._onDidChange.event}set(H,V){!V?.__forceEvent&&(0,t.equals)(this.nodes,H)||this._set(H,!1,V)}_set(H,V,Z){if(this.nodes=[...H],this.elements=void 0,this._nodeSet=void 0,!V){const ee=this;this._onDidChange.fire({get elements(){return ee.get()},browserEvent:Z})}}get(){return this.elements||(this.elements=this.nodes.map(H=>H.element)),[...this.elements]}getNodes(){return this.nodes}has(H){return this.nodeSet.has(H)}onDidModelSplice({insertedNodes:H,deletedNodes:V}){if(!this.identityProvider){const ce=this.createNodeSet(),ae=X=>ce.delete(X);V.forEach(X=>G(X,ae)),this.set([...ce.values()]);return}const Z=new Set,ee=ce=>Z.add(this.identityProvider.getId(ce.element).toString());V.forEach(ce=>G(ce,ee));const le=new Map,ue=ce=>le.set(this.identityProvider.getId(ce.element).toString(),ce);H.forEach(ce=>G(ce,ue));const de=[];for(const ce of this.nodes){const ae=this.identityProvider.getId(ce.element).toString();if(!Z.has(ae))de.push(ce);else{const K=le.get(ae);K&&K.visible&&de.push(K)}}if(this.nodes.length>0&&de.length===0){const ce=this.getFirstViewElementWithTrait();ce&&de.push(ce)}this._set(de,!0)}createNodeSet(){const H=new Set;for(const V of this.nodes)H.add(V);return H}}class ne extends v.MouseController{constructor(H,V){super(H),this.tree=V}onViewPointer(H){if((0,v.isButton)(H.browserEvent.target)||(0,v.isInputElement)(H.browserEvent.target)||(0,v.isMonacoEditor)(H.browserEvent.target)||H.browserEvent.isHandledByList)return;const V=H.element;if(!V)return super.onViewPointer(H);if(this.isSelectionRangeChangeEvent(H)||this.isSelectionSingleChangeEvent(H))return super.onViewPointer(H);const Z=H.browserEvent.target,ee=Z.classList.contains("monaco-tl-twistie")||Z.classList.contains("monaco-icon-label")&&Z.classList.contains("folder-icon")&&H.browserEvent.offsetX<16;let le=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?le=this.tree.expandOnlyOnTwistieClick(V.element):le=!!this.tree.expandOnlyOnTwistieClick,le&&!ee&&H.browserEvent.detail!==2)return super.onViewPointer(H);if(!this.tree.expandOnDoubleClick&&H.browserEvent.detail===2)return super.onViewPointer(H);if(V.collapsible){const ue=this.tree.getNodeLocation(V),de=H.browserEvent.altKey;if(this.tree.setFocus([ue]),this.tree.toggleCollapsed(ue,de),le&&ee){H.browserEvent.isHandledByList=!0;return}}super.onViewPointer(H)}onDoubleClick(H){H.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||H.browserEvent.isHandledByList||super.onDoubleClick(H)}}class se extends v.List{constructor(H,V,Z,ee,le,ue,de,ce){super(H,V,Z,ee,ce),this.focusTrait=le,this.selectionTrait=ue,this.anchorTrait=de}createMouseController(H){return new ne(this,H.tree)}splice(H,V,Z=[]){if(super.splice(H,V,Z),Z.length===0)return;const ee=[],le=[];let ue;Z.forEach((de,ce)=>{this.focusTrait.has(de)&&ee.push(H+ce),this.selectionTrait.has(de)&&le.push(H+ce),this.anchorTrait.has(de)&&(ue=H+ce)}),ee.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...ee])),le.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...le])),typeof ue=="number"&&super.setAnchor(ue)}setFocus(H,V,Z=!1){super.setFocus(H,V),Z||this.focusTrait.set(H.map(ee=>this.element(ee)),V)}setSelection(H,V,Z=!1){super.setSelection(H,V),Z||this.selectionTrait.set(H.map(ee=>this.element(ee)),V)}setAnchor(H,V=!1){super.setAnchor(H),V||(typeof H>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(H)]))}}class J{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return l.Event.filter(l.Event.map(this.view.onMouseDblClick,F),H=>H.target!==i.TreeMouseEventTarget.Filter)}get onPointer(){return l.Event.map(this.view.onPointer,F)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return l.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var H,V;return(V=(H=this.findController)===null||H===void 0?void 0:H.mode)!==null&&V!==void 0?V:O.Highlight}set findMode(H){this.findController&&(this.findController.mode=H)}get findMatchType(){var H,V;return(V=(H=this.findController)===null||H===void 0?void 0:H.matchType)!==null&&V!==void 0?V:x.Fuzzy}set findMatchType(H){this.findController&&(this.findController.matchType=H)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(H,V,Z,ee,le={}){var ue;this._user=H,this._options=le,this.eventBufferer=new l.EventBufferer,this.onDidChangeFindOpenState=l.Event.None,this.disposables=new c.DisposableStore,this._onWillRefilter=new l.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new l.Emitter;const de=new k(Z),ce=new l.Relay,ae=new l.Relay,X=this.disposables.add(new R(ae.event)),K=new d.SetMap;this.renderers=ee.map(oe=>new B(oe,()=>this.model,ce.event,X,K,le));for(const oe of this.renderers)this.disposables.add(oe);let z;le.keyboardNavigationLabelProvider&&(z=new T(this,le.keyboardNavigationLabelProvider,le.filter),le=Object.assign(Object.assign({},le),{filter:z}),this.disposables.add(z)),this.focus=new Y(()=>this.view.getFocusedElements()[0],le.identityProvider),this.selection=new Y(()=>this.view.getSelectedElements()[0],le.identityProvider),this.anchor=new Y(()=>this.view.getAnchorElement(),le.identityProvider),this.view=new se(H,V,de,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},E(()=>this.model,le)),{tree:this})),this.model=this.createModel(H,this.view,le),ce.input=this.model.onDidChangeCollapseState;const Q=l.Event.forEach(this.model.onDidSplice,oe=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(oe),this.selection.onDidModelSplice(oe)})},this.disposables);Q(()=>null,null,this.disposables);const j=this.disposables.add(new l.Emitter),re=this.disposables.add(new r.Delayer(0));if(this.disposables.add(l.Event.any(Q,this.focus.onDidChange,this.selection.onDidChange)(()=>{re.trigger(()=>{const oe=new Set;for(const he of this.focus.getNodes())oe.add(he);for(const he of this.selection.getNodes())oe.add(he);j.fire([...oe.values()])})})),ae.input=j.event,le.keyboardSupport!==!1){const oe=l.Event.chain(this.view.onKeyDown,he=>he.filter(me=>!(0,v.isInputElement)(me.target)).map(me=>new y.StandardKeyboardEvent(me)));l.Event.chain(oe,he=>he.filter(me=>me.keyCode===15))(this.onLeftArrow,this,this.disposables),l.Event.chain(oe,he=>he.filter(me=>me.keyCode===17))(this.onRightArrow,this,this.disposables),l.Event.chain(oe,he=>he.filter(me=>me.keyCode===10))(this.onSpace,this,this.disposables)}if((!((ue=le.findWidgetEnabled)!==null&&ue!==void 0)||ue)&&le.keyboardNavigationLabelProvider&&le.contextViewProvider){const oe=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new U(this,this.model,this.view,z,le.contextViewProvider,oe),this.focusNavigationFilter=he=>this.findController.shouldAllowFocus(he),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=l.Event.None,this.onDidChangeFindMatchType=l.Event.None;this.styleElement=(0,L.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===M.Always)}updateOptions(H={}){var V;this._options=Object.assign(Object.assign({},this._options),H);for(const Z of this.renderers)Z.updateOptions(H);this.view.updateOptions(this._options),(V=this.findController)===null||V===void 0||V.updateOptions(H),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===M.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(H){this.view.scrollTop=H}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(H,V){var Z;this.view.layout(H,V),(0,g.isNumber)(V)&&((Z=this.findController)===null||Z===void 0||Z.layout(V))}style(H){const V=`.${this.view.domId}`,Z=[];H.treeIndentGuidesStroke&&(Z.push(`.monaco-list${V}:hover .monaco-tl-indent > .indent-guide, .monaco-list${V}.always .monaco-tl-indent > .indent-guide  { border-color: ${H.treeInactiveIndentGuidesStroke}; }`),Z.push(`.monaco-list${V} .monaco-tl-indent > .indent-guide.active { border-color: ${H.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Z.join(`
`),this.view.style(H)}getParentElement(H){const V=this.model.getParentNodeLocation(H);return this.model.getNode(V).element}getFirstElementChild(H){return this.model.getFirstElementChild(H)}getNode(H){return this.model.getNode(H)}getNodeLocation(H){return this.model.getNodeLocation(H)}collapse(H,V=!1){return this.model.setCollapsed(H,!0,V)}expand(H,V=!1){return this.model.setCollapsed(H,!1,V)}toggleCollapsed(H,V=!1){return this.model.setCollapsed(H,void 0,V)}isCollapsible(H){return this.model.isCollapsible(H)}setCollapsible(H,V){return this.model.setCollapsible(H,V)}isCollapsed(H){return this.model.isCollapsed(H)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(H,V){const Z=H.map(le=>this.model.getNode(le));this.selection.set(Z,V);const ee=H.map(le=>this.model.getListIndex(le)).filter(le=>le>-1);this.view.setSelection(ee,V,!0)}getSelection(){return this.selection.get()}setFocus(H,V){const Z=H.map(le=>this.model.getNode(le));this.focus.set(Z,V);const ee=H.map(le=>this.model.getListIndex(le)).filter(le=>le>-1);this.view.setFocus(ee,V,!0)}getFocus(){return this.focus.get()}reveal(H,V){this.model.expandTo(H);const Z=this.model.getListIndex(H);Z!==-1&&this.view.reveal(Z,V)}onLeftArrow(H){H.preventDefault(),H.stopPropagation();const V=this.view.getFocusedElements();if(V.length===0)return;const Z=V[0],ee=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(ee,!0)){const ue=this.model.getParentNodeLocation(ee);if(!ue)return;const de=this.model.getListIndex(ue);this.view.reveal(de),this.view.setFocus([de])}}onRightArrow(H){H.preventDefault(),H.stopPropagation();const V=this.view.getFocusedElements();if(V.length===0)return;const Z=V[0],ee=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(ee,!1)){if(!Z.children.some(ce=>ce.visible))return;const[ue]=this.view.getFocus(),de=ue+1;this.view.reveal(de),this.view.setFocus([de])}}onSpace(H){H.preventDefault(),H.stopPropagation();const V=this.view.getFocusedElements();if(V.length===0)return;const Z=V[0],ee=this.model.getNodeLocation(Z),le=H.browserEvent.altKey;this.model.setCollapsed(ee,void 0,le)}dispose(){(0,c.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=J}),define(te[588],ie([1,0,182,219]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class y extends L.AbstractTree{constructor(S,m,_,v,C,s={}){super(S,m,_,v,s),this.user=S,this.dataSource=C,this.identityProvider=s.identityProvider}createModel(S,m,_){return new I.ObjectTreeModel(S,m,_)}}e.DataTree=y}),define(te[321],ie([1,0,182,571,219,105,43]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class m extends L.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(i,n,t,r,u={}){super(i,n,t,r,u),this.user=i}setChildren(i,n=S.Iterable.empty(),t){this.model.setChildren(i,n,t)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,n,t){return new y.ObjectTreeModel(i,n,t)}}e.ObjectTree=m;class _{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(i,n){this._compressedTreeNodeProvider=i,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}renderTemplate(i){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(i)}}renderElement(i,n,t,r){const u=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element);u.element.elements.length===1?(t.compressedTreeNode=void 0,this.renderer.renderElement(i,n,t.data,r)):(t.compressedTreeNode=u,this.renderer.renderCompressedElements(u,n,t.data,r))}disposeElement(i,n,t,r){var u,f,d,l;t.compressedTreeNode?(f=(u=this.renderer).disposeCompressedElements)===null||f===void 0||f.call(u,t.compressedTreeNode,n,t.data,r):(l=(d=this.renderer).disposeElement)===null||l===void 0||l.call(d,i,n,t.data,r)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,n){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,n):!1}}Ie([D.memoize],_.prototype,"compressedTreeNodeProvider",null);function v(s,i){return i&&Object.assign(Object.assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(n){let t;try{t=s().getCompressedTreeNode(n)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return t.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.element.elements)}}})}class C extends m{constructor(i,n,t,r,u={}){const f=()=>this,d=r.map(l=>new _(f,l));super(i,n,t,d,v(f,u))}setChildren(i,n=S.Iterable.empty(),t){this.model.setChildren(i,n,t)}createModel(i,n,t){return new I.CompressibleObjectTreeModel(i,n,t)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled<"u"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=C}),define(te[589],ie([1,0,225,182,218,321,137,14,26,27,9,6,43,2,20]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function r(T){return Object.assign(Object.assign({},T),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function u(T,N){return N.parent?N.parent===T?!0:u(T,N.parent):!1}function f(T,N){return T===N||u(T,N)||u(N,T)}class d{get element(){return this.node.element.element}get children(){return this.node.children.map(N=>new d(N))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(N){this.node=N}}class l{constructor(N,A,P){this.renderer=N,this.nodeMapper=A,this.onDidChangeTwistieState=P,this.renderedNodes=new Map,this.templateId=N.templateId}renderTemplate(N){return{templateData:this.renderer.renderTemplate(N)}}renderElement(N,A,P,O){this.renderer.renderElement(this.nodeMapper.map(N),A,P.templateData,O)}renderTwistie(N,A){return N.slow?(A.classList.add(...v.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!0):(A.classList.remove(...v.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!1)}disposeElement(N,A,P,O){var x,W;(W=(x=this.renderer).disposeElement)===null||W===void 0||W.call(x,this.nodeMapper.map(N),A,P.templateData,O)}disposeTemplate(N){this.renderer.disposeTemplate(N.templateData)}dispose(){this.renderedNodes.clear()}}function o(T){return{browserEvent:T.browserEvent,elements:T.elements.map(N=>N.element)}}function c(T){return{browserEvent:T.browserEvent,element:T.element&&T.element.element,target:T.target}}class a extends L.ElementsDragAndDropData{constructor(N){super(N.elements.map(A=>A.element)),this.data=N}}function g(T){return T instanceof L.ElementsDragAndDropData?new a(T):T}class h{constructor(N){this.dnd=N}getDragURI(N){return this.dnd.getDragURI(N.element)}getDragLabel(N,A){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(N.map(P=>P.element),A)}onDragStart(N,A){var P,O;(O=(P=this.dnd).onDragStart)===null||O===void 0||O.call(P,g(N),A)}onDragOver(N,A,P,O,x=!0){return this.dnd.onDragOver(g(N),A&&A.element,P,O)}drop(N,A,P,O){this.dnd.drop(g(N),A&&A.element,P,O)}onDragEnd(N){var A,P;(P=(A=this.dnd).onDragEnd)===null||P===void 0||P.call(A,N)}dispose(){this.dnd.dispose()}}function p(T){return T&&Object.assign(Object.assign({},T),{collapseByDefault:!0,identityProvider:T.identityProvider&&{getId(N){return T.identityProvider.getId(N.element)}},dnd:T.dnd&&new h(T.dnd),multipleSelectionController:T.multipleSelectionController&&{isSelectionSingleChangeEvent(N){return T.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},N),{element:N.element}))},isSelectionRangeChangeEvent(N){return T.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},N),{element:N.element}))}},accessibilityProvider:T.accessibilityProvider&&Object.assign(Object.assign({},T.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:T.accessibilityProvider.getRole?N=>T.accessibilityProvider.getRole(N.element):()=>"treeitem",isChecked:T.accessibilityProvider.isChecked?N=>{var A;return!!(!((A=T.accessibilityProvider)===null||A===void 0)&&A.isChecked(N.element))}:void 0,getAriaLabel(N){return T.accessibilityProvider.getAriaLabel(N.element)},getWidgetAriaLabel(){return T.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:T.accessibilityProvider.getWidgetRole?()=>T.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:T.accessibilityProvider.getAriaLevel&&(N=>T.accessibilityProvider.getAriaLevel(N.element)),getActiveDescendantId:T.accessibilityProvider.getActiveDescendantId&&(N=>T.accessibilityProvider.getActiveDescendantId(N.element))}),filter:T.filter&&{filter(N,A){return T.filter.filter(N.element,A)}},keyboardNavigationLabelProvider:T.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},T.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(N){return T.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(N.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof T.expandOnlyOnTwistieClick>"u"?void 0:typeof T.expandOnlyOnTwistieClick!="function"?T.expandOnlyOnTwistieClick:N=>T.expandOnlyOnTwistieClick(N.element),defaultFindVisibility:N=>N.hasChildren&&N.stale?1:typeof T.defaultFindVisibility=="number"?T.defaultFindVisibility:typeof T.defaultFindVisibility>"u"?2:T.defaultFindVisibility(N.element)})}function b(T,N){N(T),T.children.forEach(A=>b(A,N))}class w{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return s.Event.map(this.tree.onDidChangeFocus,o)}get onDidChangeSelection(){return s.Event.map(this.tree.onDidChangeSelection,o)}get onMouseDblClick(){return s.Event.map(this.tree.onMouseDblClick,c)}get onPointer(){return s.Event.map(this.tree.onPointer,c)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(N,A,P,O,x,W={}){this.user=N,this.dataSource=x,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new s.Emitter,this._onDidChangeNodeSlowState=new s.Emitter,this.nodeMapper=new S.WeakMapper(U=>new d(U)),this.disposables=new n.DisposableStore,this.identityProvider=W.identityProvider,this.autoExpandSingleChildren=typeof W.autoExpandSingleChildren>"u"?!1:W.autoExpandSingleChildren,this.sorter=W.sorter,this.collapseByDefault=W.collapseByDefault,this.tree=this.createTree(N,A,P,O,W),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=r({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(N,A,P,O,x){const W=new I.ComposedTreeDelegate(P),U=O.map(G=>new l(G,this.nodeMapper,this._onDidChangeNodeSlowState.event)),F=p(x)||{};return new D.ObjectTree(N,A,W,U,F)}updateOptions(N={}){this.tree.updateOptions(N)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(N){this.tree.scrollTop=N}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(N,A){this.tree.layout(N,A)}style(N){this.tree.style(N)}getInput(){return this.root.element}setInput(N,A){return be(this,void 0,void 0,function*(){this.refreshPromises.forEach(O=>O.cancel()),this.refreshPromises.clear(),this.root.element=N;const P=A&&{viewState:A,focus:[],selection:[]};yield this._updateChildren(N,!0,!1,P),P&&(this.tree.setFocus(P.focus),this.tree.setSelection(P.selection)),A&&typeof A.scrollTop=="number"&&(this.scrollTop=A.scrollTop)})}_updateChildren(N=this.root.element,A=!0,P=!1,O,x){return be(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(N);if(yield this.refreshAndRenderNode(W,A,O,x),P)try{this.tree.rerender(W)}catch{}})}rerender(N){if(N===void 0||N===this.root.element){this.tree.rerender();return}const A=this.getDataNode(N);this.tree.rerender(A)}getNode(N=this.root.element){const A=this.getDataNode(N),P=this.tree.getNode(A===this.root?null:A);return this.nodeMapper.map(P)}collapse(N,A=!1){const P=this.getDataNode(N);return this.tree.collapse(P===this.root?null:P,A)}expand(N,A=!1){return be(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event));const P=this.getDataNode(N);if(this.tree.hasElement(P)&&!this.tree.isCollapsible(P)||(P.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event)),P!==this.root&&!P.refreshPromise&&!this.tree.isCollapsed(P)))return!1;const O=this.tree.expand(P===this.root?null:P,A);return P.refreshPromise&&(yield this.root.refreshPromise,yield s.Event.toPromise(this._onDidRender.event)),O})}setSelection(N,A){const P=N.map(O=>this.getDataNode(O));this.tree.setSelection(P,A)}getSelection(){return this.tree.getSelection().map(A=>A.element)}setFocus(N,A){const P=N.map(O=>this.getDataNode(O));this.tree.setFocus(P,A)}getFocus(){return this.tree.getFocus().map(A=>A.element)}reveal(N,A){this.tree.reveal(this.getDataNode(N),A)}getParentElement(N){const A=this.tree.getParentElement(this.getDataNode(N));return A&&A.element}getFirstElementChild(N=this.root.element){const A=this.getDataNode(N),P=this.tree.getFirstElementChild(A===this.root?null:A);return P&&P.element}getDataNode(N){const A=this.nodes.get(N===this.root.element?null:N);if(!A)throw new S.TreeError(this.user,`Data tree node not found: ${N}`);return A}refreshAndRenderNode(N,A,P,O){return be(this,void 0,void 0,function*(){yield this.refreshNode(N,A,P),this.render(N,P,O)})}refreshNode(N,A,P){return be(this,void 0,void 0,function*(){let O;if(this.subTreeRefreshPromises.forEach((x,W)=>{!O&&f(W,N)&&(O=x.then(()=>this.refreshNode(N,A,P)))}),O)return O;if(N!==this.root&&this.tree.getNode(N).collapsed){N.hasChildren=!!this.dataSource.hasChildren(N.element),N.stale=!0;return}return this.doRefreshSubTree(N,A,P)})}doRefreshSubTree(N,A,P){return be(this,void 0,void 0,function*(){let O;N.refreshPromise=new Promise(x=>O=x),this.subTreeRefreshPromises.set(N,N.refreshPromise),N.refreshPromise.finally(()=>{N.refreshPromise=void 0,this.subTreeRefreshPromises.delete(N)});try{const x=yield this.doRefreshNode(N,A,P);N.stale=!1,yield m.Promises.settled(x.map(W=>this.doRefreshSubTree(W,A,P)))}finally{O()}})}doRefreshNode(N,A,P){return be(this,void 0,void 0,function*(){N.hasChildren=!!this.dataSource.hasChildren(N.element);let O;if(!N.hasChildren)O=Promise.resolve(i.Iterable.empty());else{const x=this.doGetChildren(N);if((0,t.isIterable)(x))O=Promise.resolve(x);else{const W=(0,m.timeout)(800);W.then(()=>{N.slow=!0,this._onDidChangeNodeSlowState.fire(N)},U=>null),O=x.finally(()=>W.cancel())}}try{const x=yield O;return this.setChildren(N,x,A,P)}catch(x){if(N!==this.root&&this.tree.hasElement(N)&&this.tree.collapse(N),(0,C.isCancellationError)(x))return[];throw x}finally{N.slow&&(N.slow=!1,this._onDidChangeNodeSlowState.fire(N))}})}doGetChildren(N){let A=this.refreshPromises.get(N);if(A)return A;const P=this.dataSource.getChildren(N.element);return(0,t.isIterable)(P)?this.processChildren(P):(A=(0,m.createCancelablePromise)(()=>be(this,void 0,void 0,function*(){return this.processChildren(yield P)})),this.refreshPromises.set(N,A),A.finally(()=>{this.refreshPromises.delete(N)}))}_onDidChangeCollapseState({node:N,deep:A}){N.element!==null&&!N.collapsed&&N.element.stale&&(A?this.collapse(N.element.element):this.refreshAndRenderNode(N.element,!1).catch(C.onUnexpectedError))}setChildren(N,A,P,O){const x=[...A];if(N.children.length===0&&x.length===0)return[];const W=new Map,U=new Map;for(const Y of N.children)if(W.set(Y.element,Y),this.identityProvider){const ne=this.tree.isCollapsed(Y);U.set(Y.id,{node:Y,collapsed:ne})}const F=[],G=x.map(Y=>{const ne=!!this.dataSource.hasChildren(Y);if(!this.identityProvider){const H=r({element:Y,parent:N,hasChildren:ne});return ne&&this.collapseByDefault&&!this.collapseByDefault(Y)&&(H.collapsedByDefault=!1,F.push(H)),H}const se=this.identityProvider.getId(Y).toString(),J=U.get(se);if(J){const H=J.node;return W.delete(H.element),this.nodes.delete(H.element),this.nodes.set(Y,H),H.element=Y,H.hasChildren=ne,P?J.collapsed?(H.children.forEach(V=>b(V,Z=>this.nodes.delete(Z.element))),H.children.splice(0,H.children.length),H.stale=!0):F.push(H):ne&&this.collapseByDefault&&!this.collapseByDefault(Y)&&(H.collapsedByDefault=!1,F.push(H)),H}const q=r({element:Y,parent:N,id:se,hasChildren:ne});return O&&O.viewState.focus&&O.viewState.focus.indexOf(se)>-1&&O.focus.push(q),O&&O.viewState.selection&&O.viewState.selection.indexOf(se)>-1&&O.selection.push(q),O&&O.viewState.expanded&&O.viewState.expanded.indexOf(se)>-1?F.push(q):ne&&this.collapseByDefault&&!this.collapseByDefault(Y)&&(q.collapsedByDefault=!1,F.push(q)),q});for(const Y of W.values())b(Y,ne=>this.nodes.delete(ne.element));for(const Y of G)this.nodes.set(Y.element,Y);return N.children.splice(0,N.children.length,...G),N!==this.root&&this.autoExpandSingleChildren&&G.length===1&&F.length===0&&(G[0].collapsedByDefault=!1,F.push(G[0])),F}render(N,A,P){const O=N.children.map(W=>this.asTreeElement(W,A)),x=P&&Object.assign(Object.assign({},P),{diffIdentityProvider:P.diffIdentityProvider&&{getId(W){return P.diffIdentityProvider.getId(W.element)}}});this.tree.setChildren(N===this.root?null:N,O,x),N!==this.root&&this.tree.setCollapsible(N,N.hasChildren),this._onDidRender.fire()}asTreeElement(N,A){if(N.stale)return{element:N,collapsible:N.hasChildren,collapsed:!0};let P;return A&&A.viewState.expanded&&N.id&&A.viewState.expanded.indexOf(N.id)>-1?P=!1:P=N.collapsedByDefault,N.collapsedByDefault=void 0,{element:N,children:N.hasChildren?i.Iterable.map(N.children,O=>this.asTreeElement(O,A)):[],collapsible:N.hasChildren,collapsed:P}}processChildren(N){return this.sorter&&(N=[...N].sort(this.sorter.compare.bind(this.sorter))),N}dispose(){this.disposables.dispose(),this.tree.dispose()}}e.AsyncDataTree=w;class E{get element(){return{elements:this.node.element.elements.map(N=>N.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(N=>new E(N))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(N){this.node=N}}class k{constructor(N,A,P,O){this.renderer=N,this.nodeMapper=A,this.compressibleNodeMapperProvider=P,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.disposables=[],this.templateId=N.templateId}renderTemplate(N){return{templateData:this.renderer.renderTemplate(N)}}renderElement(N,A,P,O){this.renderer.renderElement(this.nodeMapper.map(N),A,P.templateData,O)}renderCompressedElements(N,A,P,O){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(N),A,P.templateData,O)}renderTwistie(N,A){return N.slow?(A.classList.add(...v.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!0):(A.classList.remove(...v.ThemeIcon.asClassNameArray(_.Codicon.treeItemLoading)),!1)}disposeElement(N,A,P,O){var x,W;(W=(x=this.renderer).disposeElement)===null||W===void 0||W.call(x,this.nodeMapper.map(N),A,P.templateData,O)}disposeCompressedElements(N,A,P,O){var x,W;(W=(x=this.renderer).disposeCompressedElements)===null||W===void 0||W.call(x,this.compressibleNodeMapperProvider().map(N),A,P.templateData,O)}disposeTemplate(N){this.renderer.disposeTemplate(N.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,n.dispose)(this.disposables)}}function M(T){const N=T&&p(T);return N&&Object.assign(Object.assign({},N),{keyboardNavigationLabelProvider:N.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},N.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(A){return T.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(A.map(P=>P.element))}})})}class R extends w{constructor(N,A,P,O,x,W,U={}){super(N,A,P,x,W,U),this.compressionDelegate=O,this.compressibleNodeMapper=new S.WeakMapper(F=>new E(F)),this.filter=U.filter}createTree(N,A,P,O,x){const W=new I.ComposedTreeDelegate(P),U=O.map(G=>new k(G,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),F=M(x)||{};return new D.CompressibleObjectTree(N,A,W,U,F)}asTreeElement(N,A){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(N.element)},super.asTreeElement(N,A))}updateOptions(N={}){this.tree.updateOptions(N)}render(N,A){if(!this.identityProvider)return super.render(N,A);const P=se=>this.identityProvider.getId(se).toString(),O=se=>{const J=new Set;for(const q of se){const H=this.tree.getCompressedTreeNode(q===this.root?null:q);if(H.element)for(const V of H.element.elements)J.add(P(V.element))}return J},x=O(this.tree.getSelection()),W=O(this.tree.getFocus());super.render(N,A);const U=this.getSelection();let F=!1;const G=this.getFocus();let Y=!1;const ne=se=>{const J=se.element;if(J)for(let q=0;q<J.elements.length;q++){const H=P(J.elements[q].element),V=J.elements[J.elements.length-1].element;x.has(H)&&U.indexOf(V)===-1&&(U.push(V),F=!0),W.has(H)&&G.indexOf(V)===-1&&(G.push(V),Y=!0)}se.children.forEach(ne)};ne(this.tree.getCompressedTreeNode(N===this.root?null:N)),F&&this.setSelection(U),Y&&this.setFocus(G)}processChildren(N){return this.filter&&(N=i.Iterable.filter(N,A=>{const P=this.filter.filter(A,1),O=B(P);if(O===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return O===1})),super.processChildren(N)}}e.CompressibleAsyncDataTree=R;function B(T){return typeof T=="boolean"?T?1:0:(0,y.isFilterResult)(T)?(0,y.getVisibleState)(T.visibility):(0,y.getVisibleState)(T)}}),define(te[322],ie([1,0,9,6,2,52,17,10]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const _="$initialize";let v=!1;function C(g){S.isWeb&&(v||(v=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(g.message))}e.logOnceWebWorkerWarning=C;class s{constructor(h,p,b,w){this.vsWorker=h,this.req=p,this.method=b,this.args=w,this.type=0}}class i{constructor(h,p,b,w){this.vsWorker=h,this.seq=p,this.res=b,this.err=w,this.type=1}}class n{constructor(h,p,b,w){this.vsWorker=h,this.req=p,this.eventName=b,this.arg=w,this.type=2}}class t{constructor(h,p,b){this.vsWorker=h,this.req=p,this.event=b,this.type=3}}class r{constructor(h,p){this.vsWorker=h,this.req=p,this.type=4}}class u{constructor(h){this._workerId=-1,this._handler=h,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(h){this._workerId=h}sendMessage(h,p){const b=String(++this._lastSentReq);return new Promise((w,E)=>{this._pendingReplies[b]={resolve:w,reject:E},this._send(new s(this._workerId,b,h,p))})}listen(h,p){let b=null;const w=new I.Emitter({onWillAddFirstListener:()=>{b=String(++this._lastSentReq),this._pendingEmitters.set(b,w),this._send(new n(this._workerId,b,h,p))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(b),this._send(new r(this._workerId,b)),b=null}});return w.event}handleMessage(h){!h||!h.vsWorker||this._workerId!==-1&&h.vsWorker!==this._workerId||this._handleMessage(h)}_handleMessage(h){switch(h.type){case 1:return this._handleReplyMessage(h);case 0:return this._handleRequestMessage(h);case 2:return this._handleSubscribeEventMessage(h);case 3:return this._handleEventMessage(h);case 4:return this._handleUnsubscribeEventMessage(h)}}_handleReplyMessage(h){if(!this._pendingReplies[h.seq]){console.warn("Got reply to unknown seq");return}const p=this._pendingReplies[h.seq];if(delete this._pendingReplies[h.seq],h.err){let b=h.err;h.err.$isError&&(b=new Error,b.name=h.err.name,b.message=h.err.message,b.stack=h.err.stack),p.reject(b);return}p.resolve(h.res)}_handleRequestMessage(h){const p=h.req;this._handler.handleMessage(h.method,h.args).then(w=>{this._send(new i(this._workerId,p,w,void 0))},w=>{w.detail instanceof Error&&(w.detail=(0,L.transformErrorForSerialization)(w.detail)),this._send(new i(this._workerId,p,void 0,(0,L.transformErrorForSerialization)(w)))})}_handleSubscribeEventMessage(h){const p=h.req,b=this._handler.handleEvent(h.eventName,h.arg)(w=>{this._send(new t(this._workerId,p,w))});this._pendingEvents.set(p,b)}_handleEventMessage(h){if(!this._pendingEmitters.has(h.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(h.req).fire(h.event)}_handleUnsubscribeEventMessage(h){if(!this._pendingEvents.has(h.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(h.req).dispose(),this._pendingEvents.delete(h.req)}_send(h){const p=[];if(h.type===0)for(let b=0;b<h.args.length;b++)h.args[b]instanceof ArrayBuffer&&p.push(h.args[b]);else h.type===1&&h.res instanceof ArrayBuffer&&p.push(h.res);this._handler.sendMessage(h,p)}}class f extends y.Disposable{constructor(h,p,b){super();let w=null;this._worker=this._register(h.create("vs/base/common/worker/simpleWorker",T=>{this._protocol.handleMessage(T)},T=>{w?.(T)})),this._protocol=new u({sendMessage:(T,N)=>{this._worker.postMessage(T,N)},handleMessage:(T,N)=>{if(typeof b[T]!="function")return Promise.reject(new Error("Missing method "+T+" on main thread host."));try{return Promise.resolve(b[T].apply(b,N))}catch(A){return Promise.reject(A)}},handleEvent:(T,N)=>{if(l(T)){const A=b[T].call(b,N);if(typeof A!="function")throw new Error(`Missing dynamic event ${T} on main thread host.`);return A}if(d(T)){const A=b[T];if(typeof A!="function")throw new Error(`Missing event ${T} on main thread host.`);return A}throw new Error(`Malformed event name ${T}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;const k=globalThis.require;typeof k<"u"&&typeof k.getConfig=="function"?E=k.getConfig():typeof globalThis.requirejs<"u"&&(E=globalThis.requirejs.s.contexts._.config);const M=(0,D.getAllMethodNames)(b);this._onModuleLoaded=this._protocol.sendMessage(_,[this._worker.getId(),JSON.parse(JSON.stringify(E)),p,M]);const R=(T,N)=>this._request(T,N),B=(T,N)=>this._protocol.listen(T,N);this._lazyProxy=new Promise((T,N)=>{w=N,this._onModuleLoaded.then(A=>{T(o(A,R,B))},A=>{N(A),this._onError("Worker failed to load "+p,A)})})}getProxyObject(){return this._lazyProxy}_request(h,p){return new Promise((b,w)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(h,p).then(b,w)},w)})}_onError(h,p){console.error(h),console.info(p)}}e.SimpleWorkerClient=f;function d(g){return g[0]==="o"&&g[1]==="n"&&m.isUpperAsciiLetter(g.charCodeAt(2))}function l(g){return/^onDynamic/.test(g)&&m.isUpperAsciiLetter(g.charCodeAt(9))}function o(g,h,p){const b=k=>function(){const M=Array.prototype.slice.call(arguments,0);return h(k,M)},w=k=>function(M){return p(k,M)},E={};for(const k of g){if(l(k)){E[k]=w(k);continue}if(d(k)){E[k]=p(k,void 0);continue}E[k]=b(k)}return E}class c{constructor(h,p){this._requestHandlerFactory=p,this._requestHandler=null,this._protocol=new u({sendMessage:(b,w)=>{h(b,w)},handleMessage:(b,w)=>this._handleMessage(b,w),handleEvent:(b,w)=>this._handleEvent(b,w)})}onmessage(h){this._protocol.handleMessage(h)}_handleMessage(h,p){if(h===_)return this.initialize(p[0],p[1],p[2],p[3]);if(!this._requestHandler||typeof this._requestHandler[h]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+h));try{return Promise.resolve(this._requestHandler[h].apply(this._requestHandler,p))}catch(b){return Promise.reject(b)}}_handleEvent(h,p){if(!this._requestHandler)throw new Error("Missing requestHandler");if(l(h)){const b=this._requestHandler[h].call(this._requestHandler,p);if(typeof b!="function")throw new Error(`Missing dynamic event ${h} on request handler.`);return b}if(d(h)){const b=this._requestHandler[h];if(typeof b!="function")throw new Error(`Missing event ${h} on request handler.`);return b}throw new Error(`Malformed event name ${h}`)}initialize(h,p,b,w){this._protocol.setWorkerId(h);const M=o(w,(R,B)=>this._protocol.sendMessage(R,B),(R,B)=>this._protocol.listen(R,B));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(M),Promise.resolve((0,D.getAllMethodNames)(this._requestHandler))):(p&&(typeof p.baseUrl<"u"&&delete p.baseUrl,typeof p.paths<"u"&&typeof p.paths.vs<"u"&&delete p.paths.vs,typeof p.trustedTypesPolicy!==void 0&&delete p.trustedTypesPolicy,p.catchError=!0,globalThis.require.config(p)),new Promise((R,B)=>{(globalThis.require||$)([b],N=>{if(this._requestHandler=N.create(M),!this._requestHandler){B(new Error("No RequestHandler!"));return}R((0,D.getAllMethodNames)(this._requestHandler))},B)}))}}e.SimpleWorkerServer=c;function a(g){return new c(g,null)}e.create=a}),define(te[590],ie([1,0,90,9,54,322]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const S=(0,L.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:i=>i});function m(i){const n=globalThis.MonacoEnvironment;if(n){if(typeof n.getWorker=="function")return n.getWorker("workerMain.js",i);if(typeof n.getWorkerUrl=="function"){const t=n.getWorkerUrl("workerMain.js",i);return new Worker(S?S.createScriptURL(t):t,{name:i})}}if(typeof $=="function"){const t=$.toUrl("vs/base/worker/workerMain.js"),r=_(t,i);return new Worker(S?S.createScriptURL(r):r,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function _(i,n){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,globalThis.origin.length)!==globalThis.origin){const d="vs/base/worker/defaultWorkerFactory.js",l=$.toUrl(d).slice(0,-d.length),o=`/*${n}*/globalThis.MonacoEnvironment={baseUrl: '${l}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${n}*/`,c=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(c)}const t=i.lastIndexOf("?"),r=i.lastIndexOf("#",t),u=t>0?new URLSearchParams(i.substring(t+1,~r?r:void 0)):new URLSearchParams;return y.COI.addSearchParam(u,!0,!0),u.toString()?`${i}?${u.toString()}#${n}`:`${i}#${n}`}e.getWorkerBootstrapUrl=_;function v(i){return typeof i.then=="function"}class C{constructor(n,t,r,u,f){this.id=t,this.label=r;const d=m(r);v(d)?this.worker=d:this.worker=Promise.resolve(d),this.postMessage(n,[]),this.worker.then(l=>{l.onmessage=function(o){u(o.data)},l.onmessageerror=f,typeof l.addEventListener=="function"&&l.addEventListener("error",f)})}getId(){return this.id}postMessage(n,t){var r;(r=this.worker)===null||r===void 0||r.then(u=>{try{u.postMessage(n,t)}catch(f){(0,I.onUnexpectedError)(f),(0,I.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:f}))}})}dispose(){var n;(n=this.worker)===null||n===void 0||n.then(t=>t.terminate()),this.worker=null}}class s{constructor(n){this._label=n,this._webWorkerFailedBeforeError=!1}create(n,t,r){const u=++s.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new C(n,u,this._label||"anonymous"+u,t,f=>{(0,D.logOnceWebWorkerWarning)(f),this._webWorkerFailedBeforeError=f,r(f)})}}e.DefaultWorkerFactory=s,s.LAST_WORKER_ID=0}),define(te[591],ie([1,0,14,6,2,221,20]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var m;(function(s){s[s.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",s[s.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(m||(e.StorageHint=m={}));var _;(function(s){s[s.None=0]="None",s[s.Initialized=1]="Initialized",s[s.Closed=2]="Closed"})(_||(e.StorageState=_={}));class v extends y.Disposable{constructor(i,n=Object.create(null)){super(),this.database=i,this.options=n,this._onDidChangeStorage=this._register(new I.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=_.None,this.cache=new Map,this.flushDelayer=this._register(new L.ThrottledDelayer(v.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(i=>this.onDidChangeItemsExternal(i)))}onDidChangeItemsExternal(i){var n,t;this._onDidChangeStorage.pause();try{(n=i.changed)===null||n===void 0||n.forEach((r,u)=>this.acceptExternal(u,r)),(t=i.deleted)===null||t===void 0||t.forEach(r=>this.acceptExternal(r,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(i,n){if(this.state===_.Closed)return;let t=!1;(0,S.isUndefinedOrNull)(n)?t=this.cache.delete(i):this.cache.get(i)!==n&&(this.cache.set(i,n),t=!0),t&&this._onDidChangeStorage.fire({key:i,external:!0})}get(i,n){const t=this.cache.get(i);return(0,S.isUndefinedOrNull)(t)?n:t}getBoolean(i,n){const t=this.get(i);return(0,S.isUndefinedOrNull)(t)?n:t==="true"}getNumber(i,n){const t=this.get(i);return(0,S.isUndefinedOrNull)(t)?n:parseInt(t,10)}set(i,n,t=!1){return be(this,void 0,void 0,function*(){if(this.state===_.Closed)return;if((0,S.isUndefinedOrNull)(n))return this.delete(i,t);const r=(0,S.isObject)(n)||Array.isArray(n)?(0,D.stringify)(n):String(n);if(this.cache.get(i)!==r)return this.cache.set(i,r),this.pendingInserts.set(i,r),this.pendingDeletes.delete(i),this._onDidChangeStorage.fire({key:i,external:t}),this.doFlush()})}delete(i,n=!1){return be(this,void 0,void 0,function*(){if(!(this.state===_.Closed||!this.cache.delete(i)))return this.pendingDeletes.has(i)||this.pendingDeletes.add(i),this.pendingInserts.delete(i),this._onDidChangeStorage.fire({key:i,external:n}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return be(this,void 0,void 0,function*(){if(!this.hasPending)return;const i={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(i).finally(()=>{var n;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(n=this.whenFlushedCallbacks.pop())===null||n===void 0||n()})})}doFlush(i){return be(this,void 0,void 0,function*(){return this.options.hint===m.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),i)})}}e.Storage=v,v.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=I.Event.None,this.items=new Map}updateItems(i){var n,t;return be(this,void 0,void 0,function*(){(n=i.insert)===null||n===void 0||n.forEach((r,u)=>this.items.set(u,r)),(t=i.delete)===null||t===void 0||t.forEach(r=>this.items.delete(r))})}}e.InMemoryStorageDatabase=C}),define(te[183],ie([1,0,51,7,79,44,258,14,6,2,107,10,273,24]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var t;(function(l){l.Tap="-monaco-textarea-synthetic-tap"})(t||(e.TextAreaSyntethicEvents=t={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class r{constructor(){this._lastState=null}set(o,c){this._lastState={lastCopiedValue:o,data:c}}get(o){return this._lastState&&this._lastState.lastCopiedValue===o?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=r,r.INSTANCE=new r;class u{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(o){o=o||"";const c={text:o,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=o.length,c}}class f extends v.Disposable{get textAreaState(){return this._textAreaState}constructor(o,c,a,g){super(),this._host=o,this._textArea=c,this._OS=a,this._browser=g,this._onFocus=this._register(new _.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new _.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new _.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new _.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new _.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new _.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new _.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new _.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new _.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new _.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new _.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new m.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new m.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=i.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let h=null;this._register(this._textArea.onKeyDown(p=>{const b=new D.StandardKeyboardEvent(p);(b.keyCode===114||this._currentComposition&&b.keyCode===1)&&b.stopPropagation(),b.equals(9)&&b.preventDefault(),h=b,this._onKeyDown.fire(b)})),this._register(this._textArea.onKeyUp(p=>{const b=new D.StandardKeyboardEvent(p);this._onKeyUp.fire(b)})),this._register(this._textArea.onCompositionStart(p=>{i._debugComposition&&console.log("[compositionstart]",p);const b=new u;if(this._currentComposition){this._currentComposition=b;return}if(this._currentComposition=b,this._OS===2&&h&&h.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===p.data&&(h.code==="ArrowRight"||h.code==="ArrowLeft")){i._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",p),b.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:p.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:p.data});return}this._onCompositionStart.fire({data:p.data})})),this._register(this._textArea.onCompositionUpdate(p=>{i._debugComposition&&console.log("[compositionupdate]",p);const b=this._currentComposition;if(!b)return;if(this._browser.isAndroid){const E=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),k=i.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(k),this._onCompositionUpdate.fire(p);return}const w=b.handleCompositionUpdate(p.data);this._textAreaState=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(w),this._onCompositionUpdate.fire(p)})),this._register(this._textArea.onCompositionEnd(p=>{i._debugComposition&&console.log("[compositionend]",p);const b=this._currentComposition;if(!b)return;if(this._currentComposition=null,this._browser.isAndroid){const E=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),k=i.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(k),this._onCompositionEnd.fire();return}const w=b.handleCompositionUpdate(p.data);this._textAreaState=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(w),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(p=>{if(i._debugComposition&&console.log("[input]",p),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const b=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),w=i.TextAreaState.deduceInput(this._textAreaState,b,this._OS===2);w.replacePrevCharCnt===0&&w.text.length===1&&(s.isHighSurrogate(w.text.charCodeAt(0))||w.text.charCodeAt(0)===127)||(this._textAreaState=b,(w.text!==""||w.replacePrevCharCnt!==0||w.replaceNextCharCnt!==0||w.positionDelta!==0)&&this._onType.fire(w))})),this._register(this._textArea.onCut(p=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(p),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(p=>{this._ensureClipboardGetsEditorSelection(p)})),this._register(this._textArea.onPaste(p=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),p.preventDefault(),!p.clipboardData)return;let[b,w]=e.ClipboardEventUtils.getTextData(p.clipboardData);b&&(w=w||r.INSTANCE.get(b),this._onPaste.fire({text:b,metadata:w}))})),this._register(this._textArea.onFocus(()=>{const p=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!p&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let o=0;return I.addDisposableListener(this._textArea.ownerDocument,"selectionchange",c=>{if(S.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const a=Date.now(),g=a-o;if(o=a,g<5)return;const h=a-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),h<100||!this._textAreaState.selection)return;const p=this._textArea.getValue();if(this._textAreaState.value!==p)return;const b=this._textArea.getSelectionStart(),w=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===b&&this._textAreaState.selectionEnd===w)return;const E=this._textAreaState.deduceEditorPosition(b),k=this._host.deduceModelPosition(E[0],E[1],E[2]),M=this._textAreaState.deduceEditorPosition(w),R=this._host.deduceModelPosition(M[0],M[1],M[2]),B=new n.Selection(k.lineNumber,k.column,R.lineNumber,R.column);this._onSelectionChangeRequest.fire(B)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(o){this._hasFocus!==o&&(this._hasFocus=o,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(o,c){this._hasFocus||(c=c.collapseSelection()),c.writeToTextArea(o,this._textArea,this._hasFocus),this._textAreaState=c}writeScreenReaderContent(o){this._currentComposition||this._setAndWriteTextAreaState(o,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(o){const c=this._host.getDataToCopy(),a={version:1,isFromEmptySelection:c.isFromEmptySelection,multicursorText:c.multicursorText,mode:c.mode};r.INSTANCE.set(this._browser.isFirefox?c.text.replace(/\r\n/g,`
`):c.text,a),o.preventDefault(),o.clipboardData&&e.ClipboardEventUtils.setTextData(o.clipboardData,c.text,c.html,a)}}e.TextAreaInput=f,e.ClipboardEventUtils={getTextData(l){const o=l.getData(C.Mimes.text);let c=null;const a=l.getData("vscode-editor-data");if(typeof a=="string")try{c=JSON.parse(a),c.version!==1&&(c=null)}catch{}return o.length===0&&c===null&&l.files.length>0?[Array.prototype.slice.call(l.files,0).map(h=>h.name).join(`
`),null]:[o,c]},setTextData(l,o,c,a){l.setData(C.Mimes.text,o),typeof c=="string"&&l.setData("text/html",c),l.setData("vscode-editor-data",JSON.stringify(a))}};class d extends v.Disposable{get ownerDocument(){return this._actual.ownerDocument}constructor(o){super(),this._actual=o,this.onKeyDown=this._register(new y.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new y.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new y.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new y.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new y.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new y.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new y.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new y.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new y.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new y.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new y.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new y.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new _.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>S.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>S.inputLatency.onBeforeInput())),this._register(this.onInput(()=>S.inputLatency.onInput())),this._register(this.onKeyUp(()=>S.inputLatency.onKeyUp())),this._register(I.addDisposableListener(this._actual,t.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const o=I.getShadowRoot(this._actual);return o?o.activeElement===this._actual:I.isInDOM(this._actual)?this._actual.ownerDocument.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(o){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(o,c){const a=this._actual;a.value!==c&&(this.setIgnoreSelectionChangeTime("setValue"),a.value=c)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(o,c,a){const g=this._actual;let h=null;const p=I.getShadowRoot(g);p?h=p.activeElement:h=g.ownerDocument.activeElement;const b=h===g,w=g.selectionStart,E=g.selectionEnd;if(b&&w===c&&E===a){L.isFirefox&&window.parent!==window&&g.focus();return}if(b){this.setIgnoreSelectionChangeTime("setSelectionRange"),g.setSelectionRange(c,a),L.isFirefox&&window.parent!==window&&g.focus();return}try{const k=I.saveParentsScrollTop(g);this.setIgnoreSelectionChangeTime("setSelectionRange"),g.focus(),g.setSelectionRange(c,a),I.restoreParentsScrollTop(g,k)}catch{}}}e.TextAreaWrapper=d}),define(te[592],ie([1,0,7,38,53]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D extends y.ViewPart{constructor(i,n){super(i),this._viewDomNode=n,this._widgets={},this.domNode=(0,I.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,I.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(i){const n=Object.keys(this._widgets);for(const t of n)this._widgets[t].onConfigurationChanged(i);return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLineMappingChanged(i){return this._updateAnchorsViewPositions(),!0}onLinesChanged(i){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(i){return this._updateAnchorsViewPositions(),!0}onLinesInserted(i){return this._updateAnchorsViewPositions(),!0}onScrollChanged(i){return!0}onZonesChanged(i){return!0}_updateAnchorsViewPositions(){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].updateAnchorViewPosition()}addWidget(i){const n=new S(this._context,this._viewDomNode,i);this._widgets[n.id]=n,n.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(n.domNode):this.domNode.appendChild(n.domNode),this.setShouldRender()}setWidgetPosition(i,n,t,r,u){this._widgets[i.getId()].setPosition(n,t,r,u),this.setShouldRender()}removeWidget(i){const n=i.getId();if(this._widgets.hasOwnProperty(n)){const t=this._widgets[n];delete this._widgets[n];const r=t.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(i){return this._widgets.hasOwnProperty(i)?this._widgets[i].suppressMouseDown:!1}onBeforeRender(i){const n=Object.keys(this._widgets);for(const t of n)this._widgets[t].onBeforeRender(i)}prepareRender(i){const n=Object.keys(this._widgets);for(const t of n)this._widgets[t].prepareRender(i)}render(i){const n=Object.keys(this._widgets);for(const t of n)this._widgets[t].render(i)}}e.ViewContentWidgets=D;class S{constructor(i,n,t){this._primaryAnchor=new m(null,null),this._secondaryAnchor=new m(null,null),this._context=i,this._viewDomNode=n,this._actual=t,this.domNode=(0,I.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,u=r.get(143);this._fixedOverflowWidgets=r.get(42),this._contentWidth=u.contentWidth,this._contentLeft=u.contentLeft,this._lineHeight=r.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(i){const n=this._context.configuration.options;if(this._lineHeight=n.get(66),i.hasChanged(143)){const t=n.get(143);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(i,n,t){this._affinity=i,this._primaryAnchor=r(n,this._context.viewModel,this._affinity),this._secondaryAnchor=r(t,this._context.viewModel,this._affinity);function r(u,f,d){if(!u)return new m(null,null);const l=f.model.validatePosition(u);if(f.coordinatesConverter.modelPositionIsVisible(l)){const o=f.coordinatesConverter.convertModelPositionToViewPosition(l,d??void 0);return new m(u,o)}return new m(u,null)}}_getMaxWidth(){const i=this.domNode.domNode.ownerDocument,n=i.defaultView;return this.allowEditorOverflow?n?.innerWidth||i.documentElement.offsetWidth||i.body.offsetWidth:this._contentWidth}setPosition(i,n,t,r){this._setPosition(r,i,n),this._preference=t,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(i,n,t,r){const u=i.top,f=u,d=i.top+i.height,l=r.viewportHeight-d,o=u-t,c=f>=t,a=d,g=l>=t;let h=i.left;return h+n>r.scrollLeft+r.viewportWidth&&(h=r.scrollLeft+r.viewportWidth-n),h<r.scrollLeft&&(h=r.scrollLeft),{fitsAbove:c,aboveTop:o,fitsBelow:g,belowTop:a,left:h}}_layoutHorizontalSegmentInPage(i,n,t,r){var u;const l=Math.max(15,n.left-r),o=Math.min(n.left+n.width+r,i.width-15),a=this._viewDomNode.domNode.ownerDocument.defaultView;let g=n.left+t-((u=a?.scrollX)!==null&&u!==void 0?u:0);if(g+r>o){const h=g-(o-r);g-=h,t-=h}if(g<l){const h=g-l;g-=h,t-=h}return[t,g]}_layoutBoxInPage(i,n,t,r){var u,f;const d=i.top-t,l=i.top+i.height,o=L.getDomNodePagePosition(this._viewDomNode.domNode),c=this._viewDomNode.domNode.ownerDocument,a=c.defaultView,g=o.top+d-((u=a?.scrollY)!==null&&u!==void 0?u:0),h=o.top+l-((f=a?.scrollY)!==null&&f!==void 0?f:0),p=L.getClientArea(c.body),[b,w]=this._layoutHorizontalSegmentInPage(p,o,i.left-r.scrollLeft+this._contentLeft,n),E=22,k=22,M=g>=E,R=h+t<=p.height-k;return this._fixedOverflowWidgets?{fitsAbove:M,aboveTop:Math.max(g,E),fitsBelow:R,belowTop:h,left:w}:{fitsAbove:M,aboveTop:d,fitsBelow:R,belowTop:l,left:b}}_prepareRenderWidgetAtExactPositionOverflowing(i){return new _(i.top,i.left+this._contentLeft)}_getAnchorsCoordinates(i){var n,t;const r=d(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),u=((n=this._secondaryAnchor.viewPosition)===null||n===void 0?void 0:n.lineNumber)===((t=this._primaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)?this._secondaryAnchor.viewPosition:null,f=d(u,this._affinity,this._lineHeight);return{primary:r,secondary:f};function d(l,o,c){if(!l)return null;const a=i.visibleRangeForPosition(l);if(!a)return null;const g=l.column===1&&o===3?0:a.left,h=i.getVerticalOffsetForLineNumber(l.lineNumber)-i.scrollTop;return new v(h,g,c)}}_reduceAnchorCoordinates(i,n,t){if(!n)return i;const r=this._context.configuration.options.get(50);let u=n.left;return u<i.left?u=Math.max(u,i.left-t+r.typicalFullwidthCharacterWidth):u=Math.min(u,i.left+t-r.typicalFullwidthCharacterWidth),new v(i.top,u,i.height)}_prepareRenderWidget(i){if(!this._preference||this._preference.length===0)return null;const{primary:n,secondary:t}=this._getAnchorsCoordinates(i);if(!n)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let f=null;if(typeof this._actual.beforeRender=="function"&&(f=C(this._actual.beforeRender,this._actual)),f)this._cachedDomNodeOffsetWidth=f.width,this._cachedDomNodeOffsetHeight=f.height;else{const l=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(l.width),this._cachedDomNodeOffsetHeight=Math.round(l.height)}}const r=this._reduceAnchorCoordinates(n,t,this._cachedDomNodeOffsetWidth);let u;this.allowEditorOverflow?u=this._layoutBoxInPage(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i):u=this._layoutBoxInViewport(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i);for(let f=1;f<=2;f++)for(const d of this._preference)if(d===1){if(!u)return null;if(f===2||u.fitsAbove)return{coordinate:new _(u.aboveTop,u.left),position:1}}else if(d===2){if(!u)return null;if(f===2||u.fitsBelow)return{coordinate:new _(u.belowTop,u.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new _(r.top,r.left)),position:0}:{coordinate:new _(r.top,r.left),position:0};return null}onBeforeRender(i){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<i.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>i.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(i){this._renderData=this._prepareRenderWidget(i)}render(i){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+i.scrollTop-i.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}class m{constructor(i,n){this.modelPosition=i,this.viewPosition=n}}class _{constructor(i,n){this.top=i,this.left=n,this._coordinateBrand=void 0}}class v{constructor(i,n,t){this.top=i,this.left=n,this.height=t,this._anchorCoordinateBrand=void 0}}function C(s,i,...n){try{return s.call(i,...n)}catch{return null}}}),define(te[593],ie([1,0,14,9,2]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class D extends y.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new y.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(m,_,v){this._editor=m,this._instantiationService=v;for(const C of _){if(this._pending.has(C.id)){(0,I.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${C.id}`));continue}this._pending.set(C.id,C)}this._instantiateSome(0),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(1)})),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(2)})),this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const m={};for(const[_,v]of this._instances)typeof v.saveViewState=="function"&&(m[_]=v.saveViewState());return m}restoreViewState(m){for(const[_,v]of this._instances)typeof v.restoreViewState=="function"&&v.restoreViewState(m[_])}get(m){return this._instantiateById(m),this._instances.get(m)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register((0,L.runWhenIdle)(()=>{this._instantiateSome(1)},50))}_instantiateSome(m){if(this._finishedInstantiation[m])return;this._finishedInstantiation[m]=!0;const _=this._findPendingContributionsByInstantiation(m);for(const v of _)this._instantiateById(v.id)}_findPendingContributionsByInstantiation(m){const _=[];for(const[,v]of this._pending)v.instantiation===m&&_.push(v);return _}_instantiateById(m){const _=this._pending.get(m);if(_){if(this._pending.delete(m),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const v=this._instantiationService.createInstance(_.ctor,this._editor);this._instances.set(_.id,v),typeof v.restoreViewState=="function"&&_.instantiation!==0&&console.warn(`Editor contribution '${_.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(v){(0,I.onUnexpectedError)(v)}}}}e.CodeEditorContributions=D}),define(te[594],ie([1,0,152,2,40]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=void 0;class D extends I.Disposable{constructor(m,_,v){super(),this._options=m,this._domNode=_,this._dimensions=v,this._sashRatio=(0,y.observableValue)(this,void 0),this.sashLeft=(0,y.derived)(this,C=>{var s;const i=(s=this._sashRatio.read(C))!==null&&s!==void 0?s:this._options.splitViewDefaultRatio.read(C);return this._computeSashLeft(i,C)}),this._sash=this._register(new L.Sash(this._domNode,{getVerticalSashTop:C=>0,getVerticalSashLeft:C=>this.sashLeft.get(),getVerticalSashHeight:C=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(C=>{const s=this._dimensions.width.get(),i=this._computeSashLeft((this._startSashPosition+(C.currentX-C.startX))/s,void 0);this._sashRatio.set(i/s,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,y.autorun)(C=>{const s=this._options.enableSplitViewResizing.read(C);this._sash.state=s?3:0,this.sashLeft.read(C),this._dimensions.height.read(C),this._sash.layout()}))}setBoundarySashes(m){this._sash.orthogonalEndSash=m.bottom}_computeSashLeft(m,_){const v=this._dimensions.width.read(_),C=Math.floor(this._options.splitViewDefaultRatio.read(_)*v),s=this._options.enableSplitViewResizing.read(_)?Math.floor(m*v):C,i=100;return v<=i*2?C:s<i?i:s>v-i?v-i:s}}e.DiffEditorSash=D}),define(te[100],ie([1,0,19,572,2,40,269]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCancellationTokenSource=e.applyViewZones=e.observeHotReloadableExports=e.readHotReloadableExport=e.applyStyle=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.animatedObservable=e.ObservableElementSizeObserver=e.appendRemoveOnDispose=e.applyObservableDecorations=e.joinCombine=void 0;function m(c,a,g,h){if(c.length===0)return a;if(a.length===0)return c;const p=[];let b=0,w=0;for(;b<c.length&&w<a.length;){const E=c[b],k=a[w],M=g(E),R=g(k);M<R?(p.push(E),b++):M>R?(p.push(k),w++):(p.push(h(E,k)),b++,w++)}for(;b<c.length;)p.push(c[b]),b++;for(;w<a.length;)p.push(a[w]),w++;return p}e.joinCombine=m;function _(c,a){const g=new y.DisposableStore,h=c.createDecorationsCollection();return g.add((0,D.autorunOpts)({debugName:()=>`Apply decorations from ${a.debugName}`},p=>{const b=a.read(p);h.set(b)})),g.add({dispose:()=>{h.clear()}}),g}e.applyObservableDecorations=_;function v(c,a){return c.appendChild(a),(0,y.toDisposable)(()=>{c.removeChild(a)})}e.appendRemoveOnDispose=v;class C extends y.Disposable{get width(){return this._width}get height(){return this._height}constructor(a,g){super(),this.elementSizeObserver=this._register(new S.ElementSizeObserver(a,g)),this._width=(0,D.observableValue)(this,this.elementSizeObserver.getWidth()),this._height=(0,D.observableValue)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(h=>(0,D.transaction)(p=>{this._width.set(this.elementSizeObserver.getWidth(),p),this._height.set(this.elementSizeObserver.getHeight(),p)})))}observe(a){this.elementSizeObserver.observe(a)}setAutomaticLayout(a){a?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=C;function s(c,a){let g=c.get(),h=g,p=g;const b=(0,D.observableValue)("animatedValue",g);let w=-1;const E=300;let k;a.add((0,D.autorunHandleChanges)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(R,B)=>(R.didChange(c)&&(B.animate=B.animate||R.change),!0)},(R,B)=>{k!==void 0&&(cancelAnimationFrame(k),k=void 0),h=p,g=c.read(R),w=Date.now()-(B.animate?0:E),M()}));function M(){const R=Date.now()-w;p=Math.floor(i(R,h,g-h,E)),R<E?k=requestAnimationFrame(M):p=g,b.set(p,void 0)}return b}e.animatedObservable=s;function i(c,a,g,h){return c===h?a+g:g*(-Math.pow(2,-10*c/h)+1)+a}class n extends y.Disposable{constructor(a,g,h){super(),this._register(new r(a,h)),this._register(u(h,{height:g.actualHeight,top:g.actualTop}))}}e.ViewZoneOverlayWidget=n;class t{get afterLineNumber(){return this._afterLineNumber.get()}constructor(a,g){this._afterLineNumber=a,this.heightInPx=g,this.domNode=document.createElement("div"),this._actualTop=(0,D.observableValue)(this,void 0),this._actualHeight=(0,D.observableValue)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=h=>{this._actualTop.set(h,void 0)},this.onComputedHeight=h=>{this._actualHeight.set(h,void 0)}}}e.PlaceholderViewZone=t;class r{constructor(a,g){this._editor=a,this._domElement=g,this._overlayWidgetId=`managedOverlayWidget-${r._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=r,r._counter=0;function u(c,a){return(0,D.autorun)(g=>{for(let[h,p]of Object.entries(a))p&&typeof p=="object"&&"read"in p&&(p=p.read(g)),typeof p=="number"&&(p=`${p}px`),h=h.replace(/[A-Z]/g,b=>"-"+b.toLowerCase()),c.style[h]=p})}e.applyStyle=u;function f(c,a){return d([c],a),c}e.readHotReloadableExport=f;function d(c,a){(0,I.isHotReloadEnabled)()&&(0,D.observableSignalFromEvent)("reload",h=>(0,I.registerHotReloadHandler)(p=>{if([...Object.values(p)].some(b=>c.includes(b)))return b=>(h(void 0),!0)})).read(a)}e.observeHotReloadableExports=d;function l(c,a,g){const h=new y.DisposableStore,p=[];return h.add((0,D.autorun)(b=>{const w=a.read(b),E=new Map,k=new Map;g&&g(!0),c.changeViewZones(M=>{for(const R of p)M.removeZone(R);p.length=0;for(const R of w){const B=M.addZone(R);p.push(B),E.set(R,B)}}),g&&g(!1),h.add((0,D.autorunHandleChanges)({createEmptyChangeSummary(){return[]},handleChange(M,R){const B=k.get(M.changedObservable);return B!==void 0&&R.push(B),!0}},(M,R)=>{for(const B of w)B.onChange&&(k.set(B.onChange,E.get(B)),B.onChange.read(M));g&&g(!0),c.changeViewZones(B=>{for(const T of R)B.layoutZone(T)}),g&&g(!1)}))})),h.add({dispose(){g&&g(!0),c.changeViewZones(b=>{for(const w of p)b.removeZone(w)}),g&&g(!1)}}),h}e.applyViewZones=l;class o extends L.CancellationTokenSource{dispose(){super.dispose(!0)}}e.DisposableCancellationTokenSource=o}),define(te[101],ie([1,0,10,17,138]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=e.decodeUTF16LE=e.getPlatformTextDecoder=void 0;let D;function S(){return D||(D=new TextDecoder("UTF-16LE")),D}let m;function _(){return m||(m=new TextDecoder("UTF-16BE")),m}let v;function C(){return v||(v=I.isLittleEndian()?S():_()),v}e.getPlatformTextDecoder=C;function s(t,r,u){const f=new Uint16Array(t.buffer,r,u);return u>0&&(f[0]===65279||f[0]===65534)?i(t,r,u):S().decode(f)}e.decodeUTF16LE=s;function i(t,r,u){const f=[];let d=0;for(let l=0;l<u;l++){const o=y.readUInt16LE(t,r);r+=2,f[d++]=String.fromCharCode(o)}return f.join("")}class n{constructor(r){this._capacity=r|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return C().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}appendCharCode(r){const u=this._capacity-this._bufferLength;u<=1&&(u===0||L.isHighSurrogate(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIICharCode(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendString(r){const u=r.length;if(this._bufferLength+u>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=r;return}for(let f=0;f<u;f++)this._buffer[this._bufferLength++]=r.charCodeAt(f)}}e.StringBuilder=n}),define(te[595],ie([1,0,90,10,70,101,287,110]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const _=(0,L.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:r=>r});class v{static create(){return new v}constructor(){}createLineBreaksComputer(u,f,d,l,o){const c=[],a=[];return{addRequest:(g,h,p)=>{c.push(g),a.push(h)},finalize:()=>C(c,u,f,d,l,o,a)}}}e.DOMLineBreaksComputerFactory=v;function C(r,u,f,d,l,o,c){var a;function g(U){const F=c[U];if(F){const G=m.LineInjectedText.applyInjectedText(r[U],F),Y=F.map(se=>se.options),ne=F.map(se=>se.column-1);return new S.ModelLineProjectionData(ne,Y,[G.length],[],0)}else return null}if(d===-1){const U=[];for(let F=0,G=r.length;F<G;F++)U[F]=g(F);return U}const h=Math.round(d*u.typicalHalfwidthCharacterWidth),b=Math.round(f*(l===3?2:l===2?1:0)),w=Math.ceil(u.spaceWidth*b),E=document.createElement("div");(0,y.applyFontInfo)(E,u);const k=new D.StringBuilder(1e4),M=[],R=[],B=[],T=[],N=[];for(let U=0;U<r.length;U++){const F=m.LineInjectedText.applyInjectedText(r[U],c[U]);let G=0,Y=0,ne=h;if(l!==0)if(G=I.firstNonWhitespaceIndex(F),G===-1)G=0;else{for(let H=0;H<G;H++){const V=F.charCodeAt(H)===9?f-Y%f:1;Y+=V}const q=Math.ceil(u.spaceWidth*Y);q+u.typicalFullwidthCharacterWidth>h?(G=0,Y=0):ne=h-q}const se=F.substr(G),J=s(se,Y,f,ne,k,w);M[U]=G,R[U]=Y,B[U]=se,T[U]=J[0],N[U]=J[1]}const A=k.build(),P=(a=_?.createHTML(A))!==null&&a!==void 0?a:A;E.innerHTML=P,E.style.position="absolute",E.style.top="10000",o==="keepAll"?(E.style.wordBreak="keep-all",E.style.overflowWrap="anywhere"):(E.style.wordBreak="inherit",E.style.overflowWrap="break-word"),document.body.appendChild(E);const O=document.createRange(),x=Array.prototype.slice.call(E.children,0),W=[];for(let U=0;U<r.length;U++){const F=x[U],G=i(O,F,B[U],T[U]);if(G===null){W[U]=g(U);continue}const Y=M[U],ne=R[U]+b,se=N[U],J=[];for(let Z=0,ee=G.length;Z<ee;Z++)J[Z]=se[G[Z]];if(Y!==0)for(let Z=0,ee=G.length;Z<ee;Z++)G[Z]+=Y;let q,H;const V=c[U];V?(q=V.map(Z=>Z.options),H=V.map(Z=>Z.column-1)):(q=null,H=null),W[U]=new S.ModelLineProjectionData(H,q,G,J,ne)}return document.body.removeChild(E),W}function s(r,u,f,d,l,o){if(o!==0){const w=String(o);l.appendString('<div style="text-indent: -'),l.appendString(w),l.appendString("px; padding-left: "),l.appendString(w),l.appendString("px; box-sizing: border-box; width:")}else l.appendString('<div style="width:');l.appendString(String(d)),l.appendString('px;">');const c=r.length;let a=u,g=0;const h=[],p=[];let b=0<c?r.charCodeAt(0):0;l.appendString("<span>");for(let w=0;w<c;w++){w!==0&&w%16384===0&&l.appendString("</span><span>"),h[w]=g,p[w]=a;const E=b;b=w+1<c?r.charCodeAt(w+1):0;let k=1,M=1;switch(E){case 9:k=f-a%f,M=k;for(let R=1;R<=k;R++)R<k?l.appendCharCode(160):l.appendASCIICharCode(32);break;case 32:b===32?l.appendCharCode(160):l.appendASCIICharCode(32);break;case 60:l.appendString("&lt;");break;case 62:l.appendString("&gt;");break;case 38:l.appendString("&amp;");break;case 0:l.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:l.appendCharCode(65533);break;default:I.isFullWidthCharacter(E)&&M++,E<32?l.appendCharCode(9216+E):l.appendCharCode(E)}g+=k,a+=M}return l.appendString("</span>"),h[r.length]=g,p[r.length]=a,l.appendString("</div>"),[h,p]}function i(r,u,f,d){if(f.length<=1)return null;const l=Array.prototype.slice.call(u.children,0),o=[];try{n(r,l,d,0,null,f.length-1,null,o)}catch(c){return console.log(c),null}return o.length===0?null:(o.push(f.length),o)}function n(r,u,f,d,l,o,c,a){if(d===o||(l=l||t(r,u,f[d],f[d+1]),c=c||t(r,u,f[o],f[o+1]),Math.abs(l[0].top-c[0].top)<=.1))return;if(d+1===o){a.push(o);return}const g=d+(o-d)/2|0,h=t(r,u,f[g],f[g+1]);n(r,u,f,d,l,g,h,a),n(r,u,f,g,h,o,c,a)}function t(r,u,f,d){return r.setStart(u[f/16384|0].firstChild,f%16384),r.setEnd(u[d/16384|0].firstChild,d%16384),r.getClientRects()}}),define(te[229],ie([1,0,38,90,9,101]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class S{constructor(C){this._createLine=C,this._set(1,[])}flush(){this._set(1,[])}_set(C,s){this._lines=s,this._rendLineNumberStart=C}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(C){const s=C-this._rendLineNumberStart;if(s<0||s>=this._lines.length)throw new y.BugIndicatingError("Illegal value for lineNumber");return this._lines[s]}onLinesDeleted(C,s){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(s<i){const f=s-C+1;return this._rendLineNumberStart-=f,null}if(C>n)return null;let t=0,r=0;for(let f=i;f<=n;f++){const d=f-this._rendLineNumberStart;C<=f&&f<=s&&(r===0?(t=d,r=1):r++)}if(C<i){let f=0;s<i?f=s-C+1:f=i-C,this._rendLineNumberStart-=f}return this._lines.splice(t,r)}onLinesChanged(C,s){const i=C+s-1;if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),t=this.getEndLineNumber();let r=!1;for(let u=C;u<=i;u++)u>=n&&u<=t&&(this._lines[u-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(C,s){if(this.getCount()===0)return null;const i=s-C+1,n=this.getStartLineNumber(),t=this.getEndLineNumber();if(C<=n)return this._rendLineNumberStart+=i,null;if(C>t)return null;if(i+C>t)return this._lines.splice(C-this._rendLineNumberStart,t-C+1);const r=[];for(let o=0;o<i;o++)r[o]=this._createLine();const u=C-this._rendLineNumberStart,f=this._lines.slice(0,u),d=this._lines.slice(u,this._lines.length-i),l=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=f.concat(r).concat(d),l}onTokensChanged(C){if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let t=0,r=C.length;t<r;t++){const u=C[t];if(u.toLineNumber<s||u.fromLineNumber>i)continue;const f=Math.max(s,u.fromLineNumber),d=Math.min(i,u.toLineNumber);for(let l=f;l<=d;l++){const o=l-this._rendLineNumberStart;this._lines[o].onTokensChanged(),n=!0}}return n}}e.RenderedLinesCollection=S;class m{constructor(C){this._host=C,this.domNode=this._createDomNode(),this._linesCollection=new S(()=>this._host.createVisibleLine())}_createDomNode(){const C=(0,L.createFastDomNode)(document.createElement("div"));return C.setClassName("view-layer"),C.setPosition("absolute"),C.domNode.setAttribute("role","presentation"),C.domNode.setAttribute("aria-hidden","true"),C}onConfigurationChanged(C){return!!C.hasChanged(143)}onFlushed(C){return this._linesCollection.flush(),!0}onLinesChanged(C){return this._linesCollection.onLinesChanged(C.fromLineNumber,C.count)}onLinesDeleted(C){const s=this._linesCollection.onLinesDeleted(C.fromLineNumber,C.toLineNumber);if(s)for(let i=0,n=s.length;i<n;i++){const t=s[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(C){const s=this._linesCollection.onLinesInserted(C.fromLineNumber,C.toLineNumber);if(s)for(let i=0,n=s.length;i<n;i++){const t=s[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(C){return C.scrollTopChanged}onTokensChanged(C){return this._linesCollection.onTokensChanged(C.ranges)}onZonesChanged(C){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(C){return this._linesCollection.getLine(C)}renderLines(C){const s=this._linesCollection._get(),i=new _(this.domNode.domNode,this._host,C),n={rendLineNumberStart:s.rendLineNumberStart,lines:s.lines,linesLength:s.lines.length},t=i.render(n,C.startLineNumber,C.endLineNumber,C.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=m;class _{constructor(C,s,i){this.domNode=C,this.host=s,this.viewportData=i}render(C,s,i,n){const t={rendLineNumberStart:C.rendLineNumberStart,lines:C.lines.slice(0),linesLength:C.linesLength};if(t.rendLineNumberStart+t.linesLength-1<s||i<t.rendLineNumberStart){t.rendLineNumberStart=s,t.linesLength=i-s+1,t.lines=[];for(let r=s;r<=i;r++)t.lines[r-s]=this.host.createVisibleLine();return this._finishRendering(t,!0,n),t}if(this._renderUntouchedLines(t,Math.max(s-t.rendLineNumberStart,0),Math.min(i-t.rendLineNumberStart,t.linesLength-1),n,s),t.rendLineNumberStart>s){const r=s,u=Math.min(i,t.rendLineNumberStart-1);r<=u&&(this._insertLinesBefore(t,r,u,n,s),t.linesLength+=u-r+1)}else if(t.rendLineNumberStart<s){const r=Math.min(t.linesLength,s-t.rendLineNumberStart);r>0&&(this._removeLinesBefore(t,r),t.linesLength-=r)}if(t.rendLineNumberStart=s,t.rendLineNumberStart+t.linesLength-1<i){const r=t.rendLineNumberStart+t.linesLength,u=i;r<=u&&(this._insertLinesAfter(t,r,u,n,s),t.linesLength+=u-r+1)}else if(t.rendLineNumberStart+t.linesLength-1>i){const r=Math.max(0,i-t.rendLineNumberStart+1),f=t.linesLength-1-r+1;f>0&&(this._removeLinesAfter(t,f),t.linesLength-=f)}return this._finishRendering(t,!1,n),t}_renderUntouchedLines(C,s,i,n,t){const r=C.rendLineNumberStart,u=C.lines;for(let f=s;f<=i;f++){const d=r+f;u[f].layoutLine(d,n[d-t])}}_insertLinesBefore(C,s,i,n,t){const r=[];let u=0;for(let f=s;f<=i;f++)r[u++]=this.host.createVisibleLine();C.lines=r.concat(C.lines)}_removeLinesBefore(C,s){for(let i=0;i<s;i++){const n=C.lines[i].getDomNode();n&&this.domNode.removeChild(n)}C.lines.splice(0,s)}_insertLinesAfter(C,s,i,n,t){const r=[];let u=0;for(let f=s;f<=i;f++)r[u++]=this.host.createVisibleLine();C.lines=C.lines.concat(r)}_removeLinesAfter(C,s){const i=C.linesLength-s;for(let n=0;n<s;n++){const t=C.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}C.lines.splice(i,s)}_finishRenderingNewLines(C,s,i,n){_._ttPolicy&&(i=_._ttPolicy.createHTML(i));const t=this.domNode.lastChild;s||!t?this.domNode.innerHTML=i:t.insertAdjacentHTML("afterend",i);let r=this.domNode.lastChild;for(let u=C.linesLength-1;u>=0;u--){const f=C.lines[u];n[u]&&(f.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(C,s,i){const n=document.createElement("div");_._ttPolicy&&(s=_._ttPolicy.createHTML(s)),n.innerHTML=s;for(let t=0;t<C.linesLength;t++){const r=C.lines[t];if(i[t]){const u=n.firstChild,f=r.getDomNode();f.parentNode.replaceChild(u,f),r.setDomNode(u)}}}_finishRendering(C,s,i){const n=_._sb,t=C.linesLength,r=C.lines,u=C.rendLineNumberStart,f=[];{n.reset();let d=!1;for(let l=0;l<t;l++){const o=r[l];f[l]=!1,!(o.getDomNode()||!o.renderLine(l+u,i[l],this.viewportData,n))&&(f[l]=!0,d=!0)}d&&this._finishRenderingNewLines(C,s,n.build(),f)}{n.reset();let d=!1;const l=[];for(let o=0;o<t;o++){const c=r[o];l[o]=!1,!(f[o]||!c.renderLine(o+u,i[o],this.viewportData,n))&&(l[o]=!0,d=!0)}d&&this._finishRenderingInvalidLines(C,n.build(),l)}}}_._ttPolicy=(0,I.createTrustedTypesPolicy)("editorViewLayer",{createHTML:v=>v}),_._sb=new D.StringBuilder(1e5)}),define(te[596],ie([1,0,38,70,229,53]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends D.ViewPart{constructor(s){super(s),this._visibleLines=new y.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const n=this._context.configuration.options.get(50);(0,I.applyFontInfo)(this.domNode,n),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let s=0,i=this._dynamicOverlays.length;s<i;s++)if(this._dynamicOverlays[s].shouldRender())return!0;return!1}dispose(){super.dispose();for(let s=0,i=this._dynamicOverlays.length;s<i;s++)this._dynamicOverlays[s].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new m(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(s){this._dynamicOverlays.push(s)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s);const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let u=i;u<=n;u++)this._visibleLines.getVisibleLine(u).onConfigurationChanged(s);const r=this._context.configuration.options.get(50);return(0,I.applyFontInfo)(this.domNode,r),!0}onFlushed(s){return this._visibleLines.onFlushed(s)}onFocusChanged(s){return this._isFocused=s.isFocused,!0}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onScrollChanged(s){return this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._visibleLines.onZonesChanged(s)}prepareRender(s){const i=this._dynamicOverlays.filter(n=>n.shouldRender());for(let n=0,t=i.length;n<t;n++){const r=i[n];r.prepareRender(s),r.onDidRender()}}render(s){this._viewOverlaysRender(s),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(s){this._visibleLines.renderLines(s.viewportData)}}e.ViewOverlays=S;class m{constructor(s,i){this._configuration=s,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=i,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(s){this._domNode=(0,L.createFastDomNode)(s)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(s){this._lineHeight=this._configuration.options.get(66)}renderLine(s,i,n,t){let r="";for(let u=0,f=this._dynamicOverlays.length;u<f;u++){const d=this._dynamicOverlays[u];r+=d.render(n.startLineNumber,s)}return this._renderedContent===r?!1:(this._renderedContent=r,t.appendString('<div style="position:absolute;top:'),t.appendString(String(i)),t.appendString("px;width:100%;height:"),t.appendString(String(this._lineHeight)),t.appendString('px;">'),t.appendString(r),t.appendString("</div>"),!0)}layoutLine(s,i){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=m;class _ extends S{constructor(s){super(s);const n=this._context.configuration.options.get(143);this._contentWidth=n.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(s){const n=this._context.configuration.options.get(143);return this._contentWidth=n.contentWidth,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollWidthChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s),this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=_;class v extends S{constructor(s){super(s);const i=this._context.configuration.options,n=i.get(143);this._contentLeft=n.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,I.applyFontInfo)(this.domNode,i.get(50))}onConfigurationChanged(s){const i=this._context.configuration.options;(0,I.applyFontInfo)(this.domNode,i.get(50));const n=i.get(143);return this._contentLeft=n.contentLeft,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollHeightChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s);const i=Math.min(s.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=v}),define(te[323],ie([1,0,138,101]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function y(_){return _.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(v,C,s,i){this.oldPosition=v,this.oldText=C,this.newPosition=s,this.newText=i}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${y(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${y(this.oldText)}")`:`(replace@${this.oldPosition} "${y(this.oldText)}" with "${y(this.newText)}")`}static _writeStringSize(v){return 4+2*v.length}static _writeString(v,C,s){const i=C.length;L.writeUInt32BE(v,i,s),s+=4;for(let n=0;n<i;n++)L.writeUInt16LE(v,C.charCodeAt(n),s),s+=2;return s}static _readString(v,C){const s=L.readUInt32BE(v,C);return C+=4,(0,I.decodeUTF16LE)(v,C,s)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(v,C){return L.writeUInt32BE(v,this.oldPosition,C),C+=4,L.writeUInt32BE(v,this.newPosition,C),C+=4,C=D._writeString(v,this.oldText,C),C=D._writeString(v,this.newText,C),C}static read(v,C,s){const i=L.readUInt32BE(v,C);C+=4;const n=L.readUInt32BE(v,C);C+=4;const t=D._readString(v,C);C+=D._writeStringSize(t);const r=D._readString(v,C);return C+=D._writeStringSize(r),s.push(new D(i,t,n,r)),C}}e.TextChange=D;function S(_,v){return _===null||_.length===0?v:new m(_,v).compress()}e.compressConsecutiveTextChanges=S;class m{constructor(v,C){this._prevEdits=v,this._currEdits=C,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let v=0,C=0,s=this._getPrev(v),i=this._getCurr(C);for(;v<this._prevLen||C<this._currLen;){if(s===null){this._acceptCurr(i),i=this._getCurr(++C);continue}if(i===null){this._acceptPrev(s),s=this._getPrev(++v);continue}if(i.oldEnd<=s.newPosition){this._acceptCurr(i),i=this._getCurr(++C);continue}if(s.newEnd<=i.oldPosition){this._acceptPrev(s),s=this._getPrev(++v);continue}if(i.oldPosition<s.newPosition){const[f,d]=m._splitCurr(i,s.newPosition-i.oldPosition);this._acceptCurr(f),i=d;continue}if(s.newPosition<i.oldPosition){const[f,d]=m._splitPrev(s,i.oldPosition-s.newPosition);this._acceptPrev(f),s=d;continue}let r,u;if(i.oldEnd===s.newEnd)r=s,u=i,s=this._getPrev(++v),i=this._getCurr(++C);else if(i.oldEnd<s.newEnd){const[f,d]=m._splitPrev(s,i.oldLength);r=f,u=i,s=d,i=this._getCurr(++C)}else{const[f,d]=m._splitCurr(i,s.newLength);r=s,u=f,s=this._getPrev(++v),i=d}this._result[this._resultLen++]=new D(r.oldPosition,r.oldText,u.newPosition,u.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=u.newLength-u.oldLength}const n=m._merge(this._result);return m._removeNoOps(n)}_acceptCurr(v){this._result[this._resultLen++]=m._rebaseCurr(this._prevDeltaOffset,v),this._currDeltaOffset+=v.newLength-v.oldLength}_getCurr(v){return v<this._currLen?this._currEdits[v]:null}_acceptPrev(v){this._result[this._resultLen++]=m._rebasePrev(this._currDeltaOffset,v),this._prevDeltaOffset+=v.newLength-v.oldLength}_getPrev(v){return v<this._prevLen?this._prevEdits[v]:null}static _rebaseCurr(v,C){return new D(C.oldPosition-v,C.oldText,C.newPosition,C.newText)}static _rebasePrev(v,C){return new D(C.oldPosition,C.oldText,C.newPosition+v,C.newText)}static _splitPrev(v,C){const s=v.newText.substr(0,C),i=v.newText.substr(C);return[new D(v.oldPosition,v.oldText,v.newPosition,s),new D(v.oldEnd,"",v.newPosition+C,i)]}static _splitCurr(v,C){const s=v.oldText.substr(0,C),i=v.oldText.substr(C);return[new D(v.oldPosition,s,v.newPosition,v.newText),new D(v.oldPosition+C,i,v.newEnd,"")]}static _merge(v){if(v.length===0)return v;const C=[];let s=0,i=v[0];for(let n=1;n<v.length;n++){const t=v[n];i.oldEnd===t.oldPosition?i=new D(i.oldPosition,i.oldText+t.oldText,i.newPosition,i.newText+t.newText):(C[s++]=i,i=t)}return C[s++]=i,C}static _removeNoOps(v){if(v.length===0)return v;const C=[];let s=0;for(let i=0;i<v.length;i++){const n=v[i];n.oldText!==n.newText&&(C[s++]=n)}return C}}}),define(te[597],ie([1,0,308,92]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function y(D,S,m,_,v,C){if(Array.isArray(D)){let s=0;for(const i of D){const n=y(i,S,m,_,v,C);if(n===10)return n;n>s&&(s=n)}return s}else{if(typeof D=="string")return _?D==="*"?5:D===m?10:0:0;if(D){const{language:s,pattern:i,scheme:n,hasAccessToAllModels:t,notebookType:r}=D;if(!_&&!t)return 0;r&&v&&(S=v);let u=0;if(n)if(n===S.scheme)u=10;else if(n==="*")u=5;else return 0;if(s)if(s===m)u=10;else if(s==="*")u=Math.max(u,5);else return 0;if(r)if(r===C)u=10;else if(r==="*"&&C!==void 0)u=Math.max(u,5);else return 0;if(i){let f;if(typeof i=="string"?f=i:f=Object.assign(Object.assign({},i),{base:(0,I.normalize)(i.base)}),f===S.fsPath||(0,L.match)(f,S.fsPath))u=10;else return 0}return u}else return 0}}e.score=y}),define(te[598],ie([1,0,6,2,49,597]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function S(C){return typeof C=="string"?!1:Array.isArray(C)?C.every(S):!!C.exclusive}class m{constructor(s,i,n,t){this.uri=s,this.languageId=i,this.notebookUri=n,this.notebookType=t}equals(s){var i,n;return this.notebookType===s.notebookType&&this.languageId===s.languageId&&this.uri.toString()===s.uri.toString()&&((i=this.notebookUri)===null||i===void 0?void 0:i.toString())===((n=s.notebookUri)===null||n===void 0?void 0:n.toString())}}class _{constructor(s){this._notebookInfoResolver=s,this._clock=0,this._entries=[],this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event}register(s,i){let n={selector:s,provider:i,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,I.toDisposable)(()=>{if(n){const t=this._entries.indexOf(n);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(s){return this.all(s).length>0}all(s){if(!s)return[];this._updateScores(s);const i=[];for(const n of this._entries)n._score>0&&i.push(n.provider);return i}ordered(s){const i=[];return this._orderedForEach(s,n=>i.push(n.provider)),i}orderedGroups(s){const i=[];let n,t;return this._orderedForEach(s,r=>{n&&t===r._score?n.push(r.provider):(t=r._score,n=[r.provider],i.push(n))}),i}_orderedForEach(s,i){this._updateScores(s);for(const n of this._entries)n._score>0&&i(n)}_updateScores(s){var i,n;const t=(i=this._notebookInfoResolver)===null||i===void 0?void 0:i.call(this,s.uri),r=t?new m(s.uri,s.getLanguageId(),t.uri,t.type):new m(s.uri,s.getLanguageId(),void 0,void 0);if(!(!((n=this._lastCandidate)===null||n===void 0)&&n.equals(r))){this._lastCandidate=r;for(const u of this._entries)if(u._score=(0,D.score)(u.selector,r.uri,r.languageId,(0,y.shouldSynchronizeModel)(s),r.notebookUri,r.notebookType),S(u.selector)&&u._score>0){for(const f of this._entries)f._score=0;u._score=1e3;break}this._entries.sort(_._compareByScoreAndTime)}}static _compareByScoreAndTime(s,i){return s._score<i._score?1:s._score>i._score?-1:v(s.selector)&&!v(i.selector)?1:!v(s.selector)&&v(i.selector)?-1:s._time<i._time?1:s._time>i._time?-1:0}}e.LanguageFeatureRegistry=_;function v(C){return typeof C=="string"?!1:Array.isArray(C)?C.some(v):!!C.isBuiltin}}),define(te[230],ie([1,0,10,101,5]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(o,c,a,g,h,p){this._richEditBracketBrand=void 0,this.languageId=o,this.index=c,this.open=a,this.close=g,this.forwardRegex=h,this.reversedRegex=p,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(o){return this._openSet.has(o)}isClose(o){return this._closeSet.has(o)}static _toSet(o){const c=new Set;for(const a of o)c.add(a);return c}}e.RichEditBracket=D;function S(l){const o=l.length;l=l.map(p=>[p[0].toLowerCase(),p[1].toLowerCase()]);const c=[];for(let p=0;p<o;p++)c[p]=p;const a=(p,b)=>{const[w,E]=p,[k,M]=b;return w===k||w===M||E===k||E===M},g=(p,b)=>{const w=Math.min(p,b),E=Math.max(p,b);for(let k=0;k<o;k++)c[k]===E&&(c[k]=w)};for(let p=0;p<o;p++){const b=l[p];for(let w=p+1;w<o;w++){const E=l[w];a(b,E)&&g(c[p],c[w])}}const h=[];for(let p=0;p<o;p++){const b=[],w=[];for(let E=0;E<o;E++)if(c[E]===p){const[k,M]=l[E];b.push(k),w.push(M)}b.length>0&&h.push({open:b,close:w})}return h}class m{constructor(o,c){this._richEditBracketsBrand=void 0;const a=S(c);this.brackets=a.map((g,h)=>new D(o,h,g.open,g.close,s(g.open,g.close,a,h),i(g.open,g.close,a,h))),this.forwardRegex=n(this.brackets),this.reversedRegex=t(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const g of this.brackets){for(const h of g.open)this.textIsBracket[h]=g,this.textIsOpenBracket[h]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,h.length);for(const h of g.close)this.textIsBracket[h]=g,this.textIsOpenBracket[h]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,h.length)}}}e.RichEditBrackets=m;function _(l,o,c,a){for(let g=0,h=o.length;g<h;g++){if(g===c)continue;const p=o[g];for(const b of p.open)b.indexOf(l)>=0&&a.push(b);for(const b of p.close)b.indexOf(l)>=0&&a.push(b)}}function v(l,o){return l.length-o.length}function C(l){if(l.length<=1)return l;const o=[],c=new Set;for(const a of l)c.has(a)||(o.push(a),c.add(a));return o}function s(l,o,c,a){let g=[];g=g.concat(l),g=g.concat(o);for(let h=0,p=g.length;h<p;h++)_(g[h],c,a,g);return g=C(g),g.sort(v),g.reverse(),u(g)}function i(l,o,c,a){let g=[];g=g.concat(l),g=g.concat(o);for(let h=0,p=g.length;h<p;h++)_(g[h],c,a,g);return g=C(g),g.sort(v),g.reverse(),u(g.map(f))}function n(l){let o=[];for(const c of l){for(const a of c.open)o.push(a);for(const a of c.close)o.push(a)}return o=C(o),u(o)}function t(l){let o=[];for(const c of l){for(const a of c.open)o.push(a);for(const a of c.close)o.push(a)}return o=C(o),u(o.map(f))}function r(l){const o=/^[\w ]+$/.test(l);return l=L.escapeRegExpCharacters(l),o?`\\b${l}\\b`:l}function u(l){const o=`(${l.map(r).join(")|(")})`;return L.createRegExp(o,!0)}const f=function(){function l(a){const g=new Uint16Array(a.length);let h=0;for(let p=a.length-1;p>=0;p--)g[h++]=a.charCodeAt(p);return I.getPlatformTextDecoder().decode(g)}let o=null,c=null;return function(g){return o!==g&&(o=g,c=l(o)),c}}();class d{static _findPrevBracketInText(o,c,a,g){const h=a.match(o);if(!h)return null;const p=a.length-(h.index||0),b=h[0].length,w=g+p;return new y.Range(c,w-b+1,c,w+1)}static findPrevBracketInRange(o,c,a,g,h){const b=f(a).substring(a.length-h,a.length-g);return this._findPrevBracketInText(o,c,b,g)}static findNextBracketInText(o,c,a,g){const h=a.match(o);if(!h)return null;const p=h.index||0,b=h[0].length;if(b===0)return null;const w=g+p;return new y.Range(c,w+1,c,w+1+b)}static findNextBracketInRange(o,c,a,g,h){const p=a.substring(g,h);return this.findNextBracketInText(o,c,p,g)}}e.BracketsUtils=d}),define(te[599],ie([1,0,13,125,230]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(m){this._richEditBrackets=m}getElectricCharacters(){const m=[];if(this._richEditBrackets)for(const _ of this._richEditBrackets.brackets)for(const v of _.close){const C=v.charAt(v.length-1);m.push(C)}return(0,L.distinct)(m)}onElectricCharacter(m,_,v){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const C=_.findTokenIndexAtOffset(v-1);if((0,I.ignoreBracketsInToken)(_.getStandardTokenType(C)))return null;const s=this._richEditBrackets.reversedRegex,i=_.getLineContent().substring(0,v-1)+m,n=y.BracketsUtils.findPrevBracketInRange(s,1,i,0,i.length);if(!n)return null;const t=i.substring(n.startColumn-1,n.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[t])return null;const u=_.getActualLineContentBefore(n.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:t}:null}}e.BracketElectricCharacterSupport=D}),define(te[600],ie([1,0,13,6,2,5,125,230,517]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class v extends y.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(r,u){super(),this.textModel=r,this.languageConfigurationService=u,this.bracketPairsTree=this._register(new y.MutableDisposable),this.onDidChangeEmitter=new I.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(f=>{var d;(!f.languageId||!((d=this.bracketPairsTree.value)===null||d===void 0)&&d.object.didLanguageChange(f.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(r){var u;(u=this.bracketPairsTree.value)===null||u===void 0||u.object.handleContentChanged(r)}handleDidChangeBackgroundTokenizationState(){var r;(r=this.bracketPairsTree.value)===null||r===void 0||r.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(r){var u;(u=this.bracketPairsTree.value)===null||u===void 0||u.object.handleDidChangeTokens(r)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const r=new y.DisposableStore;this.bracketPairsTree.value=C(r.add(new _.BracketPairsTree(this.textModel,u=>this.languageConfigurationService.getLanguageConfiguration(u))),r),r.add(this.bracketPairsTree.value.object.onDidChange(u=>this.onDidChangeEmitter.fire(u))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(r){var u;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getBracketPairsInRange(r,!1))||L.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(r){var u;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getBracketPairsInRange(r,!0))||L.CallbackIterable.empty}getBracketsInRange(r,u=!1){var f;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((f=this.bracketPairsTree.value)===null||f===void 0?void 0:f.object.getBracketsInRange(r,u))||L.CallbackIterable.empty}findMatchingBracketUp(r,u,f){const d=this.textModel.validatePosition(u),l=this.textModel.getLanguageIdAtPosition(d.lineNumber,d.column);if(this.canBuildAST){const o=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew.getClosingBracketInfo(r);if(!o)return null;const c=this.getBracketPairsInRange(D.Range.fromPositions(u,u)).findLast(a=>o.closes(a.openingBracketInfo));return c?c.openingBracketRange:null}else{const o=r.toLowerCase(),c=this.languageConfigurationService.getLanguageConfiguration(l).brackets;if(!c)return null;const a=c.textIsBracket[o];return a?n(this._findMatchingBracketUp(a,d,s(f))):null}}matchBracket(r,u){if(this.canBuildAST){const f=this.getBracketPairsInRange(D.Range.fromPositions(r,r)).filter(d=>d.closingBracketRange!==void 0&&(d.openingBracketRange.containsPosition(r)||d.closingBracketRange.containsPosition(r))).findLastMaxBy((0,L.compareBy)(d=>d.openingBracketRange.containsPosition(r)?d.openingBracketRange:d.closingBracketRange,D.Range.compareRangesUsingStarts));return f?[f.openingBracketRange,f.closingBracketRange]:null}else{const f=s(u);return this._matchBracket(this.textModel.validatePosition(r),f)}}_establishBracketSearchOffsets(r,u,f,d){const l=u.getCount(),o=u.getLanguageId(d);let c=Math.max(0,r.column-1-f.maxBracketLength);for(let g=d-1;g>=0;g--){const h=u.getEndOffset(g);if(h<=c)break;if((0,S.ignoreBracketsInToken)(u.getStandardTokenType(g))||u.getLanguageId(g)!==o){c=h;break}}let a=Math.min(u.getLineContent().length,r.column-1+f.maxBracketLength);for(let g=d+1;g<l;g++){const h=u.getStartOffset(g);if(h>=a)break;if((0,S.ignoreBracketsInToken)(u.getStandardTokenType(g))||u.getLanguageId(g)!==o){a=h;break}}return{searchStartOffset:c,searchEndOffset:a}}_matchBracket(r,u){const f=r.lineNumber,d=this.textModel.tokenization.getLineTokens(f),l=this.textModel.getLineContent(f),o=d.findTokenIndexAtOffset(r.column-1);if(o<0)return null;const c=this.languageConfigurationService.getLanguageConfiguration(d.getLanguageId(o)).brackets;if(c&&!(0,S.ignoreBracketsInToken)(d.getStandardTokenType(o))){let{searchStartOffset:a,searchEndOffset:g}=this._establishBracketSearchOffsets(r,d,c,o),h=null;for(;;){const p=m.BracketsUtils.findNextBracketInRange(c.forwardRegex,f,l,a,g);if(!p)break;if(p.startColumn<=r.column&&r.column<=p.endColumn){const b=l.substring(p.startColumn-1,p.endColumn-1).toLowerCase(),w=this._matchFoundBracket(p,c.textIsBracket[b],c.textIsOpenBracket[b],u);if(w){if(w instanceof i)return null;h=w}}a=p.endColumn-1}if(h)return h}if(o>0&&d.getStartOffset(o)===r.column-1){const a=o-1,g=this.languageConfigurationService.getLanguageConfiguration(d.getLanguageId(a)).brackets;if(g&&!(0,S.ignoreBracketsInToken)(d.getStandardTokenType(a))){const{searchStartOffset:h,searchEndOffset:p}=this._establishBracketSearchOffsets(r,d,g,a),b=m.BracketsUtils.findPrevBracketInRange(g.reversedRegex,f,l,h,p);if(b&&b.startColumn<=r.column&&r.column<=b.endColumn){const w=l.substring(b.startColumn-1,b.endColumn-1).toLowerCase(),E=this._matchFoundBracket(b,g.textIsBracket[w],g.textIsOpenBracket[w],u);if(E)return E instanceof i?null:E}}}return null}_matchFoundBracket(r,u,f,d){if(!u)return null;const l=f?this._findMatchingBracketDown(u,r.getEndPosition(),d):this._findMatchingBracketUp(u,r.getStartPosition(),d);return l?l instanceof i?l:[r,l]:null}_findMatchingBracketUp(r,u,f){const d=r.languageId,l=r.reversedRegex;let o=-1,c=0;const a=(g,h,p,b)=>{for(;;){if(f&&++c%100===0&&!f())return i.INSTANCE;const w=m.BracketsUtils.findPrevBracketInRange(l,g,h,p,b);if(!w)break;const E=h.substring(w.startColumn-1,w.endColumn-1).toLowerCase();if(r.isOpen(E)?o++:r.isClose(E)&&o--,o===0)return w;b=w.startColumn-1}return null};for(let g=u.lineNumber;g>=1;g--){const h=this.textModel.tokenization.getLineTokens(g),p=h.getCount(),b=this.textModel.getLineContent(g);let w=p-1,E=b.length,k=b.length;g===u.lineNumber&&(w=h.findTokenIndexAtOffset(u.column-1),E=u.column-1,k=u.column-1);let M=!0;for(;w>=0;w--){const R=h.getLanguageId(w)===d&&!(0,S.ignoreBracketsInToken)(h.getStandardTokenType(w));if(R)M?E=h.getStartOffset(w):(E=h.getStartOffset(w),k=h.getEndOffset(w));else if(M&&E!==k){const B=a(g,b,E,k);if(B)return B}M=R}if(M&&E!==k){const R=a(g,b,E,k);if(R)return R}}return null}_findMatchingBracketDown(r,u,f){const d=r.languageId,l=r.forwardRegex;let o=1,c=0;const a=(h,p,b,w)=>{for(;;){if(f&&++c%100===0&&!f())return i.INSTANCE;const E=m.BracketsUtils.findNextBracketInRange(l,h,p,b,w);if(!E)break;const k=p.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(r.isOpen(k)?o++:r.isClose(k)&&o--,o===0)return E;b=E.endColumn-1}return null},g=this.textModel.getLineCount();for(let h=u.lineNumber;h<=g;h++){const p=this.textModel.tokenization.getLineTokens(h),b=p.getCount(),w=this.textModel.getLineContent(h);let E=0,k=0,M=0;h===u.lineNumber&&(E=p.findTokenIndexAtOffset(u.column-1),k=u.column-1,M=u.column-1);let R=!0;for(;E<b;E++){const B=p.getLanguageId(E)===d&&!(0,S.ignoreBracketsInToken)(p.getStandardTokenType(E));if(B)R||(k=p.getStartOffset(E)),M=p.getEndOffset(E);else if(R&&k!==M){const T=a(h,w,k,M);if(T)return T}R=B}if(R&&k!==M){const B=a(h,w,k,M);if(B)return B}}return null}findPrevBracket(r){var u;const f=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getFirstBracketBefore(f))||null;let d=null,l=null,o=null;for(let c=f.lineNumber;c>=1;c--){const a=this.textModel.tokenization.getLineTokens(c),g=a.getCount(),h=this.textModel.getLineContent(c);let p=g-1,b=h.length,w=h.length;if(c===f.lineNumber){p=a.findTokenIndexAtOffset(f.column-1),b=f.column-1,w=f.column-1;const k=a.getLanguageId(p);d!==k&&(d=k,l=this.languageConfigurationService.getLanguageConfiguration(d).brackets,o=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew)}let E=!0;for(;p>=0;p--){const k=a.getLanguageId(p);if(d!==k){if(l&&o&&E&&b!==w){const R=m.BracketsUtils.findPrevBracketInRange(l.reversedRegex,c,h,b,w);if(R)return this._toFoundBracket(o,R);E=!1}d=k,l=this.languageConfigurationService.getLanguageConfiguration(d).brackets,o=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew}const M=!!l&&!(0,S.ignoreBracketsInToken)(a.getStandardTokenType(p));if(M)E?b=a.getStartOffset(p):(b=a.getStartOffset(p),w=a.getEndOffset(p));else if(o&&l&&E&&b!==w){const R=m.BracketsUtils.findPrevBracketInRange(l.reversedRegex,c,h,b,w);if(R)return this._toFoundBracket(o,R)}E=M}if(o&&l&&E&&b!==w){const k=m.BracketsUtils.findPrevBracketInRange(l.reversedRegex,c,h,b,w);if(k)return this._toFoundBracket(o,k)}}return null}findNextBracket(r){var u;const f=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getFirstBracketAfter(f))||null;const d=this.textModel.getLineCount();let l=null,o=null,c=null;for(let a=f.lineNumber;a<=d;a++){const g=this.textModel.tokenization.getLineTokens(a),h=g.getCount(),p=this.textModel.getLineContent(a);let b=0,w=0,E=0;if(a===f.lineNumber){b=g.findTokenIndexAtOffset(f.column-1),w=f.column-1,E=f.column-1;const M=g.getLanguageId(b);l!==M&&(l=M,o=this.languageConfigurationService.getLanguageConfiguration(l).brackets,c=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew)}let k=!0;for(;b<h;b++){const M=g.getLanguageId(b);if(l!==M){if(c&&o&&k&&w!==E){const B=m.BracketsUtils.findNextBracketInRange(o.forwardRegex,a,p,w,E);if(B)return this._toFoundBracket(c,B);k=!1}l=M,o=this.languageConfigurationService.getLanguageConfiguration(l).brackets,c=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew}const R=!!o&&!(0,S.ignoreBracketsInToken)(g.getStandardTokenType(b));if(R)k||(w=g.getStartOffset(b)),E=g.getEndOffset(b);else if(c&&o&&k&&w!==E){const B=m.BracketsUtils.findNextBracketInRange(o.forwardRegex,a,p,w,E);if(B)return this._toFoundBracket(c,B)}k=R}if(c&&o&&k&&w!==E){const M=m.BracketsUtils.findNextBracketInRange(o.forwardRegex,a,p,w,E);if(M)return this._toFoundBracket(c,M)}}return null}findEnclosingBrackets(r,u){const f=this.textModel.validatePosition(r);if(this.canBuildAST){const w=D.Range.fromPositions(f),E=this.getBracketPairsInRange(D.Range.fromPositions(f,f)).findLast(k=>k.closingBracketRange!==void 0&&k.range.strictContainsRange(w));return E?[E.openingBracketRange,E.closingBracketRange]:null}const d=s(u),l=this.textModel.getLineCount(),o=new Map;let c=[];const a=(w,E)=>{if(!o.has(w)){const k=[];for(let M=0,R=E?E.brackets.length:0;M<R;M++)k[M]=0;o.set(w,k)}c=o.get(w)};let g=0;const h=(w,E,k,M,R)=>{for(;;){if(d&&++g%100===0&&!d())return i.INSTANCE;const B=m.BracketsUtils.findNextBracketInRange(w.forwardRegex,E,k,M,R);if(!B)break;const T=k.substring(B.startColumn-1,B.endColumn-1).toLowerCase(),N=w.textIsBracket[T];if(N&&(N.isOpen(T)?c[N.index]++:N.isClose(T)&&c[N.index]--,c[N.index]===-1))return this._matchFoundBracket(B,N,!1,d);M=B.endColumn-1}return null};let p=null,b=null;for(let w=f.lineNumber;w<=l;w++){const E=this.textModel.tokenization.getLineTokens(w),k=E.getCount(),M=this.textModel.getLineContent(w);let R=0,B=0,T=0;if(w===f.lineNumber){R=E.findTokenIndexAtOffset(f.column-1),B=f.column-1,T=f.column-1;const A=E.getLanguageId(R);p!==A&&(p=A,b=this.languageConfigurationService.getLanguageConfiguration(p).brackets,a(p,b))}let N=!0;for(;R<k;R++){const A=E.getLanguageId(R);if(p!==A){if(b&&N&&B!==T){const O=h(b,w,M,B,T);if(O)return n(O);N=!1}p=A,b=this.languageConfigurationService.getLanguageConfiguration(p).brackets,a(p,b)}const P=!!b&&!(0,S.ignoreBracketsInToken)(E.getStandardTokenType(R));if(P)N||(B=E.getStartOffset(R)),T=E.getEndOffset(R);else if(b&&N&&B!==T){const O=h(b,w,M,B,T);if(O)return n(O)}N=P}if(b&&N&&B!==T){const A=h(b,w,M,B,T);if(A)return n(A)}}return null}_toFoundBracket(r,u){if(!u)return null;let f=this.textModel.getValueInRange(u);f=f.toLowerCase();const d=r.getBracketInfo(f);return d?{range:u,bracketInfo:d}:null}}e.BracketPairsTextModelPart=v;function C(t,r){return{object:t,dispose:()=>r?.dispose()}}function s(t){if(typeof t>"u")return()=>!0;{const r=Date.now();return()=>Date.now()-r<=t}}class i{constructor(){this._searchCanceledBrand=void 0}}i.INSTANCE=new i;function n(t){return t instanceof i?null:t}}),define(te[324],ie([1,0,6,10,5,49,286,122,323,2]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class C extends v.Disposable{constructor(i,n,t,r,u,f,d){super(),this._onDidChangeContent=this._register(new L.Emitter),this._BOM=n,this._mightContainNonBasicASCII=!f,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=u,this._pieceTree=new S.PieceTreeBase(i,t,d)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(i){return this._pieceTree.createSnapshot(i?this._BOM:"")}getOffsetAt(i,n){return this._pieceTree.getOffsetAt(i,n)}getPositionAt(i){return this._pieceTree.getPositionAt(i)}getRangeAt(i,n){const t=i+n,r=this.getPositionAt(i),u=this.getPositionAt(t);return new y.Range(r.lineNumber,r.column,u.lineNumber,u.column)}getValueInRange(i,n=0){if(i.isEmpty())return"";const t=this._getEndOfLine(n);return this._pieceTree.getValueInRange(i,t)}getValueLengthInRange(i,n=0){if(i.isEmpty())return 0;if(i.startLineNumber===i.endLineNumber)return i.endColumn-i.startColumn;const t=this.getOffsetAt(i.startLineNumber,i.startColumn),r=this.getOffsetAt(i.endLineNumber,i.endColumn);let u=0;const f=this._getEndOfLine(n),d=this.getEOL();if(f.length!==d.length){const l=f.length-d.length,o=i.endLineNumber-i.startLineNumber;u=l*o}return r-t+u}getCharacterCountInRange(i,n=0){if(this._mightContainNonBasicASCII){let t=0;const r=i.startLineNumber,u=i.endLineNumber;for(let f=r;f<=u;f++){const d=this.getLineContent(f),l=f===r?i.startColumn-1:0,o=f===u?i.endColumn-1:d.length;for(let c=l;c<o;c++)I.isHighSurrogate(d.charCodeAt(c))?(t=t+1,c=c+1):t=t+1}return t+=this._getEndOfLine(n).length*(u-r),t}return this.getValueLengthInRange(i,n)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(i){return this._pieceTree.getLineContent(i)}getLineCharCode(i,n){return this._pieceTree.getLineCharCode(i,n)}getLineLength(i){return this._pieceTree.getLineLength(i)}getLineFirstNonWhitespaceColumn(i){const n=I.firstNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+1}getLineLastNonWhitespaceColumn(i){const n=I.lastNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+2}_getEndOfLine(i){switch(i){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(i){this._pieceTree.setEOL(i)}applyEdits(i,n,t){let r=this._mightContainRTL,u=this._mightContainUnusualLineTerminators,f=this._mightContainNonBasicASCII,d=!0,l=[];for(let b=0;b<i.length;b++){const w=i[b];d&&w._isTracked&&(d=!1);const E=w.range;if(w.text){let T=!0;f||(T=!I.isBasicASCII(w.text),f=T),!r&&T&&(r=I.containsRTL(w.text)),!u&&T&&(u=I.containsUnusualLineTerminators(w.text))}let k="",M=0,R=0,B=0;if(w.text){let T;[M,R,B,T]=(0,m.countEOL)(w.text);const N=this.getEOL();T===0||T===(N===`\r
`?2:1)?k=w.text:k=w.text.replace(/\r\n|\r|\n/g,N)}l[b]={sortIndex:b,identifier:w.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:k,eolCount:M,firstLineLength:R,lastLineLength:B,forceMoveMarkers:!!w.forceMoveMarkers,isAutoWhitespaceEdit:w.isAutoWhitespaceEdit||!1}}l.sort(C._sortOpsAscending);let o=!1;for(let b=0,w=l.length-1;b<w;b++){const E=l[b].range.getEndPosition(),k=l[b+1].range.getStartPosition();if(k.isBeforeOrEqual(E)){if(k.isBefore(E))throw new Error("Overlapping ranges are not allowed!");o=!0}}d&&(l=this._reduceOperations(l));const c=t||n?C._getInverseEditRanges(l):[],a=[];if(n)for(let b=0;b<l.length;b++){const w=l[b],E=c[b];if(w.isAutoWhitespaceEdit&&w.range.isEmpty())for(let k=E.startLineNumber;k<=E.endLineNumber;k++){let M="";k===E.startLineNumber&&(M=this.getLineContent(w.range.startLineNumber),I.firstNonWhitespaceIndex(M)!==-1)||a.push({lineNumber:k,oldContent:M})}}let g=null;if(t){let b=0;g=[];for(let w=0;w<l.length;w++){const E=l[w],k=c[w],M=this.getValueInRange(E.range),R=E.rangeOffset+b;b+=E.text.length-M.length,g[w]={sortIndex:E.sortIndex,identifier:E.identifier,range:k,text:M,textChange:new _.TextChange(E.rangeOffset,M,R,E.text)}}o||g.sort((w,E)=>w.sortIndex-E.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=u,this._mightContainNonBasicASCII=f;const h=this._doApplyEdits(l);let p=null;if(n&&a.length>0){a.sort((b,w)=>w.lineNumber-b.lineNumber),p=[];for(let b=0,w=a.length;b<w;b++){const E=a[b].lineNumber;if(b>0&&a[b-1].lineNumber===E)continue;const k=a[b].oldContent,M=this.getLineContent(E);M.length===0||M===k||I.firstNonWhitespaceIndex(M)!==-1||p.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(g,h,p)}_reduceOperations(i){return i.length<1e3?i:[this._toSingleEditOperation(i)]}_toSingleEditOperation(i){let n=!1;const t=i[0].range,r=i[i.length-1].range,u=new y.Range(t.startLineNumber,t.startColumn,r.endLineNumber,r.endColumn);let f=t.startLineNumber,d=t.startColumn;const l=[];for(let h=0,p=i.length;h<p;h++){const b=i[h],w=b.range;n=n||b.forceMoveMarkers,l.push(this.getValueInRange(new y.Range(f,d,w.startLineNumber,w.startColumn))),b.text.length>0&&l.push(b.text),f=w.endLineNumber,d=w.endColumn}const o=l.join(""),[c,a,g]=(0,m.countEOL)(o);return{sortIndex:0,identifier:i[0].identifier,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u,0),text:o,eolCount:c,firstLineLength:a,lastLineLength:g,forceMoveMarkers:n,isAutoWhitespaceEdit:!1}}_doApplyEdits(i){i.sort(C._sortOpsDescending);const n=[];for(let t=0;t<i.length;t++){const r=i[t],u=r.range.startLineNumber,f=r.range.startColumn,d=r.range.endLineNumber,l=r.range.endColumn;if(u===d&&f===l&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const o=new y.Range(u,f,d,l);n.push({range:o,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return n}findMatchesLineByLine(i,n,t,r){return this._pieceTree.findMatchesLineByLine(i,n,t,r)}static _getInverseEditRanges(i){const n=[];let t=0,r=0,u=null;for(let f=0,d=i.length;f<d;f++){const l=i[f];let o,c;u?u.range.endLineNumber===l.range.startLineNumber?(o=t,c=r+(l.range.startColumn-u.range.endColumn)):(o=t+(l.range.startLineNumber-u.range.endLineNumber),c=l.range.startColumn):(o=l.range.startLineNumber,c=l.range.startColumn);let a;if(l.text.length>0){const g=l.eolCount+1;g===1?a=new y.Range(o,c,o,c+l.firstLineLength):a=new y.Range(o,c,o+g-1,l.lastLineLength+1)}else a=new y.Range(o,c,o,c);t=a.endLineNumber,r=a.endColumn,n.push(a),u=l}return n}static _sortOpsAscending(i,n){const t=y.Range.compareRangesUsingEnds(i.range,n.range);return t===0?i.sortIndex-n.sortIndex:t}static _sortOpsDescending(i,n){const t=y.Range.compareRangesUsingEnds(i.range,n.range);return t===0?n.sortIndex-i.sortIndex:-t}}e.PieceTreeTextBuffer=C}),define(te[601],ie([1,0,10,286,324]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class D{constructor(_,v,C,s,i,n,t,r,u){this._chunks=_,this._bom=v,this._cr=C,this._lf=s,this._crlf=i,this._containsRTL=n,this._containsUnusualLineTerminators=t,this._isBasicASCII=r,this._normalizeEOL=u}_getEOL(_){const v=this._cr+this._lf+this._crlf,C=this._cr+this._crlf;return v===0?_===1?`
`:`\r
`:C>v/2?`\r
`:`
`}create(_){const v=this._getEOL(_),C=this._chunks;if(this._normalizeEOL&&(v===`\r
`&&(this._cr>0||this._lf>0)||v===`
`&&(this._cr>0||this._crlf>0)))for(let i=0,n=C.length;i<n;i++){const t=C[i].buffer.replace(/\r\n|\r|\n/g,v),r=(0,I.createLineStartsFast)(t);C[i]=new I.StringBuffer(t,r)}const s=new y.PieceTreeTextBuffer(C,this._bom,v,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(_){if(_.length===0)return;this.chunks.length===0&&L.startsWithUTF8BOM(_)&&(this.BOM=L.UTF8_BOM_CHARACTER,_=_.substr(1));const v=_.charCodeAt(_.length-1);v===13||v>=55296&&v<=56319?(this._acceptChunk1(_.substr(0,_.length-1),!1),this._hasPreviousChar=!0,this._previousChar=v):(this._acceptChunk1(_,!1),this._hasPreviousChar=!1,this._previousChar=v)}_acceptChunk1(_,v){!v&&_.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+_):this._acceptChunk2(_))}_acceptChunk2(_){const v=(0,I.createLineStarts)(this._tmpLineStarts,_);this.chunks.push(new I.StringBuffer(_,v.lineStarts)),this.cr+=v.cr,this.lf+=v.lf,this.crlf+=v.crlf,v.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=L.containsRTL(_)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=L.containsUnusualLineTerminators(_)))}finish(_=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,_)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const _=this.chunks[this.chunks.length-1];_.buffer+=String.fromCharCode(this._previousChar);const v=(0,I.createLineStartsFast)(_.buffer);_.lineStarts=v,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(te[602],ie([1,0,138,17]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function y(_){for(let v=0,C=_.length;v<C;v+=4){const s=_[v+0],i=_[v+1],n=_[v+2],t=_[v+3];_[v+0]=t,_[v+1]=n,_[v+2]=i,_[v+3]=s}}function D(_){const v=new Uint8Array(_.buffer,_.byteOffset,_.length*4);return I.isLittleEndian()||y(v),L.VSBuffer.wrap(v)}function S(_){const v=new Uint32Array(m(_));let C=0;if(v[C++]=_.id,_.type==="full")v[C++]=1,v[C++]=_.data.length,v.set(_.data,C),C+=_.data.length;else{v[C++]=2,v[C++]=_.deltas.length;for(const s of _.deltas)v[C++]=s.start,v[C++]=s.deleteCount,s.data?(v[C++]=s.data.length,v.set(s.data,C),C+=s.data.length):v[C++]=0}return D(v)}e.encodeSemanticTokensDto=S;function m(_){let v=0;if(v+=1+1,_.type==="full")v+=1+_.data.length;else{v+=1,v+=(1+1+1)*_.deltas.length;for(const C of _.deltas)C.data&&(v+=C.data.length)}return v}}),define(te[184],ie([1,0,6,2,17]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(s,i){return!!s[i]}class S{constructor(i,n){this.target=i.target,this.isLeftClick=i.event.leftButton,this.isMiddleClick=i.event.middleButton,this.isRightClick=i.event.rightButton,this.hasTriggerModifier=D(i.event,n.triggerModifier),this.hasSideBySideModifier=D(i.event,n.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}}e.ClickLinkMouseEvent=S;class m{constructor(i,n){this.keyCodeIsTriggerKey=i.keyCode===n.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===n.triggerSideBySideKey,this.hasTriggerModifier=D(i,n.triggerModifier)}}e.ClickLinkKeyboardEvent=m;class _{constructor(i,n,t,r){this.triggerKey=i,this.triggerModifier=n,this.triggerSideBySideKey=t,this.triggerSideBySideModifier=r}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}}e.ClickLinkOptions=_;function v(s){return s==="altKey"?y.isMacintosh?new _(57,"metaKey",6,"altKey"):new _(5,"ctrlKey",6,"altKey"):y.isMacintosh?new _(6,"altKey",57,"metaKey"):new _(6,"altKey",5,"ctrlKey")}class C extends I.Disposable{constructor(i,n){var t;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new L.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new L.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new L.Emitter),this.onCancel=this._onCancel.event,this._editor=i,this._extractLineNumberFromMouseEvent=(t=n?.extractLineNumberFromMouseEvent)!==null&&t!==void 0?t:r=>r.target.position?r.target.position.lineNumber:0,this._opts=v(this._editor.getOption(77)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(r=>{if(r.hasChanged(77)){const u=v(this._editor.getOption(77));if(this._opts.equals(u))return;this._opts=u,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(r=>this._onEditorMouseMove(new S(r,this._opts)))),this._register(this._editor.onMouseDown(r=>this._onEditorMouseDown(new S(r,this._opts)))),this._register(this._editor.onMouseUp(r=>this._onEditorMouseUp(new S(r,this._opts)))),this._register(this._editor.onKeyDown(r=>this._onEditorKeyDown(new m(r,this._opts)))),this._register(this._editor.onKeyUp(r=>this._onEditorKeyUp(new m(r,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(r=>this._onDidChangeCursorSelection(r))),this._register(this._editor.onDidChangeModel(r=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(r=>{(r.scrollTopChanged||r.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(i)}_onEditorMouseUp(i){const n=this._extractLineNumberFromMouseEvent(i);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===n&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=C});var yt=this&&this.__asyncValues||function($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=$[Symbol.asyncIterator],L;return e?e.call($):($=typeof __values=="function"?__values($):$[Symbol.iterator](),L={},I("next"),I("throw"),I("return"),L[Symbol.asyncIterator]=function(){return this},L);function I(D){L[D]=$[D]&&function(S){return new Promise(function(m,_){S=$[D](S),y(m,_,S.done,S.value)})}}function y(D,S,m,_){Promise.resolve(_).then(function(v){D({value:v,done:m})},S)}};define(te[325],ie([1,0,14,9,6,2]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class S{constructor(v,C,s){this.value=v,this.isComplete=C,this.hasLoadingMessage=s}}e.HoverResult=S;class m extends D.Disposable{constructor(v,C){super(),this._editor=v,this._computer=C,this._onResult=this._register(new y.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(v,C=!0){this._state=v,C&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,L.createCancelableAsyncIterable)(v=>this._computer.computeAsync(v)),be(this,void 0,void 0,function*(){var v,C,s,i;try{try{for(var n=!0,t=yt(this._asyncIterable),r;r=yield t.next(),v=r.done,!v;n=!0){i=r.value,n=!1;const u=i;u&&(this._result.push(u),this._fireResult())}}catch(u){C={error:u}}finally{try{!n&&!v&&(s=t.return)&&(yield s.call(t))}finally{if(C)throw C.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(u){(0,I.onUnexpectedError)(u)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const v=this._state===0,C=this._state===4;this._onResult.fire(new S(this._result.slice(0),v,C))}start(v){if(v===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=m}),define(te[603],ie([1,0,223,2,12,7]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const S=30,m=24;class _ extends I.Disposable{constructor(C,s=new D.Dimension(10,10)){super(),this._editor=C,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new L.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=D.Dimension.lift(s),this._resizableNode.layout(s.height,s.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new D.Dimension(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var C;return!((C=this._contentPosition)===null||C===void 0)&&C.position?y.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(C){const s=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(C);return!s||!i?void 0:D.getDomNodePagePosition(s).top+i.top-S}_availableVerticalSpaceBelow(C){const s=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(C);if(!s||!i)return;const n=D.getDomNodePagePosition(s),t=D.getClientArea(s.ownerDocument.body),r=n.top+i.top+i.height;return t.height-r-m}_findPositionPreference(C,s){var i,n;const t=Math.min((i=this._availableVerticalSpaceBelow(s))!==null&&i!==void 0?i:1/0,C),r=Math.min((n=this._availableVerticalSpaceAbove(s))!==null&&n!==void 0?n:1/0,C),u=Math.min(Math.max(r,t),C),f=Math.min(C,u);let d;return this._editor.getOption(60).above?d=f<=r?1:2:d=f<=t?2:1,d===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),d}_resize(C){this._resizableNode.layout(C.height,C.width)}}e.ResizableContentWidget=_}),define(te[326],ie([1,0,9,2,12,5,54,21]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class _{constructor(n,t){this.range=n,this.direction=t}}e.InlayHintAnchor=_;class v{constructor(n,t,r){this.hint=n,this.anchor=t,this.provider=r,this._isResolved=!1}with(n){const t=new v(this.hint,n.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(n){return be(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,n.isCancellationRequested?void 0:this.resolve(n);this._isResolved||(this._currentResolve=this._doResolve(n).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(n){var t,r;return be(this,void 0,void 0,function*(){try{const u=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,n));this.hint.tooltip=(t=u?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(r=u?.label)!==null&&r!==void 0?r:this.hint.label,this._isResolved=!0}catch(u){(0,L.onUnexpectedExternalError)(u),this._isResolved=!1}})}}e.InlayHintItem=v;class C{static create(n,t,r,u){return be(this,void 0,void 0,function*(){const f=[],d=n.ordered(t).reverse().map(l=>r.map(o=>be(this,void 0,void 0,function*(){try{const c=yield l.provideInlayHints(t,o,u);c?.hints.length&&f.push([c,l])}catch(c){(0,L.onUnexpectedExternalError)(c)}})));if(yield Promise.all(d.flat()),u.isCancellationRequested||t.isDisposed())throw new L.CancellationError;return new C(r,f,t)})}constructor(n,t,r){this._disposables=new I.DisposableStore,this.ranges=n,this.provider=new Set;const u=[];for(const[f,d]of t){this._disposables.add(f),this.provider.add(d);for(const l of f.hints){const o=r.validatePosition(l.position);let c="before";const a=C._getRangeAtPosition(r,o);let g;a.getStartPosition().isBefore(o)?(g=D.Range.fromPositions(a.getStartPosition(),o),c="after"):(g=D.Range.fromPositions(o,a.getEndPosition()),c="before"),u.push(new v(l,new _(g,c),d))}}this.items=u.sort((f,d)=>y.Position.compare(f.hint.position,d.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(n,t){const r=t.lineNumber,u=n.getWordAtPosition(t);if(u)return new D.Range(r,u.startColumn,r,u.endColumn);n.tokenization.tokenizeIfCheap(r);const f=n.tokenization.getLineTokens(r),d=t.column-1,l=f.findTokenIndexAtOffset(d);let o=f.getStartOffset(l),c=f.getEndOffset(l);return c-o===1&&(o===d&&l>1?(o=f.getStartOffset(l-1),c=f.getEndOffset(l-1)):c===d&&l<f.getCount()-1&&(o=f.getStartOffset(l+1),c=f.getEndOffset(l+1))),new D.Range(r,o+1,r,c+1)}}e.InlayHintsFragments=C;function s(i){return m.URI.from({scheme:S.Schemas.command,path:i.id,query:i.arguments&&encodeURIComponent(JSON.stringify(i.arguments))}).toString()}e.asCommandLink=s}),define(te[604],ie([1,0,96,14,19,56,9,5,510,150,127]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=e.provideInlineCompletions=void 0;function s(f,d,l,o,c=y.CancellationToken.None,a){return be(this,void 0,void 0,function*(){const g=r(d,l),h=f.all(l),p=new D.SetMap;for(const N of h)N.groupId&&p.add(N.groupId,N);function b(N){if(!N.yieldsToGroupIds)return[];const A=[];for(const P of N.yieldsToGroupIds||[]){const O=p.get(P);for(const x of O)A.push(x)}return A}const w=new Map,E=new Set;function k(N,A){if(A=[...A,N],E.has(N))return A;E.add(N);try{const P=b(N);for(const O of P){const x=k(O,A);if(x)return x}}finally{E.delete(N)}}function M(N){const A=w.get(N);if(A)return A;const P=k(N,[]);P&&(0,S.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${P.map(x=>x.toString?x.toString():""+x).join(" -> ")}`));const O=new I.DeferredPromise;return w.set(N,O.p),(()=>be(this,void 0,void 0,function*(){if(!P){const x=b(N);for(const W of x){const U=yield M(W);if(U&&U.items.length>0)return}}try{return yield N.provideInlineCompletions(l,d,o,c)}catch(x){(0,S.onUnexpectedExternalError)(x);return}}))().then(x=>O.complete(x),x=>O.error(x)),O.p}const R=yield Promise.all(h.map(N=>be(this,void 0,void 0,function*(){return{provider:N,completions:yield M(N)}}))),B=new Map,T=[];for(const N of R){const A=N.completions;if(!A)continue;const P=new n(A,N.provider);T.push(P);for(const O of A.items){const x=t.from(O,P,g,l,a);B.set(x.hash(),x)}}return new i(Array.from(B.values()),new Set(B.keys()),T)})}e.provideInlineCompletions=s;class i{constructor(d,l,o){this.completions=d,this.hashs=l,this.providerResults=o}has(d){return this.hashs.has(d.hash())}dispose(){for(const d of this.providerResults)d.removeRef()}}e.InlineCompletionProviderResult=i;class n{constructor(d,l){this.inlineCompletions=d,this.provider=l,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=n;class t{static from(d,l,o,c,a){let g,h,p=d.range?m.Range.lift(d.range):o;if(typeof d.insertText=="string"){if(g=d.insertText,a&&d.completeBracketPairs){g=u(g,p.getStartPosition(),c,a);const b=g.length-d.insertText.length;b!==0&&(p=new m.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn+b))}h=void 0}else if("snippet"in d.insertText){const b=d.insertText.snippet.length;if(a&&d.completeBracketPairs){d.insertText.snippet=u(d.insertText.snippet,p.getStartPosition(),c,a);const E=d.insertText.snippet.length-b;E!==0&&(p=new m.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn+E))}const w=new C.SnippetParser().parse(d.insertText.snippet);w.children.length===1&&w.children[0]instanceof C.Text?(g=w.children[0].value,h=void 0):(g=w.toString(),h={snippet:d.insertText.snippet,range:p})}else(0,L.assertNever)(d.insertText);return new t(g,d.command,p,g,h,d.additionalTextEdits||(0,v.getReadonlyEmptyArray)(),d,l)}constructor(d,l,o,c,a,g,h,p){this.filterText=d,this.command=l,this.range=o,this.insertText=c,this.snippetInfo=a,this.additionalTextEdits=g,this.sourceInlineCompletion=h,this.source=p,d=d.replace(/\r\n|\r/g,`
`),c=d.replace(/\r\n|\r/g,`
`)}withRange(d){return new t(this.filterText,this.command,d,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=t;function r(f,d){const l=d.getWordAtPosition(f),o=d.getLineMaxColumn(f.lineNumber);return l?new m.Range(f.lineNumber,l.startColumn,f.lineNumber,o):m.Range.fromPositions(f,f.with(void 0,o))}function u(f,d,l,o){const a=l.getLineContent(d.lineNumber).substring(0,d.column-1)+f,g=l.tokenization.tokenizeLineWithEdit(d,a.length-(d.column-1),f),h=g?.sliceAndInflate(d.column-1,a.length,0);return h?(0,_.fixBracketsInLine)(h,o):f}}),define(te[605],ie([3,4]),function($,e){return $.create("vs/editor/browser/controller/textAreaHandler",e)}),define(te[606],ie([3,4]),function($,e){return $.create("vs/editor/browser/coreCommands",e)}),define(te[607],ie([3,4]),function($,e){return $.create("vs/editor/browser/editorExtensions",e)}),define(te[608],ie([3,4]),function($,e){return $.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(te[609],ie([3,4]),function($,e){return $.create("vs/editor/browser/widget/diffEditor/accessibleDiffViewer",e)}),define(te[610],ie([3,4]),function($,e){return $.create("vs/editor/browser/widget/diffEditor/colors",e)}),define(te[611],ie([3,4]),function($,e){return $.create("vs/editor/browser/widget/diffEditor/decorations",e)}),define(te[612],ie([3,4]),function($,e){return $.create("vs/editor/browser/widget/diffEditor/diffEditor.contribution",e)}),define(te[613],ie([3,4]),function($,e){return $.create("vs/editor/browser/widget/diffEditor/diffEditorEditors",e)}),define(te[614],ie([3,4]),function($,e){return $.create("vs/editor/browser/widget/diffEditor/hideUnchangedRegionsFeature",e)}),define(te[615],ie([3,4]),function($,e){return $.create("vs/editor/browser/widget/diffEditor/inlineDiffDeletedCodeMargin",e)}),define(te[616],ie([1,0,7,41,26,2,17,27,615]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class v extends D.Disposable{get visibility(){return this._visibility}set visibility(s){this._visibility!==s&&(this._visibility=s,this._diffActions.style.visibility=s?"visible":"hidden")}constructor(s,i,n,t,r,u,f,d,l){super(),this._getViewZoneId=s,this._marginDomNode=i,this._modifiedEditor=n,this._diff=t,this._editor=r,this._viewLineCounts=u,this._originalTextModel=f,this._contextMenuService=d,this._clipboardService=l,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=m.ThemeIcon.asClassName(y.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const o=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${o}px`,this._diffActions.style.lineHeight=`${o}px`,this._marginDomNode.appendChild(this._diffActions);let c=0;const a=n.getOption(126)&&!S.isIOS,g=(h,p)=>{var b;this._contextMenuService.showContextMenu({domForShadowRoot:a&&(b=n.getDomNode())!==null&&b!==void 0?b:void 0,getAnchor:()=>({x:h,y:p}),getActions:()=>{const w=[],E=t.modified.isEmpty;return w.push(new I.Action("diff.clipboard.copyDeletedContent",E?t.original.length>1?(0,_.localize)(0,null):(0,_.localize)(1,null):t.original.length>1?(0,_.localize)(2,null):(0,_.localize)(3,null),void 0,!0,()=>be(this,void 0,void 0,function*(){const M=this._originalTextModel.getValueInRange(t.original.toExclusiveRange());yield this._clipboardService.writeText(M)}))),t.original.length>1&&w.push(new I.Action("diff.clipboard.copyDeletedLineContent",E?(0,_.localize)(4,null,t.original.startLineNumber+c):(0,_.localize)(5,null,t.original.startLineNumber+c),void 0,!0,()=>be(this,void 0,void 0,function*(){let M=this._originalTextModel.getLineContent(t.original.startLineNumber+c);M===""&&(M=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(M)}))),n.getOption(90)||w.push(new I.Action("diff.inline.revertChange",(0,_.localize)(6,null),void 0,!0,()=>be(this,void 0,void 0,function*(){this._editor.revert(this._diff)}))),w},autoSelectFirstItem:!0})};this._register((0,L.addStandardDisposableListener)(this._diffActions,"mousedown",h=>{const{top:p,height:b}=(0,L.getDomNodePagePosition)(this._diffActions),w=Math.floor(o/3);h.preventDefault(),g(h.posx,p+b+w)})),this._register(n.onMouseMove(h=>{(h.target.type===8||h.target.type===5)&&h.target.detail.viewZoneId===this._getViewZoneId()?(c=this._updateLightBulbPosition(this._marginDomNode,h.event.browserEvent.y,o),this.visibility=!0):this.visibility=!1})),this._register(n.onMouseDown(h=>{h.event.rightButton&&(h.target.type===8||h.target.type===5)&&h.target.detail.viewZoneId===this._getViewZoneId()&&(h.event.preventDefault(),c=this._updateLightBulbPosition(this._marginDomNode,h.event.browserEvent.y,o),g(h.event.posx,h.event.posy+o))}))}_updateLightBulbPosition(s,i,n){const{top:t}=(0,L.getDomNodePagePosition)(s),r=i-t,u=Math.floor(r/n),f=u*n;if(this._diffActions.style.top=`${f}px`,this._viewLineCounts){let d=0;for(let l=0;l<this._viewLineCounts.length;l++)if(d+=this._viewLineCounts[l],u<d)return l}return u}}e.InlineDiffDeletedCodeMargin=v}),define(te[617],ie([3,4]),function($,e){return $.create("vs/editor/browser/widget/diffEditor/movedBlocksLines",e)}),define(te[327],ie([1,0,7,73,41,13,68,26,2,40,27,100,81,617]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesPart=void 0;class t extends _.Disposable{constructor(d,l,o,c,a){super(),this._rootElement=d,this._diffModel=l,this._originalEditorLayoutInfo=o,this._modifiedEditorLayoutInfo=c,this._editors=a,this._originalScrollTop=(0,v.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,v.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,v.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,v.observableValue)(this,0),this._modifiedViewZonesChangedSignal=(0,v.observableSignalFromEvent)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,v.observableSignalFromEvent)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,v.derivedWithStore)((k,M)=>{var R;this._element.replaceChildren();const B=this._diffModel.read(k),T=(R=B?.diff.read(k))===null||R===void 0?void 0:R.movedTexts;if(!T||T.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(k);const N=this._originalEditorLayoutInfo.read(k),A=this._modifiedEditorLayoutInfo.read(k);if(!N||!A){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(k),this._originalViewZonesChangedSignal.read(k);const P=T.map(Y=>{function ne(ue,de){const ce=de.getTopForLineNumber(ue.startLineNumber,!0),ae=de.getTopForLineNumber(ue.endLineNumberExclusive,!0);return(ce+ae)/2}const se=ne(Y.lineRangeMapping.original,this._editors.original),J=this._originalScrollTop.read(k),q=ne(Y.lineRangeMapping.modified,this._editors.modified),H=this._modifiedScrollTop.read(k),V=se-J,Z=q-H,ee=Math.min(se,q),le=Math.max(se,q);return{range:new i.OffsetRange(ee,le),from:V,to:Z,fromWithoutScroll:se,toWithoutScroll:q,move:Y}});P.sort((0,D.tieBreakComparators)((0,D.compareBy)(Y=>Y.fromWithoutScroll>Y.toWithoutScroll,D.booleanComparator),(0,D.compareBy)(Y=>Y.fromWithoutScroll>Y.toWithoutScroll?Y.fromWithoutScroll:-Y.toWithoutScroll,D.numberComparator)));const O=r.compute(P.map(Y=>Y.range)),x=10,W=N.verticalScrollbarWidth,U=(O.getTrackCount()-1)*10+x*2,F=W+U+(A.contentLeft-t.movedCodeBlockPadding);let G=0;for(const Y of P){const ne=O.getTrack(G),se=W+x+ne*10,J=15,q=15,H=F,V=A.glyphMarginWidth+A.lineNumbersWidth,Z=18,ee=document.createElementNS("http://www.w3.org/2000/svg","rect");ee.classList.add("arrow-rectangle"),ee.setAttribute("x",`${H-V}`),ee.setAttribute("y",`${Y.to-Z/2}`),ee.setAttribute("width",`${V}`),ee.setAttribute("height",`${Z}`),this._element.appendChild(ee);const le=document.createElementNS("http://www.w3.org/2000/svg","g"),ue=document.createElementNS("http://www.w3.org/2000/svg","path");ue.setAttribute("d",`M 0 ${Y.from} L ${se} ${Y.from} L ${se} ${Y.to} L ${H-q} ${Y.to}`),ue.setAttribute("fill","none"),le.appendChild(ue);const de=document.createElementNS("http://www.w3.org/2000/svg","polygon");de.classList.add("arrow"),M.add((0,v.autorun)(ce=>{ue.classList.toggle("currentMove",Y.move===B.activeMovedText.read(ce)),de.classList.toggle("currentMove",Y.move===B.activeMovedText.read(ce))})),de.setAttribute("points",`${H-q},${Y.to-J/2} ${H},${Y.to} ${H-q},${Y.to+J/2}`),le.appendChild(de),this._element.appendChild(le),G++}this.width.set(U,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,_.toDisposable)(()=>this._element.remove())),this._register((0,v.autorun)(k=>{const M=this._originalEditorLayoutInfo.read(k),R=this._modifiedEditorLayoutInfo.read(k);!M||!R||(this._element.style.left=`${M.width-M.verticalScrollbarWidth}px`,this._element.style.height=`${M.height}px`,this._element.style.width=`${M.verticalScrollbarWidth+M.contentLeft-t.movedCodeBlockPadding+this.width.read(k)}px`)})),this._register((0,v.recomputeInitiallyAndOnChange)(this._state));const g=(0,v.derived)(k=>{const M=this._diffModel.read(k),R=M?.diff.read(k);return R?R.movedTexts.map(B=>({move:B,original:new s.PlaceholderViewZone((0,v.constObservable)(B.lineRangeMapping.original.startLineNumber-1),18),modified:new s.PlaceholderViewZone((0,v.constObservable)(B.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,s.applyViewZones)(this._editors.original,g.map(k=>k.map(M=>M.original)))),this._register((0,s.applyViewZones)(this._editors.modified,g.map(k=>k.map(M=>M.modified)))),this._register((0,v.autorunWithStore)((k,M)=>{const R=g.read(k);for(const B of R)M.add(new u(this._editors.original,B.original,B.move,"original",this._diffModel.get())),M.add(new u(this._editors.modified,B.modified,B.move,"modified",this._diffModel.get()))}));const h=(0,v.observableFromEvent)(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),p=(0,v.observableFromEvent)(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),b=(0,v.observableSignalFromEvent)("original.onDidFocusEditorWidget",k=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>k(void 0),0))),w=(0,v.observableSignalFromEvent)("modified.onDidFocusEditorWidget",k=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>k(void 0),0)));let E="modified";this._register((0,v.autorunHandleChanges)({createEmptyChangeSummary:()=>{},handleChange:(k,M)=>(k.didChange(b)&&(E="original"),k.didChange(w)&&(E="modified"),!0)},k=>{b.read(k),w.read(k);const M=this._diffModel.read(k);if(!M)return;const R=M.diff.read(k);let B;if(R&&E==="original"){const T=h.read(k);T&&(B=R.movedTexts.find(N=>N.lineRangeMapping.original.contains(T.lineNumber)))}if(R&&E==="modified"){const T=p.read(k);T&&(B=R.movedTexts.find(N=>N.lineRangeMapping.modified.contains(T.lineNumber)))}B!==M.movedTextToCompare.get()&&M.movedTextToCompare.set(void 0,void 0),M.setActiveMovedText(B)}))}}e.MovedBlocksLinesPart=t,t.movedCodeBlockPadding=4;class r{static compute(d){const l=[],o=[];for(const c of d){let a=l.findIndex(g=>!g.intersectsStrict(c));a===-1&&(l.length>=6?a=(0,S.findMaxIdxBy)(l,(0,D.compareBy)(h=>h.intersectWithRangeLength(c),D.numberComparator)):(a=l.length,l.push(new i.OffsetRangeSet))),l[a].addRange(c),o.push(a)}return new r(l.length,o)}constructor(d,l){this._trackCount=d,this.trackPerLineIdx=l}getTrack(d){return this.trackPerLineIdx[d]}getTrackCount(){return this._trackCount}}class u extends s.ViewZoneOverlayWidget{constructor(d,l,o,c,a){const g=(0,L.h)("div.diff-hidden-lines-widget");super(d,l,g.root),this._editor=d,this._move=o,this._kind=c,this._diffModel=a,this._nodes=(0,L.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,L.h)("div.text-content@textContent"),(0,L.h)("div.action-bar@actionBar")]),g.root.appendChild(this._nodes.root);const h=(0,v.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,s.applyStyle)(this._nodes.root,{paddingRight:h.map(k=>k.verticalScrollbarWidth)}));let p;o.changes.length>0?p=this._kind==="original"?(0,n.localize)(0,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,n.localize)(1,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):p=this._kind==="original"?(0,n.localize)(2,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,n.localize)(3,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const b=this._register(new I.ActionBar(this._nodes.actionBar,{highlightToggledItems:!0})),w=new y.Action("",p,"",!1);b.push(w,{icon:!1,label:!0});const E=new y.Action("","Compare",C.ThemeIcon.asClassName(m.Codicon.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===o?void 0:this._move,void 0)});this._register((0,v.autorun)(k=>{const M=this._diffModel.movedTextToCompare.read(k)===o;E.checked=M})),b.push(E,{icon:!1,label:!0})}}}),define(te[618],ie([3,4]),function($,e){return $.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(te[619],ie([3,4]),function($,e){return $.create("vs/editor/common/config/editorOptions",e)}),define(te[39],ie([1,0,13,52,17,173,145,619]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedFloat=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class _{constructor(fe){this._values=fe}hasChanged(fe){return this._values[fe]}}e.ConfigurationChangedEvent=_;class v{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=v;class C{constructor(fe,Ce,Me,Pe){this.id=fe,this.name=Ce,this.defaultValue=Me,this.schema=Pe}applyUpdate(fe,Ce){return i(fe,Ce)}compute(fe,Ce,Me){return Me}}class s{constructor(fe,Ce){this.newValue=fe,this.didChange=Ce}}e.ApplyUpdateResult=s;function i(De,fe){if(typeof De!="object"||typeof fe!="object"||!De||!fe)return new s(fe,De!==fe);if(Array.isArray(De)||Array.isArray(fe)){const Me=Array.isArray(De)&&Array.isArray(fe)&&L.equals(De,fe);return new s(fe,!Me)}let Ce=!1;for(const Me in fe)if(fe.hasOwnProperty(Me)){const Pe=i(De[Me],fe[Me]);Pe.didChange&&(De[Me]=Pe.newValue,Ce=!0)}return new s(De,Ce)}class n{constructor(fe){this.schema=void 0,this.id=fe,this.name="_never_",this.defaultValue=void 0}applyUpdate(fe,Ce){return i(fe,Ce)}validate(fe){return this.defaultValue}}class t{constructor(fe,Ce,Me,Pe){this.id=fe,this.name=Ce,this.defaultValue=Me,this.schema=Pe}applyUpdate(fe,Ce){return i(fe,Ce)}validate(fe){return typeof fe>"u"?this.defaultValue:fe}compute(fe,Ce,Me){return Me}}function r(De,fe){return typeof De>"u"?fe:De==="false"?!1:!!De}e.boolean=r;class u extends t{constructor(fe,Ce,Me,Pe=void 0){typeof Pe<"u"&&(Pe.type="boolean",Pe.default=Me),super(fe,Ce,Me,Pe)}validate(fe){return r(fe,this.defaultValue)}}function f(De,fe,Ce,Me){if(typeof De>"u")return fe;let Pe=parseInt(De,10);return isNaN(Pe)?fe:(Pe=Math.max(Ce,Pe),Pe=Math.min(Me,Pe),Pe|0)}e.clampedInt=f;class d extends t{static clampedInt(fe,Ce,Me,Pe){return f(fe,Ce,Me,Pe)}constructor(fe,Ce,Me,Pe,Se,_e=void 0){typeof _e<"u"&&(_e.type="integer",_e.default=Me,_e.minimum=Pe,_e.maximum=Se),super(fe,Ce,Me,_e),this.minimum=Pe,this.maximum=Se}validate(fe){return d.clampedInt(fe,this.defaultValue,this.minimum,this.maximum)}}function l(De,fe,Ce,Me){if(typeof De>"u")return fe;const Pe=o.float(De,fe);return o.clamp(Pe,Ce,Me)}e.clampedFloat=l;class o extends t{static clamp(fe,Ce,Me){return fe<Ce?Ce:fe>Me?Me:fe}static float(fe,Ce){if(typeof fe=="number")return fe;if(typeof fe>"u")return Ce;const Me=parseFloat(fe);return isNaN(Me)?Ce:Me}constructor(fe,Ce,Me,Pe,Se){typeof Se<"u"&&(Se.type="number",Se.default=Me),super(fe,Ce,Me,Se),this.validationFn=Pe}validate(fe){return this.validationFn(o.float(fe,this.defaultValue))}}class c extends t{static string(fe,Ce){return typeof fe!="string"?Ce:fe}constructor(fe,Ce,Me,Pe=void 0){typeof Pe<"u"&&(Pe.type="string",Pe.default=Me),super(fe,Ce,Me,Pe)}validate(fe){return c.string(fe,this.defaultValue)}}function a(De,fe,Ce,Me){return typeof De!="string"?fe:Me&&De in Me?Me[De]:Ce.indexOf(De)===-1?fe:De}e.stringSet=a;class g extends t{constructor(fe,Ce,Me,Pe,Se=void 0){typeof Se<"u"&&(Se.type="string",Se.enum=Pe,Se.default=Me),super(fe,Ce,Me,Se),this._allowedValues=Pe}validate(fe){return a(fe,this.defaultValue,this._allowedValues)}}class h extends C{constructor(fe,Ce,Me,Pe,Se,_e,ke=void 0){typeof ke<"u"&&(ke.type="string",ke.enum=Se,ke.default=Pe),super(fe,Ce,Me,ke),this._allowedValues=Se,this._convert=_e}validate(fe){return typeof fe!="string"?this.defaultValue:this._allowedValues.indexOf(fe)===-1?this.defaultValue:this._convert(fe)}}function p(De){switch(De){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class b extends C{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[m.localize(0,null),m.localize(1,null),m.localize(2,null)],default:"auto",tags:["accessibility"],description:m.localize(3,null)})}validate(fe){switch(fe){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(fe,Ce,Me){return Me===0?fe.accessibilitySupport:Me}}class w extends C{constructor(){const fe={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",fe,{"editor.comments.insertSpace":{type:"boolean",default:fe.insertSpace,description:m.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:fe.ignoreEmptyLines,description:m.localize(5,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{insertSpace:r(Ce.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:r(Ce.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function E(De){switch(De){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var k;(function(De){De[De.Line=1]="Line",De[De.Block=2]="Block",De[De.Underline=3]="Underline",De[De.LineThin=4]="LineThin",De[De.BlockOutline=5]="BlockOutline",De[De.UnderlineThin=6]="UnderlineThin"})(k||(e.TextEditorCursorStyle=k={}));function M(De){switch(De){case"line":return k.Line;case"block":return k.Block;case"underline":return k.Underline;case"line-thin":return k.LineThin;case"block-outline":return k.BlockOutline;case"underline-thin":return k.UnderlineThin}}class R extends n{constructor(){super(140)}compute(fe,Ce,Me){const Pe=["monaco-editor"];return Ce.get(39)&&Pe.push(Ce.get(39)),fe.extraEditorClassName&&Pe.push(fe.extraEditorClassName),Ce.get(73)==="default"?Pe.push("mouse-default"):Ce.get(73)==="copy"&&Pe.push("mouse-copy"),Ce.get(110)&&Pe.push("showUnused"),Ce.get(138)&&Pe.push("showDeprecated"),Pe.join(" ")}}class B extends u{constructor(){super(37,"emptySelectionClipboard",!0,{description:m.localize(6,null)})}compute(fe,Ce,Me){return Me&&fe.emptySelectionClipboard}}class T extends C{constructor(){const fe={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",fe,{"editor.find.cursorMoveOnType":{type:"boolean",default:fe.cursorMoveOnType,description:m.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:fe.seedSearchStringFromSelection,enumDescriptions:[m.localize(8,null),m.localize(9,null),m.localize(10,null)],description:m.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:fe.autoFindInSelection,enumDescriptions:[m.localize(12,null),m.localize(13,null),m.localize(14,null)],description:m.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:fe.globalFindClipboard,description:m.localize(16,null),included:y.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:fe.addExtraSpaceOnTop,description:m.localize(17,null)},"editor.find.loop":{type:"boolean",default:fe.loop,description:m.localize(18,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{cursorMoveOnType:r(Ce.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof fe.seedSearchStringFromSelection=="boolean"?fe.seedSearchStringFromSelection?"always":"never":a(Ce.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof fe.autoFindInSelection=="boolean"?fe.autoFindInSelection?"always":"never":a(Ce.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:r(Ce.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:r(Ce.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:r(Ce.loop,this.defaultValue.loop)}}}class N extends C{constructor(){super(51,"fontLigatures",N.OFF,{anyOf:[{type:"boolean",description:m.localize(19,null)},{type:"string",description:m.localize(20,null)}],description:m.localize(21,null),default:!1})}validate(fe){return typeof fe>"u"?this.defaultValue:typeof fe=="string"?fe==="false"?N.OFF:fe==="true"?N.ON:fe:fe?N.ON:N.OFF}}e.EditorFontLigatures=N,N.OFF='"liga" off, "calt" off',N.ON='"liga" on, "calt" on';class A extends C{constructor(){super(54,"fontVariations",A.OFF,{anyOf:[{type:"boolean",description:m.localize(22,null)},{type:"string",description:m.localize(23,null)}],description:m.localize(24,null),default:!1})}validate(fe){return typeof fe>"u"?this.defaultValue:typeof fe=="string"?fe==="false"?A.OFF:fe==="true"?A.TRANSLATE:fe:fe?A.TRANSLATE:A.OFF}compute(fe,Ce,Me){return fe.fontInfo.fontVariationSettings}}e.EditorFontVariations=A,A.OFF="normal",A.TRANSLATE="translate";class P extends n{constructor(){super(50)}compute(fe,Ce,Me){return fe.fontInfo}}class O extends t{constructor(){super(52,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:m.localize(25,null)})}validate(fe){const Ce=o.float(fe,this.defaultValue);return Ce===0?e.EDITOR_FONT_DEFAULTS.fontSize:o.clamp(Ce,6,100)}compute(fe,Ce,Me){return fe.fontInfo.fontSize}}class x extends C{constructor(){super(53,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:x.MINIMUM_VALUE,maximum:x.MAXIMUM_VALUE,errorMessage:m.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:x.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:m.localize(27,null)})}validate(fe){return fe==="normal"||fe==="bold"?fe:String(d.clampedInt(fe,e.EDITOR_FONT_DEFAULTS.fontWeight,x.MINIMUM_VALUE,x.MAXIMUM_VALUE))}}x.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],x.MINIMUM_VALUE=1,x.MAXIMUM_VALUE=1e3;class W extends C{constructor(){const fe={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Ce={type:"string",enum:["peek","gotoAndPeek","goto"],default:fe.multiple,enumDescriptions:[m.localize(28,null),m.localize(29,null),m.localize(30,null)]},Me=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",fe,{"editor.gotoLocation.multiple":{deprecationMessage:m.localize(31,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:m.localize(32,null)},Ce),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:m.localize(33,null)},Ce),"editor.gotoLocation.multipleDeclarations":Object.assign({description:m.localize(34,null)},Ce),"editor.gotoLocation.multipleImplementations":Object.assign({description:m.localize(35,null)},Ce),"editor.gotoLocation.multipleReferences":Object.assign({description:m.localize(36,null)},Ce),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:fe.alternativeDefinitionCommand,enum:Me,description:m.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:fe.alternativeTypeDefinitionCommand,enum:Me,description:m.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:fe.alternativeDeclarationCommand,enum:Me,description:m.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:fe.alternativeImplementationCommand,enum:Me,description:m.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:fe.alternativeReferenceCommand,enum:Me,description:m.localize(41,null)}})}validate(fe){var Ce,Me,Pe,Se,_e;if(!fe||typeof fe!="object")return this.defaultValue;const ke=fe;return{multiple:a(ke.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Ce=ke.multipleDefinitions)!==null&&Ce!==void 0?Ce:a(ke.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Me=ke.multipleTypeDefinitions)!==null&&Me!==void 0?Me:a(ke.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Pe=ke.multipleDeclarations)!==null&&Pe!==void 0?Pe:a(ke.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Se=ke.multipleImplementations)!==null&&Se!==void 0?Se:a(ke.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(_e=ke.multipleReferences)!==null&&_e!==void 0?_e:a(ke.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:c.string(ke.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:c.string(ke.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:c.string(ke.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:c.string(ke.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:c.string(ke.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class U extends C{constructor(){const fe={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",fe,{"editor.hover.enabled":{type:"boolean",default:fe.enabled,description:m.localize(42,null)},"editor.hover.delay":{type:"number",default:fe.delay,minimum:0,maximum:1e4,description:m.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:fe.sticky,description:m.localize(44,null)},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:fe.hidingDelay,description:m.localize(45,null)},"editor.hover.above":{type:"boolean",default:fe.above,description:m.localize(46,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{enabled:r(Ce.enabled,this.defaultValue.enabled),delay:d.clampedInt(Ce.delay,this.defaultValue.delay,0,1e4),sticky:r(Ce.sticky,this.defaultValue.sticky),hidingDelay:d.clampedInt(Ce.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:r(Ce.above,this.defaultValue.above)}}}class F extends n{constructor(){super(143)}compute(fe,Ce,Me){return F.computeLayout(Ce,{memory:fe.memory,outerWidth:fe.outerWidth,outerHeight:fe.outerHeight,isDominatedByLongLines:fe.isDominatedByLongLines,lineHeight:fe.fontInfo.lineHeight,viewLineCount:fe.viewLineCount,lineNumbersDigitCount:fe.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:fe.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:fe.fontInfo.maxDigitWidth,pixelRatio:fe.pixelRatio,glyphMarginDecorationLaneCount:fe.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(fe){const Ce=fe.height/fe.lineHeight,Me=Math.floor(fe.paddingTop/fe.lineHeight);let Pe=Math.floor(fe.paddingBottom/fe.lineHeight);fe.scrollBeyondLastLine&&(Pe=Math.max(Pe,Ce-1));const Se=(Me+fe.viewLineCount+Pe)/(fe.pixelRatio*fe.height),_e=Math.floor(fe.viewLineCount/Se);return{typicalViewportLineCount:Ce,extraLinesBeforeFirstLine:Me,extraLinesBeyondLastLine:Pe,desiredRatio:Se,minimapLineCount:_e}}static _computeMinimapLayout(fe,Ce){const Me=fe.outerWidth,Pe=fe.outerHeight,Se=fe.pixelRatio;if(!fe.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Se*Pe),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Pe};const _e=Ce.stableMinimapLayoutInput,ke=_e&&fe.outerHeight===_e.outerHeight&&fe.lineHeight===_e.lineHeight&&fe.typicalHalfwidthCharacterWidth===_e.typicalHalfwidthCharacterWidth&&fe.pixelRatio===_e.pixelRatio&&fe.scrollBeyondLastLine===_e.scrollBeyondLastLine&&fe.paddingTop===_e.paddingTop&&fe.paddingBottom===_e.paddingBottom&&fe.minimap.enabled===_e.minimap.enabled&&fe.minimap.side===_e.minimap.side&&fe.minimap.size===_e.minimap.size&&fe.minimap.showSlider===_e.minimap.showSlider&&fe.minimap.renderCharacters===_e.minimap.renderCharacters&&fe.minimap.maxColumn===_e.minimap.maxColumn&&fe.minimap.scale===_e.minimap.scale&&fe.verticalScrollbarWidth===_e.verticalScrollbarWidth&&fe.isViewportWrapping===_e.isViewportWrapping,Oe=fe.lineHeight,We=fe.typicalHalfwidthCharacterWidth,qe=fe.scrollBeyondLastLine,Ge=fe.minimap.renderCharacters;let je=Se>=2?Math.round(fe.minimap.scale*2):fe.minimap.scale;const it=fe.minimap.maxColumn,Ze=fe.minimap.size,dt=fe.minimap.side,at=fe.verticalScrollbarWidth,nt=fe.viewLineCount,Ct=fe.remainingWidth,ht=fe.isViewportWrapping,bt=Ge?2:3;let ft=Math.floor(Se*Pe);const _t=ft/Se;let He=!1,Te=!1,Fe=bt*je,Ve=je/Se,Ye=1;if(Ze==="fill"||Ze==="fit"){const{typicalViewportLineCount:Ke,extraLinesBeforeFirstLine:Xe,extraLinesBeyondLastLine:Qe,desiredRatio:rt,minimapLineCount:Je}=F.computeContainedMinimapLineCount({viewLineCount:nt,scrollBeyondLastLine:qe,paddingTop:fe.paddingTop,paddingBottom:fe.paddingBottom,height:Pe,lineHeight:Oe,pixelRatio:Se});if(nt/Je>1)He=!0,Te=!0,je=1,Fe=1,Ve=je/Se;else{let tt=!1,ct=je+1;if(Ze==="fit"){const St=Math.ceil((Xe+nt+Qe)*Fe);ht&&ke&&Ct<=Ce.stableFitRemainingWidth?(tt=!0,ct=Ce.stableFitMaxMinimapScale):tt=St>ft}if(Ze==="fill"||tt){He=!0;const St=je;Fe=Math.min(Oe*Se,Math.max(1,Math.floor(1/rt))),ht&&ke&&Ct<=Ce.stableFitRemainingWidth&&(ct=Ce.stableFitMaxMinimapScale),je=Math.min(ct,Math.max(1,Math.floor(Fe/bt))),je>St&&(Ye=Math.min(2,je/St)),Ve=je/Se/Ye,ft=Math.ceil(Math.max(Ke,Xe+nt+Qe)*Fe),ht?(Ce.stableMinimapLayoutInput=fe,Ce.stableFitRemainingWidth=Ct,Ce.stableFitMaxMinimapScale=je):(Ce.stableMinimapLayoutInput=null,Ce.stableFitRemainingWidth=0)}}}const st=Math.floor(it*Ve),ot=Math.min(st,Math.max(0,Math.floor((Ct-at-2)*Ve/(We+Ve)))+e.MINIMAP_GUTTER_WIDTH);let Ue=Math.floor(Se*ot);const Ne=Ue/Se;Ue=Math.floor(Ue*Ye);const xe=Ge?1:2,ze=dt==="left"?0:Me-ot-at;return{renderMinimap:xe,minimapLeft:ze,minimapWidth:ot,minimapHeightIsEditorHeight:He,minimapIsSampling:Te,minimapScale:je,minimapLineHeight:Fe,minimapCanvasInnerWidth:Ue,minimapCanvasInnerHeight:ft,minimapCanvasOuterWidth:Ne,minimapCanvasOuterHeight:_t}}static computeLayout(fe,Ce){const Me=Ce.outerWidth|0,Pe=Ce.outerHeight|0,Se=Ce.lineHeight|0,_e=Ce.lineNumbersDigitCount|0,ke=Ce.typicalHalfwidthCharacterWidth,Oe=Ce.maxDigitWidth,We=Ce.pixelRatio,qe=Ce.viewLineCount,Ge=fe.get(135),je=Ge==="inherit"?fe.get(134):Ge,it=je==="inherit"?fe.get(130):je,Ze=fe.get(133),dt=Ce.isDominatedByLongLines,at=fe.get(57),nt=fe.get(67).renderType!==0,Ct=fe.get(68),ht=fe.get(104),bt=fe.get(83),ft=fe.get(72),_t=fe.get(102),He=_t.verticalScrollbarSize,Te=_t.verticalHasArrows,Fe=_t.arrowSize,Ve=_t.horizontalScrollbarSize,Ye=fe.get(43),st=fe.get(109)!=="never";let ot=fe.get(65);Ye&&st&&(ot+=16);let Ue=0;if(nt){const wt=Math.max(_e,Ct);Ue=Math.round(wt*Oe)}let Ne=0;at&&(Ne=Se*Ce.glyphMarginDecorationLaneCount);let xe=0,ze=xe+Ne,Ke=ze+Ue,Xe=Ke+ot;const Qe=Me-Ne-Ue-ot;let rt=!1,Je=!1,et=-1;je==="inherit"&&dt?(rt=!0,Je=!0):it==="on"||it==="bounded"?Je=!0:it==="wordWrapColumn"&&(et=Ze);const tt=F._computeMinimapLayout({outerWidth:Me,outerHeight:Pe,lineHeight:Se,typicalHalfwidthCharacterWidth:ke,pixelRatio:We,scrollBeyondLastLine:ht,paddingTop:bt.top,paddingBottom:bt.bottom,minimap:ft,verticalScrollbarWidth:He,viewLineCount:qe,remainingWidth:Qe,isViewportWrapping:Je},Ce.memory||new v);tt.renderMinimap!==0&&tt.minimapLeft===0&&(xe+=tt.minimapWidth,ze+=tt.minimapWidth,Ke+=tt.minimapWidth,Xe+=tt.minimapWidth);const ct=Qe-tt.minimapWidth,St=Math.max(1,Math.floor((ct-He-2)/ke)),lt=Te?Fe:0;return Je&&(et=Math.max(1,St),it==="bounded"&&(et=Math.min(et,Ze))),{width:Me,height:Pe,glyphMarginLeft:xe,glyphMarginWidth:Ne,glyphMarginDecorationLaneCount:Ce.glyphMarginDecorationLaneCount,lineNumbersLeft:ze,lineNumbersWidth:Ue,decorationsLeft:Ke,decorationsWidth:ot,contentLeft:Xe,contentWidth:ct,minimap:tt,viewportColumn:St,isWordWrapMinified:rt,isViewportWrapping:Je,wrappingColumn:et,verticalScrollbarWidth:He,horizontalScrollbarHeight:Ve,overviewRuler:{top:lt,width:He,height:Pe-2*lt,right:0}}}}e.EditorLayoutInfoComputer=F;class G extends C{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[m.localize(47,null),m.localize(48,null)],type:"string",enum:["simple","advanced"],default:"simple",description:m.localize(49,null)}})}validate(fe){return a(fe,"simple",["simple","advanced"])}compute(fe,Ce,Me){return Ce.get(2)===2?"advanced":Me}}class Y extends C{constructor(){const fe={enabled:!0};super(64,"lightbulb",fe,{"editor.lightbulb.enabled":{type:"boolean",default:fe.enabled,description:m.localize(50,null)}})}validate(fe){return!fe||typeof fe!="object"?this.defaultValue:{enabled:r(fe.enabled,this.defaultValue.enabled)}}}class ne extends C{constructor(){const fe={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",fe,{"editor.stickyScroll.enabled":{type:"boolean",default:fe.enabled,description:m.localize(51,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:fe.maxLineCount,minimum:1,maximum:10,description:m.localize(52,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:fe.defaultModel,description:m.localize(53,null)},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:fe.scrollWithEditor,description:m.localize(54,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{enabled:r(Ce.enabled,this.defaultValue.enabled),maxLineCount:d.clampedInt(Ce.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:a(Ce.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:r(Ce.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class se extends C{constructor(){const fe={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",fe,{"editor.inlayHints.enabled":{type:"string",default:fe.enabled,description:m.localize(55,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[m.localize(56,null),m.localize(57,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(58,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(59,null)]},"editor.inlayHints.fontSize":{type:"number",default:fe.fontSize,markdownDescription:m.localize(60,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:fe.fontFamily,markdownDescription:m.localize(61,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:fe.padding,description:m.localize(62,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return typeof Ce.enabled=="boolean"&&(Ce.enabled=Ce.enabled?"on":"off"),{enabled:a(Ce.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:d.clampedInt(Ce.fontSize,this.defaultValue.fontSize,0,100),fontFamily:c.string(Ce.fontFamily,this.defaultValue.fontFamily),padding:r(Ce.padding,this.defaultValue.padding)}}}class J extends C{constructor(){super(65,"lineDecorationsWidth",10)}validate(fe){return typeof fe=="string"&&/^\d+(\.\d+)?ch$/.test(fe)?-parseFloat(fe.substring(0,fe.length-2)):d.clampedInt(fe,this.defaultValue,0,1e3)}compute(fe,Ce,Me){return Me<0?d.clampedInt(-Me*fe.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Me}}class q extends o{constructor(){super(66,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,fe=>o.clamp(fe,0,150),{markdownDescription:m.localize(63,null)})}compute(fe,Ce,Me){return fe.fontInfo.lineHeight}}class H extends C{constructor(){const fe={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",fe,{"editor.minimap.enabled":{type:"boolean",default:fe.enabled,description:m.localize(64,null)},"editor.minimap.autohide":{type:"boolean",default:fe.autohide,description:m.localize(65,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[m.localize(66,null),m.localize(67,null),m.localize(68,null)],default:fe.size,description:m.localize(69,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:fe.side,description:m.localize(70,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:fe.showSlider,description:m.localize(71,null)},"editor.minimap.scale":{type:"number",default:fe.scale,minimum:1,maximum:3,enum:[1,2,3],description:m.localize(72,null)},"editor.minimap.renderCharacters":{type:"boolean",default:fe.renderCharacters,description:m.localize(73,null)},"editor.minimap.maxColumn":{type:"number",default:fe.maxColumn,description:m.localize(74,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{enabled:r(Ce.enabled,this.defaultValue.enabled),autohide:r(Ce.autohide,this.defaultValue.autohide),size:a(Ce.size,this.defaultValue.size,["proportional","fill","fit"]),side:a(Ce.side,this.defaultValue.side,["right","left"]),showSlider:a(Ce.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:r(Ce.renderCharacters,this.defaultValue.renderCharacters),scale:d.clampedInt(Ce.scale,1,1,3),maxColumn:d.clampedInt(Ce.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function V(De){return De==="ctrlCmd"?y.isMacintosh?"metaKey":"ctrlKey":"altKey"}class Z extends C{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(75,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(76,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{top:d.clampedInt(Ce.top,0,0,1e3),bottom:d.clampedInt(Ce.bottom,0,0,1e3)}}}class ee extends C{constructor(){const fe={enabled:!0,cycle:!0};super(85,"parameterHints",fe,{"editor.parameterHints.enabled":{type:"boolean",default:fe.enabled,description:m.localize(77,null)},"editor.parameterHints.cycle":{type:"boolean",default:fe.cycle,description:m.localize(78,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{enabled:r(Ce.enabled,this.defaultValue.enabled),cycle:r(Ce.cycle,this.defaultValue.cycle)}}}class le extends n{constructor(){super(141)}compute(fe,Ce,Me){return fe.pixelRatio}}class ue extends C{constructor(){const fe={other:"on",comments:"off",strings:"off"},Ce=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[m.localize(79,null),m.localize(80,null),m.localize(81,null)]}];super(88,"quickSuggestions",fe,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Ce,default:fe.strings,description:m.localize(82,null)},comments:{anyOf:Ce,default:fe.comments,description:m.localize(83,null)},other:{anyOf:Ce,default:fe.other,description:m.localize(84,null)}},default:fe,markdownDescription:m.localize(85,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=fe}validate(fe){if(typeof fe=="boolean"){const We=fe?"on":"off";return{comments:We,strings:We,other:We}}if(!fe||typeof fe!="object")return this.defaultValue;const{other:Ce,comments:Me,strings:Pe}=fe,Se=["on","inline","off"];let _e,ke,Oe;return typeof Ce=="boolean"?_e=Ce?"on":"off":_e=a(Ce,this.defaultValue.other,Se),typeof Me=="boolean"?ke=Me?"on":"off":ke=a(Me,this.defaultValue.comments,Se),typeof Pe=="boolean"?Oe=Pe?"on":"off":Oe=a(Pe,this.defaultValue.strings,Se),{other:_e,comments:ke,strings:Oe}}}class de extends C{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[m.localize(86,null),m.localize(87,null),m.localize(88,null),m.localize(89,null)],default:"on",description:m.localize(90,null)})}validate(fe){let Ce=this.defaultValue.renderType,Me=this.defaultValue.renderFn;return typeof fe<"u"&&(typeof fe=="function"?(Ce=4,Me=fe):fe==="interval"?Ce=3:fe==="relative"?Ce=2:fe==="on"?Ce=1:Ce=0),{renderType:Ce,renderFn:Me}}}function ce(De){const fe=De.get(97);return fe==="editable"?De.get(90):fe!=="on"}e.filterValidationDecorations=ce;class ae extends C{constructor(){const fe=[],Ce={type:"number",description:m.localize(91,null)};super(101,"rulers",fe,{type:"array",items:{anyOf:[Ce,{type:["object"],properties:{column:Ce,color:{type:"string",description:m.localize(92,null),format:"color-hex"}}}]},default:fe,description:m.localize(93,null)})}validate(fe){if(Array.isArray(fe)){const Ce=[];for(const Me of fe)if(typeof Me=="number")Ce.push({column:d.clampedInt(Me,0,0,1e4),color:null});else if(Me&&typeof Me=="object"){const Pe=Me;Ce.push({column:d.clampedInt(Pe.column,0,0,1e4),color:Pe.color})}return Ce.sort((Me,Pe)=>Me.column-Pe.column),Ce}return this.defaultValue}}class X extends C{constructor(){super(91,"readOnlyMessage",void 0)}validate(fe){return!fe||typeof fe!="object"?this.defaultValue:fe}}function K(De,fe){if(typeof De!="string")return fe;switch(De){case"hidden":return 2;case"visible":return 3;default:return 1}}class z extends C{constructor(){const fe={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(102,"scrollbar",fe,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(94,null),m.localize(95,null),m.localize(96,null)],default:"auto",description:m.localize(97,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(98,null),m.localize(99,null),m.localize(100,null)],default:"auto",description:m.localize(101,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:fe.verticalScrollbarSize,description:m.localize(102,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:fe.horizontalScrollbarSize,description:m.localize(103,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:fe.scrollByPage,description:m.localize(104,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe,Me=d.clampedInt(Ce.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Pe=d.clampedInt(Ce.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:d.clampedInt(Ce.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:K(Ce.vertical,this.defaultValue.vertical),horizontal:K(Ce.horizontal,this.defaultValue.horizontal),useShadows:r(Ce.useShadows,this.defaultValue.useShadows),verticalHasArrows:r(Ce.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:r(Ce.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:r(Ce.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:r(Ce.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Me,horizontalSliderSize:d.clampedInt(Ce.horizontalSliderSize,Me,0,1e3),verticalScrollbarSize:Pe,verticalSliderSize:d.clampedInt(Ce.verticalSliderSize,Pe,0,1e3),scrollByPage:r(Ce.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Q extends C{constructor(){const fe={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",fe,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:fe.nonBasicASCII,description:m.localize(105,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:fe.invisibleCharacters,description:m.localize(106,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:fe.ambiguousCharacters,description:m.localize(107,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:fe.includeComments,description:m.localize(108,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:fe.includeStrings,description:m.localize(109,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:fe.allowedCharacters,description:m.localize(110,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:fe.allowedLocales,description:m.localize(111,null)}})}applyUpdate(fe,Ce){let Me=!1;Ce.allowedCharacters&&fe&&(I.equals(fe.allowedCharacters,Ce.allowedCharacters)||(fe=Object.assign(Object.assign({},fe),{allowedCharacters:Ce.allowedCharacters}),Me=!0)),Ce.allowedLocales&&fe&&(I.equals(fe.allowedLocales,Ce.allowedLocales)||(fe=Object.assign(Object.assign({},fe),{allowedLocales:Ce.allowedLocales}),Me=!0));const Pe=super.applyUpdate(fe,Ce);return Me?new s(Pe.newValue,!0):Pe}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{nonBasicASCII:he(Ce.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:r(Ce.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:r(Ce.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:he(Ce.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:he(Ce.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(fe.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(fe.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(fe,Ce){if(typeof fe!="object"||!fe)return Ce;const Me={};for(const[Pe,Se]of Object.entries(fe))Se===!0&&(Me[Pe]=!0);return Me}}class j extends C{constructor(){const fe={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(62,"inlineSuggest",fe,{"editor.inlineSuggest.enabled":{type:"boolean",default:fe.enabled,description:m.localize(112,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:fe.showToolbar,enum:["always","onHover"],enumDescriptions:[m.localize(113,null),m.localize(114,null)],description:m.localize(115,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:fe.suppressSuggestions,description:m.localize(116,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{enabled:r(Ce.enabled,this.defaultValue.enabled),mode:a(Ce.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:a(Ce.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:r(Ce.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:r(Ce.keepOnBlur,this.defaultValue.keepOnBlur)}}}class re extends C{constructor(){const fe={enabled:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",fe,{"editor.bracketPairColorization.enabled":{type:"boolean",default:fe.enabled,markdownDescription:m.localize(117,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:fe.independentColorPoolPerBracketType,description:m.localize(118,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{enabled:r(Ce.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:r(Ce.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class oe extends C{constructor(){const fe={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",fe,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(119,null),m.localize(120,null),m.localize(121,null)],default:fe.bracketPairs,description:m.localize(122,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(123,null),m.localize(124,null),m.localize(125,null)],default:fe.bracketPairsHorizontal,description:m.localize(126,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:fe.highlightActiveBracketPair,description:m.localize(127,null)},"editor.guides.indentation":{type:"boolean",default:fe.indentation,description:m.localize(128,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[m.localize(129,null),m.localize(130,null),m.localize(131,null)],default:fe.highlightActiveIndentation,description:m.localize(132,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{bracketPairs:he(Ce.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:he(Ce.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:r(Ce.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:r(Ce.indentation,this.defaultValue.indentation),highlightActiveIndentation:he(Ce.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function he(De,fe,Ce){const Me=Ce.indexOf(De);return Me===-1?fe:Ce[Me]}class me extends C{constructor(){const fe={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",fe,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[m.localize(133,null),m.localize(134,null)],default:fe.insertMode,description:m.localize(135,null)},"editor.suggest.filterGraceful":{type:"boolean",default:fe.filterGraceful,description:m.localize(136,null)},"editor.suggest.localityBonus":{type:"boolean",default:fe.localityBonus,description:m.localize(137,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:fe.shareSuggestSelections,markdownDescription:m.localize(138,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[m.localize(139,null),m.localize(140,null),m.localize(141,null),m.localize(142,null)],default:fe.selectionMode,markdownDescription:m.localize(143,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:fe.snippetsPreventQuickSuggestions,description:m.localize(144,null)},"editor.suggest.showIcons":{type:"boolean",default:fe.showIcons,description:m.localize(145,null)},"editor.suggest.showStatusBar":{type:"boolean",default:fe.showStatusBar,description:m.localize(146,null)},"editor.suggest.preview":{type:"boolean",default:fe.preview,description:m.localize(147,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:fe.showInlineDetails,description:m.localize(148,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:m.localize(149,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:m.localize(150,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:m.localize(151,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:m.localize(152,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:m.localize(153,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:m.localize(154,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:m.localize(155,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:m.localize(156,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:m.localize(157,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:m.localize(158,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:m.localize(159,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:m.localize(160,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:m.localize(161,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:m.localize(162,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:m.localize(163,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:m.localize(164,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:m.localize(165,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:m.localize(166,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:m.localize(167,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:m.localize(168,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:m.localize(169,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:m.localize(170,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:m.localize(171,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:m.localize(172,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:m.localize(173,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:m.localize(174,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:m.localize(175,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:m.localize(176,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:m.localize(177,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:m.localize(178,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:m.localize(179,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:m.localize(180,null)}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{insertMode:a(Ce.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:r(Ce.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:r(Ce.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:r(Ce.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:r(Ce.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:a(Ce.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:r(Ce.showIcons,this.defaultValue.showIcons),showStatusBar:r(Ce.showStatusBar,this.defaultValue.showStatusBar),preview:r(Ce.preview,this.defaultValue.preview),previewMode:a(Ce.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:r(Ce.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:r(Ce.showMethods,this.defaultValue.showMethods),showFunctions:r(Ce.showFunctions,this.defaultValue.showFunctions),showConstructors:r(Ce.showConstructors,this.defaultValue.showConstructors),showDeprecated:r(Ce.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:r(Ce.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:r(Ce.showFields,this.defaultValue.showFields),showVariables:r(Ce.showVariables,this.defaultValue.showVariables),showClasses:r(Ce.showClasses,this.defaultValue.showClasses),showStructs:r(Ce.showStructs,this.defaultValue.showStructs),showInterfaces:r(Ce.showInterfaces,this.defaultValue.showInterfaces),showModules:r(Ce.showModules,this.defaultValue.showModules),showProperties:r(Ce.showProperties,this.defaultValue.showProperties),showEvents:r(Ce.showEvents,this.defaultValue.showEvents),showOperators:r(Ce.showOperators,this.defaultValue.showOperators),showUnits:r(Ce.showUnits,this.defaultValue.showUnits),showValues:r(Ce.showValues,this.defaultValue.showValues),showConstants:r(Ce.showConstants,this.defaultValue.showConstants),showEnums:r(Ce.showEnums,this.defaultValue.showEnums),showEnumMembers:r(Ce.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:r(Ce.showKeywords,this.defaultValue.showKeywords),showWords:r(Ce.showWords,this.defaultValue.showWords),showColors:r(Ce.showColors,this.defaultValue.showColors),showFiles:r(Ce.showFiles,this.defaultValue.showFiles),showReferences:r(Ce.showReferences,this.defaultValue.showReferences),showFolders:r(Ce.showFolders,this.defaultValue.showFolders),showTypeParameters:r(Ce.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:r(Ce.showSnippets,this.defaultValue.showSnippets),showUsers:r(Ce.showUsers,this.defaultValue.showUsers),showIssues:r(Ce.showIssues,this.defaultValue.showIssues)}}}class pe extends C{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:m.localize(181,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:m.localize(182,null),default:!0,type:"boolean"}})}validate(fe){return!fe||typeof fe!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:r(fe.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:r(fe.selectSubwords,this.defaultValue.selectSubwords)}}}class ve extends C{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[m.localize(183,null),m.localize(184,null),m.localize(185,null),m.localize(186,null)],description:m.localize(187,null),default:"same"}})}validate(fe){switch(fe){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(fe,Ce,Me){return Ce.get(2)===2?0:Me}}class we extends n{constructor(){super(144)}compute(fe,Ce,Me){const Pe=Ce.get(143);return{isDominatedByLongLines:fe.isDominatedByLongLines,isWordWrapMinified:Pe.isWordWrapMinified,isViewportWrapping:Pe.isViewportWrapping,wrappingColumn:Pe.wrappingColumn}}}class Le extends C{constructor(){const fe={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",fe,{"editor.dropIntoEditor.enabled":{type:"boolean",default:fe.enabled,markdownDescription:m.localize(188,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:m.localize(189,null),enum:["afterDrop","never"],enumDescriptions:[m.localize(190,null),m.localize(191,null)],default:"afterDrop"}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{enabled:r(Ce.enabled,this.defaultValue.enabled),showDropSelector:a(Ce.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Ee extends C{constructor(){const fe={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",fe,{"editor.pasteAs.enabled":{type:"boolean",default:fe.enabled,markdownDescription:m.localize(192,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:m.localize(193,null),enum:["afterPaste","never"],enumDescriptions:[m.localize(194,null),m.localize(195,null)],default:"afterPaste"}})}validate(fe){if(!fe||typeof fe!="object")return this.defaultValue;const Ce=fe;return{enabled:r(Ce.enabled,this.defaultValue.enabled),showPasteSelector:a(Ce.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Ae="Consolas, 'Courier New', monospace",Re="Menlo, Monaco, 'Courier New', monospace",Be="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:y.isMacintosh?Re:y.isLinux?Be:Ae,fontWeight:"normal",fontSize:y.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function ye(De){return e.editorOptionsRegistry[De.id]=De,De}e.EditorOptions={acceptSuggestionOnCommitCharacter:ye(new u(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:m.localize(196,null)})),acceptSuggestionOnEnter:ye(new g(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",m.localize(197,null),""],markdownDescription:m.localize(198,null)})),accessibilitySupport:ye(new b),accessibilityPageSize:ye(new d(3,"accessibilityPageSize",10,1,1073741824,{description:m.localize(199,null),tags:["accessibility"]})),ariaLabel:ye(new c(4,"ariaLabel",m.localize(200,null))),ariaRequired:ye(new u(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:ye(new u(8,"screenReaderAnnounceInlineSuggestion",!0,{description:m.localize(201,null),tags:["accessibility"]})),autoClosingBrackets:ye(new g(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(202,null),m.localize(203,null),""],description:m.localize(204,null)})),autoClosingComments:ye(new g(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(205,null),m.localize(206,null),""],description:m.localize(207,null)})),autoClosingDelete:ye(new g(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",m.localize(208,null),""],description:m.localize(209,null)})),autoClosingOvertype:ye(new g(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",m.localize(210,null),""],description:m.localize(211,null)})),autoClosingQuotes:ye(new g(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(212,null),m.localize(213,null),""],description:m.localize(214,null)})),autoIndent:ye(new h(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],p,{enumDescriptions:[m.localize(215,null),m.localize(216,null),m.localize(217,null),m.localize(218,null),m.localize(219,null)],description:m.localize(220,null)})),automaticLayout:ye(new u(13,"automaticLayout",!1)),autoSurround:ye(new g(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[m.localize(221,null),m.localize(222,null),m.localize(223,null),""],description:m.localize(224,null)})),bracketPairColorization:ye(new re),bracketPairGuides:ye(new oe),stickyTabStops:ye(new u(115,"stickyTabStops",!1,{description:m.localize(225,null)})),codeLens:ye(new u(17,"codeLens",!0,{description:m.localize(226,null)})),codeLensFontFamily:ye(new c(18,"codeLensFontFamily","",{description:m.localize(227,null)})),codeLensFontSize:ye(new d(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:m.localize(228,null)})),colorDecorators:ye(new u(20,"colorDecorators",!0,{description:m.localize(229,null)})),colorDecoratorActivatedOn:ye(new g(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[m.localize(230,null),m.localize(231,null),m.localize(232,null)],description:m.localize(233,null)})),colorDecoratorsLimit:ye(new d(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:m.localize(234,null)})),columnSelection:ye(new u(22,"columnSelection",!1,{description:m.localize(235,null)})),comments:ye(new w),contextmenu:ye(new u(24,"contextmenu",!0)),copyWithSyntaxHighlighting:ye(new u(25,"copyWithSyntaxHighlighting",!0,{description:m.localize(236,null)})),cursorBlinking:ye(new h(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],E,{description:m.localize(237,null)})),cursorSmoothCaretAnimation:ye(new g(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[m.localize(238,null),m.localize(239,null),m.localize(240,null)],description:m.localize(241,null)})),cursorStyle:ye(new h(28,"cursorStyle",k.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],M,{description:m.localize(242,null)})),cursorSurroundingLines:ye(new d(29,"cursorSurroundingLines",0,0,1073741824,{description:m.localize(243,null)})),cursorSurroundingLinesStyle:ye(new g(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[m.localize(244,null),m.localize(245,null)],markdownDescription:m.localize(246,null)})),cursorWidth:ye(new d(31,"cursorWidth",0,0,1073741824,{markdownDescription:m.localize(247,null)})),disableLayerHinting:ye(new u(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:ye(new u(33,"disableMonospaceOptimizations",!1)),domReadOnly:ye(new u(34,"domReadOnly",!1)),dragAndDrop:ye(new u(35,"dragAndDrop",!0,{description:m.localize(248,null)})),emptySelectionClipboard:ye(new B),dropIntoEditor:ye(new Le),stickyScroll:ye(new ne),experimentalWhitespaceRendering:ye(new g(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[m.localize(249,null),m.localize(250,null),m.localize(251,null)],description:m.localize(252,null)})),extraEditorClassName:ye(new c(39,"extraEditorClassName","")),fastScrollSensitivity:ye(new o(40,"fastScrollSensitivity",5,De=>De<=0?5:De,{markdownDescription:m.localize(253,null)})),find:ye(new T),fixedOverflowWidgets:ye(new u(42,"fixedOverflowWidgets",!1)),folding:ye(new u(43,"folding",!0,{description:m.localize(254,null)})),foldingStrategy:ye(new g(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[m.localize(255,null),m.localize(256,null)],description:m.localize(257,null)})),foldingHighlight:ye(new u(45,"foldingHighlight",!0,{description:m.localize(258,null)})),foldingImportsByDefault:ye(new u(46,"foldingImportsByDefault",!1,{description:m.localize(259,null)})),foldingMaximumRegions:ye(new d(47,"foldingMaximumRegions",5e3,10,65e3,{description:m.localize(260,null)})),unfoldOnClickAfterEndOfLine:ye(new u(48,"unfoldOnClickAfterEndOfLine",!1,{description:m.localize(261,null)})),fontFamily:ye(new c(49,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:m.localize(262,null)})),fontInfo:ye(new P),fontLigatures2:ye(new N),fontSize:ye(new O),fontWeight:ye(new x),fontVariations:ye(new A),formatOnPaste:ye(new u(55,"formatOnPaste",!1,{description:m.localize(263,null)})),formatOnType:ye(new u(56,"formatOnType",!1,{description:m.localize(264,null)})),glyphMargin:ye(new u(57,"glyphMargin",!0,{description:m.localize(265,null)})),gotoLocation:ye(new W),hideCursorInOverviewRuler:ye(new u(59,"hideCursorInOverviewRuler",!1,{description:m.localize(266,null)})),hover:ye(new U),inDiffEditor:ye(new u(61,"inDiffEditor",!1)),letterSpacing:ye(new o(63,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,De=>o.clamp(De,-5,20),{description:m.localize(267,null)})),lightbulb:ye(new Y),lineDecorationsWidth:ye(new J),lineHeight:ye(new q),lineNumbers:ye(new de),lineNumbersMinChars:ye(new d(68,"lineNumbersMinChars",5,1,300)),linkedEditing:ye(new u(69,"linkedEditing",!1,{description:m.localize(268,null)})),links:ye(new u(70,"links",!0,{description:m.localize(269,null)})),matchBrackets:ye(new g(71,"matchBrackets","always",["always","near","never"],{description:m.localize(270,null)})),minimap:ye(new H),mouseStyle:ye(new g(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ye(new o(74,"mouseWheelScrollSensitivity",1,De=>De===0?1:De,{markdownDescription:m.localize(271,null)})),mouseWheelZoom:ye(new u(75,"mouseWheelZoom",!1,{markdownDescription:m.localize(272,null)})),multiCursorMergeOverlapping:ye(new u(76,"multiCursorMergeOverlapping",!0,{description:m.localize(273,null)})),multiCursorModifier:ye(new h(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],V,{markdownEnumDescriptions:[m.localize(274,null),m.localize(275,null)],markdownDescription:m.localize(276,null)})),multiCursorPaste:ye(new g(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[m.localize(277,null),m.localize(278,null)],markdownDescription:m.localize(279,null)})),multiCursorLimit:ye(new d(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:m.localize(280,null)})),occurrencesHighlight:ye(new u(80,"occurrencesHighlight",!0,{description:m.localize(281,null)})),overviewRulerBorder:ye(new u(81,"overviewRulerBorder",!0,{description:m.localize(282,null)})),overviewRulerLanes:ye(new d(82,"overviewRulerLanes",3,0,3)),padding:ye(new Z),pasteAs:ye(new Ee),parameterHints:ye(new ee),peekWidgetDefaultFocus:ye(new g(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[m.localize(283,null),m.localize(284,null)],description:m.localize(285,null)})),definitionLinkOpensInPeek:ye(new u(87,"definitionLinkOpensInPeek",!1,{description:m.localize(286,null)})),quickSuggestions:ye(new ue),quickSuggestionsDelay:ye(new d(89,"quickSuggestionsDelay",10,0,1073741824,{description:m.localize(287,null)})),readOnly:ye(new u(90,"readOnly",!1)),readOnlyMessage:ye(new X),renameOnType:ye(new u(92,"renameOnType",!1,{description:m.localize(288,null),markdownDeprecationMessage:m.localize(289,null)})),renderControlCharacters:ye(new u(93,"renderControlCharacters",!0,{description:m.localize(290,null),restricted:!0})),renderFinalNewline:ye(new g(94,"renderFinalNewline",y.isLinux?"dimmed":"on",["off","on","dimmed"],{description:m.localize(291,null)})),renderLineHighlight:ye(new g(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",m.localize(292,null)],description:m.localize(293,null)})),renderLineHighlightOnlyWhenFocus:ye(new u(96,"renderLineHighlightOnlyWhenFocus",!1,{description:m.localize(294,null)})),renderValidationDecorations:ye(new g(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ye(new g(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",m.localize(295,null),m.localize(296,null),m.localize(297,null),""],description:m.localize(298,null)})),revealHorizontalRightPadding:ye(new d(99,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:ye(new u(100,"roundedSelection",!0,{description:m.localize(299,null)})),rulers:ye(new ae),scrollbar:ye(new z),scrollBeyondLastColumn:ye(new d(103,"scrollBeyondLastColumn",4,0,1073741824,{description:m.localize(300,null)})),scrollBeyondLastLine:ye(new u(104,"scrollBeyondLastLine",!0,{description:m.localize(301,null)})),scrollPredominantAxis:ye(new u(105,"scrollPredominantAxis",!0,{description:m.localize(302,null)})),selectionClipboard:ye(new u(106,"selectionClipboard",!0,{description:m.localize(303,null),included:y.isLinux})),selectionHighlight:ye(new u(107,"selectionHighlight",!0,{description:m.localize(304,null)})),selectOnLineNumbers:ye(new u(108,"selectOnLineNumbers",!0)),showFoldingControls:ye(new g(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[m.localize(305,null),m.localize(306,null),m.localize(307,null)],description:m.localize(308,null)})),showUnused:ye(new u(110,"showUnused",!0,{description:m.localize(309,null)})),showDeprecated:ye(new u(138,"showDeprecated",!0,{description:m.localize(310,null)})),inlayHints:ye(new se),snippetSuggestions:ye(new g(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[m.localize(311,null),m.localize(312,null),m.localize(313,null),m.localize(314,null)],description:m.localize(315,null)})),smartSelect:ye(new pe),smoothScrolling:ye(new u(113,"smoothScrolling",!1,{description:m.localize(316,null)})),stopRenderingLineAfter:ye(new d(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ye(new me),inlineSuggest:ye(new j),inlineCompletionsAccessibilityVerbose:ye(new u(147,"inlineCompletionsAccessibilityVerbose",!1,{description:m.localize(317,null)})),suggestFontSize:ye(new d(118,"suggestFontSize",0,0,1e3,{markdownDescription:m.localize(318,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:ye(new d(119,"suggestLineHeight",0,0,1e3,{markdownDescription:m.localize(319,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:ye(new u(120,"suggestOnTriggerCharacters",!0,{description:m.localize(320,null)})),suggestSelection:ye(new g(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[m.localize(321,null),m.localize(322,null),m.localize(323,null)],description:m.localize(324,null)})),tabCompletion:ye(new g(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[m.localize(325,null),m.localize(326,null),m.localize(327,null)],description:m.localize(328,null)})),tabIndex:ye(new d(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:ye(new Q),unusualLineTerminators:ye(new g(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[m.localize(329,null),m.localize(330,null),m.localize(331,null)],description:m.localize(332,null)})),useShadowDOM:ye(new u(126,"useShadowDOM",!0)),useTabStops:ye(new u(127,"useTabStops",!0,{description:m.localize(333,null)})),wordBreak:ye(new g(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[m.localize(334,null),m.localize(335,null)],description:m.localize(336,null)})),wordSeparators:ye(new c(129,"wordSeparators",S.USUAL_WORD_SEPARATORS,{description:m.localize(337,null)})),wordWrap:ye(new g(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[m.localize(338,null),m.localize(339,null),m.localize(340,null),m.localize(341,null)],description:m.localize(342,null)})),wordWrapBreakAfterCharacters:ye(new c(131,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ye(new c(132,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ye(new d(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:m.localize(343,null)})),wordWrapOverride1:ye(new g(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ye(new g(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:ye(new R),defaultColorDecorators:ye(new u(145,"defaultColorDecorators",!1,{markdownDescription:m.localize(344,null)})),pixelRatio:ye(new le),tabFocusMode:ye(new u(142,"tabFocusMode",!1,{markdownDescription:m.localize(345,null)})),layoutInfo:ye(new F),wrappingInfo:ye(new we),wrappingIndent:ye(new ve),wrappingStrategy:ye(new G)}}),define(te[620],ie([1,0,7,38,10,70,39,12,5,198]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class C{constructor(n,t,r,u,f,d,l){this.top=n,this.left=t,this.paddingLeft=r,this.width=u,this.height=f,this.textContent=d,this.textContentClassName=l}}class s{constructor(n){this._context=n;const t=this._context.configuration.options,r=t.get(50);this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,I.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${v.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,r),this._domNode.setDisplay("none"),this._position=new m.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(n){const t=this._context.configuration.options,r=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,r),!0}onCursorPositionChanged(n,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=n,!0}_getGraphemeAwarePosition(){const{lineNumber:n,column:t}=this._position,r=this._context.viewModel.getLineContent(n),[u,f]=y.getCharContainingOffset(r,t-1);return[new m.Position(n,u+1),r.substring(u,f)]}_prepareRender(n){let t="",r="";const[u,f]=this._getGraphemeAwarePosition();if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const h=n.visibleRangeForPosition(u);if(!h||h.outsideRenderedLine)return null;let p;this._cursorStyle===S.TextEditorCursorStyle.Line?(p=L.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),p>2&&(t=f,r=this._getTokenClassName(u))):p=L.computeScreenAwareSize(1);let b=h.left,w=0;p>=2&&b>=1&&(w=1,b-=w);const E=n.getVerticalOffsetForLineNumber(u.lineNumber)-n.bigNumbersDelta;return new C(E,b,w,p,this._lineHeight,t,r)}const d=n.linesVisibleRangesForRange(new _.Range(u.lineNumber,u.column,u.lineNumber,u.column+f.length),!1);if(!d||d.length===0)return null;const l=d[0];if(l.outsideRenderedLine||l.ranges.length===0)return null;const o=l.ranges[0],c=f==="	"?this._typicalHalfwidthCharacterWidth:o.width<1?this._typicalHalfwidthCharacterWidth:o.width;this._cursorStyle===S.TextEditorCursorStyle.Block&&(t=f,r=this._getTokenClassName(u));let a=n.getVerticalOffsetForLineNumber(u.lineNumber)-n.bigNumbersDelta,g=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(a+=this._lineHeight-2,g=2),new C(a,o.left,0,c,g,t,r)}_getTokenClassName(n){const t=this._context.viewModel.getViewLineData(n.lineNumber),r=t.tokens.findTokenIndexAtOffset(n.column-1);return t.tokens.getClassName(r)}prepareRender(n){this._renderData=this._prepareRender(n)}render(n){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${v.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=s}),define(te[621],ie([1,0,40,271,39]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;class D{get editorOptions(){return this._options}constructor(_,v){this.diffEditorWidth=v,this.couldShowInlineViewBecauseOfSize=(0,L.derived)(this,s=>this._options.read(s).renderSideBySide&&this.diffEditorWidth.read(s)<=this._options.read(s).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,L.derived)(this,s=>this._options.read(s).renderOverviewRuler),this.renderSideBySide=(0,L.derived)(this,s=>this._options.read(s).renderSideBySide&&!(this._options.read(s).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(s))),this.readOnly=(0,L.derived)(this,s=>this._options.read(s).readOnly),this.shouldRenderRevertArrows=(0,L.derived)(this,s=>!(!this._options.read(s).renderMarginRevertIcon||!this.renderSideBySide.read(s)||this.readOnly.read(s))),this.renderIndicators=(0,L.derived)(this,s=>this._options.read(s).renderIndicators),this.enableSplitViewResizing=(0,L.derived)(this,s=>this._options.read(s).enableSplitViewResizing),this.splitViewDefaultRatio=(0,L.derived)(this,s=>this._options.read(s).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,L.derived)(this,s=>this._options.read(s).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,L.derived)(this,s=>this._options.read(s).maxComputationTime),this.showMoves=(0,L.derived)(this,s=>this._options.read(s).experimental.showMoves&&this.renderSideBySide.read(s)),this.isInEmbeddedEditor=(0,L.derived)(this,s=>this._options.read(s).isInEmbeddedEditor),this.diffWordWrap=(0,L.derived)(this,s=>this._options.read(s).diffWordWrap),this.originalEditable=(0,L.derived)(this,s=>this._options.read(s).originalEditable),this.diffCodeLens=(0,L.derived)(this,s=>this._options.read(s).diffCodeLens),this.accessibilityVerbose=(0,L.derived)(this,s=>this._options.read(s).accessibilityVerbose),this.diffAlgorithm=(0,L.derived)(this,s=>this._options.read(s).diffAlgorithm),this.showEmptyDecorations=(0,L.derived)(this,s=>this._options.read(s).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,L.derived)(this,s=>this._options.read(s).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,L.derived)(this,s=>this._options.read(s).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,L.derived)(this,s=>this._options.read(s).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,L.derived)(this,s=>this._options.read(s).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,L.derived)(this,s=>this._options.read(s).hideUnchangedRegions.minimumLineCount);const C=Object.assign(Object.assign({},_),S(_,I.diffEditorDefaultOptions));this._options=(0,L.observableValue)(this,C)}updateOptions(_){const v=S(_,this._options.get()),C=Object.assign(Object.assign(Object.assign({},this._options.get()),_),v);this._options.set(C,void 0,{changedOptions:_})}}e.DiffEditorOptions=D;function S(m,_){var v,C,s,i,n,t,r,u;return{enableSplitViewResizing:(0,y.boolean)(m.enableSplitViewResizing,_.enableSplitViewResizing),splitViewDefaultRatio:(0,y.clampedFloat)(m.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,y.boolean)(m.renderSideBySide,_.renderSideBySide),renderMarginRevertIcon:(0,y.boolean)(m.renderMarginRevertIcon,_.renderMarginRevertIcon),maxComputationTime:(0,y.clampedInt)(m.maxComputationTime,_.maxComputationTime,0,1073741824),maxFileSize:(0,y.clampedInt)(m.maxFileSize,_.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,y.boolean)(m.ignoreTrimWhitespace,_.ignoreTrimWhitespace),renderIndicators:(0,y.boolean)(m.renderIndicators,_.renderIndicators),originalEditable:(0,y.boolean)(m.originalEditable,_.originalEditable),diffCodeLens:(0,y.boolean)(m.diffCodeLens,_.diffCodeLens),renderOverviewRuler:(0,y.boolean)(m.renderOverviewRuler,_.renderOverviewRuler),diffWordWrap:(0,y.stringSet)(m.diffWordWrap,_.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,y.stringSet)(m.diffAlgorithm,_.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,y.boolean)(m.accessibilityVerbose,_.accessibilityVerbose),experimental:{showMoves:(0,y.boolean)((v=m.experimental)===null||v===void 0?void 0:v.showMoves,_.experimental.showMoves),showEmptyDecorations:(0,y.boolean)((C=m.experimental)===null||C===void 0?void 0:C.showEmptyDecorations,_.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,y.boolean)((i=(s=m.hideUnchangedRegions)===null||s===void 0?void 0:s.enabled)!==null&&i!==void 0?i:(n=m.experimental)===null||n===void 0?void 0:n.collapseUnchangedRegions,_.hideUnchangedRegions.enabled),contextLineCount:(0,y.clampedInt)((t=m.hideUnchangedRegions)===null||t===void 0?void 0:t.contextLineCount,_.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,y.clampedInt)((r=m.hideUnchangedRegions)===null||r===void 0?void 0:r.minimumLineCount,_.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,y.clampedInt)((u=m.hideUnchangedRegions)===null||u===void 0?void 0:u.revealLineCount,_.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,y.boolean)(m.isInEmbeddedEditor,_.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,y.boolean)(m.onlyShowAccessibleDiffViewer,_.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,y.clampedInt)(m.renderSideBySideInlineBreakpoint,_.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,y.boolean)(m.useInlineViewWhenSpaceIsLimited,_.useInlineViewWhenSpaceIsLimited)}}}),define(te[231],ie([1,0,17,39,143]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=L.isMacintosh?1.5:1.35,S=8;class m{static createFromValidatedSettings(C,s,i){const n=C.get(49),t=C.get(53),r=C.get(52),u=C.get(51),f=C.get(54),d=C.get(66),l=C.get(63);return m._create(n,t,r,u,f,d,l,s,i)}static _create(C,s,i,n,t,r,u,f,d){r===0?r=D*i:r<S&&(r=r*i),r=Math.round(r),r<S&&(r=S);const l=1+(d?0:y.EditorZoom.getZoomLevel()*.1);return i*=l,r*=l,t===I.EditorFontVariations.TRANSLATE&&(s==="normal"||s==="bold"?t=I.EditorFontVariations.OFF:(t=`'wght' ${parseInt(s,10)}`,s="normal")),new m({pixelRatio:f,fontFamily:C,fontWeight:s,fontSize:i,fontFeatureSettings:n,fontVariationSettings:t,lineHeight:r,letterSpacing:u})}constructor(C){this._bareFontInfoBrand=void 0,this.pixelRatio=C.pixelRatio,this.fontFamily=String(C.fontFamily),this.fontWeight=String(C.fontWeight),this.fontSize=C.fontSize,this.fontFeatureSettings=C.fontFeatureSettings,this.fontVariationSettings=C.fontVariationSettings,this.lineHeight=C.lineHeight|0,this.letterSpacing=C.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const C=I.EDITOR_FONT_DEFAULTS.fontFamily,s=m._wrapInQuotes(this.fontFamily);return C&&this.fontFamily!==C?`${s}, ${C}`:s}static _wrapInQuotes(C){return/[,"']/.test(C)?C:/[+ ]/.test(C)?`"${C}"`:C}}e.BareFontInfo=m,e.SERIALIZED_FONT_INFO_VERSION=2;class _ extends m{constructor(C,s){super(C),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=s,this.isMonospace=C.isMonospace,this.typicalHalfwidthCharacterWidth=C.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=C.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.maxDigitWidth=C.maxDigitWidth}equals(C){return this.fontFamily===C.fontFamily&&this.fontWeight===C.fontWeight&&this.fontSize===C.fontSize&&this.fontFeatureSettings===C.fontFeatureSettings&&this.fontVariationSettings===C.fontVariationSettings&&this.lineHeight===C.lineHeight&&this.letterSpacing===C.letterSpacing&&this.typicalHalfwidthCharacterWidth===C.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===C.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.maxDigitWidth===C.maxDigitWidth}}e.FontInfo=_}),define(te[328],ie([1,0,51,6,2,479,39,231]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class _ extends y.Disposable{constructor(){super(),this._onDidChange=this._register(new I.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new v,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new v,this._onDidChange.fire()}_writeToCache(s,i){this._cache.put(s,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const s=this._cache.getValues();let i=!1;for(const n of s)n.isTrusted||(i=!0,this._cache.remove(n));i&&this._onDidChange.fire()}readFontInfo(s){if(!this._cache.has(s)){let i=this._actualReadFontInfo(s);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new m.FontInfo({pixelRatio:L.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(s,i)}return this._cache.get(s)}_createRequest(s,i,n,t){const r=new D.CharWidthRequest(s,i);return n.push(r),t?.push(r),r}_actualReadFontInfo(s){const i=[],n=[],t=this._createRequest("n",0,i,n),r=this._createRequest("\uFF4D",0,i,null),u=this._createRequest(" ",0,i,n),f=this._createRequest("0",0,i,n),d=this._createRequest("1",0,i,n),l=this._createRequest("2",0,i,n),o=this._createRequest("3",0,i,n),c=this._createRequest("4",0,i,n),a=this._createRequest("5",0,i,n),g=this._createRequest("6",0,i,n),h=this._createRequest("7",0,i,n),p=this._createRequest("8",0,i,n),b=this._createRequest("9",0,i,n),w=this._createRequest("\u2192",0,i,n),E=this._createRequest("\uFFEB",0,i,null),k=this._createRequest("\xB7",0,i,n),M=this._createRequest(String.fromCharCode(11825),0,i,null),R="|/-_ilm%";for(let P=0,O=R.length;P<O;P++)this._createRequest(R.charAt(P),0,i,n),this._createRequest(R.charAt(P),1,i,n),this._createRequest(R.charAt(P),2,i,n);(0,D.readCharWidths)(s,i);const B=Math.max(f.width,d.width,l.width,o.width,c.width,a.width,g.width,h.width,p.width,b.width);let T=s.fontFeatureSettings===S.EditorFontLigatures.OFF;const N=n[0].width;for(let P=1,O=n.length;T&&P<O;P++){const x=N-n[P].width;if(x<-.001||x>.001){T=!1;break}}let A=!0;return T&&E.width!==N&&(A=!1),E.width>w.width&&(A=!1),new m.FontInfo({pixelRatio:L.PixelRatio.value,fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,fontVariationSettings:s.fontVariationSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:T,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:A,spaceWidth:u.width,middotWidth:k.width,wsmiddotWidth:M.width,maxDigitWidth:B},!0)}}e.FontMeasurementsImpl=_;class v{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const i=s.getId();return!!this._values[i]}get(s){const i=s.getId();return this._values[i]}put(s,i){const n=s.getId();this._keys[n]=s,this._values[n]=i}remove(s){const i=s.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}e.FontMeasurements=new _}),define(te[329],ie([1,0,12,5,82,39]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class S{constructor(i,n,t,r,u){this.editorId=i,this.model=n,this.configuration=t,this._linesCollection=r,this._coordinatesConverter=u,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(i){const n=i.id;let t=this._decorationsCache[n];if(!t){const r=i.range,u=i.options;let f;if(u.isWholeLine){const d=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(r.startLineNumber,1),0,!1,!0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);f=new I.Range(d.lineNumber,d.column,l.lineNumber,l.column)}else f=this._coordinatesConverter.convertModelRangeToViewRange(r,1);t=new y.ViewModelDecoration(f,u),this._decorationsCache[n]=t}return t}getMinimapDecorationsInRange(i){return this._getDecorationsInRange(i,!0,!1).decorations}getDecorationsViewportData(i){let n=this._cachedModelDecorationsResolver!==null;return n=n&&i.equalsRange(this._cachedModelDecorationsResolverViewRange),n||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(i,!1,!1),this._cachedModelDecorationsResolverViewRange=i),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(i,n=!1,t=!1){const r=new I.Range(i,this._linesCollection.getViewLineMinColumn(i),i,this._linesCollection.getViewLineMaxColumn(i));return this._getDecorationsInRange(r,n,t).inlineDecorations[0]}_getDecorationsInRange(i,n,t){const r=this._linesCollection.getDecorationsInRange(i,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options),n,t),u=i.startLineNumber,f=i.endLineNumber,d=[];let l=0;const o=[];for(let c=u;c<=f;c++)o[c-u]=[];for(let c=0,a=r.length;c<a;c++){const g=r[c],h=g.options;if(!m(this.model,g))continue;const p=this._getOrCreateViewModelDecoration(g),b=p.range;if(d[l++]=p,h.inlineClassName){const w=new y.InlineDecoration(b,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),E=Math.max(u,b.startLineNumber),k=Math.min(f,b.endLineNumber);for(let M=E;M<=k;M++)o[M-u].push(w)}if(h.beforeContentClassName&&u<=b.startLineNumber&&b.startLineNumber<=f){const w=new y.InlineDecoration(new I.Range(b.startLineNumber,b.startColumn,b.startLineNumber,b.startColumn),h.beforeContentClassName,1);o[b.startLineNumber-u].push(w)}if(h.afterContentClassName&&u<=b.endLineNumber&&b.endLineNumber<=f){const w=new y.InlineDecoration(new I.Range(b.endLineNumber,b.endColumn,b.endLineNumber,b.endColumn),h.afterContentClassName,2);o[b.endLineNumber-u].push(w)}}return{decorations:d,inlineDecorations:o}}}e.ViewModelDecorations=S;function m(s,i){return!(i.options.hideInCommentTokens&&_(s,i)||i.options.hideInStringTokens&&v(s,i))}e.isModelDecorationVisible=m;function _(s,i){return C(s,i.range,n=>n===1)}e.isModelDecorationInComment=_;function v(s,i){return C(s,i.range,n=>n===2)}e.isModelDecorationInString=v;function C(s,i,n){for(let t=i.startLineNumber;t<=i.endLineNumber;t++){const r=s.tokenization.getLineTokens(t),u=t===i.startLineNumber,f=t===i.endLineNumber;let d=u?r.findTokenIndexAtOffset(i.startColumn-1):0;for(;d<r.getCount()&&!(f&&r.getStartOffset(d)>i.endColumn-1);){if(!n(r.getStandardTokenType(d)))return!1;d++}}return!0}}),define(te[622],ie([3,4]),function($,e){return $.create("vs/editor/common/core/editorColorRegistry",e)}),define(te[623],ie([3,4]),function($,e){return $.create("vs/editor/common/editorContextKeys",e)}),define(te[624],ie([3,4]),function($,e){return $.create("vs/editor/common/languages",e)}),define(te[29],ie([1,0,26,21,5,518,624]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.getAriaLabelForSymbol=e.symbolKindNames=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class m{constructor(h,p,b){this.offset=h,this.type=p,this.language=b,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=m;class _{constructor(h,p){this.tokens=h,this.endState=p,this._tokenizationResultBrand=void 0}}e.TokenizationResult=_;class v{constructor(h,p){this.tokens=h,this.endState=p,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=v;var C;(function(g){const h=new Map;h.set(0,L.Codicon.symbolMethod),h.set(1,L.Codicon.symbolFunction),h.set(2,L.Codicon.symbolConstructor),h.set(3,L.Codicon.symbolField),h.set(4,L.Codicon.symbolVariable),h.set(5,L.Codicon.symbolClass),h.set(6,L.Codicon.symbolStruct),h.set(7,L.Codicon.symbolInterface),h.set(8,L.Codicon.symbolModule),h.set(9,L.Codicon.symbolProperty),h.set(10,L.Codicon.symbolEvent),h.set(11,L.Codicon.symbolOperator),h.set(12,L.Codicon.symbolUnit),h.set(13,L.Codicon.symbolValue),h.set(15,L.Codicon.symbolEnum),h.set(14,L.Codicon.symbolConstant),h.set(15,L.Codicon.symbolEnum),h.set(16,L.Codicon.symbolEnumMember),h.set(17,L.Codicon.symbolKeyword),h.set(27,L.Codicon.symbolSnippet),h.set(18,L.Codicon.symbolText),h.set(19,L.Codicon.symbolColor),h.set(20,L.Codicon.symbolFile),h.set(21,L.Codicon.symbolReference),h.set(22,L.Codicon.symbolCustomColor),h.set(23,L.Codicon.symbolFolder),h.set(24,L.Codicon.symbolTypeParameter),h.set(25,L.Codicon.account),h.set(26,L.Codicon.issues);function p(E){let k=h.get(E);return k||(console.info("No codicon found for CompletionItemKind "+E),k=L.Codicon.symbolProperty),k}g.toIcon=p;const b=new Map;b.set("method",0),b.set("function",1),b.set("constructor",2),b.set("field",3),b.set("variable",4),b.set("class",5),b.set("struct",6),b.set("interface",7),b.set("module",8),b.set("property",9),b.set("event",10),b.set("operator",11),b.set("unit",12),b.set("value",13),b.set("constant",14),b.set("enum",15),b.set("enum-member",16),b.set("enumMember",16),b.set("keyword",17),b.set("snippet",27),b.set("text",18),b.set("color",19),b.set("file",20),b.set("reference",21),b.set("customcolor",22),b.set("folder",23),b.set("type-parameter",24),b.set("typeParameter",24),b.set("account",25),b.set("issue",26);function w(E,k){let M=b.get(E);return typeof M>"u"&&!k&&(M=9),M}g.fromString=w})(C||(e.CompletionItemKinds=C={}));var s;(function(g){g[g.Automatic=0]="Automatic",g[g.Explicit=1]="Explicit"})(s||(e.InlineCompletionTriggerKind=s={}));class i{constructor(h,p,b,w){this.range=h,this.text=p,this.completionKind=b,this.isSnippetText=w}equals(h){return y.Range.lift(this.range).equalsRange(h.range)&&this.text===h.text&&this.completionKind===h.completionKind&&this.isSnippetText===h.isSnippetText}}e.SelectedSuggestionInfo=i;var n;(function(g){g[g.Invoke=1]="Invoke",g[g.TriggerCharacter=2]="TriggerCharacter",g[g.ContentChange=3]="ContentChange"})(n||(e.SignatureHelpTriggerKind=n={}));var t;(function(g){g[g.Text=0]="Text",g[g.Read=1]="Read",g[g.Write=2]="Write"})(t||(e.DocumentHighlightKind=t={}));function r(g){return g&&I.URI.isUri(g.uri)&&y.Range.isIRange(g.range)&&(y.Range.isIRange(g.originSelectionRange)||y.Range.isIRange(g.targetSelectionRange))}e.isLocationLink=r,e.symbolKindNames={[17]:(0,S.localize)(0,null),[16]:(0,S.localize)(1,null),[4]:(0,S.localize)(2,null),[13]:(0,S.localize)(3,null),[8]:(0,S.localize)(4,null),[9]:(0,S.localize)(5,null),[21]:(0,S.localize)(6,null),[23]:(0,S.localize)(7,null),[7]:(0,S.localize)(8,null),[0]:(0,S.localize)(9,null),[11]:(0,S.localize)(10,null),[10]:(0,S.localize)(11,null),[19]:(0,S.localize)(12,null),[5]:(0,S.localize)(13,null),[1]:(0,S.localize)(14,null),[2]:(0,S.localize)(15,null),[20]:(0,S.localize)(16,null),[15]:(0,S.localize)(17,null),[18]:(0,S.localize)(18,null),[24]:(0,S.localize)(19,null),[3]:(0,S.localize)(20,null),[6]:(0,S.localize)(21,null),[14]:(0,S.localize)(22,null),[22]:(0,S.localize)(23,null),[25]:(0,S.localize)(24,null),[12]:(0,S.localize)(25,null)};function u(g,h){return(0,S.localize)(26,null,g,e.symbolKindNames[h])}e.getAriaLabelForSymbol=u;var f;(function(g){const h=new Map;h.set(0,L.Codicon.symbolFile),h.set(1,L.Codicon.symbolModule),h.set(2,L.Codicon.symbolNamespace),h.set(3,L.Codicon.symbolPackage),h.set(4,L.Codicon.symbolClass),h.set(5,L.Codicon.symbolMethod),h.set(6,L.Codicon.symbolProperty),h.set(7,L.Codicon.symbolField),h.set(8,L.Codicon.symbolConstructor),h.set(9,L.Codicon.symbolEnum),h.set(10,L.Codicon.symbolInterface),h.set(11,L.Codicon.symbolFunction),h.set(12,L.Codicon.symbolVariable),h.set(13,L.Codicon.symbolConstant),h.set(14,L.Codicon.symbolString),h.set(15,L.Codicon.symbolNumber),h.set(16,L.Codicon.symbolBoolean),h.set(17,L.Codicon.symbolArray),h.set(18,L.Codicon.symbolObject),h.set(19,L.Codicon.symbolKey),h.set(20,L.Codicon.symbolNull),h.set(21,L.Codicon.symbolEnumMember),h.set(22,L.Codicon.symbolStruct),h.set(23,L.Codicon.symbolEvent),h.set(24,L.Codicon.symbolOperator),h.set(25,L.Codicon.symbolTypeParameter);function p(b){let w=h.get(b);return w||(console.info("No codicon found for SymbolKind "+b),w=L.Codicon.symbolProperty),w}g.toIcon=p})(f||(e.SymbolKinds=f={}));class d{}e.TextEdit=d;class l{static fromValue(h){switch(h){case"comment":return l.Comment;case"imports":return l.Imports;case"region":return l.Region}return new l(h)}constructor(h){this.value=h}}e.FoldingRangeKind=l,l.Comment=new l("comment"),l.Imports=new l("imports"),l.Region=new l("region");var o;(function(g){function h(p){return!p||typeof p!="object"?!1:typeof p.id=="string"&&typeof p.title=="string"}g.is=h})(o||(e.Command=o={}));var c;(function(g){g[g.Type=1]="Type",g[g.Parameter=2]="Parameter"})(c||(e.InlayHintKind=c={}));class a{constructor(h){this.createSupport=h,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(h=>{h&&h.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=a,e.TokenizationRegistry=new D.TokenizationRegistry}),define(te[154],ie([1,0,29]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function I(D,S){return new L.TokenizationResult([new L.Token(0,"",D)],S)}e.nullTokenize=I;function y(D,S){const m=new Uint32Array(2);return m[0]=0,m[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new L.EncodedTokenizationResult(m,S===null?e.NullState:S)}e.nullTokenizeEncoded=y}),define(te[330],ie([1,0,10,91,29,154]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const S={getInitialState:()=>D.NullState,tokenizeEncoded:(C,s,i)=>(0,D.nullTokenizeEncoded)(0,i)};function m(C,s,i){return be(this,void 0,void 0,function*(){if(!i)return v(s,C.languageIdCodec,S);const n=yield y.TokenizationRegistry.getOrCreate(i);return v(s,C.languageIdCodec,n||S)})}e.tokenizeToString=m;function _(C,s,i,n,t,r,u){let f="<div>",d=n,l=0,o=!0;for(let c=0,a=s.getCount();c<a;c++){const g=s.getEndOffset(c);if(g<=n)continue;let h="";for(;d<g&&d<t;d++){const p=C.charCodeAt(d);switch(p){case 9:{let b=r-(d+l)%r;for(l+=b-1;b>0;)u&&o?(h+="&#160;",o=!1):(h+=" ",o=!0),b--;break}case 60:h+="&lt;",o=!1;break;case 62:h+="&gt;",o=!1;break;case 38:h+="&amp;",o=!1;break;case 0:h+="&#00;",o=!1;break;case 65279:case 8232:case 8233:case 133:h+="\uFFFD",o=!1;break;case 13:h+="&#8203",o=!1;break;case 32:u&&o?(h+="&#160;",o=!1):(h+=" ",o=!0);break;default:h+=String.fromCharCode(p),o=!1}}if(f+=`<span style="${s.getInlineStyle(c,i)}">${h}</span>`,g>t||d>=t)break}return f+="</div>",f}e.tokenizeLineToHTML=_;function v(C,s,i){let n='<div class="monaco-tokenized-source">';const t=L.splitLines(C);let r=i.getInitialState();for(let u=0,f=t.length;u<f;u++){const d=t[u];u>0&&(n+="<br/>");const l=i.tokenizeEncoded(d,!0,r);I.LineTokens.convertToEndOffset(l.tokens,d.length);const c=new I.LineTokens(l.tokens,d,s).inflate();let a=0;for(let g=0,h=c.getCount();g<h;g++){const p=c.getClassName(g),b=c.getEndOffset(g);n+=`<span class="${p}">${L.escape(d.substring(a,b))}</span>`,a=b}r=l.endState}return n+="</div>",n}e._tokenizeToString=v}),define(te[625],ie([1,0,14,9,17,59,122,64,81,154,511,291,91]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class n{constructor(c,a){this.tokenizationSupport=a,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new r(c)}getStartState(c){return this.store.getStartState(c,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=n;class t extends n{constructor(c,a,g,h){super(c,a),this._textModel=g,this._languageIdCodec=h}updateTokensUntilLine(c,a){const g=this._textModel.getLanguageId();for(;;){const h=this.getFirstInvalidLine();if(!h||h.lineNumber>a)break;const p=this._textModel.getLineContent(h.lineNumber),b=d(this._languageIdCodec,g,this.tokenizationSupport,p,!0,h.startState);c.add(h.lineNumber,b.tokens),this.store.setEndState(h.lineNumber,b.endState)}}getTokenTypeIfInsertingCharacter(c,a){const g=this.getStartState(c.lineNumber);if(!g)return 0;const h=this._textModel.getLanguageId(),p=this._textModel.getLineContent(c.lineNumber),b=p.substring(0,c.column-1)+a+p.substring(c.column-1),w=d(this._languageIdCodec,h,this.tokenizationSupport,b,!0,g),E=new i.LineTokens(w.tokens,b,this._languageIdCodec);if(E.getCount()===0)return 0;const k=E.findTokenIndexAtOffset(c.column-1);return E.getStandardTokenType(k)}tokenizeLineWithEdit(c,a,g){const h=c.lineNumber,p=c.column,b=this.getStartState(h);if(!b)return null;const w=this._textModel.getLineContent(h),E=w.substring(0,p-1)+g+w.substring(p-1+a),k=this._textModel.getLanguageIdAtPosition(h,0),M=d(this._languageIdCodec,k,this.tokenizationSupport,E,!0,b);return new i.LineTokens(M.tokens,E,this._languageIdCodec)}isCheapToTokenize(c){const a=this.store.getFirstInvalidEndStateLineNumberOrMax();return c<a||c===a&&this._textModel.getLineLength(c)<2048}tokenizeHeuristically(c,a,g){if(g<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(a<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(c,g),{heuristicTokens:!1};let h=this.guessStartState(a);const p=this._textModel.getLanguageId();for(let b=a;b<=g;b++){const w=this._textModel.getLineContent(b),E=d(this._languageIdCodec,p,this.tokenizationSupport,w,!0,h);c.add(b,E.tokens),h=E.endState}return{heuristicTokens:!0}}guessStartState(c){let a=this._textModel.getLineFirstNonWhitespaceColumn(c);const g=[];let h=null;for(let w=c-1;a>1&&w>=1;w--){const E=this._textModel.getLineFirstNonWhitespaceColumn(w);if(E!==0&&E<a&&(g.push(this._textModel.getLineContent(w)),a=E,h=this.getStartState(w),h))break}h||(h=this.tokenizationSupport.getInitialState()),g.reverse();const p=this._textModel.getLanguageId();let b=h;for(const w of g)b=d(this._languageIdCodec,p,this.tokenizationSupport,w,!1,b).endState;return b}}e.TokenizerWithStateStoreAndTextModel=t;class r{constructor(c){this.lineCount=c,this._tokenizationStateStore=new u,this._invalidEndStatesLineNumbers=new f,this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(1,c+1))}getEndState(c){return this._tokenizationStateStore.getEndState(c)}setEndState(c,a){if(!a)throw new I.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(c);const g=this._tokenizationStateStore.setEndState(c,a);return g&&c<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(c+1,c+2)),g}acceptChange(c,a){this.lineCount+=a-c.length,this._tokenizationStateStore.acceptChange(c,a),this._invalidEndStatesLineNumbers.addRangeAndResize(new _.OffsetRange(c.startLineNumber,c.endLineNumberExclusive),a)}acceptChanges(c){for(const a of c){const[g]=(0,S.countEOL)(a.text);this.acceptChange(new m.LineRange(a.range.startLineNumber,a.range.endLineNumber+1),g+1)}}invalidateEndStateRange(c){this._invalidEndStatesLineNumbers.addRange(new _.OffsetRange(c.startLineNumber,c.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(c,a){return c===1?a:this.getEndState(c-1)}getFirstInvalidLine(c){const a=this.getFirstInvalidEndStateLineNumber();if(a===null)return null;const g=this.getStartState(a,c);if(!g)throw new I.BugIndicatingError("Start state must be defined");return{lineNumber:a,startState:g}}}e.TrackingTokenizationStateStore=r;class u{constructor(){this._lineEndStates=new C.FixedArray(null)}getEndState(c){return this._lineEndStates.get(c)}setEndState(c,a){const g=this._lineEndStates.get(c);return g&&g.equals(a)?!1:(this._lineEndStates.set(c,a),!0)}acceptChange(c,a){let g=c.length;a>0&&g>0&&(g--,a--),this._lineEndStates.replace(c.startLineNumber,g,a)}}e.TokenizationStateStore=u;class f{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(c){const a=this._ranges.findIndex(g=>g.contains(c));if(a!==-1){const g=this._ranges[a];g.start===c?g.endExclusive===c+1?this._ranges.splice(a,1):this._ranges[a]=new _.OffsetRange(c+1,g.endExclusive):g.endExclusive===c+1?this._ranges[a]=new _.OffsetRange(g.start,c):this._ranges.splice(a,1,new _.OffsetRange(g.start,c),new _.OffsetRange(c+1,g.endExclusive))}}addRange(c){_.OffsetRange.addRange(c,this._ranges)}addRangeAndResize(c,a){let g=0;for(;!(g>=this._ranges.length||c.start<=this._ranges[g].endExclusive);)g++;let h=g;for(;!(h>=this._ranges.length||c.endExclusive<this._ranges[h].start);)h++;const p=a-c.length;for(let b=h;b<this._ranges.length;b++)this._ranges[b]=this._ranges[b].delta(p);if(g===h){const b=new _.OffsetRange(c.start,c.start+a);b.isEmpty||this._ranges.splice(g,0,b)}else{const b=Math.min(c.start,this._ranges[g].start),w=Math.max(c.endExclusive,this._ranges[h-1].endExclusive),E=new _.OffsetRange(b,w+p);E.isEmpty?this._ranges.splice(g,h-g):this._ranges.splice(g,h-g,E)}}toString(){return this._ranges.map(c=>c.toString()).join(" + ")}}e.RangePriorityQueueImpl=f;function d(o,c,a,g,h,p){let b=null;if(a)try{b=a.tokenizeEncoded(g,h,p.clone())}catch(w){(0,I.onUnexpectedError)(w)}return b||(b=(0,v.nullTokenizeEncoded)(o.encodeLanguageId(c),p)),i.LineTokens.convertToEndOffset(b.tokens,g.length),b}class l{constructor(c,a){this._tokenizerWithStateStore=c,this._backgroundTokenStore=a,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,L.runWhenIdle)(c=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(c)}))}_backgroundTokenizeWithDeadline(c){const a=Date.now()+c.timeRemaining(),g=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<a?(0,y.setTimeout0)(g):this._beginBackgroundTokenization())};g()}_backgroundTokenizeForAtLeast1ms(){const c=this._tokenizerWithStateStore._textModel.getLineCount(),a=new s.ContiguousMultilineTokensBuilder,g=D.StopWatch.create(!1);do if(g.elapsed()>1||this._tokenizeOneInvalidLine(a)>=c)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(a.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(c){var a;const g=(a=this._tokenizerWithStateStore)===null||a===void 0?void 0:a.getFirstInvalidLine();return g?(this._tokenizerWithStateStore.updateTokensUntilLine(c,g.lineNumber),g.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(c,a){this._tokenizerWithStateStore.store.invalidateEndStateRange(new m.LineRange(c,a))}}e.DefaultBackgroundTokenizer=l}),define(te[626],ie([1,0,13,14,9,6,2,122,64,12,145,29,285,625,291,521,523]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class f extends i.TextModelPart{constructor(c,a,g,h,p,b){super(),this._languageService=c,this._languageConfigurationService=a,this._textModel=g,this._bracketPairsTextModelPart=h,this._languageId=p,this._attachedViews=b,this._semanticTokens=new u.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new D.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new d(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(w=>{w.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(w=>{this._emitModelTokensChangedEvent(w)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(w=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(c){if(c.isFlush)this._semanticTokens.flush();else if(!c.isEolChange)for(const a of c.changes){const[g,h,p]=(0,m.countEOL)(a.text);this._semanticTokens.acceptEdit(a.range,g,h,p,a.text.length>0?a.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(c)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(c){this.validateLineNumber(c);const a=this.grammarTokens.getLineTokens(c);return this._semanticTokens.addSparseTokens(c,a)}_emitModelTokensChangedEvent(c){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(c),this._onDidChangeTokens.fire(c))}validateLineNumber(c){if(c<1||c>this._textModel.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(c){this.validateLineNumber(c),this.grammarTokens.forceTokenization(c)}isCheapToTokenize(c){return this.validateLineNumber(c),this.grammarTokens.isCheapToTokenize(c)}tokenizeIfCheap(c){this.validateLineNumber(c),this.grammarTokens.tokenizeIfCheap(c)}getTokenTypeIfInsertingCharacter(c,a,g){return this.grammarTokens.getTokenTypeIfInsertingCharacter(c,a,g)}tokenizeLineWithEdit(c,a,g){return this.grammarTokens.tokenizeLineWithEdit(c,a,g)}setSemanticTokens(c,a){this._semanticTokens.set(c,a),this._emitModelTokensChangedEvent({semanticTokensApplied:c!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(c,a){if(this.hasCompleteSemanticTokens())return;const g=this._textModel.validateRange(this._semanticTokens.setPartial(c,a));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:g.startLineNumber,toLineNumber:g.endLineNumber}]})}getWordAtPosition(c){this.assertNotDisposed();const a=this._textModel.validatePosition(c),g=this._textModel.getLineContent(a.lineNumber),h=this.getLineTokens(a.lineNumber),p=h.findTokenIndexAtOffset(a.column-1),[b,w]=f._findLanguageBoundaries(h,p),E=(0,C.getWordAtText)(a.column,this.getLanguageConfiguration(h.getLanguageId(p)).getWordDefinition(),g.substring(b,w),b);if(E&&E.startColumn<=c.column&&c.column<=E.endColumn)return E;if(p>0&&b===a.column-1){const[k,M]=f._findLanguageBoundaries(h,p-1),R=(0,C.getWordAtText)(a.column,this.getLanguageConfiguration(h.getLanguageId(p-1)).getWordDefinition(),g.substring(k,M),k);if(R&&R.startColumn<=c.column&&c.column<=R.endColumn)return R}return null}getLanguageConfiguration(c){return this._languageConfigurationService.getLanguageConfiguration(c)}static _findLanguageBoundaries(c,a){const g=c.getLanguageId(a);let h=0;for(let b=a;b>=0&&c.getLanguageId(b)===g;b--)h=c.getStartOffset(b);let p=c.getLineContent().length;for(let b=a,w=c.getCount();b<w&&c.getLanguageId(b)===g;b++)p=c.getEndOffset(b);return[h,p]}getWordUntilPosition(c){const a=this.getWordAtPosition(c);return a?{word:a.word.substr(0,c.column-a.startColumn),startColumn:a.startColumn,endColumn:c.column}:{word:"",startColumn:c.column,endColumn:c.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(c,a){const g=this._textModel.validatePosition(new v.Position(c,a)),h=this.getLineTokens(g.lineNumber);return h.getLanguageId(h.findTokenIndexAtOffset(g.column-1))}setLanguageId(c,a="api"){if(this._languageId===c)return;const g={oldLanguage:this._languageId,newLanguage:c,source:a};this._languageId=c,this._bracketPairsTextModelPart.handleDidChangeLanguage(g),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(g),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=f;class d extends S.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(c,a,g,h){super(),this._languageIdCodec=c,this._textModel=a,this.getLanguageId=g,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new S.MutableDisposable),this._tokens=new r.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new S.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new D.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new S.DisposableMap),this._register(s.TokenizationRegistry.onDidChange(p=>{const b=this.getLanguageId();p.changedLanguages.indexOf(b)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(h.onDidChangeVisibleRanges(({view:p,state:b})=>{if(b){let w=this._attachedViewStates.get(p);w||(w=new l(()=>this.refreshRanges(w.lineRanges)),this._attachedViewStates.set(p,w)),w.handleStateChange(b)}else this._attachedViewStates.deleteAndDispose(p)}))}resetTokenization(c=!0){var a;this._tokens.flush(),(a=this._debugBackgroundTokens)===null||a===void 0||a.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new n.TrackingTokenizationStateStore(this._textModel.getLineCount())),c&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const g=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const b=s.TokenizationRegistry.get(this.getLanguageId());if(!b)return[null,null];let w;try{w=b.getInitialState()}catch(E){return(0,y.onUnexpectedError)(E),[null,null]}return[b,w]},[h,p]=g();if(h&&p?this._tokenizer=new n.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),h,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const b={setTokens:w=>{this.setTokens(w)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const w=2;this._backgroundTokenizationState=w,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(w,E)=>{var k;if(!this._tokenizer)return;const M=this._tokenizer.store.getFirstInvalidEndStateLineNumber();M!==null&&w>=M&&((k=this._tokenizer)===null||k===void 0||k.store.setEndState(w,E))}};h&&h.createBackgroundTokenizer&&!h.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=h.createBackgroundTokenizer(this._textModel,b)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new n.DefaultBackgroundTokenizer(this._tokenizer,b),this._defaultBackgroundTokenizer.handleChanges()),h?.backgroundTokenizerShouldOnlyVerifyTokens&&h.createBackgroundTokenizer?(this._debugBackgroundTokens=new r.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new n.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=h.createBackgroundTokenizer(this._textModel,{setTokens:w=>{var E;(E=this._debugBackgroundTokens)===null||E===void 0||E.setMultilineTokens(w,this._textModel)},backgroundTokenizationFinished(){},setEndState:(w,E)=>{var k;(k=this._debugBackgroundStates)===null||k===void 0||k.setEndState(w,E)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var c;(c=this._defaultBackgroundTokenizer)===null||c===void 0||c.handleChanges()}handleDidChangeContent(c){var a,g,h;if(c.isFlush)this.resetTokenization(!1);else if(!c.isEolChange){for(const p of c.changes){const[b,w]=(0,m.countEOL)(p.text);this._tokens.acceptEdit(p.range,b,w),(a=this._debugBackgroundTokens)===null||a===void 0||a.acceptEdit(p.range,b,w)}(g=this._debugBackgroundStates)===null||g===void 0||g.acceptChanges(c.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(c.changes),(h=this._defaultBackgroundTokenizer)===null||h===void 0||h.handleChanges()}}setTokens(c){const{changes:a}=this._tokens.setMultilineTokens(c,this._textModel);return a.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:a}),{changes:a}}refreshAllVisibleLineTokens(){const c=_.LineRange.joinMany([...this._attachedViewStates].map(([a,g])=>g.lineRanges));this.refreshRanges(c)}refreshRanges(c){for(const a of c)this.refreshRange(a.startLineNumber,a.endLineNumberExclusive-1)}refreshRange(c,a){var g,h;if(!this._tokenizer)return;c=Math.max(1,Math.min(this._textModel.getLineCount(),c)),a=Math.min(this._textModel.getLineCount(),a);const p=new t.ContiguousMultilineTokensBuilder,{heuristicTokens:b}=this._tokenizer.tokenizeHeuristically(p,c,a),w=this.setTokens(p.finalize());if(b)for(const E of w.changes)(g=this._backgroundTokenizer.value)===null||g===void 0||g.requestTokens(E.fromLineNumber,E.toLineNumber+1);(h=this._defaultBackgroundTokenizer)===null||h===void 0||h.checkFinished()}forceTokenization(c){var a,g;const h=new t.ContiguousMultilineTokensBuilder;(a=this._tokenizer)===null||a===void 0||a.updateTokensUntilLine(h,c),this.setTokens(h.finalize()),(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.checkFinished()}isCheapToTokenize(c){return this._tokenizer?this._tokenizer.isCheapToTokenize(c):!0}tokenizeIfCheap(c){this.isCheapToTokenize(c)&&this.forceTokenization(c)}getLineTokens(c){var a;const g=this._textModel.getLineContent(c),h=this._tokens.getTokens(this._textModel.getLanguageId(),c-1,g);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>c&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>c){const p=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),c-1,g);!h.equals(p)&&(!((a=this._debugBackgroundTokenizer.value)===null||a===void 0)&&a.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(c)}return h}getTokenTypeIfInsertingCharacter(c,a,g){if(!this._tokenizer)return 0;const h=this._textModel.validatePosition(new v.Position(c,a));return this.forceTokenization(h.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(h,g)}tokenizeLineWithEdit(c,a,g){if(!this._tokenizer)return null;const h=this._textModel.validatePosition(c);return this.forceTokenization(h.lineNumber),this._tokenizer.tokenizeLineWithEdit(h,a,g)}get hasTokens(){return this._tokens.hasTokens}}class l extends S.Disposable{get lineRanges(){return this._lineRanges}constructor(c){super(),this._refreshTokens=c,this.runner=this._register(new I.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,L.equals)(this._computedLineRanges,this._lineRanges,(c,a)=>c.equals(a))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(c){this._lineRanges=c.visibleLineRanges,c.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(te[331],ie([1,0,19,6,62,21,12,5,24,29,209]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class s{static chord(t,r){return(0,y.KeyChord)(t,r)}}e.KeyMod=s,s.CtrlCmd=2048,s.Shift=1024,s.Alt=512,s.WinCtrl=256;function i(){return{editor:void 0,languages:void 0,CancellationTokenSource:L.CancellationTokenSource,Emitter:I.Emitter,KeyCode:C.KeyCode,KeyMod:s,Position:S.Position,Range:m.Range,Selection:_.Selection,SelectionDirection:C.SelectionDirection,MarkerSeverity:C.MarkerSeverity,MarkerTag:C.MarkerTag,Uri:D.URI,Token:v.Token}}e.createMonacoBaseAPI=i}),define(te[627],ie([1,0,167,21,12,5,515,145,498,504,331,59,289,495,52,497]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class u extends S.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(o){const c=[];for(let a=0;a<this._lines.length;a++){const g=this._lines[a],h=this.offsetAt(new y.Position(a+1,1)),p=g.matchAll(o);for(const b of p)(b.index||b.index===0)&&(b.index=b.index+h),c.push(b)}return c}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(o){return this._lines[o-1]}getWordAtPosition(o,c){const a=(0,m.getWordAtText)(o.column,(0,m.ensureValidWordDefinition)(c),this._lines[o.lineNumber-1],0);return a?new D.Range(o.lineNumber,a.startColumn,o.lineNumber,a.endColumn):null}words(o){const c=this._lines,a=this._wordenize.bind(this);let g=0,h="",p=0,b=[];return{*[Symbol.iterator](){for(;;)if(p<b.length){const w=h.substring(b[p].start,b[p].end);p+=1,yield w}else if(g<c.length)h=c[g],b=a(h,o),p=0,g+=1;else break}}}getLineWords(o,c){const a=this._lines[o-1],g=this._wordenize(a,c),h=[];for(const p of g)h.push({word:a.substring(p.start,p.end),startColumn:p.start+1,endColumn:p.end+1});return h}_wordenize(o,c){const a=[];let g;for(c.lastIndex=0;(g=c.exec(o))&&g[0].length!==0;)a.push({start:g.index,end:g.index+g[0].length});return a}getValueInRange(o){if(o=this._validateRange(o),o.startLineNumber===o.endLineNumber)return this._lines[o.startLineNumber-1].substring(o.startColumn-1,o.endColumn-1);const c=this._eol,a=o.startLineNumber-1,g=o.endLineNumber-1,h=[];h.push(this._lines[a].substring(o.startColumn-1));for(let p=a+1;p<g;p++)h.push(this._lines[p]);return h.push(this._lines[g].substring(0,o.endColumn-1)),h.join(c)}offsetAt(o){return o=this._validatePosition(o),this._ensureLineStarts(),this._lineStarts.getPrefixSum(o.lineNumber-2)+(o.column-1)}positionAt(o){o=Math.floor(o),o=Math.max(0,o),this._ensureLineStarts();const c=this._lineStarts.getIndexOf(o),a=this._lines[c.index].length;return{lineNumber:1+c.index,column:1+Math.min(c.remainder,a)}}_validateRange(o){const c=this._validatePosition({lineNumber:o.startLineNumber,column:o.startColumn}),a=this._validatePosition({lineNumber:o.endLineNumber,column:o.endColumn});return c.lineNumber!==o.startLineNumber||c.column!==o.startColumn||a.lineNumber!==o.endLineNumber||a.column!==o.endColumn?{startLineNumber:c.lineNumber,startColumn:c.column,endLineNumber:a.lineNumber,endColumn:a.column}:o}_validatePosition(o){if(!y.Position.isIPosition(o))throw new Error("bad position");let{lineNumber:c,column:a}=o,g=!1;if(c<1)c=1,a=1,g=!0;else if(c>this._lines.length)c=this._lines.length,a=this._lines[c-1].length+1,g=!0;else{const h=this._lines[c-1].length+1;a<1?(a=1,g=!0):a>h&&(a=h,g=!0)}return g?{lineNumber:c,column:a}:o}}class f{constructor(o,c){this._host=o,this._models=Object.create(null),this._foreignModuleFactory=c,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(o){return this._models[o]}_getModels(){const o=[];return Object.keys(this._models).forEach(c=>o.push(this._models[c])),o}acceptNewModel(o){this._models[o.url]=new u(I.URI.parse(o.url),o.lines,o.EOL,o.versionId)}acceptModelChanged(o,c){if(!this._models[o])return;this._models[o].onEvents(c)}acceptRemovedModel(o){this._models[o]&&delete this._models[o]}computeUnicodeHighlights(o,c,a){return be(this,void 0,void 0,function*(){const g=this._getModel(o);return g?i.UnicodeTextModelHighlighter.computeUnicodeHighlights(g,c,a):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(o,c,a,g){return be(this,void 0,void 0,function*(){const h=this._getModel(o),p=this._getModel(c);return!h||!p?null:f.computeDiff(h,p,a,g)})}static computeDiff(o,c,a,g){const h=g==="advanced"?n.linesDiffComputers.getDefault():n.linesDiffComputers.getLegacy(),p=o.getLinesContent(),b=c.getLinesContent(),w=h.computeDiff(p,b,a),E=w.changes.length>0?!1:this._modelsAreIdentical(o,c);function k(M){return M.map(R=>{var B;return[R.original.startLineNumber,R.original.endLineNumberExclusive,R.modified.startLineNumber,R.modified.endLineNumberExclusive,(B=R.innerChanges)===null||B===void 0?void 0:B.map(T=>[T.originalRange.startLineNumber,T.originalRange.startColumn,T.originalRange.endLineNumber,T.originalRange.endColumn,T.modifiedRange.startLineNumber,T.modifiedRange.startColumn,T.modifiedRange.endLineNumber,T.modifiedRange.endColumn])]})}return{identical:E,quitEarly:w.hitTimeout,changes:k(w.changes),moves:w.moves.map(M=>[M.lineRangeMapping.original.startLineNumber,M.lineRangeMapping.original.endLineNumberExclusive,M.lineRangeMapping.modified.startLineNumber,M.lineRangeMapping.modified.endLineNumberExclusive,k(M.changes)])}}static _modelsAreIdentical(o,c){const a=o.getLineCount(),g=c.getLineCount();if(a!==g)return!1;for(let h=1;h<=a;h++){const p=o.getLineContent(h),b=c.getLineContent(h);if(p!==b)return!1}return!0}computeMoreMinimalEdits(o,c,a){return be(this,void 0,void 0,function*(){const g=this._getModel(o);if(!g)return c;const h=[];let p;c=c.slice(0).sort((w,E)=>{if(w.range&&E.range)return D.Range.compareRangesUsingStarts(w.range,E.range);const k=w.range?0:1,M=E.range?0:1;return k-M});let b=0;for(let w=1;w<c.length;w++)D.Range.getEndPosition(c[b].range).equals(D.Range.getStartPosition(c[w].range))?(c[b].range=D.Range.fromPositions(D.Range.getStartPosition(c[b].range),D.Range.getEndPosition(c[w].range)),c[b].text+=c[w].text):(b++,c[b]=c[w]);c.length=b+1;for(let{range:w,text:E,eol:k}of c){if(typeof k=="number"&&(p=k),D.Range.isEmpty(w)&&!E)continue;const M=g.getValueInRange(w);if(E=E.replace(/\r\n|\n|\r/g,g.eol),M===E)continue;if(Math.max(E.length,M.length)>f._diffLimit){h.push({range:w,text:E});continue}const R=(0,L.stringDiff)(M,E,a),B=g.offsetAt(D.Range.lift(w).getStartPosition());for(const T of R){const N=g.positionAt(B+T.originalStart),A=g.positionAt(B+T.originalStart+T.originalLength),P={text:E.substr(T.modifiedStart,T.modifiedLength),range:{startLineNumber:N.lineNumber,startColumn:N.column,endLineNumber:A.lineNumber,endColumn:A.column}};g.getValueInRange(P.range)!==P.text&&h.push(P)}}return typeof p=="number"&&h.push({eol:p,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),h})}computeLinks(o){return be(this,void 0,void 0,function*(){const c=this._getModel(o);return c?(0,_.computeLinks)(c):null})}computeDefaultDocumentColors(o){return be(this,void 0,void 0,function*(){const c=this._getModel(o);return c?(0,r.computeDefaultDocumentColors)(c):null})}textualSuggest(o,c,a,g){return be(this,void 0,void 0,function*(){const h=new s.StopWatch,p=new RegExp(a,g),b=new Set;e:for(const w of o){const E=this._getModel(w);if(E){for(const k of E.words(p))if(!(k===c||!isNaN(Number(k)))&&(b.add(k),b.size>f._suggestionsLimit))break e}}return{words:Array.from(b),duration:h.elapsed()}})}computeWordRanges(o,c,a,g){return be(this,void 0,void 0,function*(){const h=this._getModel(o);if(!h)return Object.create(null);const p=new RegExp(a,g),b=Object.create(null);for(let w=c.startLineNumber;w<c.endLineNumber;w++){const E=h.getLineWords(w,p);for(const k of E){if(!isNaN(Number(k.word)))continue;let M=b[k.word];M||(M=[],b[k.word]=M),M.push({startLineNumber:w,startColumn:k.startColumn,endLineNumber:w,endColumn:k.endColumn})}}return b})}navigateValueSet(o,c,a,g,h){return be(this,void 0,void 0,function*(){const p=this._getModel(o);if(!p)return null;const b=new RegExp(g,h);c.startColumn===c.endColumn&&(c={startLineNumber:c.startLineNumber,startColumn:c.startColumn,endLineNumber:c.endLineNumber,endColumn:c.endColumn+1});const w=p.getValueInRange(c),E=p.getWordAtPosition({lineNumber:c.startLineNumber,column:c.startColumn},b);if(!E)return null;const k=p.getValueInRange(E);return v.BasicInplaceReplace.INSTANCE.navigateValueSet(c,w,E,k,a)})}loadForeignModule(o,c,a){const g=(b,w)=>this._host.fhr(b,w),p={host:(0,t.createProxyObject)(a,g),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(p,c),Promise.resolve((0,t.getAllMethodNames)(this._foreignModule))):new Promise((b,w)=>{$([o],E=>{this._foreignModule=E.create(p,c),b((0,t.getAllMethodNames)(this._foreignModule))},w)})}fmr(o,c){if(!this._foreignModule||typeof this._foreignModule[o]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+o));try{return Promise.resolve(this._foreignModule[o].apply(this._foreignModule,c))}catch(a){return Promise.reject(a)}}}e.EditorSimpleWorker=f,f._diffLimit=1e5,f._suggestionsLimit=1e4;function d(l){return new f(l,null)}e.create=d,typeof importScripts=="function"&&(globalThis.monaco=(0,C.createMonacoBaseAPI)())}),define(te[332],ie([1,0,6,2,274,29]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends I.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,I.markAsSingleton)(new S)),this._INSTANCE}constructor(){super(),this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(_=>{_.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const _=D.TokenizationRegistry.getColorMap();if(!_){this._colors=[y.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[y.RGBA8.Empty];for(let C=1;C<_.length;C++){const s=_[C].rgba;this._colors[C]=new y.RGBA8(s.r,s.g,s.b,Math.round(s.a*255))}const v=_[2].getRelativeLuminance();this._backgroundIsLight=v>=.5,this._onDidChange.fire(void 0)}getColor(_){return(_<1||_>=this._colors.length)&&(_=2),this._colors[_]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(te[628],ie([3,4]),function($,e){return $.create("vs/editor/common/languages/modesRegistry",e)}),define(te[629],ie([3,4]),function($,e){return $.create("vs/editor/common/model/editStack",e)}),define(te[333],ie([1,0,629,9,24,21,323,138,46]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function v(u){return u.toString()}class C{static create(f,d){const l=f.getAlternativeVersionId(),o=n(f);return new C(l,l,o,o,d,d,[])}constructor(f,d,l,o,c,a,g){this.beforeVersionId=f,this.afterVersionId=d,this.beforeEOL=l,this.afterEOL=o,this.beforeCursorState=c,this.afterCursorState=a,this.changes=g}append(f,d,l,o,c){d.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,d)),this.afterEOL=l,this.afterVersionId=o,this.afterCursorState=c}static _writeSelectionsSize(f){return 4+4*4*(f?f.length:0)}static _writeSelections(f,d,l){if(m.writeUInt32BE(f,d?d.length:0,l),l+=4,d)for(const o of d)m.writeUInt32BE(f,o.selectionStartLineNumber,l),l+=4,m.writeUInt32BE(f,o.selectionStartColumn,l),l+=4,m.writeUInt32BE(f,o.positionLineNumber,l),l+=4,m.writeUInt32BE(f,o.positionColumn,l),l+=4;return l}static _readSelections(f,d,l){const o=m.readUInt32BE(f,d);d+=4;for(let c=0;c<o;c++){const a=m.readUInt32BE(f,d);d+=4;const g=m.readUInt32BE(f,d);d+=4;const h=m.readUInt32BE(f,d);d+=4;const p=m.readUInt32BE(f,d);d+=4,l.push(new y.Selection(a,g,h,p))}return d}serialize(){let f=10+C._writeSelectionsSize(this.beforeCursorState)+C._writeSelectionsSize(this.afterCursorState)+4;for(const o of this.changes)f+=o.writeSize();const d=new Uint8Array(f);let l=0;m.writeUInt32BE(d,this.beforeVersionId,l),l+=4,m.writeUInt32BE(d,this.afterVersionId,l),l+=4,m.writeUInt8(d,this.beforeEOL,l),l+=1,m.writeUInt8(d,this.afterEOL,l),l+=1,l=C._writeSelections(d,this.beforeCursorState,l),l=C._writeSelections(d,this.afterCursorState,l),m.writeUInt32BE(d,this.changes.length,l),l+=4;for(const o of this.changes)l=o.write(d,l);return d.buffer}static deserialize(f){const d=new Uint8Array(f);let l=0;const o=m.readUInt32BE(d,l);l+=4;const c=m.readUInt32BE(d,l);l+=4;const a=m.readUInt8(d,l);l+=1;const g=m.readUInt8(d,l);l+=1;const h=[];l=C._readSelections(d,l,h);const p=[];l=C._readSelections(d,l,p);const b=m.readUInt32BE(d,l);l+=4;const w=[];for(let E=0;E<b;E++)l=S.TextChange.read(d,l,w);return new C(o,c,a,g,h,p,w)}}e.SingleModelEditStackData=C;class s{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(f,d,l,o){this.label=f,this.code=d,this.model=l,this._data=C.create(l,o)}toString(){return(this._data instanceof C?this._data:C.deserialize(this._data)).changes.map(d=>d.toString()).join(", ")}matchesResource(f){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===f.toString()}setModel(f){this.model=f}canAppend(f){return this.model===f&&this._data instanceof C}append(f,d,l,o,c){this._data instanceof C&&this._data.append(f,d,l,o,c)}close(){this._data instanceof C&&(this._data=this._data.serialize())}open(){this._data instanceof C||(this._data=C.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const f=C.deserialize(this._data);this.model._applyUndo(f.changes,f.beforeEOL,f.beforeVersionId,f.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const f=C.deserialize(this._data);this.model._applyRedo(f.changes,f.afterEOL,f.afterVersionId,f.afterCursorState)}heapSize(){return this._data instanceof C&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=s;class i{get resources(){return this._editStackElementsArr.map(f=>f.resource)}constructor(f,d,l){this.label=f,this.code=d,this.type=1,this._isOpen=!0,this._editStackElementsArr=l.slice(0),this._editStackElementsMap=new Map;for(const o of this._editStackElementsArr){const c=v(o.resource);this._editStackElementsMap.set(c,o)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(f){const d=v(f);return this._editStackElementsMap.has(d)}setModel(f){const d=v(D.URI.isUri(f)?f:f.uri);this._editStackElementsMap.has(d)&&this._editStackElementsMap.get(d).setModel(f)}canAppend(f){if(!this._isOpen)return!1;const d=v(f.uri);return this._editStackElementsMap.has(d)?this._editStackElementsMap.get(d).canAppend(f):!1}append(f,d,l,o,c){const a=v(f.uri);this._editStackElementsMap.get(a).append(f,d,l,o,c)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const f of this._editStackElementsArr)f.undo()}redo(){for(const f of this._editStackElementsArr)f.redo()}heapSize(f){const d=v(f);return this._editStackElementsMap.has(d)?this._editStackElementsMap.get(d).heapSize():0}split(){return this._editStackElementsArr}toString(){const f=[];for(const d of this._editStackElementsArr)f.push(`${(0,_.basename)(d.resource)}: ${d}`);return`{${f.join(", ")}}`}}e.MultiModelEditStackElement=i;function n(u){return u.getEOL()===`
`?0:1}function t(u){return u?u instanceof s||u instanceof i:!1}e.isEditStackElement=t;class r{constructor(f,d){this._model=f,this._undoRedoService=d}pushStackElement(){const f=this._undoRedoService.getLastElement(this._model.uri);t(f)&&f.close()}popStackElement(){const f=this._undoRedoService.getLastElement(this._model.uri);t(f)&&f.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(f,d){const l=this._undoRedoService.getLastElement(this._model.uri);if(t(l)&&l.canAppend(this._model))return l;const o=new s(L.localize(0,null),"undoredo.textBufferEdit",this._model,f);return this._undoRedoService.pushElement(o,d),o}pushEOL(f){const d=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(f),d.append(this._model,[],n(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(f,d,l,o){const c=this._getOrCreateEditStackElement(f,o),a=this._model.applyEdits(d,!0),g=r._computeCursorState(l,a),h=a.map((p,b)=>({index:b,textChange:p.textChange}));return h.sort((p,b)=>p.textChange.oldPosition===b.textChange.oldPosition?p.index-b.index:p.textChange.oldPosition-b.textChange.oldPosition),c.append(this._model,h.map(p=>p.textChange),n(this._model),this._model.getAlternativeVersionId(),g),g}static _computeCursorState(f,d){try{return f?f(d):null}catch(l){return(0,I.onUnexpectedError)(l),null}}}e.EditStack=r}),define(te[630],ie([3,4]),function($,e){return $.create("vs/editor/common/standaloneStrings",e)}),define(te[93],ie([1,0,630]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var I;(function(s){s.inspectTokensAction=L.localize(0,null)})(I||(e.InspectTokensNLS=I={}));var y;(function(s){s.gotoLineActionLabel=L.localize(1,null)})(y||(e.GoToLineNLS=y={}));var D;(function(s){s.helpQuickAccessActionLabel=L.localize(2,null)})(D||(e.QuickHelpNLS=D={}));var S;(function(s){s.quickCommandActionLabel=L.localize(3,null),s.quickCommandHelp=L.localize(4,null)})(S||(e.QuickCommandNLS=S={}));var m;(function(s){s.quickOutlineActionLabel=L.localize(5,null),s.quickOutlineByCategoryActionLabel=L.localize(6,null)})(m||(e.QuickOutlineNLS=m={}));var _;(function(s){s.editorViewAccessibleLabel=L.localize(7,null),s.accessibilityHelpMessage=L.localize(8,null)})(_||(e.StandaloneCodeEditorNLS=_={}));var v;(function(s){s.toggleHighContrast=L.localize(9,null)})(v||(e.ToggleHighContrastNLS=v={}));var C;(function(s){s.bulkEditServiceSummary=L.localize(10,null)})(C||(e.StandaloneServicesNLS=C={}))}),define(te[631],ie([3,4]),function($,e){return $.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(te[114],ie([1,0,631,10,101,149,532]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class m{constructor(w,E){this.startOffset=w,this.endOffset=E}equals(w){return this.startOffset===w.startOffset&&this.endOffset===w.endOffset}}e.LineRange=m;class _{constructor(w,E,k,M,R,B,T,N,A,P,O,x,W,U,F,G,Y,ne,se){this.useMonospaceOptimizations=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=k,this.continuesWithWrappedLine=M,this.isBasicASCII=R,this.containsRTL=B,this.fauxIndentLength=T,this.lineTokens=N,this.lineDecorations=A.sort(D.LineDecoration.compare),this.tabSize=P,this.startVisibleColumn=O,this.spaceWidth=x,this.stopRenderingLineAfter=F,this.renderWhitespace=G==="all"?4:G==="boundary"?1:G==="selection"?2:G==="trailing"?3:0,this.renderControlCharacters=Y,this.fontLigatures=ne,this.selectionsOnLine=se&&se.sort((H,V)=>H.startOffset<V.startOffset?-1:1);const J=Math.abs(U-x),q=Math.abs(W-x);J<q?(this.renderSpaceWidth=U,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=W,this.renderSpaceCharCode=183)}sameSelection(w){if(this.selectionsOnLine===null)return w===null;if(w===null||w.length!==this.selectionsOnLine.length)return!1;for(let E=0;E<this.selectionsOnLine.length;E++)if(!this.selectionsOnLine[E].equals(w[E]))return!1;return!0}equals(w){return this.useMonospaceOptimizations===w.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===w.canUseHalfwidthRightwardsArrow&&this.lineContent===w.lineContent&&this.continuesWithWrappedLine===w.continuesWithWrappedLine&&this.isBasicASCII===w.isBasicASCII&&this.containsRTL===w.containsRTL&&this.fauxIndentLength===w.fauxIndentLength&&this.tabSize===w.tabSize&&this.startVisibleColumn===w.startVisibleColumn&&this.spaceWidth===w.spaceWidth&&this.renderSpaceWidth===w.renderSpaceWidth&&this.renderSpaceCharCode===w.renderSpaceCharCode&&this.stopRenderingLineAfter===w.stopRenderingLineAfter&&this.renderWhitespace===w.renderWhitespace&&this.renderControlCharacters===w.renderControlCharacters&&this.fontLigatures===w.fontLigatures&&D.LineDecoration.equalsArr(this.lineDecorations,w.lineDecorations)&&this.lineTokens.equals(w.lineTokens)&&this.sameSelection(w.selectionsOnLine)}}e.RenderLineInput=_;class v{constructor(w,E){this.partIndex=w,this.charIndex=E}}e.DomPosition=v;class C{static getPartIndex(w){return(w&4294901760)>>>16}static getCharIndex(w){return(w&65535)>>>0}constructor(w,E){this.length=w,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(w,E,k,M){const R=(E<<16|k<<0)>>>0;this._data[w-1]=R,this._horizontalOffset[w-1]=M}getHorizontalOffset(w){return this._horizontalOffset.length===0?0:this._horizontalOffset[w-1]}charOffsetToPartData(w){return this.length===0?0:w<0?this._data[0]:w>=this.length?this._data[this.length-1]:this._data[w]}getDomPosition(w){const E=this.charOffsetToPartData(w-1),k=C.getPartIndex(E),M=C.getCharIndex(E);return new v(k,M)}getColumn(w,E){return this.partDataToCharOffset(w.partIndex,E,w.charIndex)+1}partDataToCharOffset(w,E,k){if(this.length===0)return 0;const M=(w<<16|k<<0)>>>0;let R=0,B=this.length-1;for(;R+1<B;){const F=R+B>>>1,G=this._data[F];if(G===M)return F;G>M?B=F:R=F}if(R===B)return R;const T=this._data[R],N=this._data[B];if(T===M)return R;if(N===M)return B;const A=C.getPartIndex(T),P=C.getCharIndex(T),O=C.getPartIndex(N);let x;A!==O?x=E:x=C.getCharIndex(N);const W=k-P,U=x-k;return W<=U?R:B}}e.CharacterMapping=C;class s{constructor(w,E,k){this._renderLineOutputBrand=void 0,this.characterMapping=w,this.containsRTL=E,this.containsForeignElements=k}}e.RenderLineOutput=s;function i(b,w){if(b.lineContent.length===0){if(b.lineDecorations.length>0){w.appendString("<span>");let E=0,k=0,M=0;for(const B of b.lineDecorations)(B.type===1||B.type===2)&&(w.appendString('<span class="'),w.appendString(B.className),w.appendString('"></span>'),B.type===1&&(M|=1,E++),B.type===2&&(M|=2,k++));w.appendString("</span>");const R=new C(1,E+k);return R.setColumnInfo(1,E,0,0),new s(R,!1,M)}return w.appendString("<span><span></span></span>"),new s(new C(0,0),!1,0)}return g(u(b),w)}e.renderViewLine=i;class n{constructor(w,E,k,M){this.characterMapping=w,this.html=E,this.containsRTL=k,this.containsForeignElements=M}}e.RenderLineOutput2=n;function t(b){const w=new y.StringBuilder(1e4),E=i(b,w);return new n(E.characterMapping,w.build(),E.containsRTL,E.containsForeignElements)}e.renderViewLine2=t;class r{constructor(w,E,k,M,R,B,T,N,A,P,O,x,W,U,F,G){this.fontIsMonospace=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=k,this.len=M,this.isOverflowing=R,this.overflowingCharCount=B,this.parts=T,this.containsForeignElements=N,this.fauxIndentLength=A,this.tabSize=P,this.startVisibleColumn=O,this.containsRTL=x,this.spaceWidth=W,this.renderSpaceCharCode=U,this.renderWhitespace=F,this.renderControlCharacters=G}}function u(b){const w=b.lineContent;let E,k,M;b.stopRenderingLineAfter!==-1&&b.stopRenderingLineAfter<w.length?(E=!0,k=w.length-b.stopRenderingLineAfter,M=b.stopRenderingLineAfter):(E=!1,k=0,M=w.length);let R=f(w,b.containsRTL,b.lineTokens,b.fauxIndentLength,M);b.renderControlCharacters&&!b.isBasicASCII&&(R=o(w,R)),(b.renderWhitespace===4||b.renderWhitespace===1||b.renderWhitespace===2&&b.selectionsOnLine||b.renderWhitespace===3&&!b.continuesWithWrappedLine)&&(R=c(b,w,M,R));let B=0;if(b.lineDecorations.length>0){for(let T=0,N=b.lineDecorations.length;T<N;T++){const A=b.lineDecorations[T];A.type===3||A.type===1?B|=1:A.type===2&&(B|=2)}R=a(w,M,R,b.lineDecorations)}return b.containsRTL||(R=d(w,R,!b.isBasicASCII||b.fontLigatures)),new r(b.useMonospaceOptimizations,b.canUseHalfwidthRightwardsArrow,w,M,E,k,R,B,b.fauxIndentLength,b.tabSize,b.startVisibleColumn,b.containsRTL,b.spaceWidth,b.renderSpaceCharCode,b.renderWhitespace,b.renderControlCharacters)}function f(b,w,E,k,M){const R=[];let B=0;k>0&&(R[B++]=new S.LinePart(k,"",0,!1));let T=k;for(let N=0,A=E.getCount();N<A;N++){const P=E.getEndOffset(N);if(P<=k)continue;const O=E.getClassName(N);if(P>=M){const W=w?I.containsRTL(b.substring(T,M)):!1;R[B++]=new S.LinePart(M,O,0,W);break}const x=w?I.containsRTL(b.substring(T,P)):!1;R[B++]=new S.LinePart(P,O,0,x),T=P}return R}function d(b,w,E){let k=0;const M=[];let R=0;if(E)for(let B=0,T=w.length;B<T;B++){const N=w[B],A=N.endIndex;if(k+50<A){const P=N.type,O=N.metadata,x=N.containsRTL;let W=-1,U=k;for(let F=k;F<A;F++)b.charCodeAt(F)===32&&(W=F),W!==-1&&F-U>=50&&(M[R++]=new S.LinePart(W+1,P,O,x),U=W+1,W=-1);U!==A&&(M[R++]=new S.LinePart(A,P,O,x))}else M[R++]=N;k=A}else for(let B=0,T=w.length;B<T;B++){const N=w[B],A=N.endIndex,P=A-k;if(P>50){const O=N.type,x=N.metadata,W=N.containsRTL,U=Math.ceil(P/50);for(let F=1;F<U;F++){const G=k+F*50;M[R++]=new S.LinePart(G,O,x,W)}M[R++]=new S.LinePart(A,O,x,W)}else M[R++]=N;k=A}return M}function l(b){return b<32?b!==9:b===127||b>=8234&&b<=8238||b>=8294&&b<=8297||b>=8206&&b<=8207||b===1564}function o(b,w){const E=[];let k=new S.LinePart(0,"",0,!1),M=0;for(const R of w){const B=R.endIndex;for(;M<B;M++){const T=b.charCodeAt(M);l(T)&&(M>k.endIndex&&(k=new S.LinePart(M,R.type,R.metadata,R.containsRTL),E.push(k)),k=new S.LinePart(M+1,"mtkcontrol",R.metadata,!1),E.push(k))}M>k.endIndex&&(k=new S.LinePart(B,R.type,R.metadata,R.containsRTL),E.push(k))}return E}function c(b,w,E,k){const M=b.continuesWithWrappedLine,R=b.fauxIndentLength,B=b.tabSize,T=b.startVisibleColumn,N=b.useMonospaceOptimizations,A=b.selectionsOnLine,P=b.renderWhitespace===1,O=b.renderWhitespace===3,x=b.renderSpaceWidth!==b.spaceWidth,W=[];let U=0,F=0,G=k[F].type,Y=k[F].containsRTL,ne=k[F].endIndex;const se=k.length;let J=!1,q=I.firstNonWhitespaceIndex(w),H;q===-1?(J=!0,q=E,H=E):H=I.lastNonWhitespaceIndex(w);let V=!1,Z=0,ee=A&&A[Z],le=T%B;for(let de=R;de<E;de++){const ce=w.charCodeAt(de);ee&&de>=ee.endOffset&&(Z++,ee=A&&A[Z]);let ae;if(de<q||de>H)ae=!0;else if(ce===9)ae=!0;else if(ce===32)if(P)if(V)ae=!0;else{const X=de+1<E?w.charCodeAt(de+1):0;ae=X===32||X===9}else ae=!0;else ae=!1;if(ae&&A&&(ae=!!ee&&ee.startOffset<=de&&ee.endOffset>de),ae&&O&&(ae=J||de>H),ae&&Y&&de>=q&&de<=H&&(ae=!1),V){if(!ae||!N&&le>=B){if(x){const X=U>0?W[U-1].endIndex:R;for(let K=X+1;K<=de;K++)W[U++]=new S.LinePart(K,"mtkw",1,!1)}else W[U++]=new S.LinePart(de,"mtkw",1,!1);le=le%B}}else(de===ne||ae&&de>R)&&(W[U++]=new S.LinePart(de,G,0,Y),le=le%B);for(ce===9?le=B:I.isFullWidthCharacter(ce)?le+=2:le++,V=ae;de===ne&&(F++,F<se);)G=k[F].type,Y=k[F].containsRTL,ne=k[F].endIndex}let ue=!1;if(V)if(M&&P){const de=E>0?w.charCodeAt(E-1):0,ce=E>1?w.charCodeAt(E-2):0;de===32&&ce!==32&&ce!==9||(ue=!0)}else ue=!0;if(ue)if(x){const de=U>0?W[U-1].endIndex:R;for(let ce=de+1;ce<=E;ce++)W[U++]=new S.LinePart(ce,"mtkw",1,!1)}else W[U++]=new S.LinePart(E,"mtkw",1,!1);else W[U++]=new S.LinePart(E,G,0,Y);return W}function a(b,w,E,k){k.sort(D.LineDecoration.compare);const M=D.LineDecorationsNormalizer.normalize(b,k),R=M.length;let B=0;const T=[];let N=0,A=0;for(let O=0,x=E.length;O<x;O++){const W=E[O],U=W.endIndex,F=W.type,G=W.metadata,Y=W.containsRTL;for(;B<R&&M[B].startOffset<U;){const ne=M[B];if(ne.startOffset>A&&(A=ne.startOffset,T[N++]=new S.LinePart(A,F,G,Y)),ne.endOffset+1<=U)A=ne.endOffset+1,T[N++]=new S.LinePart(A,F+" "+ne.className,G|ne.metadata,Y),B++;else{A=U,T[N++]=new S.LinePart(A,F+" "+ne.className,G|ne.metadata,Y);break}}U>A&&(A=U,T[N++]=new S.LinePart(A,F,G,Y))}const P=E[E.length-1].endIndex;if(B<R&&M[B].startOffset===P)for(;B<R&&M[B].startOffset===P;){const O=M[B];T[N++]=new S.LinePart(A,O.className,O.metadata,!1),B++}return T}function g(b,w){const E=b.fontIsMonospace,k=b.canUseHalfwidthRightwardsArrow,M=b.containsForeignElements,R=b.lineContent,B=b.len,T=b.isOverflowing,N=b.overflowingCharCount,A=b.parts,P=b.fauxIndentLength,O=b.tabSize,x=b.startVisibleColumn,W=b.containsRTL,U=b.spaceWidth,F=b.renderSpaceCharCode,G=b.renderWhitespace,Y=b.renderControlCharacters,ne=new C(B+1,A.length);let se=!1,J=0,q=x,H=0,V=0,Z=0;W?w.appendString('<span dir="ltr">'):w.appendString("<span>");for(let ee=0,le=A.length;ee<le;ee++){const ue=A[ee],de=ue.endIndex,ce=ue.type,ae=ue.containsRTL,X=G!==0&&ue.isWhitespace(),K=X&&!E&&(ce==="mtkw"||!M),z=J===de&&ue.isPseudoAfter();if(H=0,w.appendString("<span "),ae&&w.appendString('style="unicode-bidi:isolate" '),w.appendString('class="'),w.appendString(K?"mtkz":ce),w.appendASCIICharCode(34),X){let Q=0;{let j=J,re=q;for(;j<de;j++){const he=(R.charCodeAt(j)===9?O-re%O:1)|0;Q+=he,j>=P&&(re+=he)}}for(K&&(w.appendString(' style="width:'),w.appendString(String(U*Q)),w.appendString('px"')),w.appendASCIICharCode(62);J<de;J++){ne.setColumnInfo(J+1,ee-Z,H,V),Z=0;const j=R.charCodeAt(J);let re,oe;if(j===9){re=O-q%O|0,oe=re,!k||oe>1?w.appendCharCode(8594):w.appendCharCode(65515);for(let he=2;he<=oe;he++)w.appendCharCode(160)}else re=2,oe=1,w.appendCharCode(F),w.appendCharCode(8204);H+=re,V+=oe,J>=P&&(q+=oe)}}else for(w.appendASCIICharCode(62);J<de;J++){ne.setColumnInfo(J+1,ee-Z,H,V),Z=0;const Q=R.charCodeAt(J);let j=1,re=1;switch(Q){case 9:j=O-q%O,re=j;for(let oe=1;oe<=j;oe++)w.appendCharCode(160);break;case 32:w.appendCharCode(160);break;case 60:w.appendString("&lt;");break;case 62:w.appendString("&gt;");break;case 38:w.appendString("&amp;");break;case 0:Y?w.appendCharCode(9216):w.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:w.appendCharCode(65533);break;default:I.isFullWidthCharacter(Q)&&re++,Y&&Q<32?w.appendCharCode(9216+Q):Y&&Q===127?w.appendCharCode(9249):Y&&l(Q)?(w.appendString("[U+"),w.appendString(h(Q)),w.appendString("]"),j=8,re=j):w.appendCharCode(Q)}H+=j,V+=re,J>=P&&(q+=re)}z?Z++:Z=0,J>=B&&!se&&ue.isPseudoAfter()&&(se=!0,ne.setColumnInfo(J+1,ee,H,V)),w.appendString("</span>")}return se||ne.setColumnInfo(B+1,A.length-1,H,V),T&&(w.appendString('<span class="mtkoverflow">'),w.appendString(L.localize(0,null,p(N))),w.appendString("</span>")),w.appendString("</span>"),new s(ne,W,M)}function h(b){return b.toString(16).toUpperCase().padStart(4,"0")}function p(b){return b<1024?L.localize(1,null,b):b<1024*1024?`${(b/1024).toFixed(1)} KB`:`${(b/1024/1024).toFixed(1)} MB`}}),define(te[632],ie([1,0,90,70,39,101,149,114,82]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=e.renderLines=void 0;const v=(0,L.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:t=>t});function C(t,r,u,f){(0,I.applyFontInfo)(f,r.fontInfo);const d=u.length>0,l=new D.StringBuilder(1e4);let o=0,c=0;const a=[];for(let b=0;b<t.lineTokens.length;b++){const w=b+1,E=t.lineTokens[b],k=t.lineBreakData[b],M=S.LineDecoration.filter(u,w,1,Number.MAX_SAFE_INTEGER);if(k){let R=0;for(const B of k.breakOffsets){const T=E.sliceAndInflate(R,B,0);o=Math.max(o,n(c,T,S.LineDecoration.extractWrapped(M,R,B),d,t.mightContainNonBasicASCII,t.mightContainRTL,r,l)),c++,R=B}a.push(k.breakOffsets.length)}else a.push(1),o=Math.max(o,n(c,E,M,d,t.mightContainNonBasicASCII,t.mightContainRTL,r,l)),c++}o+=r.scrollBeyondLastColumn;const g=l.build(),h=v?v.createHTML(g):g;f.innerHTML=h;const p=o*r.typicalHalfwidthCharacterWidth;return{heightInLines:c,minWidthInPx:p,viewLineCounts:a}}e.renderLines=C;class s{constructor(r,u,f,d){this.lineTokens=r,this.lineBreakData=u,this.mightContainNonBasicASCII=f,this.mightContainRTL=d}}e.LineSource=s;class i{static fromEditor(r){var u;const f=r.getOptions(),d=f.get(50),l=f.get(143);return new i(((u=r.getModel())===null||u===void 0?void 0:u.getOptions().tabSize)||0,d,f.get(33),d.typicalHalfwidthCharacterWidth,f.get(103),f.get(66),l.decorationsWidth,f.get(116),f.get(98),f.get(93),f.get(51))}constructor(r,u,f,d,l,o,c,a,g,h,p){this.tabSize=r,this.fontInfo=u,this.disableMonospaceOptimizations=f,this.typicalHalfwidthCharacterWidth=d,this.scrollBeyondLastColumn=l,this.lineHeight=o,this.lineDecorationsWidth=c,this.stopRenderingLineAfter=a,this.renderWhitespace=g,this.renderControlCharacters=h,this.fontLigatures=p}}e.RenderOptions=i;function n(t,r,u,f,d,l,o,c){c.appendString('<div class="view-line'),f||c.appendString(" char-delete"),c.appendString('" style="top:'),c.appendString(String(t*o.lineHeight)),c.appendString('px;width:1000000px;">');const a=r.getLineContent(),g=_.ViewLineRenderingData.isBasicASCII(a,d),h=_.ViewLineRenderingData.containsRTL(a,g,l),p=(0,m.renderViewLine)(new m.RenderLineInput(o.fontInfo.isMonospace&&!o.disableMonospaceOptimizations,o.fontInfo.canUseHalfwidthRightwardsArrow,a,!1,g,h,0,r,u,o.tabSize,0,o.fontInfo.spaceWidth,o.fontInfo.middotWidth,o.fontInfo.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==y.EditorFontLigatures.OFF,null),c);return c.appendString("</div>"),p.characterMapping.getHorizontalOffset(p.characterMapping.length)}}),define(te[633],ie([3,4]),function($,e){return $.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(te[634],ie([3,4]),function($,e){return $.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(te[635],ie([3,4]),function($,e){return $.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(te[636],ie([3,4]),function($,e){return $.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(te[637],ie([3,4]),function($,e){return $.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(te[638],ie([3,4]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(te[639],ie([3,4]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(te[640],ie([3,4]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(te[641],ie([3,4]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(te[642],ie([3,4]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(te[643],ie([3,4]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(te[644],ie([3,4]),function($,e){return $.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(te[645],ie([3,4]),function($,e){return $.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(te[646],ie([3,4]),function($,e){return $.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(te[647],ie([3,4]),function($,e){return $.create("vs/editor/contrib/comment/browser/comment",e)}),define(te[648],ie([3,4]),function($,e){return $.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(te[649],ie([3,4]),function($,e){return $.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(te[650],ie([3,4]),function($,e){return $.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(te[651],ie([3,4]),function($,e){return $.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(te[652],ie([3,4]),function($,e){return $.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(te[653],ie([3,4]),function($,e){return $.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution",e)}),define(te[654],ie([3,4]),function($,e){return $.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(te[655],ie([3,4]),function($,e){return $.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(te[656],ie([3,4]),function($,e){return $.create("vs/editor/contrib/find/browser/findController",e)}),define(te[657],ie([3,4]),function($,e){return $.create("vs/editor/contrib/find/browser/findWidget",e)}),define(te[658],ie([3,4]),function($,e){return $.create("vs/editor/contrib/folding/browser/folding",e)}),define(te[659],ie([3,4]),function($,e){return $.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(te[660],ie([3,4]),function($,e){return $.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(te[661],ie([3,4]),function($,e){return $.create("vs/editor/contrib/format/browser/format",e)}),define(te[662],ie([3,4]),function($,e){return $.create("vs/editor/contrib/format/browser/formatActions",e)}),define(te[663],ie([3,4]),function($,e){return $.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(te[664],ie([3,4]),function($,e){return $.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(te[665],ie([3,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(te[666],ie([3,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(te[667],ie([3,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(te[668],ie([3,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(te[669],ie([3,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(te[670],ie([3,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(te[155],ie([1,0,9,6,163,2,56,46,10,5,670]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class s{constructor(u,f,d,l){this.isProviderFirst=u,this.parent=f,this.link=d,this._rangeCallback=l,this.id=y.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var u,f;return(f=(u=this._range)!==null&&u!==void 0?u:this.link.targetSelectionRange)!==null&&f!==void 0?f:this.link.range}set range(u){this._range=u,this._rangeCallback(this)}get ariaMessage(){var u;const f=(u=this.parent.getPreview(this))===null||u===void 0?void 0:u.preview(this.range);return f?(0,C.localize)(1,null,f.value,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,C.localize)(0,null,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=s;class i{constructor(u){this._modelReference=u}dispose(){this._modelReference.dispose()}preview(u,f=8){const d=this._modelReference.object.textEditorModel;if(!d)return;const{startLineNumber:l,startColumn:o,endLineNumber:c,endColumn:a}=u,g=d.getWordUntilPosition({lineNumber:l,column:o-f}),h=new v.Range(l,g.startColumn,l,o),p=new v.Range(c,a,c,1073741824),b=d.getValueInRange(h).replace(/^\s+/,""),w=d.getValueInRange(u),E=d.getValueInRange(p).replace(/\s+$/,"");return{value:b+w+E,highlight:{start:b.length,end:b.length+w.length}}}}e.FilePreview=i;class n{constructor(u,f){this.parent=u,this.uri=f,this.children=[],this._previews=new S.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(u){return this._previews.get(u.uri)}get ariaMessage(){const u=this.children.length;return u===1?(0,C.localize)(2,null,(0,m.basename)(this.uri),this.uri.fsPath):(0,C.localize)(3,null,u,(0,m.basename)(this.uri),this.uri.fsPath)}resolve(u){return be(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const f of this.children)if(!this._previews.has(f.uri))try{const d=yield u.createModelReference(f.uri);this._previews.set(f.uri,new i(d))}catch(d){(0,L.onUnexpectedError)(d)}return this})}}e.FileReferences=n;class t{constructor(u,f){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new I.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=u,this._title=f;const[d]=u;u.sort(t._compareReferences);let l;for(const o of u)if((!l||!m.extUri.isEqual(l.uri,o.uri,!0))&&(l=new n(this,o.uri),this.groups.push(l)),l.children.length===0||t._compareReferences(o,l.children[l.children.length-1])!==0){const c=new s(d===o,l,o,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(c),l.children.push(c)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new t(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,C.localize)(4,null):this.references.length===1?(0,C.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,C.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,C.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(u,f){const{parent:d}=u;let l=d.children.indexOf(u);const o=d.children.length,c=d.parent.groups.length;return c===1||f&&l+1<o||!f&&l>0?(f?l=(l+1)%o:l=(l+o-1)%o,d.children[l]):(l=d.parent.groups.indexOf(d),f?(l=(l+1)%c,d.parent.groups[l].children[0]):(l=(l+c-1)%c,d.parent.groups[l].children[d.parent.groups[l].children.length-1]))}nearestReference(u,f){const d=this.references.map((l,o)=>({idx:o,prefixLen:_.commonPrefixLength(l.uri.toString(),u.toString()),offsetDist:Math.abs(l.range.startLineNumber-f.lineNumber)*100+Math.abs(l.range.startColumn-f.column)})).sort((l,o)=>l.prefixLen>o.prefixLen?-1:l.prefixLen<o.prefixLen?1:l.offsetDist<o.offsetDist?-1:l.offsetDist>o.offsetDist?1:0)[0];if(d)return this.references[d.idx]}referenceAt(u,f){for(const d of this.references)if(d.uri.toString()===u.toString()&&v.Range.containsPosition(d.range,f))return d}firstReference(){for(const u of this.references)if(u.isProviderFirst)return u;return this.references[0]}static _compareReferences(u,f){return m.extUri.compare(u.uri,f.uri)||v.Range.compareRangesUsingStarts(u.range,f.range)}}e.ReferencesModel=t}),define(te[671],ie([3,4]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(te[672],ie([3,4]),function($,e){return $.create("vs/editor/contrib/hover/browser/hover",e)}),define(te[673],ie([3,4]),function($,e){return $.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(te[674],ie([3,4]),function($,e){return $.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(te[675],ie([3,4]),function($,e){return $.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(te[676],ie([3,4]),function($,e){return $.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(te[677],ie([3,4]),function($,e){return $.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(te[678],ie([3,4]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(te[679],ie([3,4]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(te[680],ie([3,4]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(te[681],ie([3,4]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController",e)}),define(te[682],ie([3,4]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(te[683],ie([3,4]),function($,e){return $.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(te[684],ie([3,4]),function($,e){return $.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(te[685],ie([3,4]),function($,e){return $.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(te[686],ie([3,4]),function($,e){return $.create("vs/editor/contrib/links/browser/links",e)}),define(te[687],ie([3,4]),function($,e){return $.create("vs/editor/contrib/message/browser/messageController",e)}),define(te[688],ie([3,4]),function($,e){return $.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(te[689],ie([3,4]),function($,e){return $.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(te[690],ie([3,4]),function($,e){return $.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(te[691],ie([3,4]),function($,e){return $.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(te[692],ie([3,4]),function($,e){return $.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(te[693],ie([3,4]),function($,e){return $.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(te[694],ie([3,4]),function($,e){return $.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(te[695],ie([3,4]),function($,e){return $.create("vs/editor/contrib/rename/browser/rename",e)}),define(te[696],ie([3,4]),function($,e){return $.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(te[697],ie([3,4]),function($,e){return $.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(te[698],ie([3,4]),function($,e){return $.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(te[699],ie([3,4]),function($,e){return $.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(te[700],ie([3,4]),function($,e){return $.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(te[701],ie([3,4]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(te[702],ie([3,4]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(te[703],ie([3,4]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(te[704],ie([3,4]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(te[705],ie([3,4]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(te[706],ie([3,4]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(te[707],ie([3,4]),function($,e){return $.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(te[708],ie([3,4]),function($,e){return $.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(te[709],ie([3,4]),function($,e){return $.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(te[710],ie([3,4]),function($,e){return $.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(te[711],ie([3,4]),function($,e){return $.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(te[712],ie([3,4]),function($,e){return $.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(te[713],ie([3,4]),function($,e){return $.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(te[714],ie([3,4]),function($,e){return $.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(te[715],ie([3,4]),function($,e){return $.create("vs/platform/action/common/actionCommonCategories",e)}),define(te[716],ie([3,4]),function($,e){return $.create("vs/platform/actionWidget/browser/actionList",e)}),define(te[717],ie([3,4]),function($,e){return $.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(te[718],ie([3,4]),function($,e){return $.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(te[719],ie([3,4]),function($,e){return $.create("vs/platform/actions/browser/toolbar",e)}),define(te[720],ie([3,4]),function($,e){return $.create("vs/platform/actions/common/menuService",e)}),define(te[721],ie([3,4]),function($,e){return $.create("vs/platform/audioCues/browser/audioCueService",e)}),define(te[722],ie([3,4]),function($,e){return $.create("vs/platform/configuration/common/configurationRegistry",e)}),define(te[723],ie([3,4]),function($,e){return $.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(te[724],ie([3,4]),function($,e){return $.create("vs/platform/contextkey/common/contextkey",e)}),define(te[725],ie([3,4]),function($,e){return $.create("vs/platform/contextkey/common/contextkeys",e)}),define(te[726],ie([3,4]),function($,e){return $.create("vs/platform/contextkey/common/scanner",e)}),define(te[727],ie([3,4]),function($,e){return $.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(te[728],ie([3,4]),function($,e){return $.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(te[729],ie([3,4]),function($,e){return $.create("vs/platform/list/browser/listService",e)}),define(te[730],ie([3,4]),function($,e){return $.create("vs/platform/markers/common/markers",e)}),define(te[731],ie([3,4]),function($,e){return $.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(te[732],ie([3,4]),function($,e){return $.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(te[733],ie([3,4]),function($,e){return $.create("vs/platform/quickinput/browser/quickInput",e)}),define(te[734],ie([3,4]),function($,e){return $.create("vs/platform/quickinput/browser/quickInputController",e)}),define(te[735],ie([3,4]),function($,e){return $.create("vs/platform/quickinput/browser/quickInputList",e)}),define(te[736],ie([3,4]),function($,e){return $.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(te[737],ie([3,4]),function($,e){return $.create("vs/platform/theme/common/colorRegistry",e)}),define(te[738],ie([3,4]),function($,e){return $.create("vs/platform/theme/common/iconRegistry",e)}),define(te[739],ie([3,4]),function($,e){return $.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(te[740],ie([3,4]),function($,e){return $.create("vs/platform/workspace/common/workspace",e)}),define(te[741],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=void 0;function L(I){return I?I.condition!==void 0:!1}e.isICommandActionToggleInfo=L}),define(te[742],ie([1,0,715]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:{value:(0,L.localize)(0,null),original:"View"},Help:{value:(0,L.localize)(1,null),original:"Help"},Test:{value:(0,L.localize)(2,null),original:"Test"},File:{value:(0,L.localize)(3,null),original:"File"},Preferences:{value:(0,L.localize)(4,null),original:"Preferences"},Developer:{value:(0,L.localize)(5,null),original:"Developer"}})}),define(te[743],ie([1,0,9,726]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function y(..._){switch(_.length){case 1:return(0,I.localize)(0,null,_[0]);case 2:return(0,I.localize)(1,null,_[0],_[1]);case 3:return(0,I.localize)(2,null,_[0],_[1],_[2]);default:return}}const D=(0,I.localize)(3,null),S=(0,I.localize)(4,null);class m{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(v){switch(v.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return v.isTripleEq?"===":"==";case 4:return v.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return v.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return v.lexeme;case 18:return v.lexeme;case 19:return v.lexeme;case 20:return"EOF";default:throw(0,L.illegalState)(`unhandled token type: ${JSON.stringify(v)}; have you forgotten to add a case?`)}}reset(v){return this._input=v,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const C=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:C})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const C=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:C})}else this._match(126)?this._addToken(9):this._error(y("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(y("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(y("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(v){return this._isAtEnd()||this._input.charCodeAt(this._current)!==v?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(v){this._tokens.push({type:v,offset:this._start})}_error(v){const C=this._start,s=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:s};this._errors.push({offset:C,lexeme:s,additionalInfo:v}),this._tokens.push(i)}_string(){this.stringRe.lastIndex=this._start;const v=this.stringRe.exec(this._input);if(v){this._current=this._start+v[0].length;const C=this._input.substring(this._start,this._current),s=m._keywords.get(C);s?this._addToken(s):this._tokens.push({type:17,lexeme:C,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(D);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let v=this._current,C=!1,s=!1;for(;;){if(v>=this._input.length){this._current=v,this._error(S);return}const n=this._input.charCodeAt(v);if(C)C=!1;else if(n===47&&!s){v++;break}else n===91?s=!0:n===92?C=!0:n===93&&(s=!1);v++}for(;v<this._input.length&&m._regexFlags.has(this._input.charCodeAt(v));)v++;this._current=v;const i=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:i,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=m,m._regexFlags=new Set(["i","g","s","m","y","u"].map(_=>_.charCodeAt(0))),m._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(te[744],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var L;(function(I){I[I.API=0]="API",I[I.USER=1]="USER"})(L||(e.EditorOpenSource=L={}))}),define(te[745],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class L{constructor(D){this.value=D,this._lower=D.toLowerCase()}static toKey(D){return typeof D=="string"?D.toLowerCase():D._lower}}e.ExtensionIdentifier=L;class I{constructor(D){if(this._set=new Set,D)for(const S of D)this.add(S)}add(D){this._set.add(L.toKey(D))}has(D){return this._set.has(L.toKey(D))}}e.ExtensionIdentifierSet=I}),define(te[334],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var L;(function(I){I[I.FILE=0]="FILE",I[I.FOLDER=1]="FOLDER",I[I.ROOT_FOLDER=2]="ROOT_FOLDER"})(L||(e.FileKind=L={}))}),define(te[746],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function L(I){var y,D;return((y=I.lookupKeybinding("history.showPrevious"))===null||y===void 0?void 0:y.getElectronAccelerator())==="Up"&&((D=I.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=L}),define(te[232],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class L{constructor(y,D=[],S=!1){this.ctor=y,this.staticArguments=D,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=L}),define(te[47],ie([1,0,232]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const I=[];function y(S,m,_){m instanceof L.SyncDescriptor||(m=new L.SyncDescriptor(m,[],!!_)),I.push([S,m])}e.registerSingleton=y;function D(){return I}e.getSingletonServiceDescriptors=D}),define(te[747],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class L{constructor(D,S){this.key=D,this.data=S,this.incoming=new Map,this.outgoing=new Map}}e.Node=L;class I{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const S of this._nodes.values())S.outgoing.size===0&&D.push(S);return D}insertEdge(D,S){const m=this.lookupOrInsertNode(D),_=this.lookupOrInsertNode(S);m.outgoing.set(_.key,_),_.incoming.set(m.key,m)}removeNode(D){const S=this._hashFn(D);this._nodes.delete(S);for(const m of this._nodes.values())m.outgoing.delete(S),m.incoming.delete(S)}lookupOrInsertNode(D){const S=this._hashFn(D);let m=this._nodes.get(S);return m||(m=new L(S,D),this._nodes.set(S,m)),m}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[S,m]of this._nodes)D.push(`${S}
	(-> incoming)[${[...m.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...m.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,S]of this._nodes){const m=new Set([D]),_=this._findCycle(S,m);if(_)return _}}_findCycle(D,S){for(const[m,_]of D.outgoing){if(S.has(m))return[...S,m].join(" -> ");S.add(m);const v=this._findCycle(_,S);if(v)return v;S.delete(m)}}}e.Graph=I}),define(te[8],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var L;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function S(m){return m[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=S})(L||(e._util=L={})),e.IInstantiationService=y("instantiationService");function I(D,S,m){S[L.DI_TARGET]===S?S[L.DI_DEPENDENCIES].push({id:D,index:m}):(S[L.DI_DEPENDENCIES]=[{id:D,index:m}],S[L.DI_TARGET]=S)}function y(D){if(L.serviceIds.has(D))return L.serviceIds.get(D);const S=function(m,_,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");I(S,m,v)};return S.toString=()=>D,L.serviceIds.set(D,S),S}e.createDecorator=y}),define(te[130],ie([1,0,8,21,20]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,L.createDecorator)("IWorkspaceEditService");class D{constructor(v){this.metadata=v}static convert(v){return v.edits.map(C=>{if(S.is(C))return S.lift(C);if(m.is(C))return m.lift(C);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class S extends D{static is(v){return v instanceof S?!0:(0,y.isObject)(v)&&I.URI.isUri(v.resource)&&(0,y.isObject)(v.textEdit)}static lift(v){return v instanceof S?v:new S(v.resource,v.textEdit,v.versionId,v.metadata)}constructor(v,C,s=void 0,i){super(i),this.resource=v,this.textEdit=C,this.versionId=s}}e.ResourceTextEdit=S;class m extends D{static is(v){return v instanceof m?!0:(0,y.isObject)(v)&&(!!v.newResource||!!v.oldResource)}static lift(v){return v instanceof m?v:new m(v.oldResource,v.newResource,v.options,v.metadata)}constructor(v,C,s={},i){super(i),this.oldResource=v,this.newResource=C,this.options=s}}e.ResourceFileEdit=m}),define(te[33],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,L.createDecorator)("codeEditorService")}),define(te[42],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,L.createDecorator)("languageService")}),define(te[115],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,L.createDecorator)("editorWorkerService")}),define(te[18],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,L.createDecorator)("ILanguageFeaturesService")});var ge=this&&this.__param||function($,e){return function(L,I){e(L,I,$)}};define(te[748],ie([1,0,7,128,13,26,6,57,2,40,27,20,487,100,64,12,5,29,18,614]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HideUnchangedRegionsFeature=void 0;let o=class extends _.Disposable{get isUpdatingViewZones(){return this._isUpdatingViewZones}constructor(h,p,b,w){super(),this._editors=h,this._diffModel=p,this._options=b,this._languageFeaturesService=w,this._isUpdatingViewZones=!1,this._modifiedOutlineSource=(0,v.derivedWithStore)(this,(B,T)=>{const N=this._editors.modifiedModel.read(B);if(N)return T.add(new c(this._languageFeaturesService,N))}),this._register(this._editors.original.onDidChangeCursorPosition(B=>{if(B.reason===3){const T=this._diffModel.get();(0,v.transaction)(N=>{for(const A of this._editors.original.getSelections()||[])T?.ensureOriginalLineIsVisible(A.getStartPosition().lineNumber,N),T?.ensureOriginalLineIsVisible(A.getEndPosition().lineNumber,N)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(B=>{if(B.reason===3){const T=this._diffModel.get();(0,v.transaction)(N=>{for(const A of this._editors.modified.getSelections()||[])T?.ensureModifiedLineIsVisible(A.getStartPosition().lineNumber,N),T?.ensureModifiedLineIsVisible(A.getEndPosition().lineNumber,N)})}}));const E=this._diffModel.map((B,T)=>{var N,A;return((N=B?.diff.read(T))===null||N===void 0?void 0:N.mappings.length)===0?[]:(A=B?.unchangedRegions.read(T))!==null&&A!==void 0?A:[]}),k=(0,v.derivedWithStore)(this,(B,T)=>{const N=this._modifiedOutlineSource.read(B);if(!N)return{origViewZones:[],modViewZones:[]};const A=[],P=[],O=this._options.renderSideBySide.read(B),x=E.read(B);for(const W of x)if(!W.shouldHideControls(B)){{const U=(0,v.derived)(G=>W.getHiddenOriginalRange(G).startLineNumber-1),F=new n.PlaceholderViewZone(U,24);A.push(F),T.add(new a(this._editors.original,F,W,W.originalUnchangedRange,!O,N,G=>this._diffModel.get().ensureModifiedLineIsVisible(G,void 0),this._options))}{const U=(0,v.derived)(G=>W.getHiddenModifiedRange(G).startLineNumber-1),F=new n.PlaceholderViewZone(U,24);P.push(F),T.add(new a(this._editors.modified,F,W,W.modifiedUnchangedRange,!1,N,G=>this._diffModel.get().ensureModifiedLineIsVisible(G,void 0),this._options))}}return{origViewZones:A,modViewZones:P}}),M={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},R={description:"Fold Unchanged",glyphMarginHoverMessage:new m.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,l.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+C.ThemeIcon.asClassName(D.Codicon.fold),zIndex:10001};this._register((0,n.applyObservableDecorations)(this._editors.original,(0,v.derived)(B=>{const T=E.read(B),N=T.map(A=>({range:A.originalUnchangedRange.toInclusiveRange(),options:M}));for(const A of T)A.shouldHideControls(B)&&N.push({range:u.Range.fromPositions(new r.Position(A.originalLineNumber,1)),options:R});return N}))),this._register((0,n.applyObservableDecorations)(this._editors.modified,(0,v.derived)(B=>{const T=E.read(B),N=T.map(A=>({range:A.modifiedUnchangedRange.toInclusiveRange(),options:M}));for(const A of T)A.shouldHideControls(B)&&N.push({range:t.LineRange.ofLength(A.modifiedLineNumber,1).toInclusiveRange(),options:R});return N}))),this._register((0,n.applyViewZones)(this._editors.original,k.map(B=>B.origViewZones),B=>this._isUpdatingViewZones=B)),this._register((0,n.applyViewZones)(this._editors.modified,k.map(B=>B.modViewZones),B=>this._isUpdatingViewZones=B)),this._register((0,v.autorun)(B=>{const T=E.read(B);this._editors.original.setHiddenAreas(T.map(N=>N.getHiddenOriginalRange(B).toInclusiveRange()).filter(s.isDefined)),this._editors.modified.setHiddenAreas(T.map(N=>N.getHiddenModifiedRange(B).toInclusiveRange()).filter(s.isDefined))})),this._register(this._editors.modified.onMouseUp(B=>{var T;if(!B.event.rightButton&&B.target.position&&(!((T=B.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=B.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const P=A.unchangedRegions.get().find(O=>O.modifiedUnchangedRange.includes(N));if(!P)return;P.collapseAll(void 0),B.event.stopPropagation(),B.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(B=>{var T;if(!B.event.rightButton&&B.target.position&&(!((T=B.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=B.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const P=A.unchangedRegions.get().find(O=>O.originalUnchangedRange.includes(N));if(!P)return;P.collapseAll(void 0),B.event.stopPropagation(),B.event.preventDefault()}}))}};e.HideUnchangedRegionsFeature=o,e.HideUnchangedRegionsFeature=o=Ie([ge(3,d.ILanguageFeaturesService)],o);let c=class extends _.Disposable{constructor(h,p){super(),this._languageFeaturesService=h,this._textModel=p,this._currentModel=(0,v.observableValue)(this,void 0);const b=(0,v.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),w=(0,v.observableSignalFromEvent)("_textModel.onDidChangeContent",S.Event.debounce(E=>this._textModel.onDidChangeContent(E),()=>{},100));this._register((0,v.autorunWithStore)((E,k)=>be(this,void 0,void 0,function*(){b.read(E),w.read(E);const M=k.add(new n.DisposableCancellationTokenSource),R=yield i.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,M.token);k.isDisposed||this._currentModel.set(R,void 0)})))}getBreadcrumbItems(h,p){const b=this._currentModel.read(p);if(!b)return[];const w=b.asListOfDocumentSymbols().filter(E=>h.contains(E.range.startLineNumber)&&!h.contains(E.range.endLineNumber));return w.sort((0,y.reverseOrder)((0,y.compareBy)(E=>E.range.endLineNumber-E.range.startLineNumber,y.numberComparator))),w.map(E=>({name:E.name,kind:E.kind,startLineNumber:E.range.startLineNumber}))}};c=Ie([ge(0,d.ILanguageFeaturesService)],c);class a extends n.ViewZoneOverlayWidget{constructor(h,p,b,w,E,k,M,R){const B=(0,L.h)("div.diff-hidden-lines-widget");super(h,p,B.root),this._editor=h,this._unchangedRegion=b,this._unchangedRegionRange=w,this.hide=E,this._modifiedOutlineSource=k,this._revealModifiedHiddenLine=M,this._options=R,this._nodes=(0,L.h)("div.diff-hidden-lines",[(0,L.h)("div.top@top",{title:(0,l.localize)(1,null)}),(0,L.h)("div.center@content",{style:{display:"flex"}},[(0,L.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,L.$)("a",{title:(0,l.localize)(2,null),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,I.renderLabelWithIcons)("$(unfold)"))]),(0,L.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,L.h)("div.bottom@bottom",{title:(0,l.localize)(3,null),role:"button"})]),B.root.appendChild(this._nodes.root);const T=(0,v.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this.hide?(0,L.reset)(this._nodes.first):this._register((0,n.applyStyle)(this._nodes.first,{width:T.map(A=>A.contentLeft)}));const N=this._editor;this._register((0,L.addDisposableListener)(this._nodes.top,"mousedown",A=>{if(A.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),A.preventDefault();const P=A.clientY;let O=!1;const x=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set(!0,void 0);const W=(0,L.addDisposableListener)(window,"mousemove",F=>{const Y=F.clientY-P;O=O||Math.abs(Y)>2;const ne=Math.round(Y/N.getOption(66)),se=Math.max(0,Math.min(x+ne,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(se,void 0)}),U=(0,L.addDisposableListener)(window,"mouseup",F=>{O||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(!1,void 0),W.dispose(),U.dispose()})})),this._register((0,L.addDisposableListener)(this._nodes.bottom,"mousedown",A=>{if(A.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),A.preventDefault();const P=A.clientY;let O=!1;const x=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set(!0,void 0);const W=(0,L.addDisposableListener)(window,"mousemove",F=>{const Y=F.clientY-P;O=O||Math.abs(Y)>2;const ne=Math.round(Y/N.getOption(66)),se=Math.max(0,Math.min(x-ne,this._unchangedRegion.getMaxVisibleLineCountBottom())),J=N.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(se,void 0);const q=N.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);N.setScrollTop(N.getScrollTop()+(q-J))}),U=(0,L.addDisposableListener)(window,"mouseup",F=>{if(this._unchangedRegion.isDragged.set(!1,void 0),!O){const G=N.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const Y=N.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);N.setScrollTop(N.getScrollTop()+(Y-G))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),W.dispose(),U.dispose()})})),this._register((0,v.autorun)(A=>{const P=[];if(!this.hide){const O=b.getHiddenModifiedRange(A).length,x=(0,l.localize)(4,null,O),W=(0,L.$)("span",{title:(0,l.localize)(5,null)},x);W.addEventListener("dblclick",G=>{G.button===0&&(G.preventDefault(),this._unchangedRegion.showAll(void 0))}),P.push(W);const U=this._unchangedRegion.getHiddenModifiedRange(A),F=this._modifiedOutlineSource.getBreadcrumbItems(U,A);if(F.length>0){P.push((0,L.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let G=0;G<F.length;G++){const Y=F[G],ne=f.SymbolKinds.toIcon(Y.kind),se=(0,L.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,I.renderIcon)(ne),"\xA0",Y.name,...G===F.length-1?[]:[(0,I.renderIcon)(D.Codicon.chevronRight)]]).root;P.push(se),se.onclick=()=>{this._revealModifiedHiddenLine(Y.startLineNumber)}}}}(0,L.reset)(this._nodes.others,...P)}))}}}),define(te[749],ie([1,0,598,18,47]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this))}_score(m){var _;return(_=this._notebookTypeResolver)===null||_===void 0?void 0:_.call(this,m)}}e.LanguageFeaturesService=D,(0,y.registerSingleton)(I.ILanguageFeaturesService,D,1)}),define(te[233],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,L.createDecorator)("markerDecorationsService")}),define(te[50],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,L.createDecorator)("modelService")}),define(te[65],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,L.createDecorator)("textModelService")}),define(te[234],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,L.createDecorator)("semanticTokensStylingService")}),define(te[185],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,L.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,L.createDecorator)("textResourcePropertiesService")}),define(te[750],ie([1,0,47,8,288]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,I.createDecorator)("treeViewsDndService"),(0,L.registerSingleton)(e.ITreeViewsDnDService,y.TreeViewsDnDService,1)}),define(te[335],ie([1,0,130]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sortEditsByYieldTo=e.createCombinedWorkspaceEdit=void 0;function I(D,S,m){var _,v;return{edits:[...S.map(C=>new L.ResourceTextEdit(D,typeof m.insertText=="string"?{range:C,text:m.insertText,insertAsSnippet:!1}:{range:C,text:m.insertText.snippet,insertAsSnippet:!0})),...(v=(_=m.additionalEdit)===null||_===void 0?void 0:_.edits)!==null&&v!==void 0?v:[]]}}e.createCombinedWorkspaceEdit=I;function y(D){var S;function m(i,n){return"providerId"in i&&i.providerId===n.providerId||"mimeType"in i&&i.mimeType===n.handledMimeType}const _=new Map;for(const i of D)for(const n of(S=i.yieldTo)!==null&&S!==void 0?S:[])for(const t of D)if(t!==i&&m(n,t)){let r=_.get(i);r||(r=[],_.set(i,r)),r.push(t)}if(!_.size)return Array.from(D);const v=new Set,C=[];function s(i){if(!i.length)return[];const n=i[0];if(C.includes(n))return console.warn(`Yield to cycle detected for ${n.providerId}`),i;if(v.has(n))return s(i.slice(1));let t=[];const r=_.get(n);return r&&(C.push(n),t=s(r),C.pop()),v.add(n),[...t,n,...s(i.slice(1))]}return s(Array.from(D))}e.sortEditsByYieldTo=y}),define(te[751],ie([1,0,90,6,2,40,10,70,39,12,5,101,42,49,91,149,114,215,150,454]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=e.GHOST_TEXT_DESCRIPTION=void 0,e.GHOST_TEXT_DESCRIPTION="ghost-text";let l=class extends y.Disposable{constructor(h,p,b){super(),this.editor=h,this.model=p,this.languageService=b,this.isDisposed=(0,D.observableValue)(this,!1),this.currentTextModel=(0,D.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,D.derived)(this,w=>{if(this.isDisposed.read(w))return;const E=this.currentTextModel.read(w);if(E!==this.model.targetTextModel.read(w))return;const k=this.model.ghostText.read(w);if(!k)return;const M=k instanceof f.GhostTextReplacement?k.columnRange:void 0,R=[],B=[];function T(x,W){if(B.length>0){const U=B[B.length-1];W&&U.decorations.push(new r.LineDecoration(U.content.length+1,U.content.length+1+x[0].length,W,0)),U.content+=x[0],x=x.slice(1)}for(const U of x)B.push({content:U,decorations:W?[new r.LineDecoration(1,U.length+1,W,0)]:[]})}const N=E.getLineContent(k.lineNumber);let A,P=0;for(const x of k.parts){let W=x.lines;A===void 0?(R.push({column:x.column,text:W[0],preview:x.preview}),W=W.slice(1)):T([N.substring(P,x.column-1)],void 0),W.length>0&&(T(W,e.GHOST_TEXT_DESCRIPTION),A===void 0&&x.column<=N.length&&(A=x.column)),P=x.column-1}A!==void 0&&T([N.substring(P)],void 0);const O=A!==void 0?new d.ColumnRange(A,N.length+1):void 0;return{replacedRange:M,inlineTexts:R,additionalLines:B,hiddenRange:O,lineNumber:k.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(w),targetTextModel:E}}),this.decorations=(0,D.derived)(this,w=>{const E=this.uiState.read(w);if(!E)return[];const k=[];E.replacedRange&&k.push({range:E.replacedRange.toRange(E.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),E.hiddenRange&&k.push({range:E.hiddenRange.toRange(E.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const M of E.inlineTexts)k.push({range:C.Range.fromPositions(new v.Position(E.lineNumber,M.column)),options:{description:e.GHOST_TEXT_DESCRIPTION,after:{content:M.text,inlineClassName:M.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:n.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return k}),this.additionalLinesWidget=this._register(new o(this.editor,this.languageService.languageIdCodec,(0,D.derived)(w=>{const E=this.uiState.read(w);return E?{lineNumber:E.lineNumber,additionalLines:E.additionalLines,minReservedLineCount:E.additionalReservedLineCount,targetTextModel:E.targetTextModel}:void 0}))),this._register((0,y.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,d.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(h){return this.additionalLinesWidget.viewZoneId===h}};e.GhostTextWidget=l,e.GhostTextWidget=l=Ie([ge(2,i.ILanguageService)],l);class o extends y.Disposable{get viewZoneId(){return this._viewZoneId}constructor(h,p,b){super(),this.editor=h,this.languageIdCodec=p,this.lines=b,this._viewZoneId=void 0,this.editorOptionsChanged=(0,D.observableSignalFromEvent)("editorOptionChanged",I.Event.filter(this.editor.onDidChangeConfiguration,w=>w.hasChanged(33)||w.hasChanged(116)||w.hasChanged(98)||w.hasChanged(93)||w.hasChanged(51)||w.hasChanged(50)||w.hasChanged(66))),this._register((0,D.autorun)(w=>{const E=this.lines.read(w);this.editorOptionsChanged.read(w),E?this.updateLines(E.lineNumber,E.additionalLines,E.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(h=>{this._viewZoneId&&(h.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(h,p,b){const w=this.editor.getModel();if(!w)return;const{tabSize:E}=w.getOptions();this.editor.changeViewZones(k=>{this._viewZoneId&&(k.removeZone(this._viewZoneId),this._viewZoneId=void 0);const M=Math.max(p.length,b);if(M>0){const R=document.createElement("div");c(R,E,p,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=k.addZone({afterLineNumber:h,heightInLines:M,domNode:R,afterColumnAffinity:1})}})}}function c(g,h,p,b,w){const E=b.get(33),k=b.get(116),M="none",R=b.get(93),B=b.get(51),T=b.get(50),N=b.get(66),A=new s.StringBuilder(1e4);A.appendString('<div class="suggest-preview-text">');for(let x=0,W=p.length;x<W;x++){const U=p[x],F=U.content;A.appendString('<div class="view-line'),A.appendString('" style="top:'),A.appendString(String(x*N)),A.appendString('px;width:1000000px;">');const G=S.isBasicASCII(F),Y=S.containsRTL(F),ne=t.LineTokens.createEmpty(F,w);(0,u.renderViewLine)(new u.RenderLineInput(T.isMonospace&&!E,T.canUseHalfwidthRightwardsArrow,F,!1,G,Y,0,ne,U.decorations,h,0,T.spaceWidth,T.middotWidth,T.wsmiddotWidth,k,M,R,B!==_.EditorFontLigatures.OFF,null),A),A.appendString("</div>")}A.appendString("</div>"),(0,m.applyFontInfo)(g,T);const P=A.build(),O=a?a.createHTML(P):P;g.innerHTML=O}const a=(0,L.createTrustedTypesPolicy)("editorGhostText",{createHTML:g=>g})}),define(te[131],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,L.createDecorator)("themeService")}),define(te[156],ie([1,0,8,721]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioCue=e.SoundSource=e.Sound=e.IAudioCueService=void 0,e.IAudioCueService=(0,L.createDecorator)("audioCue");class y{static register(_){return new y(_.fileName)}constructor(_){this.fileName=_}}e.Sound=y,y.error=y.register({fileName:"error.mp3"}),y.warning=y.register({fileName:"warning.mp3"}),y.foldedArea=y.register({fileName:"foldedAreas.mp3"}),y.break=y.register({fileName:"break.mp3"}),y.quickFixes=y.register({fileName:"quickFixes.mp3"}),y.taskCompleted=y.register({fileName:"taskCompleted.mp3"}),y.taskFailed=y.register({fileName:"taskFailed.mp3"}),y.terminalBell=y.register({fileName:"terminalBell.mp3"}),y.diffLineInserted=y.register({fileName:"diffLineInserted.mp3"}),y.diffLineDeleted=y.register({fileName:"diffLineDeleted.mp3"}),y.diffLineModified=y.register({fileName:"diffLineModified.mp3"}),y.chatRequestSent=y.register({fileName:"chatRequestSent.mp3"}),y.chatResponsePending=y.register({fileName:"chatResponsePending.mp3"}),y.chatResponseReceived1=y.register({fileName:"chatResponseReceived1.mp3"}),y.chatResponseReceived2=y.register({fileName:"chatResponseReceived2.mp3"}),y.chatResponseReceived3=y.register({fileName:"chatResponseReceived3.mp3"}),y.chatResponseReceived4=y.register({fileName:"chatResponseReceived4.mp3"});class D{constructor(_){this.randomOneOf=_}}e.SoundSource=D;class S{static register(_){const v=new D("randomOneOf"in _.sound?_.sound.randomOneOf:[_.sound]),C=new S(v,_.name,_.settingsKey);return S._audioCues.add(C),C}constructor(_,v,C){this.sound=_,this.name=v,this.settingsKey=C}}e.AudioCue=S,S._audioCues=new Set,S.error=S.register({name:(0,I.localize)(0,null),sound:y.error,settingsKey:"audioCues.lineHasError"}),S.warning=S.register({name:(0,I.localize)(1,null),sound:y.warning,settingsKey:"audioCues.lineHasWarning"}),S.foldedArea=S.register({name:(0,I.localize)(2,null),sound:y.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),S.break=S.register({name:(0,I.localize)(3,null),sound:y.break,settingsKey:"audioCues.lineHasBreakpoint"}),S.inlineSuggestion=S.register({name:(0,I.localize)(4,null),sound:y.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),S.terminalQuickFix=S.register({name:(0,I.localize)(5,null),sound:y.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),S.onDebugBreak=S.register({name:(0,I.localize)(6,null),sound:y.break,settingsKey:"audioCues.onDebugBreak"}),S.noInlayHints=S.register({name:(0,I.localize)(7,null),sound:y.error,settingsKey:"audioCues.noInlayHints"}),S.taskCompleted=S.register({name:(0,I.localize)(8,null),sound:y.taskCompleted,settingsKey:"audioCues.taskCompleted"}),S.taskFailed=S.register({name:(0,I.localize)(9,null),sound:y.taskFailed,settingsKey:"audioCues.taskFailed"}),S.terminalCommandFailed=S.register({name:(0,I.localize)(10,null),sound:y.error,settingsKey:"audioCues.terminalCommandFailed"}),S.terminalBell=S.register({name:(0,I.localize)(11,null),sound:y.terminalBell,settingsKey:"audioCues.terminalBell"}),S.notebookCellCompleted=S.register({name:(0,I.localize)(12,null),sound:y.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),S.notebookCellFailed=S.register({name:(0,I.localize)(13,null),sound:y.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),S.diffLineInserted=S.register({name:(0,I.localize)(14,null),sound:y.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),S.diffLineDeleted=S.register({name:(0,I.localize)(15,null),sound:y.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),S.diffLineModified=S.register({name:(0,I.localize)(16,null),sound:y.diffLineModified,settingsKey:"audioCues.diffLineModified"}),S.chatRequestSent=S.register({name:(0,I.localize)(17,null),sound:y.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),S.chatResponseReceived=S.register({name:(0,I.localize)(18,null),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[y.chatResponseReceived1,y.chatResponseReceived2,y.chatResponseReceived3,y.chatResponseReceived4]}}),S.chatResponsePending=S.register({name:(0,I.localize)(19,null),sound:y.chatResponsePending,settingsKey:"audioCues.chatResponsePending"})}),define(te[102],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,L.createDecorator)("clipboardService")}),define(te[25],ie([1,0,6,43,2,63,20,8]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,m.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new L.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(_,v){if(!_)throw new Error("invalid command");if(typeof _=="string"){if(!v)throw new Error("invalid command");return this.registerCommand({id:_,handler:v})}if(_.description){const t=[];for(const u of _.description.args)t.push(u.constraint);const r=_.handler;_.handler=function(u,...f){return(0,S.validateConstraints)(f,t),r(u,...f)}}const{id:C}=_;let s=this._commands.get(C);s||(s=new D.LinkedList,this._commands.set(C,s));const i=s.unshift(_),n=(0,y.toDisposable)(()=>{i();const t=this._commands.get(C);t?.isEmpty()&&this._commands.delete(C)});return this._onDidRegisterCommand.fire(C),n}registerCommandAlias(_,v){return e.CommandsRegistry.registerCommand(_,(C,...s)=>C.get(e.ICommandService).executeCommand(v,...s))}getCommand(_){const v=this._commands.get(_);if(!(!v||v.isEmpty()))return I.Iterable.first(v)}getCommands(){const _=new Map;for(const v of this._commands.keys()){const C=this.getCommand(v);C&&_.set(v,C)}return _}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(te[336],ie([1,0,19,9,2,20,21,50,25,18]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class C{constructor(){this.lenses=[],this._disposables=new y.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(n,t){this._disposables.add(n);for(const r of n.lenses)this.lenses.push({symbol:r,provider:t})}}e.CodeLensModel=C;function s(i,n,t){return be(this,void 0,void 0,function*(){const r=i.ordered(n),u=new Map,f=new C,d=r.map((l,o)=>be(this,void 0,void 0,function*(){u.set(l,o);try{const c=yield Promise.resolve(l.provideCodeLenses(n,t));c&&f.add(c,l)}catch(c){(0,I.onUnexpectedExternalError)(c)}}));return yield Promise.all(d),f.lenses=f.lenses.sort((l,o)=>l.symbol.range.startLineNumber<o.symbol.range.startLineNumber?-1:l.symbol.range.startLineNumber>o.symbol.range.startLineNumber?1:u.get(l.provider)<u.get(o.provider)?-1:u.get(l.provider)>u.get(o.provider)?1:l.symbol.range.startColumn<o.symbol.range.startColumn?-1:l.symbol.range.startColumn>o.symbol.range.startColumn?1:0),f})}e.getCodeLensModel=s,_.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(i,...n){let[t,r]=n;(0,D.assertType)(S.URI.isUri(t)),(0,D.assertType)(typeof r=="number"||!r);const{codeLensProvider:u}=i.get(v.ILanguageFeaturesService),f=i.get(m.IModelService).getModel(t);if(!f)throw(0,I.illegalArgument)();const d=[],l=new y.DisposableStore;return s(u,f,L.CancellationToken.None).then(o=>{l.add(o);const c=[];for(const a of o.lenses)r==null||a.symbol.command?d.push(a.symbol):r-- >0&&a.provider.resolveCodeLens&&c.push(Promise.resolve(a.provider.resolveCodeLens(f,a.symbol,L.CancellationToken.None)).then(g=>d.push(g||a.symbol)));return Promise.all(c)}).then(()=>d).finally(()=>{setTimeout(()=>l.dispose(),100)})})}),define(te[752],ie([1,0,13,19,9,2,20,21,5,50,25,18]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class i{constructor(u,f){this._link=u,this._provider=f}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(u){return be(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,u)).then(f=>(this._link=f||this._link,this._link.url?this.resolve(u):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=i;class n{constructor(u){this._disposables=new D.DisposableStore;let f=[];for(const[d,l]of u){const o=d.links.map(c=>new i(c,l));f=n._union(f,o),(0,D.isDisposable)(d)&&this._disposables.add(d)}this.links=f}dispose(){this._disposables.dispose(),this.links.length=0}static _union(u,f){const d=[];let l,o,c,a;for(l=0,c=0,o=u.length,a=f.length;l<o&&c<a;){const g=u[l],h=f[c];if(_.Range.areIntersectingOrTouching(g.range,h.range)){l++;continue}_.Range.compareRangesUsingStarts(g.range,h.range)<0?(d.push(g),l++):(d.push(h),c++)}for(;l<o;l++)d.push(u[l]);for(;c<a;c++)d.push(f[c]);return d}}e.LinksList=n;function t(r,u,f){const d=[],l=r.ordered(u).reverse().map((o,c)=>Promise.resolve(o.provideLinks(u,f)).then(a=>{a&&(d[c]=[a,o])},y.onUnexpectedExternalError));return Promise.all(l).then(()=>{const o=new n((0,L.coalesce)(d));return f.isCancellationRequested?(o.dispose(),new n([])):o})}e.getLinks=t,C.CommandsRegistry.registerCommand("_executeLinkProvider",(r,...u)=>be(void 0,void 0,void 0,function*(){let[f,d]=u;(0,S.assertType)(f instanceof m.URI),typeof d!="number"&&(d=0);const{linkProvider:l}=r.get(s.ILanguageFeaturesService),o=r.get(v.IModelService).getModel(f);if(!o)return[];const c=yield t(l,o,I.CancellationToken.None);if(!c)return[];for(let g=0;g<Math.min(d,c.links.length);g++)yield c.links[g].resolve(I.CancellationToken.None);const a=c.links.slice(0);return c.dispose(),a}))}),define(te[337],ie([1,0,19,9,21,50,25,20,602,5,18]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function s(a){return a&&!!a.data}e.isSemanticTokens=s;function i(a){return a&&Array.isArray(a.edits)}e.isSemanticTokensEdits=i;class n{constructor(g,h,p){this.provider=g,this.tokens=h,this.error=p}}e.DocumentSemanticTokensResult=n;function t(a,g){return a.has(g)}e.hasDocumentSemanticTokensProvider=t;function r(a,g){const h=a.orderedGroups(g);return h.length>0?h[0]:[]}function u(a,g,h,p,b){return be(this,void 0,void 0,function*(){const w=r(a,g),E=yield Promise.all(w.map(k=>be(this,void 0,void 0,function*(){let M,R=null;try{M=yield k.provideDocumentSemanticTokens(g,k===h?p:null,b)}catch(B){R=B,M=null}return(!M||!s(M)&&!i(M))&&(M=null),new n(k,M,R)})));for(const k of E){if(k.error)throw k.error;if(k.tokens)return k}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=u;function f(a,g){const h=a.orderedGroups(g);return h.length>0?h[0]:null}class d{constructor(g,h){this.provider=g,this.tokens=h}}function l(a,g){return a.has(g)}e.hasDocumentRangeSemanticTokensProvider=l;function o(a,g){const h=a.orderedGroups(g);return h.length>0?h[0]:[]}function c(a,g,h,p){return be(this,void 0,void 0,function*(){const b=o(a,g),w=yield Promise.all(b.map(E=>be(this,void 0,void 0,function*(){let k;try{k=yield E.provideDocumentRangeSemanticTokens(g,h,p)}catch(M){(0,I.onUnexpectedExternalError)(M),k=null}return(!k||!s(k))&&(k=null),new d(E,k)})));for(const E of w)if(E.tokens)return E;return w.length>0?w[0]:null})}e.getDocumentRangeSemanticTokens=c,S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(a,...g)=>be(void 0,void 0,void 0,function*(){const[h]=g;(0,m.assertType)(h instanceof y.URI);const p=a.get(D.IModelService).getModel(h);if(!p)return;const{documentSemanticTokensProvider:b}=a.get(C.ILanguageFeaturesService),w=f(b,p);return w?w[0].getLegend():a.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",h)})),S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(a,...g)=>be(void 0,void 0,void 0,function*(){const[h]=g;(0,m.assertType)(h instanceof y.URI);const p=a.get(D.IModelService).getModel(h);if(!p)return;const{documentSemanticTokensProvider:b}=a.get(C.ILanguageFeaturesService);if(!t(b,p))return a.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",h,p.getFullModelRange());const w=yield u(b,p,null,null,L.CancellationToken.None);if(!w)return;const{provider:E,tokens:k}=w;if(!k||!s(k))return;const M=(0,_.encodeSemanticTokensDto)({id:0,type:"full",data:k.data});return k.resultId&&E.releaseDocumentSemanticTokens(k.resultId),M})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(a,...g)=>be(void 0,void 0,void 0,function*(){const[h,p]=g;(0,m.assertType)(h instanceof y.URI);const b=a.get(D.IModelService).getModel(h);if(!b)return;const{documentRangeSemanticTokensProvider:w}=a.get(C.ILanguageFeaturesService),E=o(w,b);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!p||!v.Range.isIRange(p))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const k=yield c(w,b,v.Range.lift(p),L.CancellationToken.None);if(k)return k.provider.getLegend()})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(a,...g)=>be(void 0,void 0,void 0,function*(){const[h,p]=g;(0,m.assertType)(h instanceof y.URI),(0,m.assertType)(v.Range.isIRange(p));const b=a.get(D.IModelService).getModel(h);if(!b)return;const{documentRangeSemanticTokensProvider:w}=a.get(C.ILanguageFeaturesService),E=yield c(w,b,v.Range.lift(p),L.CancellationToken.None);if(!(!E||!E.tokens))return(0,_.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(te[28],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,L.createDecorator)("configurationService");function I(v,C){const s=Object.create(null);for(const i in v)y(s,i,v[i],C);return s}e.toValuesTree=I;function y(v,C,s,i){const n=C.split("."),t=n.pop();let r=v;for(let u=0;u<n.length;u++){const f=n[u];let d=r[f];switch(typeof d){case"undefined":d=r[f]=Object.create(null);break;case"object":break;default:i(`Ignoring ${C} as ${n.slice(0,u+1).join(".")} is ${JSON.stringify(d)}`);return}r=d}if(typeof r=="object"&&r!==null)try{r[t]=s}catch{i(`Ignoring ${C} as ${n.join(".")} is ${JSON.stringify(r)}`)}else i(`Ignoring ${C} as ${n.join(".")} is ${JSON.stringify(r)}`)}e.addToValueTree=y;function D(v,C){const s=C.split(".");S(v,s)}e.removeFromValueTree=D;function S(v,C){const s=C.shift();if(C.length===0){delete v[s];return}if(Object.keys(v).indexOf(s)!==-1){const i=v[s];typeof i=="object"&&!Array.isArray(i)&&(S(i,C),Object.keys(i).length===0&&delete v[s])}}function m(v,C,s){function i(r,u){let f=r;for(const d of u){if(typeof f!="object"||f===null)return;f=f[d]}return f}const n=C.split("."),t=i(v,n);return typeof t>"u"?s:t}e.getConfigurationValue=m;function _(v){return v.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=_}),define(te[338],ie([1,0,2,29,154,306,28]),function($,e,L,I,y,D,S){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const _=5;class v{static create(l,o){return this._INSTANCE.create(l,o)}constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}create(l,o){if(l!==null&&l.depth>=this._maxCacheDepth)return new C(l,o);let c=C.getStackElementId(l);c.length>0&&(c+="|"),c+=o;let a=this._entries[c];return a||(a=new C(l,o),this._entries[c]=a,a)}}v._INSTANCE=new v(_);class C{constructor(l,o){this.parent=l,this.state=o,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(l){let o="";for(;l!==null;)o.length>0&&(o+="|"),o+=l.state,l=l.parent;return o}static _equals(l,o){for(;l!==null&&o!==null;){if(l===o)return!0;if(l.state!==o.state)return!1;l=l.parent,o=o.parent}return l===null&&o===null}equals(l){return C._equals(this,l)}push(l){return v.create(this,l)}pop(){return this.parent}popall(){let l=this;for(;l.parent;)l=l.parent;return l}switchTo(l){return v.create(this.parent,l)}}class s{constructor(l,o){this.languageId=l,this.state=o}equals(l){return this.languageId===l.languageId&&this.state.equals(l.state)}clone(){return this.state.clone()===this.state?this:new s(this.languageId,this.state)}}class i{static create(l,o){return this._INSTANCE.create(l,o)}constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}create(l,o){if(o!==null)return new n(l,o);if(l!==null&&l.depth>=this._maxCacheDepth)return new n(l,o);const c=C.getStackElementId(l);let a=this._entries[c];return a||(a=new n(l,null),this._entries[c]=a,a)}}i._INSTANCE=new i(_);class n{constructor(l,o){this.stack=l,this.embeddedLanguageData=o}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:i.create(this.stack,this.embeddedLanguageData)}equals(l){return!(l instanceof n)||!this.stack.equals(l.stack)?!1:this.embeddedLanguageData===null&&l.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||l.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(l.embeddedLanguageData)}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(l){this._languageId=l}emit(l,o){this._lastTokenType===o&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=o,this._lastTokenLanguage=this._languageId,this._tokens.push(new I.Token(l,o,this._languageId)))}nestedLanguageTokenize(l,o,c,a){const g=c.languageId,h=c.state,p=I.TokenizationRegistry.get(g);if(!p)return this.enterLanguage(g),this.emit(a,""),h;const b=p.tokenize(l,o,h);if(a!==0)for(const w of b.tokens)this._tokens.push(new I.Token(w.offset+a,w.type,w.language));else this._tokens=this._tokens.concat(b.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,b.endState}finalize(l){return new I.TokenizationResult(this._tokens,l)}}class r{constructor(l,o){this._languageService=l,this._theme=o,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(l){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(l)}emit(l,o){const c=this._theme.match(this._currentLanguageId,o)|1024;this._lastTokenMetadata!==c&&(this._lastTokenMetadata=c,this._tokens.push(l),this._tokens.push(c))}static _merge(l,o,c){const a=l!==null?l.length:0,g=o.length,h=c!==null?c.length:0;if(a===0&&g===0&&h===0)return new Uint32Array(0);if(a===0&&g===0)return c;if(g===0&&h===0)return l;const p=new Uint32Array(a+g+h);l!==null&&p.set(l);for(let b=0;b<g;b++)p[a+b]=o[b];return c!==null&&p.set(c,a+g),p}nestedLanguageTokenize(l,o,c,a){const g=c.languageId,h=c.state,p=I.TokenizationRegistry.get(g);if(!p)return this.enterLanguage(g),this.emit(a,""),h;const b=p.tokenizeEncoded(l,o,h);if(a!==0)for(let w=0,E=b.tokens.length;w<E;w+=2)b.tokens[w]+=a;return this._prependTokens=r._merge(this._prependTokens,this._tokens,b.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,b.endState}finalize(l){return new I.EncodedTokenizationResult(r._merge(this._prependTokens,this._tokens,null),l)}}let u=m=class extends L.Disposable{constructor(l,o,c,a,g){super(),this._configurationService=g,this._languageService=l,this._standaloneThemeService=o,this._languageId=c,this._lexer=a,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let h=!1;this._register(I.TokenizationRegistry.onDidChange(p=>{if(h)return;let b=!1;for(let w=0,E=p.changedLanguages.length;w<E;w++){const k=p.changedLanguages[w];if(this._embeddedLanguages[k]){b=!0;break}}b&&(h=!0,I.TokenizationRegistry.handleChange([this._languageId]),h=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(p=>{p.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const l=[];for(const o in this._embeddedLanguages){const c=I.TokenizationRegistry.get(o);if(c){if(c instanceof m){const a=c.getLoadStatus();a.loaded===!1&&l.push(a.promise)}continue}I.TokenizationRegistry.isResolved(o)||l.push(I.TokenizationRegistry.getOrCreate(o))}return l.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(l).then(o=>{})}}getInitialState(){const l=v.create(null,this._lexer.start);return i.create(l,null)}tokenize(l,o,c){if(l.length>=this._maxTokenizationLineLength)return(0,y.nullTokenize)(this._languageId,c);const a=new t,g=this._tokenize(l,o,c,a);return a.finalize(g)}tokenizeEncoded(l,o,c){if(l.length>=this._maxTokenizationLineLength)return(0,y.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),c);const a=new r(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),g=this._tokenize(l,o,c,a);return a.finalize(g)}_tokenize(l,o,c,a){return c.embeddedLanguageData?this._nestedTokenize(l,o,c,0,a):this._myTokenize(l,o,c,0,a)}_findLeavingNestedLanguageOffset(l,o){let c=this._lexer.tokenizer[o.stack.state];if(!c&&(c=D.findRules(this._lexer,o.stack.state),!c))throw D.createError(this._lexer,"tokenizer state is not defined: "+o.stack.state);let a=-1,g=!1;for(const h of c){if(!D.isIAction(h.action)||h.action.nextEmbedded!=="@pop")continue;g=!0;let p=h.regex;const b=h.regex.source;if(b.substr(0,4)==="^(?:"&&b.substr(b.length-1,1)===")"){const E=(p.ignoreCase?"i":"")+(p.unicode?"u":"");p=new RegExp(b.substr(4,b.length-5),E)}const w=l.search(p);w===-1||w!==0&&h.matchOnlyAtLineStart||(a===-1||w<a)&&(a=w)}if(!g)throw D.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+o.stack.state);return a}_nestedTokenize(l,o,c,a,g){const h=this._findLeavingNestedLanguageOffset(l,c);if(h===-1){const w=g.nestedLanguageTokenize(l,o,c.embeddedLanguageData,a);return i.create(c.stack,new s(c.embeddedLanguageData.languageId,w))}const p=l.substring(0,h);p.length>0&&g.nestedLanguageTokenize(p,!1,c.embeddedLanguageData,a);const b=l.substring(h);return this._myTokenize(b,o,c,a+h,g)}_safeRuleName(l){return l?l.name:"(unknown)"}_myTokenize(l,o,c,a,g){g.enterLanguage(this._languageId);const h=l.length,p=o&&this._lexer.includeLF?l+`
`:l,b=p.length;let w=c.embeddedLanguageData,E=c.stack,k=0,M=null,R=!0;for(;R||k<b;){const B=k,T=E.depth,N=M?M.groups.length:0,A=E.state;let P=null,O=null,x=null,W=null,U=null;if(M){P=M.matches;const Y=M.groups.shift();O=Y.matched,x=Y.action,W=M.rule,M.groups.length===0&&(M=null)}else{if(!R&&k>=b)break;R=!1;let Y=this._lexer.tokenizer[A];if(!Y&&(Y=D.findRules(this._lexer,A),!Y))throw D.createError(this._lexer,"tokenizer state is not defined: "+A);const ne=p.substr(k);for(const se of Y)if((k===0||!se.matchOnlyAtLineStart)&&(P=ne.match(se.regex),P)){O=P[0],x=se.action;break}}if(P||(P=[""],O=""),x||(k<b&&(P=[p.charAt(k)],O=P[0]),x=this._lexer.defaultToken),O===null)break;for(k+=O.length;D.isFuzzyAction(x)&&D.isIAction(x)&&x.test;)x=x.test(O,P,A,k===b);let F=null;if(typeof x=="string"||Array.isArray(x))F=x;else if(x.group)F=x.group;else if(x.token!==null&&x.token!==void 0){if(x.tokenSubst?F=D.substituteMatches(this._lexer,x.token,O,P,A):F=x.token,x.nextEmbedded)if(x.nextEmbedded==="@pop"){if(!w)throw D.createError(this._lexer,"cannot pop embedded language if not inside one");w=null}else{if(w)throw D.createError(this._lexer,"cannot enter embedded language from within an embedded language");U=D.substituteMatches(this._lexer,x.nextEmbedded,O,P,A)}if(x.goBack&&(k=Math.max(0,k-x.goBack)),x.switchTo&&typeof x.switchTo=="string"){let Y=D.substituteMatches(this._lexer,x.switchTo,O,P,A);if(Y[0]==="@"&&(Y=Y.substr(1)),D.findRules(this._lexer,Y))E=E.switchTo(Y);else throw D.createError(this._lexer,"trying to switch to a state '"+Y+"' that is undefined in rule: "+this._safeRuleName(W))}else{if(x.transform&&typeof x.transform=="function")throw D.createError(this._lexer,"action.transform not supported");if(x.next)if(x.next==="@push"){if(E.depth>=this._lexer.maxStack)throw D.createError(this._lexer,"maximum tokenizer stack size reached: ["+E.state+","+E.parent.state+",...]");E=E.push(A)}else if(x.next==="@pop"){if(E.depth<=1)throw D.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(W));E=E.pop()}else if(x.next==="@popall")E=E.popall();else{let Y=D.substituteMatches(this._lexer,x.next,O,P,A);if(Y[0]==="@"&&(Y=Y.substr(1)),D.findRules(this._lexer,Y))E=E.push(Y);else throw D.createError(this._lexer,"trying to set a next state '"+Y+"' that is undefined in rule: "+this._safeRuleName(W))}}x.log&&typeof x.log=="string"&&D.log(this._lexer,this._lexer.languageId+": "+D.substituteMatches(this._lexer,x.log,O,P,A))}if(F===null)throw D.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(W));const G=Y=>{const ne=this._languageService.getLanguageIdByLanguageName(Y)||this._languageService.getLanguageIdByMimeType(Y)||Y,se=this._getNestedEmbeddedLanguageData(ne);if(k<b){const J=l.substr(k);return this._nestedTokenize(J,o,i.create(E,se),a+k,g)}else return i.create(E,se)};if(Array.isArray(F)){if(M&&M.groups.length>0)throw D.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(W));if(P.length!==F.length+1)throw D.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(W));let Y=0;for(let ne=1;ne<P.length;ne++)Y+=P[ne].length;if(Y!==O.length)throw D.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(W));M={rule:W,matches:P,groups:[]};for(let ne=0;ne<F.length;ne++)M.groups[ne]={action:F[ne],matched:P[ne+1]};k-=O.length;continue}else{if(F==="@rematch"&&(k-=O.length,O="",P=null,F="",U!==null))return G(U);if(O.length===0){if(b===0||T!==E.depth||A!==E.state||(M?M.groups.length:0)!==N)continue;throw D.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(W))}let Y=null;if(D.isString(F)&&F.indexOf("@brackets")===0){const ne=F.substr(9),se=f(this._lexer,O);if(!se)throw D.createError(this._lexer,"@brackets token returned but no bracket defined as: "+O);Y=D.sanitize(se.token+ne)}else{const ne=F===""?"":F+this._lexer.tokenPostfix;Y=D.sanitize(ne)}B<h&&g.emit(B+a,Y)}if(U!==null)return G(U)}return i.create(E,w)}_getNestedEmbeddedLanguageData(l){if(!this._languageService.isRegisteredLanguageId(l))return new s(l,y.NullState);l!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(l),I.TokenizationRegistry.getOrCreate(l),this._embeddedLanguages[l]=!0);const o=I.TokenizationRegistry.get(l);return o?new s(l,o.getInitialState()):new s(l,y.NullState)}};e.MonarchTokenizer=u,e.MonarchTokenizer=u=m=Ie([ge(4,S.IConfigurationService)],u);function f(d,l){if(!l)return null;l=D.fixCase(d,l);const o=d.brackets;for(const c of o){if(c.open===l)return{token:c.token,bracketType:1};if(c.close===l)return{token:c.token,bracketType:-1}}return null}}),define(te[753],ie([1,0,90,10,29,91,114,82,338]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const v=(0,L.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:t=>t});class C{static colorizeElement(r,u,f,d){d=d||{};const l=d.theme||"vs",o=d.mimeType||f.getAttribute("lang")||f.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();const c=u.getLanguageIdByMimeType(o)||o;r.setTheme(l);const a=f.firstChild?f.firstChild.nodeValue:"";f.className+=" "+l;const g=h=>{var p;const b=(p=v?.createHTML(h))!==null&&p!==void 0?p:h;f.innerHTML=b};return this.colorize(u,a||"",c,d).then(g,h=>console.error(h))}static colorize(r,u,f,d){return be(this,void 0,void 0,function*(){const l=r.languageIdCodec;let o=4;d&&typeof d.tabSize=="number"&&(o=d.tabSize),I.startsWithUTF8BOM(u)&&(u=u.substr(1));const c=I.splitLines(u);if(!r.isRegisteredLanguageId(f))return i(c,o,l);const a=yield y.TokenizationRegistry.getOrCreate(f);return a?s(c,o,a,l):i(c,o,l)})}static colorizeLine(r,u,f,d,l=4){const o=m.ViewLineRenderingData.isBasicASCII(r,u),c=m.ViewLineRenderingData.containsRTL(r,o,f);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,r,!1,o,c,0,d,[],l,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,u,f=4){const d=r.getLineContent(u);r.tokenization.forceTokenization(u);const o=r.tokenization.getLineTokens(u).inflate();return this.colorizeLine(d,r.mightContainNonBasicASCII(),r.mightContainRTL(),o,f)}}e.Colorizer=C;function s(t,r,u,f){return new Promise((d,l)=>{const o=()=>{const c=n(t,r,u,f);if(u instanceof _.MonarchTokenizer){const a=u.getLoadStatus();if(a.loaded===!1){a.promise.then(o,l);return}}d(c)};o()})}function i(t,r,u){let f=[];const l=new Uint32Array(2);l[0]=0,l[1]=33587200;for(let o=0,c=t.length;o<c;o++){const a=t[o];l[0]=a.length;const g=new D.LineTokens(l,a,u),h=m.ViewLineRenderingData.isBasicASCII(a,!0),p=m.ViewLineRenderingData.containsRTL(a,h,!0),b=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,a,!1,h,p,0,g,[],r,0,0,0,0,-1,"none",!1,!1,null));f=f.concat(b.html),f.push("<br/>")}return f.join("")}function n(t,r,u,f){let d=[],l=u.getInitialState();for(let o=0,c=t.length;o<c;o++){const a=t[o],g=u.tokenizeEncoded(a,!0,l);D.LineTokens.convertToEndOffset(g.tokens,a.length);const h=new D.LineTokens(g.tokens,a,f),p=m.ViewLineRenderingData.isBasicASCII(a,!0),b=m.ViewLineRenderingData.containsRTL(a,p,!0),w=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,a,!1,p,b,0,h.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));d=d.concat(w.html),d.push("<br/>"),l=g.endState}return d.join("")}}),define(te[15],ie([1,0,17,10,743,8,724]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=e.Parser=void 0;const m=new Map;m.set("false",!1),m.set("true",!0),m.set("isMac",L.isMacintosh),m.set("isLinux",L.isLinux),m.set("isWindows",L.isWindows),m.set("isWeb",L.isWeb),m.set("isMacNative",L.isMacintosh&&!L.isWeb),m.set("isEdge",L.isEdge),m.set("isFirefox",L.isFirefox),m.set("isChrome",L.isChrome),m.set("isSafari",L.isSafari);const _=Object.prototype.hasOwnProperty,v={regexParsingWithErrorRecovery:!0},C=(0,S.localize)(0,null),s=(0,S.localize)(1,null),i=(0,S.localize)(2,null),n=(0,S.localize)(3,null),t=(0,S.localize)(4,null),r=(0,S.localize)(5,null),u=(0,S.localize)(6,null),f=(0,S.localize)(7,null);class d{constructor(q=v){this._config=q,this._scanner=new y.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(q){if(q===""){this._parsingErrors.push({message:C,offset:0,lexeme:"",additionalInfo:s});return}this._tokens=this._scanner.reset(q).scan(),this._current=0,this._parsingErrors=[];try{const H=this._expr();if(!this._isAtEnd()){const V=this._peek(),Z=V.type===17?r:void 0;throw this._parsingErrors.push({message:t,offset:V.offset,lexeme:y.Scanner.getLexeme(V),additionalInfo:Z}),d._parseError}return H}catch(H){if(H!==d._parseError)throw H;return}}_expr(){return this._or()}_or(){const q=[this._and()];for(;this._matchOne(16);){const H=this._and();q.push(H)}return q.length===1?q[0]:l.or(...q)}_and(){const q=[this._term()];for(;this._matchOne(15);){const H=this._term();q.push(H)}return q.length===1?q[0]:l.and(...q)}_term(){if(this._matchOne(2)){const q=this._peek();switch(q.type){case 11:return this._advance(),a.INSTANCE;case 12:return this._advance(),g.INSTANCE;case 0:{this._advance();const H=this._expr();return this._consume(1,n),H?.negate()}case 17:return this._advance(),k.create(q.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",q)}}return this._primary()}_primary(){const q=this._peek();switch(q.type){case 11:return this._advance(),l.true();case 12:return this._advance(),l.false();case 0:{this._advance();const H=this._expr();return this._consume(1,n),H}case 17:{const H=q.lexeme;if(this._advance(),this._matchOne(9)){const Z=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Z.type!==10)throw this._errExpectedButGot("REGEX",Z);const ee=Z.lexeme,le=ee.lastIndexOf("/"),ue=le===ee.length-1?void 0:this._removeFlagsGY(ee.substring(le+1));let de;try{de=new RegExp(ee.substring(1,le),ue)}catch{throw this._errExpectedButGot("REGEX",Z)}return A.create(H,de)}switch(Z.type){case 10:case 19:{const ee=[Z.lexeme];this._advance();let le=this._peek(),ue=0;for(let K=0;K<Z.lexeme.length;K++)Z.lexeme.charCodeAt(K)===40?ue++:Z.lexeme.charCodeAt(K)===41&&ue--;for(;!this._isAtEnd()&&le.type!==15&&le.type!==16;){switch(le.type){case 0:ue++;break;case 1:ue--;break;case 10:case 18:for(let K=0;K<le.lexeme.length;K++)le.lexeme.charCodeAt(K)===40?ue++:Z.lexeme.charCodeAt(K)===41&&ue--}if(ue<0)break;ee.push(y.Scanner.getLexeme(le)),this._advance(),le=this._peek()}const de=ee.join(""),ce=de.lastIndexOf("/"),ae=ce===de.length-1?void 0:this._removeFlagsGY(de.substring(ce+1));let X;try{X=new RegExp(de.substring(1,ce),ae)}catch{throw this._errExpectedButGot("REGEX",Z)}return l.regex(H,X)}case 18:{const ee=Z.lexeme;this._advance();let le=null;if(!(0,I.isFalsyOrWhitespace)(ee)){const ue=ee.indexOf("/"),de=ee.lastIndexOf("/");if(ue!==de&&ue>=0){const ce=ee.slice(ue+1,de),ae=ee[de+1]==="i"?"i":"";try{le=new RegExp(ce,ae)}catch{throw this._errExpectedButGot("REGEX",Z)}}}if(le===null)throw this._errExpectedButGot("REGEX",Z);return A.create(H,le)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,i);const Z=this._value();return l.notIn(H,Z)}switch(this._peek().type){case 3:{this._advance();const Z=this._value();if(this._previous().type===18)return l.equals(H,Z);switch(Z){case"true":return l.has(H);case"false":return l.not(H);default:return l.equals(H,Z)}}case 4:{this._advance();const Z=this._value();if(this._previous().type===18)return l.notEquals(H,Z);switch(Z){case"true":return l.not(H);case"false":return l.has(H);default:return l.notEquals(H,Z)}}case 5:return this._advance(),T.create(H,this._value());case 6:return this._advance(),N.create(H,this._value());case 7:return this._advance(),R.create(H,this._value());case 8:return this._advance(),B.create(H,this._value());case 13:return this._advance(),l.in(H,this._value());default:return l.has(H)}}case 20:throw this._parsingErrors.push({message:u,offset:q.offset,lexeme:"",additionalInfo:f}),d._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const q=this._peek();switch(q.type){case 17:case 18:return this._advance(),q.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(q){return q.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(q){return this._check(q)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(q,H){if(this._check(q))return this._advance();throw this._errExpectedButGot(H,this._peek())}_errExpectedButGot(q,H,V){const Z=(0,S.localize)(8,null,q,y.Scanner.getLexeme(H)),ee=H.offset,le=y.Scanner.getLexeme(H);return this._parsingErrors.push({message:Z,offset:ee,lexeme:le,additionalInfo:V}),d._parseError}_check(q){return this._peek().type===q}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=d,d._parseError=new Error;class l{static false(){return a.INSTANCE}static true(){return g.INSTANCE}static has(q){return h.create(q)}static equals(q,H){return p.create(q,H)}static notEquals(q,H){return E.create(q,H)}static regex(q,H){return A.create(q,H)}static in(q,H){return b.create(q,H)}static notIn(q,H){return w.create(q,H)}static not(q){return k.create(q)}static and(...q){return x.create(q,null,!0)}static or(...q){return W.create(q,null,!0)}static deserialize(q){return q==null?void 0:this._parser.parse(q)}}e.ContextKeyExpr=l,l._parser=new d({regexParsingWithErrorRecovery:!1});function o(J,q){const H=J?J.substituteConstants():void 0,V=q?q.substituteConstants():void 0;return!H&&!V?!0:!H||!V?!1:H.equals(V)}e.expressionsAreEqualWithConstantSubstitution=o;function c(J,q){return J.cmp(q)}class a{constructor(){this.type=0}cmp(q){return this.type-q.type}equals(q){return q.type===this.type}substituteConstants(){return this}evaluate(q){return!1}serialize(){return"false"}keys(){return[]}negate(){return g.INSTANCE}}e.ContextKeyFalseExpr=a,a.INSTANCE=new a;class g{constructor(){this.type=1}cmp(q){return this.type-q.type}equals(q){return q.type===this.type}substituteConstants(){return this}evaluate(q){return!0}serialize(){return"true"}keys(){return[]}negate(){return a.INSTANCE}}e.ContextKeyTrueExpr=g,g.INSTANCE=new g;class h{static create(q,H=null){const V=m.get(q);return typeof V=="boolean"?V?g.INSTANCE:a.INSTANCE:new h(q,H)}constructor(q,H){this.key=q,this.negated=H,this.type=2}cmp(q){return q.type!==this.type?this.type-q.type:F(this.key,q.key)}equals(q){return q.type===this.type?this.key===q.key:!1}substituteConstants(){const q=m.get(this.key);return typeof q=="boolean"?q?g.INSTANCE:a.INSTANCE:this}evaluate(q){return!!q.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=k.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=h;class p{static create(q,H,V=null){if(typeof H=="boolean")return H?h.create(q,V):k.create(q,V);const Z=m.get(q);return typeof Z=="boolean"?H===(Z?"true":"false")?g.INSTANCE:a.INSTANCE:new p(q,H,V)}constructor(q,H,V){this.key=q,this.value=H,this.negated=V,this.type=4}cmp(q){return q.type!==this.type?this.type-q.type:G(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){const q=m.get(this.key);if(typeof q=="boolean"){const H=q?"true":"false";return this.value===H?g.INSTANCE:a.INSTANCE}return this}evaluate(q){return q.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=p;class b{static create(q,H){return new b(q,H)}constructor(q,H){this.key=q,this.valueKey=H,this.type=10,this.negated=null}cmp(q){return q.type!==this.type?this.type-q.type:G(this.key,this.valueKey,q.key,q.valueKey)}equals(q){return q.type===this.type?this.key===q.key&&this.valueKey===q.valueKey:!1}substituteConstants(){return this}evaluate(q){const H=q.getValue(this.valueKey),V=q.getValue(this.key);return Array.isArray(H)?H.includes(V):typeof V=="string"&&typeof H=="object"&&H!==null?_.call(H,V):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=w.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=b;class w{static create(q,H){return new w(q,H)}constructor(q,H){this.key=q,this.valueKey=H,this.type=11,this._negated=b.create(q,H)}cmp(q){return q.type!==this.type?this.type-q.type:this._negated.cmp(q._negated)}equals(q){return q.type===this.type?this._negated.equals(q._negated):!1}substituteConstants(){return this}evaluate(q){return!this._negated.evaluate(q)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=w;class E{static create(q,H,V=null){if(typeof H=="boolean")return H?k.create(q,V):h.create(q,V);const Z=m.get(q);return typeof Z=="boolean"?H===(Z?"true":"false")?a.INSTANCE:g.INSTANCE:new E(q,H,V)}constructor(q,H,V){this.key=q,this.value=H,this.negated=V,this.type=5}cmp(q){return q.type!==this.type?this.type-q.type:G(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){const q=m.get(this.key);if(typeof q=="boolean"){const H=q?"true":"false";return this.value===H?a.INSTANCE:g.INSTANCE}return this}evaluate(q){return q.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=E;class k{static create(q,H=null){const V=m.get(q);return typeof V=="boolean"?V?a.INSTANCE:g.INSTANCE:new k(q,H)}constructor(q,H){this.key=q,this.negated=H,this.type=3}cmp(q){return q.type!==this.type?this.type-q.type:F(this.key,q.key)}equals(q){return q.type===this.type?this.key===q.key:!1}substituteConstants(){const q=m.get(this.key);return typeof q=="boolean"?q?a.INSTANCE:g.INSTANCE:this}evaluate(q){return!q.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=h.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=k;function M(J,q){if(typeof J=="string"){const H=parseFloat(J);isNaN(H)||(J=H)}return typeof J=="string"||typeof J=="number"?q(J):a.INSTANCE}class R{static create(q,H,V=null){return M(H,Z=>new R(q,Z,V))}constructor(q,H,V){this.key=q,this.value=H,this.negated=V,this.type=12}cmp(q){return q.type!==this.type?this.type-q.type:G(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){return this}evaluate(q){return typeof this.value=="string"?!1:parseFloat(q.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=R;class B{static create(q,H,V=null){return M(H,Z=>new B(q,Z,V))}constructor(q,H,V){this.key=q,this.value=H,this.negated=V,this.type=13}cmp(q){return q.type!==this.type?this.type-q.type:G(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){return this}evaluate(q){return typeof this.value=="string"?!1:parseFloat(q.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=T.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=B;class T{static create(q,H,V=null){return M(H,Z=>new T(q,Z,V))}constructor(q,H,V){this.key=q,this.value=H,this.negated=V,this.type=14}cmp(q){return q.type!==this.type?this.type-q.type:G(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){return this}evaluate(q){return typeof this.value=="string"?!1:parseFloat(q.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=B.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=T;class N{static create(q,H,V=null){return M(H,Z=>new N(q,Z,V))}constructor(q,H,V){this.key=q,this.value=H,this.negated=V,this.type=15}cmp(q){return q.type!==this.type?this.type-q.type:G(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){return this}evaluate(q){return typeof this.value=="string"?!1:parseFloat(q.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=N;class A{static create(q,H){return new A(q,H)}constructor(q,H){this.key=q,this.regexp=H,this.type=7,this.negated=null}cmp(q){if(q.type!==this.type)return this.type-q.type;if(this.key<q.key)return-1;if(this.key>q.key)return 1;const H=this.regexp?this.regexp.source:"",V=q.regexp?q.regexp.source:"";return H<V?-1:H>V?1:0}equals(q){if(q.type===this.type){const H=this.regexp?this.regexp.source:"",V=q.regexp?q.regexp.source:"";return this.key===q.key&&H===V}return!1}substituteConstants(){return this}evaluate(q){const H=q.getValue(this.key);return this.regexp?this.regexp.test(H):!1}serialize(){const q=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${q}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this)),this.negated}}e.ContextKeyRegexExpr=A;class P{static create(q){return new P(q)}constructor(q){this._actual=q,this.type=8}cmp(q){return q.type!==this.type?this.type-q.type:this._actual.cmp(q._actual)}equals(q){return q.type===this.type?this._actual.equals(q._actual):!1}substituteConstants(){return this}evaluate(q){return!this._actual.evaluate(q)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=P;function O(J){let q=null;for(let H=0,V=J.length;H<V;H++){const Z=J[H].substituteConstants();if(J[H]!==Z&&q===null){q=[];for(let ee=0;ee<H;ee++)q[ee]=J[ee]}q!==null&&(q[H]=Z)}return q===null?J:q}class x{static create(q,H,V){return x._normalizeArr(q,H,V)}constructor(q,H){this.expr=q,this.negated=H,this.type=6}cmp(q){if(q.type!==this.type)return this.type-q.type;if(this.expr.length<q.expr.length)return-1;if(this.expr.length>q.expr.length)return 1;for(let H=0,V=this.expr.length;H<V;H++){const Z=c(this.expr[H],q.expr[H]);if(Z!==0)return Z}return 0}equals(q){if(q.type===this.type){if(this.expr.length!==q.expr.length)return!1;for(let H=0,V=this.expr.length;H<V;H++)if(!this.expr[H].equals(q.expr[H]))return!1;return!0}return!1}substituteConstants(){const q=O(this.expr);return q===this.expr?this:x.create(q,this.negated,!1)}evaluate(q){for(let H=0,V=this.expr.length;H<V;H++)if(!this.expr[H].evaluate(q))return!1;return!0}static _normalizeArr(q,H,V){const Z=[];let ee=!1;for(const le of q)if(le){if(le.type===1){ee=!0;continue}if(le.type===0)return a.INSTANCE;if(le.type===6){Z.push(...le.expr);continue}Z.push(le)}if(Z.length===0&&ee)return g.INSTANCE;if(Z.length!==0){if(Z.length===1)return Z[0];Z.sort(c);for(let le=1;le<Z.length;le++)Z[le-1].equals(Z[le])&&(Z.splice(le,1),le--);if(Z.length===1)return Z[0];for(;Z.length>1;){const le=Z[Z.length-1];if(le.type!==9)break;Z.pop();const ue=Z.pop(),de=Z.length===0,ce=W.create(le.expr.map(ae=>x.create([ae,ue],null,V)),null,de);ce&&(Z.push(ce),Z.sort(c))}if(Z.length===1)return Z[0];if(V){for(let le=0;le<Z.length;le++)for(let ue=le+1;ue<Z.length;ue++)if(Z[le].negate().equals(Z[ue]))return a.INSTANCE;if(Z.length===1)return Z[0]}return new x(Z,H)}}serialize(){return this.expr.map(q=>q.serialize()).join(" && ")}keys(){const q=[];for(const H of this.expr)q.push(...H.keys());return q}negate(){if(!this.negated){const q=[];for(const H of this.expr)q.push(H.negate());this.negated=W.create(q,this,!0)}return this.negated}}e.ContextKeyAndExpr=x;class W{static create(q,H,V){return W._normalizeArr(q,H,V)}constructor(q,H){this.expr=q,this.negated=H,this.type=9}cmp(q){if(q.type!==this.type)return this.type-q.type;if(this.expr.length<q.expr.length)return-1;if(this.expr.length>q.expr.length)return 1;for(let H=0,V=this.expr.length;H<V;H++){const Z=c(this.expr[H],q.expr[H]);if(Z!==0)return Z}return 0}equals(q){if(q.type===this.type){if(this.expr.length!==q.expr.length)return!1;for(let H=0,V=this.expr.length;H<V;H++)if(!this.expr[H].equals(q.expr[H]))return!1;return!0}return!1}substituteConstants(){const q=O(this.expr);return q===this.expr?this:W.create(q,this.negated,!1)}evaluate(q){for(let H=0,V=this.expr.length;H<V;H++)if(this.expr[H].evaluate(q))return!0;return!1}static _normalizeArr(q,H,V){let Z=[],ee=!1;if(q){for(let le=0,ue=q.length;le<ue;le++){const de=q[le];if(de){if(de.type===0){ee=!0;continue}if(de.type===1)return g.INSTANCE;if(de.type===9){Z=Z.concat(de.expr);continue}Z.push(de)}}if(Z.length===0&&ee)return a.INSTANCE;Z.sort(c)}if(Z.length!==0){if(Z.length===1)return Z[0];for(let le=1;le<Z.length;le++)Z[le-1].equals(Z[le])&&(Z.splice(le,1),le--);if(Z.length===1)return Z[0];if(V){for(let le=0;le<Z.length;le++)for(let ue=le+1;ue<Z.length;ue++)if(Z[le].negate().equals(Z[ue]))return g.INSTANCE;if(Z.length===1)return Z[0]}return new W(Z,H)}}serialize(){return this.expr.map(q=>q.serialize()).join(" || ")}keys(){const q=[];for(const H of this.expr)q.push(...H.keys());return q}negate(){if(!this.negated){const q=[];for(const H of this.expr)q.push(H.negate());for(;q.length>1;){const H=q.shift(),V=q.shift(),Z=[];for(const ee of se(H))for(const le of se(V))Z.push(x.create([ee,le],null,!1));q.unshift(W.create(Z,null,!1))}this.negated=W.create(q,this,!0)}return this.negated}}e.ContextKeyOrExpr=W;class U extends h{static all(){return U._info.values()}constructor(q,H,V){super(q,null),this._defaultValue=H,typeof V=="object"?U._info.push(Object.assign(Object.assign({},V),{key:q})):V!==!0&&U._info.push({key:q,description:V,type:H!=null?typeof H:void 0})}bindTo(q){return q.createKey(this.key,this._defaultValue)}getValue(q){return q.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(q){return p.create(this.key,q)}}e.RawContextKey=U,U._info=[],e.IContextKeyService=(0,D.createDecorator)("contextKeyService");function F(J,q){return J<q?-1:J>q?1:0}function G(J,q,H,V){return J<H?-1:J>H?1:q<V?-1:q>V?1:0}function Y(J,q){if(J.type===0||q.type===1)return!0;if(J.type===9)return q.type===9?ne(J.expr,q.expr):!1;if(q.type===9){for(const H of q.expr)if(Y(J,H))return!0;return!1}if(J.type===6){if(q.type===6)return ne(q.expr,J.expr);for(const H of J.expr)if(Y(H,q))return!0;return!1}return J.equals(q)}e.implies=Y;function ne(J,q){let H=0,V=0;for(;H<J.length&&V<q.length;){const Z=J[H].cmp(q[V]);if(Z<0)return!1;Z===0&&H++,V++}return H===J.length}function se(J){return J.type===9?J.expr:[J]}}),define(te[22],ie([1,0,623,15]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var y;(function(D){D.editorSimpleInput=new I.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new I.RawContextKey("editorTextFocus",!1,L.localize(0,null)),D.focus=new I.RawContextKey("editorFocus",!1,L.localize(1,null)),D.textInputFocus=new I.RawContextKey("textInputFocus",!1,L.localize(2,null)),D.readOnly=new I.RawContextKey("editorReadonly",!1,L.localize(3,null)),D.inDiffEditor=new I.RawContextKey("inDiffEditor",!1,L.localize(4,null)),D.isEmbeddedDiffEditor=new I.RawContextKey("isEmbeddedDiffEditor",!1,L.localize(5,null)),D.comparingMovedCode=new I.RawContextKey("comparingMovedCode",!1,L.localize(6,null)),D.accessibleDiffViewerVisible=new I.RawContextKey("accessibleDiffViewerVisible",!1,L.localize(7,null)),D.diffEditorRenderSideBySideInlineBreakpointReached=new I.RawContextKey("diffEditorRenderSideBySideInlineBreakpointReached",!1,L.localize(8,null)),D.columnSelection=new I.RawContextKey("editorColumnSelection",!1,L.localize(9,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new I.RawContextKey("editorHasSelection",!1,L.localize(10,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new I.RawContextKey("editorHasMultipleSelections",!1,L.localize(11,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new I.RawContextKey("editorTabMovesFocus",!1,L.localize(12,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new I.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new I.RawContextKey("canUndo",!1,!0),D.canRedo=new I.RawContextKey("canRedo",!1,!0),D.hoverVisible=new I.RawContextKey("editorHoverVisible",!1,L.localize(13,null)),D.hoverFocused=new I.RawContextKey("editorHoverFocused",!1,L.localize(14,null)),D.stickyScrollFocused=new I.RawContextKey("stickyScrollFocused",!1,L.localize(15,null)),D.stickyScrollVisible=new I.RawContextKey("stickyScrollVisible",!1,L.localize(16,null)),D.standaloneColorPickerVisible=new I.RawContextKey("standaloneColorPickerVisible",!1,L.localize(17,null)),D.standaloneColorPickerFocused=new I.RawContextKey("standaloneColorPickerFocused",!1,L.localize(18,null)),D.inCompositeEditor=new I.RawContextKey("inCompositeEditor",void 0,L.localize(19,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new I.RawContextKey("editorLangId","",L.localize(20,null)),D.hasCompletionItemProvider=new I.RawContextKey("editorHasCompletionItemProvider",!1,L.localize(21,null)),D.hasCodeActionsProvider=new I.RawContextKey("editorHasCodeActionsProvider",!1,L.localize(22,null)),D.hasCodeLensProvider=new I.RawContextKey("editorHasCodeLensProvider",!1,L.localize(23,null)),D.hasDefinitionProvider=new I.RawContextKey("editorHasDefinitionProvider",!1,L.localize(24,null)),D.hasDeclarationProvider=new I.RawContextKey("editorHasDeclarationProvider",!1,L.localize(25,null)),D.hasImplementationProvider=new I.RawContextKey("editorHasImplementationProvider",!1,L.localize(26,null)),D.hasTypeDefinitionProvider=new I.RawContextKey("editorHasTypeDefinitionProvider",!1,L.localize(27,null)),D.hasHoverProvider=new I.RawContextKey("editorHasHoverProvider",!1,L.localize(28,null)),D.hasDocumentHighlightProvider=new I.RawContextKey("editorHasDocumentHighlightProvider",!1,L.localize(29,null)),D.hasDocumentSymbolProvider=new I.RawContextKey("editorHasDocumentSymbolProvider",!1,L.localize(30,null)),D.hasReferenceProvider=new I.RawContextKey("editorHasReferenceProvider",!1,L.localize(31,null)),D.hasRenameProvider=new I.RawContextKey("editorHasRenameProvider",!1,L.localize(32,null)),D.hasSignatureHelpProvider=new I.RawContextKey("editorHasSignatureHelpProvider",!1,L.localize(33,null)),D.hasInlayHintsProvider=new I.RawContextKey("editorHasInlayHintsProvider",!1,L.localize(34,null)),D.hasDocumentFormattingProvider=new I.RawContextKey("editorHasDocumentFormattingProvider",!1,L.localize(35,null)),D.hasDocumentSelectionFormattingProvider=new I.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,L.localize(36,null)),D.hasMultipleDocumentFormattingProvider=new I.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,L.localize(37,null)),D.hasMultipleDocumentSelectionFormattingProvider=new I.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,L.localize(38,null))})(y||(e.EditorContextKeys=y={}))}),define(te[235],ie([1,0,40,10,80,15,2,680]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class _ extends S.Disposable{constructor(C,s){super(),this.contextKeyService=C,this.model=s,this.inlineCompletionVisible=_.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=_.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=_.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=_.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,L.autorun)(i=>{const n=this.model.read(i),t=n?.state.read(i),r=!!t?.inlineCompletion&&t?.ghostText!==void 0&&!t?.ghostText.isEmpty();this.inlineCompletionVisible.set(r),t?.ghostText&&t?.inlineCompletion&&this.suppressSuggestions.set(t.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,L.autorun)(i=>{const n=this.model.read(i);let t=!1,r=!0;const u=n?.ghostText.read(i);if(n?.selectedSuggestItem&&u&&u.parts.length>0){const{column:f,lines:d}=u.parts[0],l=d[0],o=n.textModel.getLineIndentColumn(u.lineNumber);if(f<=o){let a=(0,I.firstNonWhitespaceIndex)(l);a===-1&&(a=l.length-1),t=a>0;const g=n.textModel.getOptions().tabSize;r=y.CursorColumns.visibleColumnFromColumn(l,a+1,g)<g}}this.inlineCompletionSuggestsIndentation.set(t),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(r)}))}}e.InlineCompletionContextKeys=_,_.inlineSuggestionVisible=new D.RawContextKey("inlineSuggestionVisible",!1,(0,m.localize)(0,null)),_.inlineSuggestionHasIndentation=new D.RawContextKey("inlineSuggestionHasIndentation",!1,(0,m.localize)(1,null)),_.inlineSuggestionHasIndentationLessThanTabSize=new D.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,m.localize)(2,null)),_.suppressSuggestions=new D.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,m.localize)(3,null))}),define(te[236],ie([1,0,19,9,20,21,12,29,18,65,25,15]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new s.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new s.RawContextKey("parameterHintsMultipleSignatures",!1)};function i(n,t,r,u,f){return be(this,void 0,void 0,function*(){const d=n.ordered(t);for(const l of d)try{const o=yield l.provideSignatureHelp(t,r,f,u);if(o)return o}catch(o){(0,I.onUnexpectedExternalError)(o)}})}e.provideSignatureHelp=i,C.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(n,...t)=>be(void 0,void 0,void 0,function*(){const[r,u,f]=t;(0,y.assertType)(D.URI.isUri(r)),(0,y.assertType)(S.Position.isIPosition(u)),(0,y.assertType)(typeof f=="string"||!f);const d=n.get(_.ILanguageFeaturesService),l=yield n.get(v.ITextModelService).createModelReference(r);try{const o=yield i(d.signatureHelpProvider,l.object.textEditorModel,S.Position.lift(u),{triggerKind:m.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:f},L.CancellationToken.None);return o?(setTimeout(()=>o.dispose(),0),o.value):void 0}finally{l.dispose()}}))}),define(te[754],ie([1,0,14,9,6,2,121,29,236]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var v;(function(i){i.Default={type:0};class n{constructor(u,f){this.request=u,this.previouslyActiveHints=f,this.type=2}}i.Pending=n;class t{constructor(u){this.hints=u,this.type=1}}i.Active=t})(v||(v={}));class C extends D.Disposable{constructor(n,t,r=C.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new y.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=v.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=n,this.providers=t,this.throttledDelayer=new L.Delayer(r),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(u=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(u=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(u=>this.onCursorChange(u))),this._register(this.editor.onDidChangeModelContent(u=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(u=>this.onDidType(u))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(n){this._state.type===2&&this._state.request.cancel(),this._state=n}cancel(n=!1){this.state=v.Default,this.throttledDelayer.cancel(),n||this._onChangedHints.fire(void 0)}trigger(n,t){const r=this.editor.getModel();if(!r||!this.providers.has(r))return;const u=++this.triggerId;this._pendingTriggers.push(n),this.throttledDelayer.trigger(()=>this.doTrigger(u),t).catch(I.onUnexpectedError)}next(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,t=this.state.hints.activeSignature,r=t%n===n-1,u=this.editor.getOption(85).cycle;if((n<2||r)&&!u){this.cancel();return}this.updateActiveSignature(r&&u?0:t+1)}previous(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,t=this.state.hints.activeSignature,r=t===0,u=this.editor.getOption(85).cycle;if((n<2||r)&&!u){this.cancel();return}this.updateActiveSignature(r&&u?n-1:t-1)}updateActiveSignature(n){this.state.type===1&&(this.state=new v.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:n})),this._onChangedHints.fire(this.state.hints))}doTrigger(n){return be(this,void 0,void 0,function*(){const t=this.state.type===1||this.state.type===2,r=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const u=this._pendingTriggers.reduce(s);this._pendingTriggers=[];const f={triggerKind:u.triggerKind,triggerCharacter:u.triggerCharacter,isRetrigger:t,activeSignatureHelp:r};if(!this.editor.hasModel())return!1;const d=this.editor.getModel(),l=this.editor.getPosition();this.state=new v.Pending((0,L.createCancelablePromise)(o=>(0,_.provideSignatureHelp)(this.providers,d,l,f,o)),r);try{const o=yield this.state.request;return n!==this.triggerId?(o?.dispose(),!1):!o||!o.value.signatures||o.value.signatures.length===0?(o?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new v.Active(o.value),this._lastSignatureHelpResult.value=o,this._onChangedHints.fire(this.state.hints),!0)}catch(o){return n===this.triggerId&&(this.state=v.Default),(0,I.onUnexpectedError)(o),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const n=this.editor.getModel();if(n)for(const t of this.providers.ordered(n)){for(const r of t.signatureHelpTriggerCharacters||[])if(r.length){const u=r.charCodeAt(0);this.triggerChars.add(u),this.retriggerChars.add(u)}for(const r of t.signatureHelpRetriggerCharacters||[])r.length&&this.retriggerChars.add(r.charCodeAt(0))}}onDidType(n){if(!this.triggerOnType)return;const t=n.length-1,r=n.charCodeAt(t);(this.triggerChars.has(r)||this.isTriggered&&this.retriggerChars.has(r))&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:n.charAt(t)})}onCursorChange(n){n.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(85).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=C,C.DEFAULT_DELAY=120;function s(i,n){switch(n.triggerKind){case m.SignatureHelpTriggerKind.Invoke:return n;case m.SignatureHelpTriggerKind.ContentChange:return i;case m.SignatureHelpTriggerKind.TriggerCharacter:default:return n}}}),define(te[755],ie([1,0,15]),function($,e,L){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let y=I=class{constructor(S,m){this._editor=S,this._index=0,this._ckOtherSuggestions=I.OtherSuggestions.bindTo(m)}dispose(){this.reset()}reset(){var S;this._ckOtherSuggestions.reset(),(S=this._listener)===null||S===void 0||S.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:S,index:m},_){if(S.items.length===0){this.reset();return}if(I._moveIndex(!0,S,m)===m){this.reset();return}this._acceptNext=_,this._model=S,this._index=m,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(S,m,_){let v=_;for(let C=m.items.length;C>0&&(v=(v+m.items.length+(S?1:-1))%m.items.length,!(v===_||!m.items[v].completion.additionalTextEdits));C--);return v}next(){this._move(!0)}prev(){this._move(!1)}_move(S){if(this._model)try{this._ignore=!0,this._index=I._moveIndex(S,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=y,y.OtherSuggestions=new L.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=y=I=Ie([ge(1,L.IContextKeyService)],y)}),define(te[756],ie([1,0,15]),function($,e,L){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let y=I=class{constructor(S,m){this._editor=S,this._enabled=!1,this._ckAtEnd=I.AtEnd.bindTo(m),this._configListener=this._editor.onDidChangeConfiguration(_=>_.hasChanged(122)&&this._update()),this._update()}dispose(){var S;this._configListener.dispose(),(S=this._selectionListener)===null||S===void 0||S.dispose(),this._ckAtEnd.reset()}_update(){const S=this._editor.getOption(122)==="on";if(this._enabled!==S)if(this._enabled=S,this._enabled){const m=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const _=this._editor.getModel(),v=this._editor.getSelection(),C=_.getWordAtPosition(v.getStartPosition());if(!C){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(C.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(m),m()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=y,y.AtEnd=new L.RawContextKey("atEndOfWord",!1),e.WordContextKey=y=I=Ie([ge(1,L.IContextKeyService)],y)}),define(te[88],ie([1,0,15,8]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,I.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new L.RawContextKey("accessibilityModeEnabled",!1)}),define(te[757],ie([1,0,51,13,6,2,52,17,269,328,480,200,39,143,231,88]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let u=class extends D.Disposable{constructor(h,p,b,w){super(),this._accessibilityService=w,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new i.ComputeOptionsMemory,this.isSimpleWidget=h,this._containerObserver=this._register(new _.ElementSizeObserver(b,p.dimension)),this._rawOptions=a(p),this._validatedOptions=c.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(n.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(s.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(v.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(L.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const h=this._computeOptions(),p=c.checkEquals(this.options,h);p!==null&&(this.options=h,this._onDidChangeFast.fire(p),this._onDidChange.fire(p))}_computeOptions(){const h=this._readEnvConfiguration(),p=t.BareFontInfo.createFromValidatedSettings(this._validatedOptions,h.pixelRatio,this.isSimpleWidget),b=this._readFontInfo(p),w={memory:this._computeOptionsMemory,outerWidth:h.outerWidth,outerHeight:h.outerHeight-this._reservedHeight,fontInfo:b,extraEditorClassName:h.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:h.emptySelectionClipboard,pixelRatio:h.pixelRatio,tabFocusMode:s.TabFocus.getTabFocusMode(),accessibilitySupport:h.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return c.computeOptions(this._validatedOptions,w)}_readEnvConfiguration(){return{extraEditorClassName:d(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:L.isWebKit||L.isFirefox,pixelRatio:L.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(h){return v.FontMeasurements.readFontInfo(h)}getRawOptions(){return this._rawOptions}updateOptions(h){const p=a(h);c.applyUpdate(this._rawOptions,p)&&(this._validatedOptions=c.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(h){this._containerObserver.observe(h)}setIsDominatedByLongLines(h){this._isDominatedByLongLines!==h&&(this._isDominatedByLongLines=h,this._recomputeOptions())}setModelLineCount(h){const p=f(h);this._lineNumbersDigitCount!==p&&(this._lineNumbersDigitCount=p,this._recomputeOptions())}setViewLineCount(h){this._viewLineCount!==h&&(this._viewLineCount=h,this._recomputeOptions())}setReservedHeight(h){this._reservedHeight!==h&&(this._reservedHeight=h,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(h){this._glyphMarginDecorationLaneCount!==h&&(this._glyphMarginDecorationLaneCount=h,this._recomputeOptions())}};e.EditorConfiguration=u,e.EditorConfiguration=u=Ie([ge(3,r.IAccessibilityService)],u);function f(g){let h=0;for(;g;)g=Math.floor(g/10),h++;return h||1}function d(){let g="";return!L.isSafari&&!L.isWebkitWebView&&(g+="no-user-select "),L.isSafari&&(g+="no-minimap-shadow ",g+="enable-user-select "),m.isMacintosh&&(g+="mac "),g}class l{constructor(){this._values=[]}_read(h){return this._values[h]}get(h){return this._values[h]}_write(h,p){this._values[h]=p}}class o{constructor(){this._values=[]}_read(h){if(h>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[h]}get(h){return this._read(h)}_write(h,p){this._values[h]=p}}e.ComputedEditorOptions=o;class c{static validateOptions(h){const p=new l;for(const b of i.editorOptionsRegistry){const w=b.name==="_never_"?void 0:h[b.name];p._write(b.id,b.validate(w))}return p}static computeOptions(h,p){const b=new o;for(const w of i.editorOptionsRegistry)b._write(w.id,w.compute(p,b,h._read(w.id)));return b}static _deepEquals(h,p){if(typeof h!="object"||typeof p!="object"||!h||!p)return h===p;if(Array.isArray(h)||Array.isArray(p))return Array.isArray(h)&&Array.isArray(p)?I.equals(h,p):!1;if(Object.keys(h).length!==Object.keys(p).length)return!1;for(const b in h)if(!c._deepEquals(h[b],p[b]))return!1;return!0}static checkEquals(h,p){const b=[];let w=!1;for(const E of i.editorOptionsRegistry){const k=!c._deepEquals(h._read(E.id),p._read(E.id));b[E.id]=k,k&&(w=!0)}return w?new i.ConfigurationChangedEvent(b):null}static applyUpdate(h,p){let b=!1;for(const w of i.editorOptionsRegistry)if(p.hasOwnProperty(w.name)){const E=w.applyUpdate(h[w.name],p[w.name]);h[w.name]=E.newValue,b=b||E.didChange}return b}}function a(g){const h=S.deepClone(g);return(0,C.migrateOptions)(h),h}}),define(te[758],ie([1,0,6,43,2,52,197,21,723,25,28,15]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const i="data-keybinding-context";class n{constructor(E,k){this._id=E,this._parent=k,this._value=Object.create(null),this._value._contextId=E}get value(){return Object.assign({},this._value)}setValue(E,k){return this._value[E]!==k?(this._value[E]=k,!0):!1}removeValue(E){return E in this._value?(delete this._value[E],!0):!1}getValue(E){const k=this._value[E];return typeof k>"u"&&this._parent?this._parent.getValue(E):k}}e.Context=n;class t extends n{constructor(){super(-1,null)}setValue(E,k){return!1}removeValue(E){return!1}getValue(E){}}t.INSTANCE=new t;class r extends n{constructor(E,k,M){super(E,null),this._configurationService=k,this._values=S.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(R=>{if(R.source===7){const B=Array.from(this._values,([T])=>T);this._values.clear(),M.fire(new d(B))}else{const B=[];for(const T of R.affectedKeys){const N=`config.${T}`,A=this._values.findSuperstr(N);A!==void 0&&(B.push(...I.Iterable.map(A,([P])=>P)),this._values.deleteSuperstr(N)),this._values.has(N)&&(B.push(N),this._values.delete(N))}M.fire(new d(B))}})}dispose(){this._listener.dispose()}getValue(E){if(E.indexOf(r._keyPrefix)!==0)return super.getValue(E);if(this._values.has(E))return this._values.get(E);const k=E.substr(r._keyPrefix.length),M=this._configurationService.getValue(k);let R;switch(typeof M){case"number":case"boolean":case"string":R=M;break;default:Array.isArray(M)?R=JSON.stringify(M):R=M}return this._values.set(E,R),R}setValue(E,k){return super.setValue(E,k)}removeValue(E){return super.removeValue(E)}}r._keyPrefix="config.";class u{constructor(E,k,M){this._service=E,this._key=k,this._defaultValue=M,this.reset()}set(E){this._service.setContext(this._key,E)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class f{constructor(E){this.key=E}affectsSome(E){return E.has(this.key)}allKeysContainedIn(E){return this.affectsSome(E)}}class d{constructor(E){this.keys=E}affectsSome(E){for(const k of this.keys)if(E.has(k))return!0;return!1}allKeysContainedIn(E){return this.keys.every(k=>E.has(k))}}class l{constructor(E){this.events=E}affectsSome(E){for(const k of this.events)if(k.affectsSome(E))return!0;return!1}allKeysContainedIn(E){return this.events.every(k=>k.allKeysContainedIn(E))}}function o(w,E){return w.allKeysContainedIn(new Set(Object.keys(E)))}class c extends y.Disposable{constructor(E){super(),this._onDidChangeContext=this._register(new L.PauseableEmitter({merge:k=>new l(k)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=E}createKey(E,k){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new u(this,E,k)}bufferChangeEvents(E){this._onDidChangeContext.pause();try{E()}finally{this._onDidChangeContext.resume()}}createScoped(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new g(this,E)}contextMatchesRules(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const k=this.getContextValuesContainer(this._myContextId);return E?E.evaluate(k):!0}getContextKeyValue(E){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(E)}setContext(E,k){if(this._isDisposed)return;const M=this.getContextValuesContainer(this._myContextId);M&&M.setValue(E,k)&&this._onDidChangeContext.fire(new f(E))}removeContext(E){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(E)&&this._onDidChangeContext.fire(new f(E))}getContext(E){return this._isDisposed?t.INSTANCE:this.getContextValuesContainer(h(E))}dispose(){super.dispose(),this._isDisposed=!0}}e.AbstractContextKeyService=c;let a=class extends c{constructor(E){super(0),this._contexts=new Map,this._lastContextId=0;const k=this._register(new r(this._myContextId,E,this._onDidChangeContext));this._contexts.set(this._myContextId,k)}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._contexts.get(E)||t.INSTANCE}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const k=++this._lastContextId;return this._contexts.set(k,new n(k,this.getContextValuesContainer(E))),k}disposeContext(E){this._isDisposed||this._contexts.delete(E)}};e.ContextKeyService=a,e.ContextKeyService=a=Ie([ge(0,C.IConfigurationService)],a);class g extends c{constructor(E,k){if(super(E.createChildContext()),this._parentChangeListener=this._register(new y.MutableDisposable),this._parent=E,this._updateParentChangeListener(),this._domNode=k,this._domNode.hasAttribute(i)){let M="";this._domNode.classList&&(M=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${M?": "+M:""}`)}this._domNode.setAttribute(i,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(E=>{const M=this._parent.getContextValuesContainer(this._myContextId).value;o(E,M)||this._onDidChangeContext.fire(E)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(i),super.dispose())}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._parent.getContextValuesContainer(E)}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(E)}disposeContext(E){this._isDisposed||this._parent.disposeContext(E)}}function h(w){for(;w;){if(w.hasAttribute(i)){const E=w.getAttribute(i);return E?parseInt(E,10):NaN}w=w.parentElement}return 0}function p(w,E,k){w.get(s.IContextKeyService).createKey(String(E),b(k))}e.setContext=p;function b(w){return(0,D.cloneAndChange)(w,E=>{if(typeof E=="object"&&E.$mid===1)return m.URI.revive(E).toString();if(E instanceof m.URI)return E.toString()})}v.CommandsRegistry.registerCommand("_setContext",p),v.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...s.RawContextKey.all()].sort((w,E)=>w.key.localeCompare(E.key))},description:{description:(0,_.localize)(0,null),args:[]}}),v.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const w=[],E=new Set;for(const k of s.RawContextKey.all())E.has(k.key)||(E.add(k.key),w.push(k));w.sort((k,M)=>k.key.localeCompare(M.key)),console.log(JSON.stringify(w,void 0,2))})}),define(te[237],ie([1,0,17,725,15]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new y.RawContextKey("isMac",L.isMacintosh,(0,I.localize)(0,null)),e.IsLinuxContext=new y.RawContextKey("isLinux",L.isLinux,(0,I.localize)(1,null)),e.IsWindowsContext=new y.RawContextKey("isWindows",L.isWindows,(0,I.localize)(2,null)),e.IsWebContext=new y.RawContextKey("isWeb",L.isWeb,(0,I.localize)(3,null)),e.IsMacNativeContext=new y.RawContextKey("isMacNative",L.isMacintosh&&!L.isWeb,(0,I.localize)(4,null)),e.IsIOSContext=new y.RawContextKey("isIOS",L.isIOS,(0,I.localize)(5,null)),e.IsMobileContext=new y.RawContextKey("isMobile",L.isMobile,(0,I.localize)(6,null)),e.IsDevelopmentContext=new y.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new y.RawContextKey("productQualityType","",(0,I.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new y.RawContextKey(e.InputFocusedContextKey,!1,(0,I.localize)(8,null))}),define(te[58],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,L.createDecorator)("contextViewService"),e.IContextMenuService=(0,L.createDecorator)("contextMenuService")}),define(te[157],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,L.createDecorator)("dialogService")}),define(te[238],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,L.createDecorator)("environmentService")}),define(te[186],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class L{constructor(...y){this._entries=new Map;for(const[D,S]of y)this.set(D,S)}set(y,D){const S=this._entries.get(y);return this._entries.set(y,D),S}get(y){return this._entries.get(y)}}e.ServiceCollection=L}),define(te[759],ie([1,0,14,9,2,232,747,8,186,63]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const C=!1;class s extends Error{constructor(r){var u;super("cyclic dependency between services"),this.message=(u=r.findCycleSlow())!==null&&u!==void 0?u:`UNABLE to detect cycle, dumping graph: 
${r.toString()}`}}class i{constructor(r=new _.ServiceCollection,u=!1,f,d=C){var l;this._services=r,this._strict=u,this._parent=f,this._enableTracing=d,this._activeInstantiations=new Set,this._services.set(m.IInstantiationService,this),this._globalGraph=d?(l=f?._globalGraph)!==null&&l!==void 0?l:new S.Graph(o=>o):void 0}createChild(r){return new i(r,this._strict,this,this._enableTracing)}invokeFunction(r,...u){const f=n.traceInvocation(this._enableTracing,r);let d=!1;try{return r({get:o=>{if(d)throw(0,I.illegalState)("service accessor is only valid during the invocation of its target method");const c=this._getOrCreateServiceInstance(o,f);if(!c)throw new Error(`[invokeFunction] unknown service '${o}'`);return c}},...u)}finally{d=!0,f.stop()}}createInstance(r,...u){let f,d;return r instanceof D.SyncDescriptor?(f=n.traceCreation(this._enableTracing,r.ctor),d=this._createInstance(r.ctor,r.staticArguments.concat(u),f)):(f=n.traceCreation(this._enableTracing,r),d=this._createInstance(r,u,f)),f.stop(),d}_createInstance(r,u=[],f){const d=m._util.getServiceDependencies(r).sort((c,a)=>c.index-a.index),l=[];for(const c of d){const a=this._getOrCreateServiceInstance(c.id,f);a||this._throwIfStrict(`[createInstance] ${r.name} depends on UNKNOWN service ${c.id}.`,!1),l.push(a)}const o=d.length>0?d[0].index:u.length;if(u.length!==o){console.trace(`[createInstance] First service dependency of ${r.name} at position ${o+1} conflicts with ${u.length} static arguments`);const c=o-u.length;c>0?u=u.concat(new Array(c)):u=u.slice(0,o)}return Reflect.construct(r,u.concat(l))}_setServiceInstance(r,u){if(this._services.get(r)instanceof D.SyncDescriptor)this._services.set(r,u);else if(this._parent)this._parent._setServiceInstance(r,u);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(r){const u=this._services.get(r);return!u&&this._parent?this._parent._getServiceInstanceOrDescriptor(r):u}_getOrCreateServiceInstance(r,u){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(r));const f=this._getServiceInstanceOrDescriptor(r);return f instanceof D.SyncDescriptor?this._safeCreateAndCacheServiceInstance(r,f,u.branch(r,!0)):(u.branch(r,!1),f)}_safeCreateAndCacheServiceInstance(r,u,f){if(this._activeInstantiations.has(r))throw new Error(`illegal state - RECURSIVELY instantiating service '${r}'`);this._activeInstantiations.add(r);try{return this._createAndCacheServiceInstance(r,u,f)}finally{this._activeInstantiations.delete(r)}}_createAndCacheServiceInstance(r,u,f){var d;const l=new S.Graph(a=>a.id.toString());let o=0;const c=[{id:r,desc:u,_trace:f}];for(;c.length;){const a=c.pop();if(l.lookupOrInsertNode(a),o++>1e3)throw new s(l);for(const g of m._util.getServiceDependencies(a.desc.ctor)){const h=this._getServiceInstanceOrDescriptor(g.id);if(h||this._throwIfStrict(`[createInstance] ${r} depends on ${g.id} which is NOT registered.`,!0),(d=this._globalGraph)===null||d===void 0||d.insertEdge(String(a.id),String(g.id)),h instanceof D.SyncDescriptor){const p={id:g.id,desc:h,_trace:a._trace.branch(g.id,!0)};l.insertEdge(a,p),c.push(p)}}}for(;;){const a=l.roots();if(a.length===0){if(!l.isEmpty())throw new s(l);break}for(const{data:g}of a){if(this._getServiceInstanceOrDescriptor(g.id)instanceof D.SyncDescriptor){const p=this._createServiceInstanceWithOwner(g.id,g.desc.ctor,g.desc.staticArguments,g.desc.supportsDelayedInstantiation,g._trace);this._setServiceInstance(g.id,p)}l.removeNode(g)}}return this._getServiceInstanceOrDescriptor(r)}_createServiceInstanceWithOwner(r,u,f=[],d,l){if(this._services.get(r)instanceof D.SyncDescriptor)return this._createServiceInstance(r,u,f,d,l);if(this._parent)return this._parent._createServiceInstanceWithOwner(r,u,f,d,l);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}_createServiceInstance(r,u,f=[],d,l){if(d){const o=new i(void 0,this._strict,this,this._enableTracing);o._globalGraphImplicitDependency=String(r);const c=new Map,a=new L.IdleValue(()=>{const g=o._createInstance(u,f,l);for(const[h,p]of c){const b=g[h];if(typeof b=="function")for(const w of p)b.apply(g,w)}return c.clear(),g});return new Proxy(Object.create(null),{get(g,h){if(!a.isInitialized&&typeof h=="string"&&(h.startsWith("onDid")||h.startsWith("onWill"))){let w=c.get(h);return w||(w=new v.LinkedList,c.set(h,w)),(k,M,R)=>{const B=w.push([k,M,R]);return(0,y.toDisposable)(B)}}if(h in g)return g[h];const p=a.value;let b=p[h];return typeof b!="function"||(b=b.bind(p),g[h]=b),b},set(g,h,p){return a.value[h]=p,!0},getPrototypeOf(g){return u.prototype}})}else return this._createInstance(u,f,l)}_throwIfStrict(r,u){if(u&&console.warn(r),this._strict)throw new Error(r)}}e.InstantiationService=i;class n{static traceInvocation(r,u){return r?new n(2,u.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):n._None}static traceCreation(r,u){return r?new n(1,u.name):n._None}constructor(r,u){this.type=r,this.name=u,this._start=Date.now(),this._dep=[]}branch(r,u){const f=new n(3,r.toString());return this._dep.push([r,u,f]),f}stop(){const r=Date.now()-this._start;n._totals+=r;let u=!1;function f(l,o){const c=[],a=new Array(l+1).join("	");for(const[g,h,p]of o._dep)if(h&&p){u=!0,c.push(`${a}CREATES -> ${g}`);const b=f(l+1,p);b&&c.push(b)}else c.push(`${a}uses -> ${g}`);return c.join(`
`)}const d=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${f(1,this)}`,`DONE, took ${r.toFixed(2)}ms (grand total ${n._totals.toFixed(2)}ms)`];(r>2||u)&&n.all.add(d.join(`
`))}}e.Trace=n,n.all=new Set,n._None=new class extends n{constructor(){super(0,null)}stop(){}branch(){return this}},n._totals=0}),define(te[760],ie([1,0,9,216,118]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends y.ResolvedKeybinding{constructor(m,_){if(super(),_.length===0)throw(0,L.illegalArgument)("chords");this._os=m,this._chords=_}getLabel(){return I.UILabelProvider.toLabel(this._os,this._chords,m=>this._getLabel(m))}getAriaLabel(){return I.AriaLabelProvider.toLabel(this._os,this._chords,m=>this._getAriaLabel(m))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:I.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,m=>this._getElectronAccelerator(m))}getUserSettingsLabel(){return I.UserSettingsLabelProvider.toLabel(this._os,this._chords,m=>this._getUserSettingsLabel(m))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(m=>this._getChord(m))}_getChord(m){return new y.ResolvedChord(m.ctrlKey,m.shiftKey,m.altKey,m.metaKey,this._getLabel(m),this._getAriaLabel(m))}getDispatchChords(){return this._chords.map(m=>this._getChordDispatch(m))}getSingleModifierDispatchChords(){return this._chords.map(m=>this._getSingleModifierChordDispatch(m))}}e.BaseResolvedKeybinding=D}),define(te[34],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,L.createDecorator)("keybindingService")}),define(te[339],ie([1,0,7,318,41,6,2,130,15,58,8,34,445]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let n=i=class extends S.Disposable{constructor(u,f,d,l,o,c,a,g,h,p){super(),this.typeId=u,this.editor=f,this.showCommand=l,this.range=o,this.edits=c,this.onSelectNewEdit=a,this._contextMenuService=g,this._keybindingService=p,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=d.bindTo(h),this.visibleContext.set(!0),this._register((0,S.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,S.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(b=>{o.containsPosition(b.position)||this.dispose()})),this._register(D.Event.runAndSubscribe(p.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var u;const f=(u=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||u===void 0?void 0:u.getLabel();this.button.element.title=this.showCommand.label+(f?` (${f})`:"")}create(){this.domNode=L.$(".post-edit-widget"),this.button=this._register(new I.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,()=>this.showSelector()))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const u=L.getDomNodePagePosition(this.button.element);return{x:u.left+u.width,y:u.top+u.height}},getActions:()=>this.edits.allEdits.map((u,f)=>(0,y.toAction)({id:"",label:u.label,checked:f===this.edits.activeEditIndex,run:()=>{if(f!==this.edits.activeEditIndex)return this.onSelectNewEdit(f)}}))})}};n.baseId="editor.widget.postEditWidget",n=i=Ie([ge(7,v.IContextMenuService),ge(8,_.IContextKeyService),ge(9,s.IKeybindingService)],n);let t=class extends S.Disposable{constructor(u,f,d,l,o,c){super(),this._id=u,this._editor=f,this._visibleContext=d,this._showCommand=l,this._instantiationService=o,this._bulkEditService=c,this._currentWidget=this._register(new S.MutableDisposable),this._register(D.Event.any(f.onDidChangeModel,f.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(u,f,d,l){var o,c;return be(this,void 0,void 0,function*(){const a=this._editor.getModel();if(!a||!u.length)return;const g=f.allEdits[f.activeEditIndex];if(!g)return;let h=[];(typeof g.insertText=="string"?g.insertText==="":g.insertText.snippet==="")?h=[]:h=u.map(R=>new m.ResourceTextEdit(a.uri,typeof g.insertText=="string"?{range:R,text:g.insertText,insertAsSnippet:!1}:{range:R,text:g.insertText.snippet,insertAsSnippet:!0}));const b={edits:[...h,...(c=(o=g.additionalEdit)===null||o===void 0?void 0:o.edits)!==null&&c!==void 0?c:[]]},w=u[0],E=a.deltaDecorations([],[{range:w,options:{description:"paste-line-suffix",stickiness:0}}]);let k,M;try{k=yield this._bulkEditService.apply(b,{editor:this._editor,token:l}),M=a.getDecorationRange(E[0])}finally{a.deltaDecorations(E,[])}d&&k.isApplied&&f.allEdits.length>1&&this.show(M??w,f,R=>be(this,void 0,void 0,function*(){const B=this._editor.getModel();B&&(yield B.undo(),this.applyEditAndShowIfNeeded(u,{activeEditIndex:R,allEdits:f.allEdits},d,l))}))})}show(u,f,d){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(n,this._id,this._editor,this._visibleContext,this._showCommand,u,f,d))}clear(){this._currentWidget.clear()}tryShowSelector(){var u;(u=this._currentWidget.value)===null||u===void 0||u.showSelector()}};e.PostEditWidgetManager=t,e.PostEditWidgetManager=t=Ie([ge(4,C.IInstantiationService),ge(5,m.IBulkEditService)],t)}),define(te[340],ie([1,0,15]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const I={kind:1};function y(_,v,C){return{kind:2,commandId:_,commandArgs:v,isBubble:C}}class D{constructor(v,C,s){var i;this._log=s,this._defaultKeybindings=v,this._defaultBoundCommands=new Map;for(const n of v){const t=n.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=D.handleRemovals([].concat(v).concat(C));for(let n=0,t=this._keybindings.length;n<t;n++){const r=this._keybindings[n];if(r.chords.length===0)continue;const u=(i=r.when)===null||i===void 0?void 0:i.substituteConstants();u&&u.type===0||this._addKeyPress(r.chords[0],r)}}static _isTargetedForRemoval(v,C,s){if(C){for(let i=0;i<C.length;i++)if(C[i]!==v.chords[i])return!1}return!(s&&s.type!==1&&(!v.when||!(0,L.expressionsAreEqualWithConstantSubstitution)(s,v.when)))}static handleRemovals(v){const C=new Map;for(let i=0,n=v.length;i<n;i++){const t=v[i];if(t.command&&t.command.charAt(0)==="-"){const r=t.command.substring(1);C.has(r)?C.get(r).push(t):C.set(r,[t])}}if(C.size===0)return v;const s=[];for(let i=0,n=v.length;i<n;i++){const t=v[i];if(!t.command||t.command.length===0){s.push(t);continue}if(t.command.charAt(0)==="-")continue;const r=C.get(t.command);if(!r||!t.isDefault){s.push(t);continue}let u=!1;for(const f of r){const d=f.when;if(this._isTargetedForRemoval(t,f.chords,d)){u=!0;break}}if(!u){s.push(t);continue}}return s}_addKeyPress(v,C){const s=this._map.get(v);if(typeof s>"u"){this._map.set(v,[C]),this._addToLookupMap(C);return}for(let i=s.length-1;i>=0;i--){const n=s[i];if(n.command===C.command)continue;let t=!0;for(let r=1;r<n.chords.length&&r<C.chords.length;r++)if(n.chords[r]!==C.chords[r]){t=!1;break}t&&D.whenIsEntirelyIncluded(n.when,C.when)&&this._removeFromLookupMap(n)}s.push(C),this._addToLookupMap(C)}_addToLookupMap(v){if(!v.command)return;let C=this._lookupMap.get(v.command);typeof C>"u"?(C=[v],this._lookupMap.set(v.command,C)):C.push(v)}_removeFromLookupMap(v){if(!v.command)return;const C=this._lookupMap.get(v.command);if(!(typeof C>"u")){for(let s=0,i=C.length;s<i;s++)if(C[s]===v){C.splice(s,1);return}}}static whenIsEntirelyIncluded(v,C){return!C||C.type===1?!0:!v||v.type===1?!1:(0,L.implies)(v,C)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(v,C){const s=this._lookupMap.get(v);if(typeof s>"u"||s.length===0)return null;if(s.length===1)return s[0];for(let i=s.length-1;i>=0;i--){const n=s[i];if(C.contextMatchesRules(n.when))return n}return s[s.length-1]}resolve(v,C,s){const i=[...C,s];this._log(`| Resolving ${i}`);const n=this._map.get(i[0]);if(n===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let t=null;if(i.length<2)t=n;else{t=[];for(let u=0,f=n.length;u<f;u++){const d=n[u];if(i.length>d.chords.length)continue;let l=!0;for(let o=1;o<i.length;o++)if(d.chords[o]!==i[o]){l=!1;break}l&&t.push(d)}}const r=this._findCommand(v,t);return r?i.length<r.chords.length?(this._log(`\\ From ${t.length} keybinding entries, awaiting ${r.chords.length-i.length} more chord(s), when: ${S(r.when)}, source: ${m(r)}.`),I):(this._log(`\\ From ${t.length} keybinding entries, matched ${r.command}, when: ${S(r.when)}, source: ${m(r)}.`),y(r.command,r.commandArgs,r.bubble)):(this._log(`\\ From ${t.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(v,C){for(let s=C.length-1;s>=0;s--){const i=C[s];if(D._contextMatchesRules(v,i.when))return i}return null}static _contextMatchesRules(v,C){return C?C.evaluate(v):!0}}e.KeybindingResolver=D;function S(_){return _?`${_.serialize()}`:"no when condition"}function m(_){return _.extensionId?_.isBuiltinExtension?`built-in extension ${_.extensionId}`:`user extension ${_.extensionId}`:_.isDefault?"built-in":"user"}}),define(te[761],ie([1,0,14,9,6,262,2,728,340]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const v=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class C extends S.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:y.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(n,t,r,u,f){super(),this._contextKeyService=n,this._commandService=t,this._telemetryService=r,this._notificationService=u,this._logService=f,this._onDidUpdateKeybindings=this._register(new y.Emitter),this._currentChords=[],this._currentChordChecker=new L.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new L.TimeoutTimer,this._logging=!1}dispose(){super.dispose()}_log(n){this._logging&&this._logService.info(`[KeybindingService]: ${n}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(n,t){const r=this._getResolver().lookupPrimaryKeybinding(n,t||this._contextKeyService);if(r)return r.resolvedKeybinding}dispatchEvent(n,t){return this._dispatch(n,t)}softDispatch(n,t){this._log("/ Soft dispatching keyboard event");const r=this.resolveKeyboardEvent(n);if(r.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),_.NoMatchingKb;const[u]=r.getDispatchChords();if(u===null)return this._log("\\ Keyboard event cannot be dispatched"),_.NoMatchingKb;const f=this._contextKeyService.getContext(t),d=this._currentChords.map(({keypress:l})=>l);return this._getResolver().resolve(f,d,u)}_scheduleLeaveChordMode(){const n=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-n>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(n,t){switch(this._currentChords.push({keypress:n,label:t}),this._currentChords.length){case 0:throw(0,I.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(m.localize(0,null,t));break;default:{const r=this._currentChords.map(({label:u})=>u).join(", ");this._currentChordStatusMessage=this._notificationService.status(m.localize(1,null,r))}}this._scheduleLeaveChordMode(),D.IME.enabled&&D.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],D.IME.enable()}_dispatch(n,t){return this._doDispatch(this.resolveKeyboardEvent(n),t,!1)}_singleModifierDispatch(n,t){const r=this.resolveKeyboardEvent(n),[u]=r.getSingleModifierDispatchChords();if(u)return this._ignoreSingleModifiers.has(u)?(this._log(`+ Ignoring single modifier ${u} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${u}.`),this._currentSingleModifier=u,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):u===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${u} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(r,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[f]=r.getChords();return this._ignoreSingleModifiers=new s(f),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(n,t,r=!1){var u;let f=!1;if(n.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let d=null,l=null;if(r){const[g]=n.getSingleModifierDispatchChords();d=g,l=g?[g]:[]}else[d]=n.getDispatchChords(),l=this._currentChords.map(({keypress:g})=>g);if(d===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),f;const o=this._contextKeyService.getContext(t),c=n.getLabel(),a=this._getResolver().resolve(o,l,d);switch(a.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",c,"[ No matching keybinding ]"),this.inChordMode){const g=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${g}, ${c}".`),this._notificationService.status(m.localize(2,null,g,c),{hideAfter:10*1e3}),this._leaveChordMode(),f=!0}return f}case 1:return this._logService.trace("KeybindingService#dispatch",c,"[ Several keybindings match - more chords needed ]"),f=!0,this._expectAnotherChord(d,c),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),f;case 2:{if(this._logService.trace("KeybindingService#dispatch",c,`[ Will dispatch command ${a.commandId} ]`),a.commandId===null||a.commandId===""){if(this.inChordMode){const g=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${g}, ${c}".`),this._notificationService.status(m.localize(3,null,g,c),{hideAfter:10*1e3}),this._leaveChordMode(),f=!0}}else this.inChordMode&&this._leaveChordMode(),a.isBubble||(f=!0),this._log(`+ Invoking command ${a.commandId}.`),typeof a.commandArgs>"u"?this._commandService.executeCommand(a.commandId).then(void 0,g=>this._notificationService.warn(g)):this._commandService.executeCommand(a.commandId,a.commandArgs).then(void 0,g=>this._notificationService.warn(g)),v.test(a.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:a.commandId,from:"keybinding",detail:(u=n.getUserSettingsLabel())!==null&&u!==void 0?u:void 0});return f}}}mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30}}e.AbstractKeybindingService=C;class s{constructor(n){this._ctrlKey=n?n.ctrlKey:!1,this._shiftKey=n?n.shiftKey:!1,this._altKey=n?n.altKey:!1,this._metaKey=n?n.metaKey:!1}has(n){switch(n){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}s.EMPTY=new s(null)}),define(te[341],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toEmptyArrayIfContainsNull=e.ResolvedKeybindingItem=void 0;class L{constructor(D,S,m,_,v,C,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.chords=D?I(D.getDispatchChords()):[],D&&this.chords.length===0&&(this.chords=I(D.getSingleModifierDispatchChords())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=m,this.when=_,this.isDefault=v,this.extensionId=C,this.isBuiltinExtension=s}}e.ResolvedKeybindingItem=L;function I(y){const D=[];for(let S=0,m=y.length;S<m;S++){const _=y[S];if(!_)return[];D.push(_)}return D}e.toEmptyArrayIfContainsNull=I}),define(te[762],ie([1,0,62,118,760,341]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class S extends y.BaseResolvedKeybinding{constructor(_,v){super(v,_)}_keyCodeToUILabel(_){if(this._os===2)switch(_){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return L.KeyCodeUtils.toString(_)}_getLabel(_){return _.isDuplicateModifierCase()?"":this._keyCodeToUILabel(_.keyCode)}_getAriaLabel(_){return _.isDuplicateModifierCase()?"":L.KeyCodeUtils.toString(_.keyCode)}_getElectronAccelerator(_){return L.KeyCodeUtils.toElectronAccelerator(_.keyCode)}_getUserSettingsLabel(_){if(_.isDuplicateModifierCase())return"";const v=L.KeyCodeUtils.toUserSettingsUS(_.keyCode);return v&&v.toLowerCase()}_getChordDispatch(_){return S.getDispatchStr(_)}static getDispatchStr(_){if(_.isModifierKey())return null;let v="";return _.ctrlKey&&(v+="ctrl+"),_.shiftKey&&(v+="shift+"),_.altKey&&(v+="alt+"),_.metaKey&&(v+="meta+"),v+=L.KeyCodeUtils.toString(_.keyCode),v}_getSingleModifierChordDispatch(_){return _.keyCode===5&&!_.shiftKey&&!_.altKey&&!_.metaKey?"ctrl":_.keyCode===4&&!_.ctrlKey&&!_.altKey&&!_.metaKey?"shift":_.keyCode===6&&!_.ctrlKey&&!_.shiftKey&&!_.metaKey?"alt":_.keyCode===57&&!_.ctrlKey&&!_.shiftKey&&!_.altKey?"meta":null}static _scanCodeToKeyCode(_){const v=L.IMMUTABLE_CODE_TO_KEY_CODE[_];if(v!==-1)return v;switch(_){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(_){if(!_)return null;if(_ instanceof I.KeyCodeChord)return _;const v=this._scanCodeToKeyCode(_.scanCode);return v===0?null:new I.KeyCodeChord(_.ctrlKey,_.shiftKey,_.altKey,_.metaKey,v)}static resolveKeybinding(_,v){const C=(0,D.toEmptyArrayIfContainsNull)(_.chords.map(s=>this._toKeyCodeChord(s)));return C.length>0?[new S(C,v)]:[]}}e.USLayoutResolvedKeybinding=S}),define(te[158],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,L.createDecorator)("labelService")}),define(te[132],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,L.createDecorator)("layoutService")}),define(te[342],ie([1,0,7,6,132,33,47]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let m=class{get dimension(){return this._dimension||(this._dimension=L.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var C;(C=this._codeEditorService.getFocusedCodeEditor())===null||C===void 0||C.focus()}constructor(C){this._codeEditorService=C,this.onDidLayout=I.Event.None,this.offset={top:0,quickPickTop:0}}};m=Ie([ge(0,D.ICodeEditorService)],m);let _=class extends m{get hasContainer(){return!1}get container(){return this._container}constructor(C,s){super(s),this._container=C}};e.EditorScopedLayoutService=_,e.EditorScopedLayoutService=_=Ie([ge(1,D.ICodeEditorService)],_),(0,S.registerSingleton)(y.ILayoutService,m,1)}),define(te[763],ie([1,0,7,6,2,88,28,15,132]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let v=class extends y.Disposable{constructor(s,i,n){super(),this._contextKeyService=s,this._layoutService=i,this._configurationService=n,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new I.Emitter,this._onDidChangeReducedMotion=new I.Emitter,this._accessibilityModeEnabledContext=D.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const t=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(u=>{u.affectsConfiguration("editor.accessibilitySupport")&&(t(),this._onDidChangeScreenReaderOptimized.fire()),u.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),t(),this._register(this.onDidChangeScreenReaderOptimized(()=>t()));const r=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=r.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(r)}initReducedMotionListeners(s){if(!this._layoutService.hasContainer)return;this._register((0,L.addDisposableListener)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const n=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",n),this._layoutService.container.classList.toggle("enable-motion",!n)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=v,e.AccessibilityService=v=Ie([ge(0,m.IContextKeyService),ge(1,_.ILayoutService),ge(2,S.IConfigurationService)],v)}),define(te[764],ie([1,0,311,2,132]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends I.Disposable{constructor(m){super(),this.layoutService=m,this.currentViewDisposable=I.Disposable.None,this.container=m.hasContainer?m.container:null,this.contextView=this._register(new L.ContextView(this.container,1)),this.layout(),this._register(m.onDidLayout(()=>this.layout()))}setContainer(m,_){this.contextView.setContainer(m,_||1)}showContextView(m,_,v){_?(_!==this.container||this.shadowRoot!==v)&&(this.container=_,this.setContainer(_,v?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=v,this.contextView.show(m);const C=(0,I.toDisposable)(()=>{this.currentViewDisposable===C&&this.hideContextView()});return this.currentViewDisposable=C,C}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(m){this.contextView.hide(m)}};e.ContextViewService=D,e.ContextViewService=D=Ie([ge(0,y.ILayoutService)],D)}),define(te[66],ie([1,0,6,2,15,8]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.LogLevelToString=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,D.createDecorator)("logService");var S;(function(s){s[s.Off=0]="Off",s[s.Trace=1]="Trace",s[s.Debug=2]="Debug",s[s.Info=3]="Info",s[s.Warning=4]="Warning",s[s.Error=5]="Error"})(S||(e.LogLevel=S={})),e.DEFAULT_LOG_LEVEL=S.Info;class m extends I.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new L.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(i){this.level!==i&&(this.level=i,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(i){return this.level!==S.Off&&this.level<=i}}e.AbstractLogger=m;class _ extends m{constructor(i=e.DEFAULT_LOG_LEVEL,n=!0){super(),this.useColors=n,this.setLevel(i)}trace(i,...n){this.checkLogLevel(S.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",i,...n):console.log(i,...n))}debug(i,...n){this.checkLogLevel(S.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",i,...n):console.log(i,...n))}info(i,...n){this.checkLogLevel(S.Info)&&(this.useColors?console.log("%c INFO","color: #33f",i,...n):console.log(i,...n))}warn(i,...n){this.checkLogLevel(S.Warning)&&(this.useColors?console.log("%c WARN","color: #993",i,...n):console.log(i,...n))}error(i,...n){this.checkLogLevel(S.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",i,...n):console.error(i,...n))}dispose(){}}e.ConsoleLogger=_;class v extends m{constructor(i){super(),this.loggers=i,i.length&&this.setLevel(i[0].getLevel())}setLevel(i){for(const n of this.loggers)n.setLevel(i);super.setLevel(i)}trace(i,...n){for(const t of this.loggers)t.trace(i,...n)}debug(i,...n){for(const t of this.loggers)t.debug(i,...n)}info(i,...n){for(const t of this.loggers)t.info(i,...n)}warn(i,...n){for(const t of this.loggers)t.warn(i,...n)}error(i,...n){for(const t of this.loggers)t.error(i,...n)}dispose(){for(const i of this.loggers)i.dispose()}}e.MultiplexLogger=v;function C(s){switch(s){case S.Trace:return"trace";case S.Debug:return"debug";case S.Info:return"info";case S.Warning:return"warn";case S.Error:return"error";case S.Off:return"off"}}e.LogLevelToString=C,e.CONTEXT_LOG_LEVEL=new y.RawContextKey("logLevel",C(S.Info))}),define(te[765],ie([1,0,51,7,14,2,132,66]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let _=class extends D.Disposable{constructor(C,s){super(),this.layoutService=C,this.logService=s,this.mapTextToType=new Map,this.findText="",this.resources=[],(L.isSafari||L.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const C=()=>{const s=new y.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=s,navigator.clipboard.write([new ClipboardItem({"text/plain":s.p})]).catch(i=>be(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!s.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register((0,I.addDisposableListener)(this.layoutService.container,"click",C)),this._register((0,I.addDisposableListener)(this.layoutService.container,"keydown",C)))}writeText(C,s){return be(this,void 0,void 0,function*(){if(s){this.mapTextToType.set(s,C);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(C);try{return yield navigator.clipboard.writeText(C)}catch(t){console.error(t)}const i=document.activeElement,n=document.body.appendChild((0,I.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=C,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(C){return be(this,void 0,void 0,function*(){if(C)return this.mapTextToType.get(C)||"";try{return yield navigator.clipboard.readText()}catch(s){return console.error(s),""}})}readFindText(){return be(this,void 0,void 0,function*(){return this.findText})}writeFindText(C){return be(this,void 0,void 0,function*(){this.findText=C})}writeResources(C){return be(this,void 0,void 0,function*(){this.resources=C})}readResources(){return be(this,void 0,void 0,function*(){return this.resources})}};e.BrowserClipboardService=_,e.BrowserClipboardService=_=Ie([ge(0,S.ILayoutService),ge(1,m.ILogService)],_)}),define(te[766],ie([1,0,2,66]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class y extends L.Disposable{constructor(S,m=[]){super(),this.logger=new I.MultiplexLogger([S,...m]),this._register(S.onDidChangeLogLevel(_=>this.setLevel(_)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(S){this.logger.setLevel(S)}getLevel(){return this.logger.getLevel()}trace(S,...m){this.logger.trace(S,...m)}debug(S,...m){this.logger.debug(S,...m)}info(S,...m){this.logger.info(S,...m)}warn(S,...m){this.logger.warn(S,...m)}error(S,...m){this.logger.error(S,...m)}}e.LogService=y}),define(te[94],ie([1,0,98,730,8]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(D||(e.MarkerSeverity=D={})),function(m){function _(n,t){return t-n}m.compare=_;const v=Object.create(null);v[m.Error]=(0,I.localize)(0,null),v[m.Warning]=(0,I.localize)(1,null),v[m.Info]=(0,I.localize)(2,null);function C(n){return v[n]||""}m.toString=C;function s(n){switch(n){case L.default.Error:return m.Error;case L.default.Warning:return m.Warning;case L.default.Info:return m.Info;case L.default.Ignore:return m.Hint}}m.fromSeverity=s;function i(n){switch(n){case m.Error:return L.default.Error;case m.Warning:return L.default.Warning;case m.Info:return L.default.Info;case m.Hint:return L.default.Ignore}}m.toSeverity=i}(D||(e.MarkerSeverity=D={}));var S;(function(m){const _="";function v(s){return C(s,!0)}m.makeKey=v;function C(s,i){const n=[_];return s.source?n.push(s.source.replace("\xA6","\\\xA6")):n.push(_),s.code?typeof s.code=="string"?n.push(s.code.replace("\xA6","\\\xA6")):n.push(s.code.value.replace("\xA6","\\\xA6")):n.push(_),s.severity!==void 0&&s.severity!==null?n.push(D.toString(s.severity)):n.push(_),s.message&&i?n.push(s.message.replace("\xA6","\\\xA6")):n.push(_),s.startLineNumber!==void 0&&s.startLineNumber!==null?n.push(s.startLineNumber.toString()):n.push(_),s.startColumn!==void 0&&s.startColumn!==null?n.push(s.startColumn.toString()):n.push(_),s.endLineNumber!==void 0&&s.endLineNumber!==null?n.push(s.endLineNumber.toString()):n.push(_),s.endColumn!==void 0&&s.endColumn!==null?n.push(s.endColumn.toString()):n.push(_),n.push(_),n.join("\xA6")}m.makeKeyOptionalMessage=C})(S||(e.IMarkerData=S={})),e.IMarkerService=(0,y.createDecorator)("markerService")}),define(te[767],ie([1,0,13,6,2,63,10,21,5,47,8,94,28]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class n{constructor(f,d,l){this.marker=f,this.index=d,this.total=l}}e.MarkerCoordinate=n;let t=class{constructor(f,d,l){this._markerService=d,this._configService=l,this._onDidChange=new I.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new y.DisposableStore,this._markers=[],this._nextIdx=-1,m.URI.isUri(f)?this._resourceFilter=g=>g.toString()===f.toString():f&&(this._resourceFilter=f);const o=this._configService.getValue("problems.sortOrder"),c=(g,h)=>{let p=(0,S.compare)(g.resource.toString(),h.resource.toString());return p===0&&(o==="position"?p=_.Range.compareRangesUsingStarts(g,h)||s.MarkerSeverity.compare(g.severity,h.severity):p=s.MarkerSeverity.compare(g.severity,h.severity)||_.Range.compareRangesUsingStarts(g,h)),p},a=()=>{this._markers=this._markerService.read({resource:m.URI.isUri(f)?f:void 0,severities:s.MarkerSeverity.Error|s.MarkerSeverity.Warning|s.MarkerSeverity.Info}),typeof f=="function"&&(this._markers=this._markers.filter(g=>this._resourceFilter(g.resource))),this._markers.sort(c)};a(),this._dispoables.add(d.onMarkerChanged(g=>{(!this._resourceFilter||g.some(h=>this._resourceFilter(h)))&&(a(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(f){return!this._resourceFilter&&!f?!0:!this._resourceFilter||!f?!1:this._resourceFilter(f)}get selected(){const f=this._markers[this._nextIdx];return f&&new n(f,this._nextIdx+1,this._markers.length)}_initIdx(f,d,l){let o=!1,c=this._markers.findIndex(a=>a.resource.toString()===f.uri.toString());c<0&&(c=(0,L.binarySearch)(this._markers,{resource:f.uri},(a,g)=>(0,S.compare)(a.resource.toString(),g.resource.toString())),c<0&&(c=~c));for(let a=c;a<this._markers.length;a++){let g=_.Range.lift(this._markers[a]);if(g.isEmpty()){const h=f.getWordAtPosition(g.getStartPosition());h&&(g=new _.Range(g.startLineNumber,h.startColumn,g.startLineNumber,h.endColumn))}if(d&&(g.containsPosition(d)||d.isBeforeOrEqual(g.getStartPosition()))){this._nextIdx=a,o=!0;break}if(this._markers[a].resource.toString()!==f.uri.toString())break}o||(this._nextIdx=l?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(f,d,l){if(this._markers.length===0)return!1;const o=this._nextIdx;return this._nextIdx===-1?this._initIdx(d,l,f):f?this._nextIdx=(this._nextIdx+1)%this._markers.length:f||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(f,d){let l=this._markers.findIndex(o=>o.resource.toString()===f.toString());if(!(l<0)){for(;l<this._markers.length;l++)if(_.Range.containsPosition(this._markers[l],d))return new n(this._markers[l],l+1,this._markers.length)}}};e.MarkerList=t,e.MarkerList=t=Ie([ge(1,s.IMarkerService),ge(2,i.IConfigurationService)],t),e.IMarkerNavigationService=(0,C.createDecorator)("IMarkerNavigationService");let r=class{constructor(f,d){this._markerService=f,this._configService=d,this._provider=new D.LinkedList}getMarkerList(f){for(const d of this._provider){const l=d.getMarkerList(f);if(l)return l}return new t(f,this._markerService,this._configService)}};r=Ie([ge(0,s.IMarkerService),ge(1,i.IConfigurationService)],r),(0,v.registerSingleton)(e.IMarkerNavigationService,r,1)}),define(te[768],ie([1,0,13,6,43,56,54,21,94]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([S.Schemas.inMemory,S.Schemas.vscodeSourceControl,S.Schemas.walkThrough,S.Schemas.walkThroughSnippet]);class v{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(n,t,r){let u=this._byResource.get(n);u||(u=new Map,this._byResource.set(n,u)),u.set(t,r);let f=this._byOwner.get(t);f||(f=new D.ResourceMap,this._byOwner.set(t,f)),f.set(n,r)}get(n,t){const r=this._byResource.get(n);return r?.get(t)}delete(n,t){let r=!1,u=!1;const f=this._byResource.get(n);f&&(r=f.delete(t));const d=this._byOwner.get(t);if(d&&(u=d.delete(n)),r!==u)throw new Error("illegal state");return r&&u}values(n){var t,r,u,f;return typeof n=="string"?(r=(t=this._byOwner.get(n))===null||t===void 0?void 0:t.values())!==null&&r!==void 0?r:y.Iterable.empty():m.URI.isUri(n)?(f=(u=this._byResource.get(n))===null||u===void 0?void 0:u.values())!==null&&f!==void 0?f:y.Iterable.empty():y.Iterable.map(y.Iterable.concat(...this._byOwner.values()),d=>d[1])}}class C{constructor(n){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=n,this._subscription=n.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(n){for(const t of n){const r=this._data.get(t);r&&this._substract(r);const u=this._resourceStats(t);this._add(u),this._data.set(t,u)}}_resourceStats(n){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(n.scheme))return t;for(const{severity:r}of this._service.read({resource:n}))r===_.MarkerSeverity.Error?t.errors+=1:r===_.MarkerSeverity.Warning?t.warnings+=1:r===_.MarkerSeverity.Info?t.infos+=1:t.unknowns+=1;return t}_substract(n){this.errors-=n.errors,this.warnings-=n.warnings,this.infos-=n.infos,this.unknowns-=n.unknowns}_add(n){this.errors+=n.errors,this.warnings+=n.warnings,this.infos+=n.infos,this.unknowns+=n.unknowns}}class s{constructor(){this._onMarkerChanged=new I.DebounceEmitter({delay:0,merge:s._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new v,this._stats=new C(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(n,t){for(const r of t||[])this.changeOne(n,r,[])}changeOne(n,t,r){if((0,L.isFalsyOrEmpty)(r))this._data.delete(t,n)&&this._onMarkerChanged.fire([t]);else{const u=[];for(const f of r){const d=s._toMarker(n,t,f);d&&u.push(d)}this._data.set(t,n,u),this._onMarkerChanged.fire([t])}}static _toMarker(n,t,r){let{code:u,severity:f,message:d,source:l,startLineNumber:o,startColumn:c,endLineNumber:a,endColumn:g,relatedInformation:h,tags:p}=r;if(d)return o=o>0?o:1,c=c>0?c:1,a=a>=o?a:o,g=g>0?g:c,{resource:t,owner:n,code:u,severity:f,message:d,source:l,startLineNumber:o,startColumn:c,endLineNumber:a,endColumn:g,relatedInformation:h,tags:p}}changeAll(n,t){const r=[],u=this._data.values(n);if(u)for(const f of u){const d=y.Iterable.first(f);d&&(r.push(d.resource),this._data.delete(d.resource,n))}if((0,L.isNonEmptyArray)(t)){const f=new D.ResourceMap;for(const{resource:d,marker:l}of t){const o=s._toMarker(n,d,l);if(!o)continue;const c=f.get(d);c?c.push(o):(f.set(d,[o]),r.push(d))}for(const[d,l]of f)this._data.set(d,n,l)}r.length>0&&this._onMarkerChanged.fire(r)}read(n=Object.create(null)){let{owner:t,resource:r,severities:u,take:f}=n;if((!f||f<0)&&(f=-1),t&&r){const d=this._data.get(r,t);if(d){const l=[];for(const o of d)if(s._accept(o,u)){const c=l.push(o);if(f>0&&c===f)break}return l}else return[]}else if(!t&&!r){const d=[];for(const l of this._data.values())for(const o of l)if(s._accept(o,u)){const c=d.push(o);if(f>0&&c===f)return d}return d}else{const d=this._data.values(r??t),l=[];for(const o of d)for(const c of o)if(s._accept(c,u)){const a=l.push(c);if(f>0&&a===f)return l}return l}}static _accept(n,t){return t===void 0||(t&n.severity)===n.severity}static _merge(n){const t=new D.ResourceMap;for(const r of n)for(const u of r)t.set(u,!0);return Array.from(t.keys())}}e.MarkerService=s}),define(te[48],ie([1,0,98,8]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=L.default,e.INotificationService=(0,I.createDecorator)("notificationService");class y{}e.NoOpNotification=y}),define(te[55],ie([1,0,10,21,8]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.IOpenerService=void 0,e.IOpenerService=(0,y.createDecorator)("openerService");function D(_,v){return I.URI.isUri(_)?(0,L.equalsIgnoreCase)(_.scheme,v):(0,L.startsWithIgnoreCase)(_,v+":")}e.matchesScheme=D;function S(_,...v){return v.some(C=>D(_,C))}e.matchesSomeScheme=S;function m(_){let v;const C=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(_.fragment);return C&&(v={startLineNumber:parseInt(C[1]),startColumn:C[2]?parseInt(C[2]):1,endLineNumber:C[4]?parseInt(C[4]):void 0,endColumn:C[4]?C[5]?parseInt(C[5]):1:void 0},_=_.with({fragment:""})),{selection:v,uri:_}}e.extractSelection=m}),define(te[769],ie([1,0,7,19,63,56,221,54,46,21,33,25,744,55]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let t=class{constructor(d){this._commandService=d}open(d,l){return be(this,void 0,void 0,function*(){if(!(0,n.matchesScheme)(d,m.Schemas.command))return!1;if(!l?.allowCommands||(typeof d=="string"&&(d=v.URI.parse(d)),Array.isArray(l.allowCommands)&&!l.allowCommands.includes(d.path)))return!0;let o=[];try{o=(0,S.parse)(decodeURIComponent(d.query))}catch{try{o=(0,S.parse)(d.query)}catch{}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(d.path,...o),!0})}};t=Ie([ge(0,s.ICommandService)],t);let r=class{constructor(d){this._editorService=d}open(d,l){return be(this,void 0,void 0,function*(){typeof d=="string"&&(d=v.URI.parse(d));const{selection:o,uri:c}=(0,n.extractSelection)(d);return d=c,d.scheme===m.Schemas.file&&(d=(0,_.normalizePath)(d)),yield this._editorService.openCodeEditor({resource:d,options:Object.assign({selection:o,source:l?.fromUserGesture?i.EditorOpenSource.USER:i.EditorOpenSource.API},l?.editorOptions)},this._editorService.getFocusedCodeEditor(),l?.openToSide),!0})}};r=Ie([ge(0,C.ICodeEditorService)],r);let u=class{constructor(d,l){this._openers=new y.LinkedList,this._validators=new y.LinkedList,this._resolvers=new y.LinkedList,this._resolvedUriTargets=new D.ResourceMap(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new y.LinkedList,this._defaultExternalOpener={openExternal:o=>be(this,void 0,void 0,function*(){return(0,n.matchesSomeScheme)(o,m.Schemas.http,m.Schemas.https)?L.windowOpenNoOpener(o):window.location.href=o,!0})},this._openers.push({open:(o,c)=>be(this,void 0,void 0,function*(){return c?.openExternal||(0,n.matchesSomeScheme)(o,m.Schemas.mailto,m.Schemas.http,m.Schemas.https,m.Schemas.vsls)?(yield this._doOpenExternal(o,c),!0):!1})}),this._openers.push(new t(l)),this._openers.push(new r(d))}registerOpener(d){return{dispose:this._openers.unshift(d)}}open(d,l){var o;return be(this,void 0,void 0,function*(){const c=typeof d=="string"?v.URI.parse(d):d,a=(o=this._resolvedUriTargets.get(c))!==null&&o!==void 0?o:d;for(const g of this._validators)if(!(yield g.shouldOpen(a,l)))return!1;for(const g of this._openers)if(yield g.open(d,l))return!0;return!1})}resolveExternalUri(d,l){return be(this,void 0,void 0,function*(){for(const o of this._resolvers)try{const c=yield o.resolveExternalUri(d,l);if(c)return this._resolvedUriTargets.has(c.resolved)||this._resolvedUriTargets.set(c.resolved,d),c}catch{}throw new Error("Could not resolve external URI: "+d.toString())})}_doOpenExternal(d,l){return be(this,void 0,void 0,function*(){const o=typeof d=="string"?v.URI.parse(d):d;let c;try{c=(yield this.resolveExternalUri(o,l)).resolved}catch{c=o}let a;if(typeof d=="string"&&o.toString()===c.toString()?a=d:a=encodeURI(c.toString(!0)),l?.allowContributedOpeners){const g=typeof l?.allowContributedOpeners=="string"?l?.allowContributedOpeners:void 0;for(const h of this._externalOpeners)if(yield h.openExternal(a,{sourceUri:o,preferredOpenerId:g},I.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(a,{sourceUri:o},I.CancellationToken.None)})}dispose(){this._validators.clear()}};e.OpenerService=u,e.OpenerService=u=Ie([ge(0,C.ICodeEditorService),ge(1,s.ICommandService)],u)}),define(te[74],ie([1,0,141,56,139,238,47,8,66,55]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,m.createDecorator)("ILanguageFeatureDebounceService");var C;(function(t){const r=new WeakMap;let u=0;function f(d){let l=r.get(d);return l===void 0&&(l=++u,r.set(d,l)),l}t.of=f})(C||(C={}));class s{constructor(r){this._default=r}get(r){return this._default}update(r,u){return this._default}default(){return this._default}}class i{constructor(r,u,f,d,l,o){this._logService=r,this._name=u,this._registry=f,this._default=d,this._min=l,this._max=o,this._cache=new I.LRUCache(50,.7)}_key(r){return r.id+this._registry.all(r).reduce((u,f)=>(0,L.doHash)(C.of(f),u),0)}get(r){const u=this._key(r),f=this._cache.get(u);return f?(0,y.clamp)(f.value,this._min,this._max):this.default()}update(r,u){const f=this._key(r);let d=this._cache.get(f);d||(d=new y.SlidingWindowAverage(6),this._cache.set(f,d));const l=(0,y.clamp)(d.update(u),this._min,this._max);return(0,v.matchesScheme)(r.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${r.uri.toString()} is ${l}ms`),l}_overall(){const r=new y.MovingAverage;for(const[,u]of this._cache)r.update(u.value);return r.value}default(){const r=this._overall()|0||this._default;return(0,y.clamp)(r,this._min,this._max)}}let n=class{constructor(r,u){this._logService=r,this._data=new Map,this._isDev=u.isExtensionDevelopment||!u.isBuilt}for(r,u,f){var d,l,o;const c=(d=f?.min)!==null&&d!==void 0?d:50,a=(l=f?.max)!==null&&l!==void 0?l:Math.pow(c,2),g=(o=f?.key)!==null&&o!==void 0?o:void 0,h=`${C.of(r)},${c}${g?","+g:""}`;let p=this._data.get(h);return p||(this._isDev?p=new i(this._logService,u,r,this._overallAverage()|0||c*1.5,c,a):(this._logService.debug(`[DEBOUNCE: ${u}] is disabled in developed mode`),p=new s(c*1.5)),this._data.set(h,p)),p}_overallAverage(){const r=new y.MovingAverage;for(const u of this._data.values())r.update(u.default());return r.value}};e.LanguageFeatureDebounceService=n,e.LanguageFeatureDebounceService=n=Ie([ge(0,_.ILogService),ge(1,D.IEnvironmentService)],n),(0,S.registerSingleton)(e.ILanguageFeatureDebounceService,n,1)}),define(te[187],ie([1,0,13,19,9,43,56,12,5,74,8,47,50,2,18]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class r{remove(){var c;(c=this.parent)===null||c===void 0||c.children.delete(this.id)}static findId(c,a){let g;typeof c=="string"?g=`${a.id}/${c}`:(g=`${a.id}/${c.name}`,a.children.get(g)!==void 0&&(g=`${a.id}/${c.name}_${c.range.startLineNumber}_${c.range.startColumn}`));let h=g;for(let p=0;a.children.get(h)!==void 0;p++)h=`${g}_${p}`;return h}static empty(c){return c.children.size===0}}e.TreeElement=r;class u extends r{constructor(c,a,g){super(),this.id=c,this.parent=a,this.symbol=g,this.children=new Map}}e.OutlineElement=u;class f extends r{constructor(c,a,g,h){super(),this.id=c,this.parent=a,this.label=g,this.order=h,this.children=new Map}}e.OutlineGroup=f;class d extends r{static create(c,a,g){const h=new I.CancellationTokenSource(g),p=new d(a.uri),b=c.ordered(a),w=b.map((k,M)=>{var R;const B=r.findId(`provider_${M}`,p),T=new f(B,p,(R=k.displayName)!==null&&R!==void 0?R:"Unknown Outline Provider",M);return Promise.resolve(k.provideDocumentSymbols(a,h.token)).then(N=>{for(const A of N||[])d._makeOutlineElement(A,T);return T},N=>((0,y.onUnexpectedExternalError)(N),T)).then(N=>{r.empty(N)?N.remove():p._groups.set(B,N)})}),E=c.onDidChange(()=>{const k=c.ordered(a);(0,L.equals)(k,b)||h.cancel()});return Promise.all(w).then(()=>h.token.isCancellationRequested&&!g.isCancellationRequested?d.create(c,a,g):p._compact()).finally(()=>{h.dispose(),E.dispose(),h.dispose()})}static _makeOutlineElement(c,a){const g=r.findId(c,a),h=new u(g,a,c);if(c.children)for(const p of c.children)d._makeOutlineElement(p,h);a.children.set(h.id,h)}constructor(c){super(),this.uri=c,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let c=0;for(const[a,g]of this._groups)g.children.size===0?this._groups.delete(a):c+=1;if(c!==1)this.children=this._groups;else{const a=D.Iterable.first(this._groups.values());for(const[,g]of a.children)g.parent=this,this.children.set(g.id,g)}return this}getTopLevelSymbols(){const c=[];for(const a of this.children.values())a instanceof u?c.push(a.symbol):c.push(...D.Iterable.map(a.children.values(),g=>g.symbol));return c.sort((a,g)=>_.Range.compareRangesUsingStarts(a.range,g.range))}asListOfDocumentSymbols(){const c=this.getTopLevelSymbols(),a=[];return d._flattenDocumentSymbols(a,c,""),a.sort((g,h)=>m.Position.compare(_.Range.getStartPosition(g.range),_.Range.getStartPosition(h.range))||m.Position.compare(_.Range.getEndPosition(h.range),_.Range.getEndPosition(g.range)))}static _flattenDocumentSymbols(c,a,g){for(const h of a)c.push({kind:h.kind,tags:h.tags,name:h.name,detail:h.detail,containerName:h.containerName||g,range:h.range,selectionRange:h.selectionRange,children:void 0}),h.children&&d._flattenDocumentSymbols(c,h.children,h.name)}}e.OutlineModel=d,e.IOutlineModelService=(0,C.createDecorator)("IOutlineModelService");let l=class{constructor(c,a,g){this._languageFeaturesService=c,this._disposables=new n.DisposableStore,this._cache=new S.LRUCache(10,.7),this._debounceInformation=a.for(c.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(g.onModelRemoved(h=>{this._cache.delete(h.id)}))}dispose(){this._disposables.dispose()}getOrCreate(c,a){return be(this,void 0,void 0,function*(){const g=this._languageFeaturesService.documentSymbolProvider,h=g.ordered(c);let p=this._cache.get(c.id);if(!p||p.versionId!==c.getVersionId()||!(0,L.equals)(p.provider,h)){const w=new I.CancellationTokenSource;p={versionId:c.getVersionId(),provider:h,promiseCnt:0,source:w,promise:d.create(g,c,w.token),model:void 0},this._cache.set(c.id,p);const E=Date.now();p.promise.then(k=>{p.model=k,this._debounceInformation.update(c,Date.now()-E)}).catch(k=>{this._cache.delete(c.id)})}if(p.model)return p.model;p.promiseCnt+=1;const b=a.onCancellationRequested(()=>{--p.promiseCnt===0&&(p.source.cancel(),this._cache.delete(c.id))});try{return yield p.promise}finally{b.dispose()}})}};e.OutlineModelService=l,e.OutlineModelService=l=Ie([ge(0,t.ILanguageFeaturesService),ge(1,v.ILanguageFeatureDebounceService),ge(2,i.IModelService)],l),(0,s.registerSingleton)(e.IOutlineModelService,l,1)}),define(te[770],ie([1,0,19,20,21,65,187,25]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),m.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(_,...v){return be(this,void 0,void 0,function*(){const[C]=v;(0,I.assertType)(y.URI.isUri(C));const s=_.get(S.IOutlineModelService),n=yield _.get(D.ITextModelService).createModelReference(C);try{return(yield s.getOrCreate(n.object.textEditorModel,L.CancellationToken.None)).getTopLevelSymbols()}finally{n.dispose()}})})}),define(te[771],ie([1,0,7,79,44,61,6,2,55,477]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let v=class extends m.Disposable{get enabled(){return this._enabled}set enabled(s){s?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=s}constructor(s,i,n={},t){var r;super(),this._link=i,this._enabled=!0,this.el=(0,L.append)(s,(0,L.$)("a.monaco-link",{tabIndex:(r=i.tabIndex)!==null&&r!==void 0?r:0,href:i.href,title:i.title},i.label)),this.el.setAttribute("role","button");const u=this._register(new I.DomEmitter(this.el,"click")),f=this._register(new I.DomEmitter(this.el,"keypress")),d=S.Event.chain(f.event,c=>c.map(a=>new y.StandardKeyboardEvent(a)).filter(a=>a.keyCode===3)),l=this._register(new I.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const o=S.Event.any(u.event,d,l);this._register(o(c=>{this.enabled&&(L.EventHelper.stop(c,!0),n?.opener?n.opener(this._link.href):t.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};e.Link=v,e.Link=v=Ie([ge(3,_.IOpenerService)],v)}),define(te[85],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,L.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class I{constructor(D,S){this.callback=D,this.report=S?.async?this._reportAsync.bind(this):this._reportSync.bind(this)}_reportSync(D){this._value=D,this.callback(this._value)}_reportAsync(D){Promise.resolve(this._lastTask).finally(()=>{this._value=D;const S=this.callback(this._value);this._lastTask=Promise.resolve(S).finally(()=>this._lastTask=void 0)})}}e.Progress=I,I.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,L.createDecorator)("editorProgressService")}),define(te[772],ie([1,0,14,19,2,20]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var S;(function(C){C[C.NO_ACTION=0]="NO_ACTION",C[C.CLOSE_PICKER=1]="CLOSE_PICKER",C[C.REFRESH_PICKER=2]="REFRESH_PICKER",C[C.REMOVE_ITEM=3]="REMOVE_ITEM"})(S||(e.TriggerAction=S={}));function m(C){const s=C;return Array.isArray(s.items)}function _(C){const s=C;return!!s.picks&&s.additionalPicks instanceof Promise}class v extends y.Disposable{constructor(s,i){super(),this.prefix=s,this.options=i}provide(s,i,n){var t;const r=new y.DisposableStore;s.canAcceptInBackground=!!(!((t=this.options)===null||t===void 0)&&t.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;let u;const f=r.add(new y.MutableDisposable),d=()=>be(this,void 0,void 0,function*(){const l=f.value=new y.DisposableStore;u?.dispose(!0),s.busy=!1,u=new I.CancellationTokenSource(i);const o=u.token,c=s.value.substr(this.prefix.length).trim(),a=this._getPicks(c,l,o,n),g=(p,b)=>{var w;let E,k;if(m(p)?(E=p.items,k=p.active):E=p,E.length===0){if(b)return!1;(c.length>0||s.hideInput)&&(!((w=this.options)===null||w===void 0)&&w.noResultsPick)&&((0,D.isFunction)(this.options.noResultsPick)?E=[this.options.noResultsPick(c)]:E=[this.options.noResultsPick])}return s.items=E,k&&(s.activeItems=[k]),!0},h=p=>be(this,void 0,void 0,function*(){let b=!1,w=!1;yield Promise.all([(()=>be(this,void 0,void 0,function*(){typeof p.mergeDelay=="number"&&(yield(0,L.timeout)(p.mergeDelay),o.isCancellationRequested)||w||(b=g(p.picks,!0))}))(),(()=>be(this,void 0,void 0,function*(){s.busy=!0;try{const E=yield p.additionalPicks;if(o.isCancellationRequested)return;let k,M;m(p.picks)?(k=p.picks.items,M=p.picks.active):k=p.picks;let R,B;if(m(E)?(R=E.items,B=E.active):R=E,R.length>0||!b){let T;if(!M&&!B){const N=s.activeItems[0];N&&k.indexOf(N)!==-1&&(T=N)}g({items:[...k,...R],active:M||B||T})}}finally{o.isCancellationRequested||(s.busy=!1),w=!0}}))()])});if(a!==null)if(_(a))yield h(a);else if(!(a instanceof Promise))g(a);else{s.busy=!0;try{const p=yield a;if(o.isCancellationRequested)return;_(p)?yield h(p):g(p)}finally{o.isCancellationRequested||(s.busy=!1)}}});return r.add(s.onDidChangeValue(()=>d())),d(),r.add(s.onDidAccept(l=>{const[o]=s.selectedItems;typeof o?.accept=="function"&&(l.inBackground||s.hide(),o.accept(s.keyMods,l))})),r.add(s.onDidTriggerItemButton(({button:l,item:o})=>be(this,void 0,void 0,function*(){var c,a;if(typeof o.trigger=="function"){const g=(a=(c=o.buttons)===null||c===void 0?void 0:c.indexOf(l))!==null&&a!==void 0?a:-1;if(g>=0){const h=o.trigger(g,s.keyMods),p=typeof h=="number"?h:yield h;if(i.isCancellationRequested)return;switch(p){case S.NO_ACTION:break;case S.CLOSE_PICKER:s.hide();break;case S.REFRESH_PICKER:d();break;case S.REMOVE_ITEM:{const b=s.items.indexOf(o);if(b!==-1){const w=s.items.slice(),E=w.splice(b,1),k=s.activeItems.filter(R=>R!==E[0]),M=s.keepScrollPosition;s.keepScrollPosition=!0,s.items=w,k&&(s.activeItems=k),s.keepScrollPosition=M}break}}}}}))),r}}e.PickerQuickAccessProvider=v}),define(te[773],ie([1,0,7,44,60,228,2,98,172]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const _=L.$;class v extends S.Disposable{constructor(s,i,n){super(),this.parent=s,this.onKeyDown=r=>L.addDisposableListener(this.findInput.inputBox.inputElement,L.EventType.KEY_DOWN,u=>{r(new I.StandardKeyboardEvent(u))}),this.onMouseDown=r=>L.addDisposableListener(this.findInput.inputBox.inputElement,L.EventType.MOUSE_DOWN,u=>{r(new y.StandardMouseEvent(u))}),this.onDidChange=r=>this.findInput.onDidChange(r),this.container=L.append(this.parent,_(".quick-input-box")),this.findInput=this._register(new D.FindInput(this.container,void 0,{label:"",inputBoxStyles:i,toggleStyles:n}));const t=this.findInput.inputBox.inputElement;t.role="combobox",t.ariaHasPopup="menu",t.ariaAutoComplete="list",t.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(s){this.findInput.setValue(s)}select(s=null){this.findInput.inputBox.select(s)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.findInput.inputBox.setPlaceHolder(s)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(s){this.findInput.inputBox.inputElement.type=s?"password":"text"}set enabled(s){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!s)}set toggles(s){this.findInput.setAdditionalToggles(s)}setAttribute(s,i){this.findInput.inputBox.inputElement.setAttribute(s,i)}showDecoration(s){s===m.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:s===m.default.Info?1:s===m.default.Warning?2:3,content:""})}stylesForType(s){return this.findInput.inputBox.stylesForType(s===m.default.Info?1:s===m.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=v}),define(te[343],ie([1,0,7,79,6,44,61,128,163,389,736,172]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderQuickInputDescription=e.getIconClass=void 0;const s={},i=new _.IdGenerator("quick-input-button-icon-");function n(r){if(!r)return;let u;const f=r.dark.toString();return s[f]?u=s[f]:(u=i.nextId(),L.createCSSRule(`.${u}, .hc-light .${u}`,`background-image: ${L.asCSSUrl(r.light||r.dark)}`),L.createCSSRule(`.vs-dark .${u}, .hc-black .${u}`,`background-image: ${L.asCSSUrl(r.dark)}`),s[f]=u),u}e.getIconClass=n;function t(r,u,f){L.reset(u);const d=(0,v.parseLinkedText)(r);let l=0;for(const o of d.nodes)if(typeof o=="string")u.append(...(0,m.renderLabelWithIcons)(o));else{let c=o.title;!c&&o.href.startsWith("command:")?c=(0,C.localize)(0,null,o.href.substring(8)):c||(c=o.href);const a=L.$("a",{href:o.href,title:c,tabIndex:l++},o.label);a.style.textDecoration="underline";const g=E=>{L.isEventLike(E)&&L.EventHelper.stop(E,!0),f.callback(o.href)},h=f.disposables.add(new I.DomEmitter(a,L.EventType.CLICK)).event,p=f.disposables.add(new I.DomEmitter(a,L.EventType.KEY_DOWN)).event,b=y.Event.chain(p,E=>E.filter(k=>{const M=new D.StandardKeyboardEvent(k);return M.equals(10)||M.equals(3)}));f.disposables.add(S.Gesture.addTarget(a));const w=f.disposables.add(new I.DomEmitter(a,S.EventType.Tap)).event;y.Event.any(h,w,b)(g,null,f.disposables),u.appendChild(a)}}e.renderQuickInputDescription=t}),define(te[67],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var I;(function(S){S[S.Blur=1]="Blur",S[S.Gesture=2]="Gesture",S[S.Other=3]="Other"})(I||(e.QuickInputHideReason=I={}));var y;(function(S){S[S.NONE=0]="NONE",S[S.FIRST=1]="FIRST",S[S.SECOND=2]="SECOND",S[S.LAST=3]="LAST"})(y||(e.ItemActivation=y={}));class D{constructor(m){this.options=m}}e.QuickPickItemScorerAccessor=D,e.quickPickItemScorerAccessor=new D,e.IQuickInputService=(0,L.createDecorator)("quickInputService")}),define(te[35],ie([1,0,96,20]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class y{constructor(){this.data=new Map}add(S,m){L.ok(I.isString(S)),L.ok(I.isObject(m)),L.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,m)}as(S){return this.data.get(S)||null}}e.Registry=new y}),define(te[344],ie([1,0,35]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class I{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},L.Registry.add(e.Extensions.DragAndDropContribution,new I);class y{constructor(){}static getInstance(){return y.INSTANCE}hasData(S){return S&&S===this.proto}getData(S){if(this.hasData(S))return this.data}}e.LocalSelectionTransfer=y,y.INSTANCE=new y}),define(te[345],ie([1,0,196,170,107,21,344]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toExternalVSDataTransfer=e.toVSDataTransfer=void 0;function m(s){const i=new I.VSDataTransfer;for(const n of s.items){const t=n.type;if(n.kind==="string"){const r=new Promise(u=>n.getAsString(u));i.append(t,(0,I.createStringDataTransferItem)(r))}else if(n.kind==="file"){const r=n.getAsFile();r&&i.append(t,_(r))}}return i}e.toVSDataTransfer=m;function _(s){const i=s.path?D.URI.parse(s.path):void 0;return(0,I.createFileDataTransferItem)(s.name,i,()=>be(this,void 0,void 0,function*(){return new Uint8Array(yield s.arrayBuffer())}))}const v=Object.freeze([S.CodeDataTransfers.EDITORS,S.CodeDataTransfers.FILES,L.DataTransfers.RESOURCES,L.DataTransfers.INTERNAL_URI_LIST]);function C(s,i=!1){const n=m(s),t=n.get(L.DataTransfers.INTERNAL_URI_LIST);if(t)n.replace(y.Mimes.uriList,t);else if(i||!n.has(y.Mimes.uriList)){const r=[];for(const u of s.items){const f=u.getAsFile();if(f){const d=f.path;try{d?r.push(D.URI.file(d).toString()):r.push(D.URI.parse(f.name,!0).toString())}catch{}}}r.length&&n.replace(y.Mimes.uriList,(0,I.createStringDataTransferItem)(I.UriList.create(r)))}for(const r of v)n.delete(r);return n}e.toExternalVSDataTransfer=C}),define(te[239],ie([1,0,6,35]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function y(m){return m.length>0&&m.charAt(m.length-1)==="#"?m.substring(0,m.length-1):m}class D{constructor(){this._onDidChangeSchema=new L.Emitter,this.schemasById={}}registerSchema(_,v){this.schemasById[y(_)]=v,this._onDidChangeSchema.fire(_)}notifySchemaChanged(_){this._onDidChangeSchema.fire(_)}}const S=new D;I.Registry.add(e.Extensions.JSONContribution,S)}),define(te[95],ie([1,0,13,6,20,722,28,239,35]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const v=_.Registry.as(m.Extensions.JSONContribution);class C{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new I.Emitter,this._onDidUpdateConfiguration=new I.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(d,l=!0){this.registerConfigurations([d],l)}registerConfigurations(d,l=!0){const o=new Set;this.doRegisterConfigurations(d,l,o),v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:o})}registerDefaultConfigurations(d){const l=new Set;this.doRegisterDefaultConfigurations(d,l),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:l,defaultsOverrides:!0})}doRegisterDefaultConfigurations(d,l){var o;const c=[];for(const{overrides:a,source:g}of d)for(const h in a)if(l.add(h),e.OVERRIDE_PROPERTY_REGEX.test(h)){const p=this.configurationDefaultsOverrides.get(h),b=(o=p?.valuesSources)!==null&&o!==void 0?o:new Map;if(g)for(const M of Object.keys(a[h]))b.set(M,g);const w=Object.assign(Object.assign({},p?.value||{}),a[h]);this.configurationDefaultsOverrides.set(h,{source:g,value:w,valuesSources:b});const E=(0,S.getLanguageTagSettingPlainKey)(h),k={type:"object",default:w,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:w,source:y.isString(g)?void 0:g,defaultValueSource:g};c.push(...n(h)),this.configurationProperties[h]=k,this.defaultLanguageConfigurationOverridesNode.properties[h]=k}else{this.configurationDefaultsOverrides.set(h,{value:a[h],source:g});const p=this.configurationProperties[h];p&&(this.updatePropertyDefaultValue(h,p),this.updateSchema(h,p))}this.doRegisterOverrideIdentifiers(c)}registerOverrideIdentifiers(d){this.doRegisterOverrideIdentifiers(d),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(d){for(const l of d)this.overrideIdentifiers.add(l);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(d,l,o){d.forEach(c=>{this.validateAndRegisterProperties(c,l,c.extensionInfo,c.restrictedProperties,void 0,o),this.configurationContributors.push(c),this.registerJSONConfiguration(c)})}validateAndRegisterProperties(d,l=!0,o,c,a=3,g){var h;a=y.isUndefinedOrNull(d.scope)?a:d.scope;const p=d.properties;if(p)for(const w in p){const E=p[w];if(l&&u(w,E)){delete p[w];continue}if(E.source=o,E.defaultDefaultValue=p[w].default,this.updatePropertyDefaultValue(w,E),e.OVERRIDE_PROPERTY_REGEX.test(w)?E.scope=void 0:(E.scope=y.isUndefinedOrNull(E.scope)?a:E.scope,E.restricted=y.isUndefinedOrNull(E.restricted)?!!c?.includes(w):E.restricted),p[w].hasOwnProperty("included")&&!p[w].included){this.excludedConfigurationProperties[w]=p[w],delete p[w];continue}else this.configurationProperties[w]=p[w],!((h=p[w].policy)===null||h===void 0)&&h.name&&this.policyConfigurations.set(p[w].policy.name,w);!p[w].deprecationMessage&&p[w].markdownDeprecationMessage&&(p[w].deprecationMessage=p[w].markdownDeprecationMessage),g.add(w)}const b=d.allOf;if(b)for(const w of b)this.validateAndRegisterProperties(w,l,o,c,a,g)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(d){const l=o=>{const c=o.properties;if(c)for(const g in c)this.updateSchema(g,c[g]);const a=o.allOf;a?.forEach(l)};l(d)}updateSchema(d,l){switch(e.allSettings.properties[d]=l,l.scope){case 1:e.applicationSettings.properties[d]=l;break;case 2:e.machineSettings.properties[d]=l;break;case 6:e.machineOverridableSettings.properties[d]=l;break;case 3:e.windowSettings.properties[d]=l;break;case 4:e.resourceSettings.properties[d]=l;break;case 5:e.resourceSettings.properties[d]=l,this.resourceLanguageSettingsSchema.properties[d]=l;break}}updateOverridePropertyPatternKey(){for(const d of this.overrideIdentifiers.values()){const l=`[${d}]`,o={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(l,o),e.allSettings.properties[l]=o,e.applicationSettings.properties[l]=o,e.machineSettings.properties[l]=o,e.machineOverridableSettings.properties[l]=o,e.windowSettings.properties[l]=o,e.resourceSettings.properties[l]=o}}registerOverridePropertyPatternKey(){const d={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=d,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=d,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=d,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=d,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=d,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=d,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(d,l){const o=this.configurationDefaultsOverrides.get(d);let c=o?.value,a=o?.source;y.isUndefined(c)&&(c=l.defaultDefaultValue,a=void 0),y.isUndefined(c)&&(c=t(l.type)),l.default=c,l.defaultValueSource=a}}const s="\\[([^\\]]+)\\]",i=new RegExp(s,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${s})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function n(f){const d=[];if(e.OVERRIDE_PROPERTY_REGEX.test(f)){let l=i.exec(f);for(;l?.length;){const o=l[1].trim();o&&d.push(o),l=i.exec(f)}}return(0,L.distinct)(d)}e.overrideIdentifiersFromKey=n;function t(f){switch(Array.isArray(f)?f[0]:f){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=t;const r=new C;_.Registry.add(e.Extensions.Configuration,r);function u(f,d){var l,o,c,a;return f.trim()?e.OVERRIDE_PROPERTY_REGEX.test(f)?D.localize(7,null,f):r.getConfigurationProperties()[f]!==void 0?D.localize(8,null,f):!((l=d.policy)===null||l===void 0)&&l.name&&r.getPolicyConfigurations().get((o=d.policy)===null||o===void 0?void 0:o.name)!==void 0?D.localize(9,null,f,(c=d.policy)===null||c===void 0?void 0:c.name,r.getPolicyConfigurations().get((a=d.policy)===null||a===void 0?void 0:a.name)):null:D.localize(6,null)}e.validateProperty=u}),define(te[240],ie([1,0,271,39,173,618,95,35]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:D.localize(0,null),scope:5});const _=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:y.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:D.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:D.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:D.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:D.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:D.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:D.localize(6,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:D.localize(7,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[D.localize(8,null),D.localize(9,null),D.localize(10,null)],description:D.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[D.localize(12,null),D.localize(13,null),D.localize(14,null)],default:"configuredByTheme",description:D.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:D.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:D.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:D.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:D.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:D.localize(20,null),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:D.localize(21,null),items:{type:"array",items:[{type:"string",description:D.localize(22,null)},{type:"string",description:D.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:D.localize(24,null),items:{type:"array",items:[{type:"string",description:D.localize(25,null)},{type:"string",description:D.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:L.diffEditorDefaultOptions.maxComputationTime,description:D.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:L.diffEditorDefaultOptions.maxFileSize,description:D.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:L.diffEditorDefaultOptions.renderSideBySide,description:D.localize(29,null)},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:L.diffEditorDefaultOptions.renderSideBySideInlineBreakpoint,description:D.localize(30,null)},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:L.diffEditorDefaultOptions.useInlineViewWhenSpaceIsLimited,description:D.localize(31,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:L.diffEditorDefaultOptions.renderMarginRevertIcon,description:D.localize(32,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:L.diffEditorDefaultOptions.ignoreTrimWhitespace,description:D.localize(33,null)},"diffEditor.renderIndicators":{type:"boolean",default:L.diffEditorDefaultOptions.renderIndicators,description:D.localize(34,null)},"diffEditor.codeLens":{type:"boolean",default:L.diffEditorDefaultOptions.diffCodeLens,description:D.localize(35,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:L.diffEditorDefaultOptions.diffWordWrap,markdownEnumDescriptions:[D.localize(36,null),D.localize(37,null),D.localize(38,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:L.diffEditorDefaultOptions.diffAlgorithm,markdownEnumDescriptions:[D.localize(39,null),D.localize(40,null)],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:L.diffEditorDefaultOptions.hideUnchangedRegions.enabled,markdownDescription:D.localize(41,null)},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.revealLineCount,markdownDescription:D.localize(42,null),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.minimumLineCount,markdownDescription:D.localize(43,null),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.contextLineCount,markdownDescription:D.localize(44,null),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:L.diffEditorDefaultOptions.experimental.showMoves,markdownDescription:D.localize(45,null)},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:L.diffEditorDefaultOptions.experimental.showEmptyDecorations,description:D.localize(46,null)}}});function v(r){return typeof r.type<"u"||typeof r.anyOf<"u"}for(const r of I.editorOptionsRegistry){const u=r.schema;if(typeof u<"u")if(v(u))_.properties[`editor.${r.name}`]=u;else for(const f in u)Object.hasOwnProperty.call(u,f)&&(_.properties[f]=u[f])}let C=null;function s(){return C===null&&(C=Object.create(null),Object.keys(_.properties).forEach(r=>{C[r]=!0})),C}function i(r){return s()[`editor.${r}`]||!1}e.isEditorConfigurationKey=i;function n(r){return s()[`diffEditor.${r}`]||!1}e.isDiffEditorConfigurationKey=n,m.Registry.as(S.Extensions.Configuration).registerConfiguration(_)}),define(te[75],ie([1,0,628,6,35,107,95]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class m{constructor(){this._onDidChangeLanguages=new I.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(v){return this._languages.push(v),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let C=0,s=this._languages.length;C<s;C++)if(this._languages[C]===v){this._languages.splice(C,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=m,e.ModesRegistry=new m,y.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[L.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),y.Registry.as(S.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(te[32],ie([1,0,6,2,10,145,109,125,502,599,503,506,230,8,28,42,47,75,505]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class l{constructor(N){this.languageId=N}affects(N){return this.languageId?this.languageId===N:!0}}e.LanguageConfigurationServiceChangeEvent=l,e.ILanguageConfigurationService=(0,n.createDecorator)("languageConfigurationService");let o=class extends I.Disposable{constructor(N,A){super(),this.configurationService=N,this.languageService=A,this._registry=this._register(new R),this.onDidChangeEmitter=this._register(new L.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const P=new Set(Object.values(a));this._register(this.configurationService.onDidChangeConfiguration(O=>{const x=O.change.keys.some(U=>P.has(U)),W=O.change.overrides.filter(([U,F])=>F.some(G=>P.has(G))).map(([U])=>U);if(x)this.configurations.clear(),this.onDidChangeEmitter.fire(new l(void 0));else for(const U of W)this.languageService.isRegisteredLanguageId(U)&&(this.configurations.delete(U),this.onDidChangeEmitter.fire(new l(U)))})),this._register(this._registry.onDidChange(O=>{this.configurations.delete(O.languageId),this.onDidChangeEmitter.fire(new l(O.languageId))}))}register(N,A,P){return this._registry.register(N,A,P)}getLanguageConfiguration(N){let A=this.configurations.get(N);return A||(A=c(N,this._registry,this.configurationService,this.languageService),this.configurations.set(N,A)),A}};e.LanguageConfigurationService=o,e.LanguageConfigurationService=o=Ie([ge(0,t.IConfigurationService),ge(1,r.ILanguageService)],o);function c(T,N,A,P){let O=N.getLanguageConfiguration(T);if(!O){if(!P.isRegisteredLanguageId(T))return new B(T,{});O=new B(T,{})}const x=g(O.languageId,A),W=E([O.underlyingConfig,x]);return new B(O.languageId,W)}const a={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function g(T,N){const A=N.getValue(a.brackets,{overrideIdentifier:T}),P=N.getValue(a.colorizedBracketPairs,{overrideIdentifier:T});return{brackets:h(A),colorizedBracketPairs:h(P)}}function h(T){if(Array.isArray(T))return T.map(N=>{if(!(!Array.isArray(N)||N.length!==2))return[N[0],N[1]]}).filter(N=>!!N)}function p(T,N,A){const P=T.getLineContent(N);let O=y.getLeadingWhitespace(P);return O.length>A-1&&(O=O.substring(0,A-1)),O}e.getIndentationAtPosition=p;function b(T,N,A){T.tokenization.forceTokenization(N);const P=T.tokenization.getLineTokens(N),O=typeof A>"u"?T.getLineMaxColumn(N)-1:A-1;return(0,m.createScopedLineTokens)(P,O)}e.getScopedLineTokens=b;class w{constructor(N){this.languageId=N,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(N,A){const P=new k(N,A,++this._order);return this._entries.push(P),this._resolved=null,(0,I.toDisposable)(()=>{for(let O=0;O<this._entries.length;O++)if(this._entries[O]===P){this._entries.splice(O,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const N=this._resolve();N&&(this._resolved=new B(this.languageId,N))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(k.cmp),E(this._entries.map(N=>N.configuration)))}}function E(T){let N={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const A of T)N={comments:A.comments||N.comments,brackets:A.brackets||N.brackets,wordPattern:A.wordPattern||N.wordPattern,indentationRules:A.indentationRules||N.indentationRules,onEnterRules:A.onEnterRules||N.onEnterRules,autoClosingPairs:A.autoClosingPairs||N.autoClosingPairs,surroundingPairs:A.surroundingPairs||N.surroundingPairs,autoCloseBefore:A.autoCloseBefore||N.autoCloseBefore,folding:A.folding||N.folding,colorizedBracketPairs:A.colorizedBracketPairs||N.colorizedBracketPairs,__electricCharacterSupport:A.__electricCharacterSupport||N.__electricCharacterSupport};return N}class k{constructor(N,A,P){this.configuration=N,this.priority=A,this.order=P}static cmp(N,A){return N.priority===A.priority?N.order-A.order:N.priority-A.priority}}class M{constructor(N){this.languageId=N}}e.LanguageConfigurationChangeEvent=M;class R extends I.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(f.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(N,A,P=0){let O=this._entries.get(N);O||(O=new w(N),this._entries.set(N,O));const x=O.register(A,P);return this._onDidChange.fire(new M(N)),(0,I.toDisposable)(()=>{x.dispose(),this._onDidChange.fire(new M(N))})}getLanguageConfiguration(N){const A=this._entries.get(N);return A?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=R;class B{constructor(N,A){this.languageId=N,this.underlyingConfig=A,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new s.OnEnterSupport(this.underlyingConfig):null,this.comments=B._handleComments(this.underlyingConfig),this.characterPair=new _.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new C.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new d.LanguageBracketsConfiguration(N,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new i.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new v.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(N,A,P,O){return this._onEnterSupport?this._onEnterSupport.onEnter(N,A,P,O):null}getAutoClosingPairs(){return new S.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(N){return this.characterPair.getAutoCloseBeforeSet(N)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(N){const A=N.comments;if(!A)return null;const P={};if(A.lineComment&&(P.lineCommentToken=A.lineComment),A.blockComment){const[O,x]=A.blockComment;P.blockCommentStartToken=O,P.blockCommentEndToken=x}return P}}e.ResolvedLanguageConfiguration=B,(0,u.registerSingleton)(e.ILanguageConfigurationService,o,1)}),define(te[241],ie([1,0,14,2,322,590,5,32,627,50,185,13,66,59,9,18,203,108,64]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const l=60*1e3,o=5*60*1e3;function c(k,M){const R=k.getModel(M);return!(!R||R.isTooLargeForSyncing())}let a=class extends I.Disposable{constructor(M,R,B,T,N){super(),this._modelService=M,this._workerManager=this._register(new h(this._modelService,T)),this._logService=B,this._register(N.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(A,P)=>c(this._modelService,A.uri)?this._workerManager.withWorker().then(O=>O.computeLinks(A.uri)).then(O=>O&&{links:O}):Promise.resolve({links:[]})})),this._register(N.completionProvider.register("*",new g(this._workerManager,R,this._modelService,T)))}dispose(){super.dispose()}canComputeUnicodeHighlights(M){return c(this._modelService,M)}computedUnicodeHighlights(M,R,B){return this._workerManager.withWorker().then(T=>T.computedUnicodeHighlights(M,R,B))}computeDiff(M,R,B,T){return be(this,void 0,void 0,function*(){const N=yield this._workerManager.withWorker().then(O=>O.computeDiff(M,R,B,T));if(!N)return null;return{identical:N.identical,quitEarly:N.quitEarly,changes:P(N.changes),moves:N.moves.map(O=>new u.MovedText(new f.LineRangeMapping(new d.LineRange(O[0],O[1]),new d.LineRange(O[2],O[3])),P(O[4])))};function P(O){return O.map(x=>{var W;return new f.DetailedLineRangeMapping(new d.LineRange(x[0],x[1]),new d.LineRange(x[2],x[3]),(W=x[4])===null||W===void 0?void 0:W.map(U=>new f.RangeMapping(new S.Range(U[0],U[1],U[2],U[3]),new S.Range(U[4],U[5],U[6],U[7]))))})}})}computeMoreMinimalEdits(M,R,B=!1){if((0,s.isNonEmptyArray)(R)){if(!c(this._modelService,M))return Promise.resolve(R);const T=n.StopWatch.create(),N=this._workerManager.withWorker().then(A=>A.computeMoreMinimalEdits(M,R,B));return N.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",M.toString(!0),T.elapsed())),Promise.race([N,(0,L.timeout)(1e3).then(()=>R)])}else return Promise.resolve(void 0)}canNavigateValueSet(M){return c(this._modelService,M)}navigateValueSet(M,R,B){return this._workerManager.withWorker().then(T=>T.navigateValueSet(M,R,B))}canComputeWordRanges(M){return c(this._modelService,M)}computeWordRanges(M,R){return this._workerManager.withWorker().then(B=>B.computeWordRanges(M,R))}};e.EditorWorkerService=a,e.EditorWorkerService=a=Ie([ge(0,v.IModelService),ge(1,C.ITextResourceConfigurationService),ge(2,i.ILogService),ge(3,m.ILanguageConfigurationService),ge(4,r.ILanguageFeaturesService)],a);class g{constructor(M,R,B,T){this.languageConfigurationService=T,this._debugDisplayName="wordbasedCompletions",this._workerManager=M,this._configurationService=R,this._modelService=B}provideCompletionItems(M,R){return be(this,void 0,void 0,function*(){const B=this._configurationService.getValue(M.uri,R,"editor");if(!B.wordBasedSuggestions)return;const T=[];if(B.wordBasedSuggestionsMode==="currentDocument")c(this._modelService,M.uri)&&T.push(M.uri);else for(const U of this._modelService.getModels())c(this._modelService,U.uri)&&(U===M?T.unshift(U.uri):(B.wordBasedSuggestionsMode==="allDocuments"||U.getLanguageId()===M.getLanguageId())&&T.push(U.uri));if(T.length===0)return;const N=this.languageConfigurationService.getLanguageConfiguration(M.getLanguageId()).getWordDefinition(),A=M.getWordAtPosition(R),P=A?new S.Range(R.lineNumber,A.startColumn,R.lineNumber,A.endColumn):S.Range.fromPositions(R),O=P.setEndPosition(R.lineNumber,R.column),W=yield(yield this._workerManager.withWorker()).textualSuggest(T,A?.word,N);if(W)return{duration:W.duration,suggestions:W.words.map(U=>({kind:18,label:U,insertText:U,range:{insert:O,replace:P}}))}})}}class h extends I.Disposable{constructor(M,R){super(),this.languageConfigurationService=R,this._modelService=M,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new L.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(o/2)),this._register(this._modelService.onModelRemoved(T=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>o&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new E(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class p extends I.Disposable{constructor(M,R,B){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=M,this._modelService=R,!B){const T=new L.IntervalTimer;T.cancelAndSet(()=>this._checkStopModelSync(),Math.round(l/2)),this._register(T)}}dispose(){for(const M in this._syncedModels)(0,I.dispose)(this._syncedModels[M]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(M,R){for(const B of M){const T=B.toString();this._syncedModels[T]||this._beginModelSync(B,R),this._syncedModels[T]&&(this._syncedModelsLastUsedTime[T]=new Date().getTime())}}_checkStopModelSync(){const M=new Date().getTime(),R=[];for(const B in this._syncedModelsLastUsedTime)M-this._syncedModelsLastUsedTime[B]>l&&R.push(B);for(const B of R)this._stopModelSync(B)}_beginModelSync(M,R){const B=this._modelService.getModel(M);if(!B||!R&&B.isTooLargeForSyncing())return;const T=M.toString();this._proxy.acceptNewModel({url:B.uri.toString(),lines:B.getLinesContent(),EOL:B.getEOL(),versionId:B.getVersionId()});const N=new I.DisposableStore;N.add(B.onDidChangeContent(A=>{this._proxy.acceptModelChanged(T.toString(),A)})),N.add(B.onWillDispose(()=>{this._stopModelSync(T)})),N.add((0,I.toDisposable)(()=>{this._proxy.acceptRemovedModel(T)})),this._syncedModels[T]=N}_stopModelSync(M){const R=this._syncedModels[M];delete this._syncedModels[M],delete this._syncedModelsLastUsedTime[M],(0,I.dispose)(R)}}class b{constructor(M){this._instance=M,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class w{constructor(M){this._workerClient=M}fhr(M,R){return this._workerClient.fhr(M,R)}}e.EditorWorkerHost=w;class E extends I.Disposable{constructor(M,R,B,T){super(),this.languageConfigurationService=T,this._disposed=!1,this._modelService=M,this._keepIdleModels=R,this._workerFactory=new D.DefaultWorkerFactory(B),this._worker=null,this._modelManager=null}fhr(M,R){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new y.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new w(this)))}catch(M){(0,y.logOnceWebWorkerWarning)(M),this._worker=new b(new _.EditorSimpleWorker(new w(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,M=>((0,y.logOnceWebWorkerWarning)(M),this._worker=new b(new _.EditorSimpleWorker(new w(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(M){return this._modelManager||(this._modelManager=this._register(new p(M,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(M,R=!1){return be(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,t.canceled)()):this._getProxy().then(B=>(this._getOrCreateModelManager(B).ensureSyncedResources(M,R),B))})}computedUnicodeHighlights(M,R,B){return this._withSyncedResources([M]).then(T=>T.computeUnicodeHighlights(M.toString(),R,B))}computeDiff(M,R,B,T){return this._withSyncedResources([M,R],!0).then(N=>N.computeDiff(M.toString(),R.toString(),B,T))}computeMoreMinimalEdits(M,R,B){return this._withSyncedResources([M]).then(T=>T.computeMoreMinimalEdits(M.toString(),R,B))}computeLinks(M){return this._withSyncedResources([M]).then(R=>R.computeLinks(M.toString()))}computeDefaultDocumentColors(M){return this._withSyncedResources([M]).then(R=>R.computeDefaultDocumentColors(M.toString()))}textualSuggest(M,R,B){return be(this,void 0,void 0,function*(){const T=yield this._withSyncedResources(M),N=B.source,A=B.flags;return T.textualSuggest(M.map(P=>P.toString()),R,N,A)})}computeWordRanges(M,R){return this._withSyncedResources([M]).then(B=>{const T=this._modelService.getModel(M);if(!T)return Promise.resolve(null);const N=this.languageConfigurationService.getLanguageConfiguration(T.getLanguageId()).getWordDefinition(),A=N.source,P=N.flags;return B.computeWordRanges(M.toString(),R,A,P)})}navigateValueSet(M,R,B){return this._withSyncedResources([M]).then(T=>{const N=this._modelService.getModel(M);if(!N)return null;const A=this.languageConfigurationService.getLanguageConfiguration(N.getLanguageId()).getWordDefinition(),P=A.source,O=A.flags;return T.navigateValueSet(M.toString(),R,B,P,O)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=E}),define(te[774],ie([1,0,52,241]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function y(S,m,_){return new D(S,m,_)}e.createWebWorker=y;class D extends I.EditorWorkerClient{constructor(m,_,v){super(m,v.keepIdleModels||!1,v.label,_),this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(m,_){if(!this._foreignModuleHost||typeof this._foreignModuleHost[m]!="function")return Promise.reject(new Error("Missing method "+m+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[m].apply(this._foreignModuleHost,_))}catch(v){return Promise.reject(v)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(m=>{const _=this._foreignModuleHost?(0,L.getAllMethodNames)(this._foreignModuleHost):[];return m.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,_).then(v=>{this._foreignModuleCreateData=null;const C=(n,t)=>m.fmr(n,t),s=(n,t)=>function(){const r=Array.prototype.slice.call(arguments,0);return t(n,r)},i={};for(const n of v)i[n]=s(n,C);return i})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(m){return this._withSyncedResources(m).then(_=>this.getProxy())}}}),define(te[242],ie([1,0,10,109,125,32]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function S(i,n,t){const r=i.tokenization.getLanguageIdAtPosition(n,0);if(n>1){let u,f=-1;for(u=n-1;u>=1;u--){if(i.tokenization.getLanguageIdAtPosition(u,0)!==r)return f;const d=i.getLineContent(u);if(t.shouldIgnore(d)||/^\s+$/.test(d)||d===""){f=u;continue}return u}}return-1}function m(i,n,t,r=!0,u){if(i<4)return null;const f=u.getLanguageConfiguration(n.tokenization.getLanguageId()).indentRulesSupport;if(!f)return null;if(t<=1)return{indentation:"",action:null};for(let o=t-1;o>0&&n.getLineContent(o)==="";o--)if(o===1)return{indentation:"",action:null};const d=S(n,t,f);if(d<0)return null;if(d<1)return{indentation:"",action:null};const l=n.getLineContent(d);if(f.shouldIncrease(l)||f.shouldIndentNextLine(l))return{indentation:L.getLeadingWhitespace(l),action:I.IndentAction.Indent,line:d};if(f.shouldDecrease(l))return{indentation:L.getLeadingWhitespace(l),action:null,line:d};{if(d===1)return{indentation:L.getLeadingWhitespace(n.getLineContent(d)),action:null,line:d};const o=d-1,c=f.getIndentMetadata(n.getLineContent(o));if(!(c&3)&&c&4){let a=0;for(let g=o-1;g>0;g--)if(!f.shouldIndentNextLine(n.getLineContent(g))){a=g;break}return{indentation:L.getLeadingWhitespace(n.getLineContent(a+1)),action:null,line:a+1}}if(r)return{indentation:L.getLeadingWhitespace(n.getLineContent(d)),action:null,line:d};for(let a=d;a>0;a--){const g=n.getLineContent(a);if(f.shouldIncrease(g))return{indentation:L.getLeadingWhitespace(g),action:I.IndentAction.Indent,line:a};if(f.shouldIndentNextLine(g)){let h=0;for(let p=a-1;p>0;p--)if(!f.shouldIndentNextLine(n.getLineContent(a))){h=p;break}return{indentation:L.getLeadingWhitespace(n.getLineContent(h+1)),action:null,line:h+1}}else if(f.shouldDecrease(g))return{indentation:L.getLeadingWhitespace(g),action:null,line:a}}return{indentation:L.getLeadingWhitespace(n.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=m;function _(i,n,t,r,u,f){if(i<4)return null;const d=f.getLanguageConfiguration(t);if(!d)return null;const l=f.getLanguageConfiguration(t).indentRulesSupport;if(!l)return null;const o=m(i,n,r,void 0,f),c=n.getLineContent(r);if(o){const a=o.line;if(a!==void 0){let g=!0;for(let h=a;h<r-1;h++)if(!/^\s*$/.test(n.getLineContent(h))){g=!1;break}if(g){const h=d.onEnter(i,"",n.getLineContent(a),"");if(h){let p=L.getLeadingWhitespace(n.getLineContent(a));return h.removeText&&(p=p.substring(0,p.length-h.removeText)),h.indentAction===I.IndentAction.Indent||h.indentAction===I.IndentAction.IndentOutdent?p=u.shiftIndent(p):h.indentAction===I.IndentAction.Outdent&&(p=u.unshiftIndent(p)),l.shouldDecrease(c)&&(p=u.unshiftIndent(p)),h.appendText&&(p+=h.appendText),L.getLeadingWhitespace(p)}}}return l.shouldDecrease(c)?o.action===I.IndentAction.Indent?o.indentation:u.unshiftIndent(o.indentation):o.action===I.IndentAction.Indent?u.shiftIndent(o.indentation):o.indentation}return null}e.getGoodIndentForLine=_;function v(i,n,t,r,u){if(i<4)return null;n.tokenization.forceTokenization(t.startLineNumber);const f=n.tokenization.getLineTokens(t.startLineNumber),d=(0,y.createScopedLineTokens)(f,t.startColumn-1),l=d.getLineContent();let o=!1,c;d.firstCharOffset>0&&f.getLanguageId(0)!==d.languageId?(o=!0,c=l.substr(0,t.startColumn-1-d.firstCharOffset)):c=f.getLineContent().substring(0,t.startColumn-1);let a;t.isEmpty()?a=l.substr(t.startColumn-1-d.firstCharOffset):a=(0,D.getScopedLineTokens)(n,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-d.firstCharOffset);const g=u.getLanguageConfiguration(d.languageId).indentRulesSupport;if(!g)return null;const h=c,p=L.getLeadingWhitespace(c),b={tokenization:{getLineTokens:M=>n.tokenization.getLineTokens(M),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(M,R)=>n.getLanguageIdAtPosition(M,R)},getLineContent:M=>M===t.startLineNumber?h:n.getLineContent(M)},w=L.getLeadingWhitespace(f.getLineContent()),E=m(i,b,t.startLineNumber+1,void 0,u);if(!E){const M=o?w:p;return{beforeEnter:M,afterEnter:M}}let k=o?w:E.indentation;return E.action===I.IndentAction.Indent&&(k=r.shiftIndent(k)),g.shouldDecrease(a)&&(k=r.unshiftIndent(k)),{beforeEnter:o?w:p,afterEnter:k}}e.getIndentForEnter=v;function C(i,n,t,r,u,f){if(i<4)return null;const d=(0,D.getScopedLineTokens)(n,t.startLineNumber,t.startColumn);if(d.firstCharOffset)return null;const l=f.getLanguageConfiguration(d.languageId).indentRulesSupport;if(!l)return null;const o=d.getLineContent(),c=o.substr(0,t.startColumn-1-d.firstCharOffset);let a;if(t.isEmpty()?a=o.substr(t.startColumn-1-d.firstCharOffset):a=(0,D.getScopedLineTokens)(n,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-d.firstCharOffset),!l.shouldDecrease(c+a)&&l.shouldDecrease(c+r+a)){const g=m(i,n,t.startLineNumber,!1,f);if(!g)return null;let h=g.indentation;return g.action!==I.IndentAction.Indent&&(h=u.unshiftIndent(h)),h}return null}e.getIndentActionForType=C;function s(i,n,t){const r=t.getLanguageConfiguration(i.getLanguageId()).indentRulesSupport;return!r||n<1||n>i.getLineCount()?null:r.getIndentMetadata(i.getLineContent(n))}e.getIndentMetadata=s}),define(te[243],ie([1,0,109,32]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function y(D,S,m,_){const v=(0,I.getScopedLineTokens)(S,m.startLineNumber,m.startColumn),C=_.getLanguageConfiguration(v.languageId);if(!C)return null;const s=v.getLineContent(),i=s.substr(0,m.startColumn-1-v.firstCharOffset);let n;m.isEmpty()?n=s.substr(m.startColumn-1-v.firstCharOffset):n=(0,I.getScopedLineTokens)(S,m.endLineNumber,m.endColumn).getLineContent().substr(m.endColumn-1-v.firstCharOffset);let t="";if(m.startLineNumber>1&&v.firstCharOffset===0){const o=(0,I.getScopedLineTokens)(S,m.startLineNumber-1);o.languageId===v.languageId&&(t=o.getLineContent())}const r=C.onEnter(D,t,i,n);if(!r)return null;const u=r.indentAction;let f=r.appendText;const d=r.removeText||0;f?u===L.IndentAction.Indent&&(f="	"+f):u===L.IndentAction.Indent||u===L.IndentAction.IndentOutdent?f="	":f="";let l=(0,I.getIndentationAtPosition)(S,m.startLineNumber,m.startColumn);return d&&(l=l.substring(0,l.length-d)),{indentAction:u,appendText:f,removeText:d,indentation:l}}e.getEnterAction=y}),define(te[244],ie([1,0,10,80,5,24,243,32]),function($,e,L,I,y,D,S,m){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const v=Object.create(null);function C(i,n){if(n<=0)return"";v[i]||(v[i]=["",i]);const t=v[i];for(let r=t.length;r<=n;r++)t[r]=t[r-1]+i;return t[n]}let s=_=class{static unshiftIndent(n,t,r,u,f){const d=I.CursorColumns.visibleColumnFromColumn(n,t,r);if(f){const l=C(" ",u),c=I.CursorColumns.prevIndentTabStop(d,u)/u;return C(l,c)}else{const l="	",c=I.CursorColumns.prevRenderTabStop(d,r)/r;return C(l,c)}}static shiftIndent(n,t,r,u,f){const d=I.CursorColumns.visibleColumnFromColumn(n,t,r);if(f){const l=C(" ",u),c=I.CursorColumns.nextIndentTabStop(d,u)/u;return C(l,c)}else{const l="	",c=I.CursorColumns.nextRenderTabStop(d,r)/r;return C(l,c)}}constructor(n,t,r){this._languageConfigurationService=r,this._opts=t,this._selection=n,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(n,t,r){this._useLastEditRangeForCursorEndPosition?n.addTrackedEditOperation(t,r):n.addEditOperation(t,r)}getEditOperations(n,t){const r=this._selection.startLineNumber;let u=this._selection.endLineNumber;this._selection.endColumn===1&&r!==u&&(u=u-1);const{tabSize:f,indentSize:d,insertSpaces:l}=this._opts,o=r===u;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(n.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,a=0;for(let g=r;g<=u;g++,c=a){a=0;const h=n.getLineContent(g);let p=L.firstNonWhitespaceIndex(h);if(this._opts.isUnshift&&(h.length===0||p===0)||!o&&!this._opts.isUnshift&&h.length===0)continue;if(p===-1&&(p=h.length),g>1&&I.CursorColumns.visibleColumnFromColumn(h,p+1,f)%d!==0&&n.tokenization.isCheapToTokenize(g-1)){const E=(0,S.getEnterAction)(this._opts.autoIndent,n,new y.Range(g-1,n.getLineMaxColumn(g-1),g-1,n.getLineMaxColumn(g-1)),this._languageConfigurationService);if(E){if(a=c,E.appendText)for(let k=0,M=E.appendText.length;k<M&&a<d&&E.appendText.charCodeAt(k)===32;k++)a++;E.removeText&&(a=Math.max(0,a-E.removeText));for(let k=0;k<a&&!(p===0||h.charCodeAt(p-1)!==32);k++)p--}}if(this._opts.isUnshift&&p===0)continue;let b;this._opts.isUnshift?b=_.unshiftIndent(h,p+1,f,d,l):b=_.shiftIndent(h,p+1,f,d,l),this._addEditOperation(t,new y.Range(g,1,g,p+1),b),g===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=p+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&n.getLineLength(r)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=l?C(" ",d):"	";for(let a=r;a<=u;a++){const g=n.getLineContent(a);let h=L.firstNonWhitespaceIndex(g);if(!(this._opts.isUnshift&&(g.length===0||h===0))&&!(!o&&!this._opts.isUnshift&&g.length===0)&&(h===-1&&(h=g.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,d);for(let p=0;p<h;p++)if(g.charCodeAt(p)===9){h=p+1;break}this._addEditOperation(t,new y.Range(a,1,a,h+1),"")}else this._addEditOperation(t,new y.Range(a,1,a,1),c),a===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(n,t){if(this._useLastEditRangeForCursorEndPosition){const u=t.getInverseEditOperations()[0];return new D.Selection(u.range.endLineNumber,u.range.endColumn,u.range.endLineNumber,u.range.endColumn)}const r=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const u=this._selection.startColumn;return r.startColumn<=u?r:r.getDirection()===0?new D.Selection(r.startLineNumber,u,r.endLineNumber,r.endColumn):new D.Selection(r.endLineNumber,r.endColumn,r.startLineNumber,u)}return r}};e.ShiftCommand=s,e.ShiftCommand=s=_=Ie([ge(2,m.ILanguageConfigurationService)],s)}),define(te[245],ie([1,0,9,10,123,244,489,72,144,5,12,109,32,125,242,243]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class u{static indent(h,p,b){if(p===null||b===null)return[];const w=[];for(let E=0,k=b.length;E<k;E++)w[E]=new D.ShiftCommand(b[E],{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent},h.languageConfigurationService);return w}static outdent(h,p,b){const w=[];for(let E=0,k=b.length;E<k;E++)w[E]=new D.ShiftCommand(b[E],{isUnshift:!0,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent},h.languageConfigurationService);return w}static shiftIndent(h,p,b){return b=b||1,D.ShiftCommand.shiftIndent(p,p.length+b,h.tabSize,h.indentSize,h.insertSpaces)}static unshiftIndent(h,p,b){return b=b||1,D.ShiftCommand.unshiftIndent(p,p.length+b,h.tabSize,h.indentSize,h.insertSpaces)}static _distributedPaste(h,p,b,w){const E=[];for(let k=0,M=b.length;k<M;k++)E[k]=new y.ReplaceCommand(b[k],w[k]);return new m.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(h,p,b,w,E){const k=[];for(let M=0,R=b.length;M<R;M++){const B=b[M],T=B.getPosition();if(E&&!B.isEmpty()&&(E=!1),E&&w.indexOf(`
`)!==w.length-1&&(E=!1),E){const N=new v.Range(T.lineNumber,1,T.lineNumber,1);k[M]=new y.ReplaceCommandThatPreservesSelection(N,w,B,!0)}else k[M]=new y.ReplaceCommand(B,w)}return new m.EditOperationResult(0,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(h,p,b,w,E){if(w||p.length===1)return null;if(E&&E.length===p.length)return E;if(h.multiCursorPaste==="spread"){b.charCodeAt(b.length-1)===10&&(b=b.substr(0,b.length-1)),b.charCodeAt(b.length-1)===13&&(b=b.substr(0,b.length-1));const k=I.splitLines(b);if(k.length===p.length)return k}return null}static paste(h,p,b,w,E,k){const M=this._distributePasteToCursors(h,b,w,E,k);return M?(b=b.sort(v.Range.compareRangesUsingStarts),this._distributedPaste(h,p,b,M)):this._simplePaste(h,p,b,w,E)}static _goodIndentForLine(h,p,b){let w=null,E="";const k=(0,t.getInheritIndentForLine)(h.autoIndent,p,b,!1,h.languageConfigurationService);if(k)w=k.action,E=k.indentation;else if(b>1){let M;for(M=b-1;M>=1;M--){const T=p.getLineContent(M);if(I.lastNonWhitespaceIndex(T)>=0)break}if(M<1)return null;const R=p.getLineMaxColumn(M),B=(0,r.getEnterAction)(h.autoIndent,p,new v.Range(M,R,M,R),h.languageConfigurationService);B&&(E=B.indentation+B.appendText)}return w&&(w===s.IndentAction.Indent&&(E=u.shiftIndent(h,E)),w===s.IndentAction.Outdent&&(E=u.unshiftIndent(h,E)),E=h.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(h,p,b,w){let E="";const k=b.getStartPosition();if(h.insertSpaces){const M=h.visibleColumnFromColumn(p,k),R=h.indentSize,B=R-M%R;for(let T=0;T<B;T++)E+=" "}else E="	";return new y.ReplaceCommand(b,E,w)}static tab(h,p,b){const w=[];for(let E=0,k=b.length;E<k;E++){const M=b[E];if(M.isEmpty()){const R=p.getLineContent(M.startLineNumber);if(/^\s*$/.test(R)&&p.tokenization.isCheapToTokenize(M.startLineNumber)){let B=this._goodIndentForLine(h,p,M.startLineNumber);B=B||"	";const T=h.normalizeIndentation(B);if(!R.startsWith(T)){w[E]=new y.ReplaceCommand(new v.Range(M.startLineNumber,1,M.startLineNumber,R.length+1),T,!0);continue}}w[E]=this._replaceJumpToNextIndent(h,p,M,!0)}else{if(M.startLineNumber===M.endLineNumber){const R=p.getLineMaxColumn(M.startLineNumber);if(M.startColumn!==1||M.endColumn!==R){w[E]=this._replaceJumpToNextIndent(h,p,M,!1);continue}}w[E]=new D.ShiftCommand(M,{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent},h.languageConfigurationService)}}return w}static compositionType(h,p,b,w,E,k,M,R){const B=w.map(T=>this._compositionType(b,T,E,k,M,R));return new m.EditOperationResult(4,B,{shouldPushStackElementBefore:o(h,4),shouldPushStackElementAfter:!1})}static _compositionType(h,p,b,w,E,k){if(!p.isEmpty())return null;const M=p.getPosition(),R=Math.max(1,M.column-w),B=Math.min(h.getLineMaxColumn(M.lineNumber),M.column+E),T=new v.Range(M.lineNumber,R,M.lineNumber,B);return h.getValueInRange(T)===b&&k===0?null:new y.ReplaceCommandWithOffsetCursorState(T,b,0,k)}static _typeCommand(h,p,b){return b?new y.ReplaceCommandWithoutChangingPosition(h,p,!0):new y.ReplaceCommand(h,p,!0)}static _enter(h,p,b,w){if(h.autoIndent===0)return u._typeCommand(w,`
`,b);if(!p.tokenization.isCheapToTokenize(w.getStartPosition().lineNumber)||h.autoIndent===1){const R=p.getLineContent(w.startLineNumber),B=I.getLeadingWhitespace(R).substring(0,w.startColumn-1);return u._typeCommand(w,`
`+h.normalizeIndentation(B),b)}const E=(0,r.getEnterAction)(h.autoIndent,p,w,h.languageConfigurationService);if(E){if(E.indentAction===s.IndentAction.None)return u._typeCommand(w,`
`+h.normalizeIndentation(E.indentation+E.appendText),b);if(E.indentAction===s.IndentAction.Indent)return u._typeCommand(w,`
`+h.normalizeIndentation(E.indentation+E.appendText),b);if(E.indentAction===s.IndentAction.IndentOutdent){const R=h.normalizeIndentation(E.indentation),B=h.normalizeIndentation(E.indentation+E.appendText),T=`
`+B+`
`+R;return b?new y.ReplaceCommandWithoutChangingPosition(w,T,!0):new y.ReplaceCommandWithOffsetCursorState(w,T,-1,B.length-R.length,!0)}else if(E.indentAction===s.IndentAction.Outdent){const R=u.unshiftIndent(h,E.indentation);return u._typeCommand(w,`
`+h.normalizeIndentation(R+E.appendText),b)}}const k=p.getLineContent(w.startLineNumber),M=I.getLeadingWhitespace(k).substring(0,w.startColumn-1);if(h.autoIndent>=4){const R=(0,t.getIndentForEnter)(h.autoIndent,p,w,{unshiftIndent:B=>u.unshiftIndent(h,B),shiftIndent:B=>u.shiftIndent(h,B),normalizeIndentation:B=>h.normalizeIndentation(B)},h.languageConfigurationService);if(R){let B=h.visibleColumnFromColumn(p,w.getEndPosition());const T=w.endColumn,N=p.getLineContent(w.endLineNumber),A=I.firstNonWhitespaceIndex(N);if(A>=0?w=w.setEndPosition(w.endLineNumber,Math.max(w.endColumn,A+1)):w=w.setEndPosition(w.endLineNumber,p.getLineMaxColumn(w.endLineNumber)),b)return new y.ReplaceCommandWithoutChangingPosition(w,`
`+h.normalizeIndentation(R.afterEnter),!0);{let P=0;return T<=A+1&&(h.insertSpaces||(B=Math.ceil(B/h.indentSize)),P=Math.min(B+1-h.normalizeIndentation(R.afterEnter).length-1,0)),new y.ReplaceCommandWithOffsetCursorState(w,`
`+h.normalizeIndentation(R.afterEnter),0,P,!0)}}}return u._typeCommand(w,`
`+h.normalizeIndentation(M),b)}static _isAutoIndentType(h,p,b){if(h.autoIndent<4)return!1;for(let w=0,E=b.length;w<E;w++)if(!p.tokenization.isCheapToTokenize(b[w].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(h,p,b,w){const E=(0,i.getIndentationAtPosition)(p,b.startLineNumber,b.startColumn),k=(0,t.getIndentActionForType)(h.autoIndent,p,b,w,{shiftIndent:M=>u.shiftIndent(h,M),unshiftIndent:M=>u.unshiftIndent(h,M)},h.languageConfigurationService);if(k===null)return null;if(k!==h.normalizeIndentation(E)){const M=p.getLineFirstNonWhitespaceColumn(b.startLineNumber);return M===0?u._typeCommand(new v.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),h.normalizeIndentation(k)+w,!1):u._typeCommand(new v.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),h.normalizeIndentation(k)+p.getLineContent(b.startLineNumber).substring(M-1,b.startColumn-1)+w,!1)}return null}static _isAutoClosingOvertype(h,p,b,w,E){if(h.autoClosingOvertype==="never"||!h.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let k=0,M=b.length;k<M;k++){const R=b[k];if(!R.isEmpty())return!1;const B=R.getPosition(),T=p.getLineContent(B.lineNumber);if(T.charAt(B.column-1)!==E)return!1;const A=(0,m.isQuote)(E);if((B.column>2?T.charCodeAt(B.column-2):0)===92&&A)return!1;if(h.autoClosingOvertype==="auto"){let O=!1;for(let x=0,W=w.length;x<W;x++){const U=w[x];if(B.lineNumber===U.startLineNumber&&B.column===U.startColumn){O=!0;break}}if(!O)return!1}}return!0}static _runAutoClosingOvertype(h,p,b,w,E){const k=[];for(let M=0,R=w.length;M<R;M++){const T=w[M].getPosition(),N=new v.Range(T.lineNumber,T.column,T.lineNumber,T.column+1);k[M]=new y.ReplaceCommand(N,E)}return new m.EditOperationResult(4,k,{shouldPushStackElementBefore:o(h,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(h,p){const b=p.charAt(0),w=h.autoClosingPairs.autoClosingPairsOpenByStart.get(b)||[],E=h.autoClosingPairs.autoClosingPairsCloseByStart.get(b)||[],k=w.some(R=>p.startsWith(R.open)),M=E.some(R=>p.startsWith(R.close));return!k&&M}static _findAutoClosingPairOpen(h,p,b,w){const E=h.autoClosingPairs.autoClosingPairsOpenByEnd.get(w);if(!E)return null;let k=null;for(const M of E)if(k===null||M.open.length>k.open.length){let R=!0;for(const B of b)if(p.getValueInRange(new v.Range(B.lineNumber,B.column-M.open.length+1,B.lineNumber,B.column))+w!==M.open){R=!1;break}R&&(k=M)}return k}static _findContainedAutoClosingPair(h,p){if(p.open.length<=1)return null;const b=p.close.charAt(p.close.length-1),w=h.autoClosingPairs.autoClosingPairsCloseByEnd.get(b)||[];let E=null;for(const k of w)k.open!==p.open&&p.open.includes(k.open)&&p.close.endsWith(k.close)&&(!E||k.open.length>E.open.length)&&(E=k);return E}static _getAutoClosingPairClose(h,p,b,w,E){for(const O of b)if(!O.isEmpty())return null;const k=b.map(O=>{const x=O.getPosition();return E?{lineNumber:x.lineNumber,beforeColumn:x.column-w.length,afterColumn:x.column}:{lineNumber:x.lineNumber,beforeColumn:x.column,afterColumn:x.column}}),M=this._findAutoClosingPairOpen(h,p,k.map(O=>new C.Position(O.lineNumber,O.beforeColumn)),w);if(!M)return null;let R,B;if((0,m.isQuote)(w)?(R=h.autoClosingQuotes,B=h.shouldAutoCloseBefore.quote):(h.blockCommentStartToken?M.open.includes(h.blockCommentStartToken):!1)?(R=h.autoClosingComments,B=h.shouldAutoCloseBefore.comment):(R=h.autoClosingBrackets,B=h.shouldAutoCloseBefore.bracket),R==="never")return null;const N=this._findContainedAutoClosingPair(h,M),A=N?N.close:"";let P=!0;for(const O of k){const{lineNumber:x,beforeColumn:W,afterColumn:U}=O,F=p.getLineContent(x),G=F.substring(0,W-1),Y=F.substring(U-1);if(Y.startsWith(A)||(P=!1),Y.length>0){const q=Y.charAt(0);if(!u._isBeforeClosingBrace(h,Y)&&!B(q))return null}if(M.open.length===1&&(w==="'"||w==='"')&&R!=="always"){const q=(0,_.getMapForWordSeparators)(h.wordSeparators);if(G.length>0){const H=G.charCodeAt(G.length-1);if(q.get(H)===0)return null}}if(!p.tokenization.isCheapToTokenize(x))return null;p.tokenization.forceTokenization(x);const ne=p.tokenization.getLineTokens(x),se=(0,n.createScopedLineTokens)(ne,W-1);if(!M.shouldAutoClose(se,W-se.firstCharOffset))return null;const J=M.findNeutralCharacter();if(J){const q=p.tokenization.getTokenTypeIfInsertingCharacter(x,W,J);if(!M.isOK(q))return null}}return P?M.close.substring(0,M.close.length-A.length):M.close}static _runAutoClosingOpenCharType(h,p,b,w,E,k,M){const R=[];for(let B=0,T=w.length;B<T;B++){const N=w[B];R[B]=new f(N,E,!k,M)}return new m.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(h,p){return(0,m.isQuote)(p)?h.autoSurround==="quotes"||h.autoSurround==="languageDefined":h.autoSurround==="brackets"||h.autoSurround==="languageDefined"}static _isSurroundSelectionType(h,p,b,w){if(!u._shouldSurroundChar(h,w)||!h.surroundingPairs.hasOwnProperty(w))return!1;const E=(0,m.isQuote)(w);for(const k of b){if(k.isEmpty())return!1;let M=!0;for(let R=k.startLineNumber;R<=k.endLineNumber;R++){const B=p.getLineContent(R),T=R===k.startLineNumber?k.startColumn-1:0,N=R===k.endLineNumber?k.endColumn-1:B.length,A=B.substring(T,N);if(/[^ \t]/.test(A)){M=!1;break}}if(M)return!1;if(E&&k.startLineNumber===k.endLineNumber&&k.startColumn+1===k.endColumn){const R=p.getValueInRange(k);if((0,m.isQuote)(R))return!1}}return!0}static _runSurroundSelectionType(h,p,b,w,E){const k=[];for(let M=0,R=w.length;M<R;M++){const B=w[M],T=p.surroundingPairs[E];k[M]=new S.SurroundSelectionCommand(B,E,T)}return new m.EditOperationResult(0,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(h,p,b){return!!(b.length===1&&p.tokenization.isCheapToTokenize(b[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(h,p,b,w,E){if(!p.electricChars.hasOwnProperty(E)||!w.isEmpty())return null;const k=w.getPosition();b.tokenization.forceTokenization(k.lineNumber);const M=b.tokenization.getLineTokens(k.lineNumber);let R;try{R=p.onElectricCharacter(E,M,k.column)}catch(B){return(0,L.onUnexpectedError)(B),null}if(!R)return null;if(R.matchOpenBracket){const B=(M.getLineContent()+E).lastIndexOf(R.matchOpenBracket)+1,T=b.bracketPairs.findMatchingBracketUp(R.matchOpenBracket,{lineNumber:k.lineNumber,column:B},500);if(T){if(T.startLineNumber===k.lineNumber)return null;const N=b.getLineContent(T.startLineNumber),A=I.getLeadingWhitespace(N),P=p.normalizeIndentation(A),O=b.getLineContent(k.lineNumber),x=b.getLineFirstNonWhitespaceColumn(k.lineNumber)||k.column,W=O.substring(x-1,k.column-1),U=P+W+E,F=new v.Range(k.lineNumber,1,k.lineNumber,k.column),G=new y.ReplaceCommand(F,U);return new m.EditOperationResult(l(U,h),[G],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(h,p,b,w,E,k){if(!w)return null;let M=null;for(const N of w)if(M===null)M=N.insertedText;else if(M!==N.insertedText)return null;if(!M||M.length!==1)return null;const R=M;let B=!1;for(const N of w)if(N.deletedText.length!==0){B=!0;break}if(B){if(!u._shouldSurroundChar(p,R)||!p.surroundingPairs.hasOwnProperty(R))return null;const N=(0,m.isQuote)(R);for(const O of w)if(O.deletedSelectionStart!==0||O.deletedSelectionEnd!==O.deletedText.length||/^[ \t]+$/.test(O.deletedText)||N&&(0,m.isQuote)(O.deletedText))return null;const A=[];for(const O of E){if(!O.isEmpty())return null;A.push(O.getPosition())}if(A.length!==w.length)return null;const P=[];for(let O=0,x=A.length;O<x;O++)P.push(new S.CompositionSurroundSelectionCommand(A[O],w[O].deletedText,p.surroundingPairs[R]));return new m.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(p,b,E,k,R)){const N=E.map(A=>new y.ReplaceCommand(new v.Range(A.positionLineNumber,A.positionColumn,A.positionLineNumber,A.positionColumn+1),"",!1));return new m.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const T=this._getAutoClosingPairClose(p,b,E,R,!0);return T!==null?this._runAutoClosingOpenCharType(h,p,b,E,R,!0,T):null}static typeWithInterceptors(h,p,b,w,E,k,M){if(!h&&M===`
`){const T=[];for(let N=0,A=E.length;N<A;N++)T[N]=u._enter(b,w,!1,E[N]);return new m.EditOperationResult(4,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!h&&this._isAutoIndentType(b,w,E)){const T=[];let N=!1;for(let A=0,P=E.length;A<P;A++)if(T[A]=this._runAutoIndentType(b,w,E[A],M),!T[A]){N=!0;break}if(!N)return new m.EditOperationResult(4,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(b,w,E,k,M))return this._runAutoClosingOvertype(p,b,w,E,M);if(!h){const T=this._getAutoClosingPairClose(b,w,E,M,!1);if(T)return this._runAutoClosingOpenCharType(p,b,w,E,M,!1,T)}if(!h&&this._isSurroundSelectionType(b,w,E,M))return this._runSurroundSelectionType(p,b,w,E,M);if(!h&&this._isTypeInterceptorElectricChar(b,w,E)){const T=this._typeInterceptorElectricChar(p,b,w,E[0],M);if(T)return T}const R=[];for(let T=0,N=E.length;T<N;T++)R[T]=new y.ReplaceCommand(E[T],M);const B=l(M,p);return new m.EditOperationResult(B,R,{shouldPushStackElementBefore:o(p,B),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(h,p,b,w,E){const k=[];for(let R=0,B=w.length;R<B;R++)k[R]=new y.ReplaceCommand(w[R],E);const M=l(E,h);return new m.EditOperationResult(M,k,{shouldPushStackElementBefore:o(h,M),shouldPushStackElementAfter:!1})}static lineInsertBefore(h,p,b){if(p===null||b===null)return[];const w=[];for(let E=0,k=b.length;E<k;E++){let M=b[E].positionLineNumber;if(M===1)w[E]=new y.ReplaceCommandWithoutChangingPosition(new v.Range(1,1,1,1),`
`);else{M--;const R=p.getLineMaxColumn(M);w[E]=this._enter(h,p,!1,new v.Range(M,R,M,R))}}return w}static lineInsertAfter(h,p,b){if(p===null||b===null)return[];const w=[];for(let E=0,k=b.length;E<k;E++){const M=b[E].positionLineNumber,R=p.getLineMaxColumn(M);w[E]=this._enter(h,p,!1,new v.Range(M,R,M,R))}return w}static lineBreakInsert(h,p,b){const w=[];for(let E=0,k=b.length;E<k;E++)w[E]=this._enter(h,p,!0,b[E]);return w}}e.TypeOperations=u;class f extends y.ReplaceCommandWithOffsetCursorState{constructor(h,p,b,w){super(h,(b?p:"")+w,0,-w.length),this._openCharacter=p,this._closeCharacter=w,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(h,p){const w=p.getInverseEditOperations()[0].range;return this.closeCharacterRange=new v.Range(w.startLineNumber,w.endColumn-this._closeCharacter.length,w.endLineNumber,w.endColumn),this.enclosingRange=new v.Range(w.startLineNumber,w.endColumn-this._openCharacter.length-this._closeCharacter.length,w.endLineNumber,w.endColumn),super.computeCursorState(h,p)}}e.TypeWithAutoClosingCommand=f;class d{constructor(h,p,b,w,E,k){this.deletedText=h,this.deletedSelectionStart=p,this.deletedSelectionEnd=b,this.insertedText=w,this.insertedSelectionStart=E,this.insertedSelectionEnd=k}}e.CompositionOutcome=d;function l(g,h){return g===" "?h===5||h===6?6:5:4}function o(g,h){return a(g)&&!a(h)?!0:g===5?!1:c(g)!==c(h)}function c(g){return g===6||g===5?"space":g}function a(g){return g===4||g===5||g===6}}),define(te[775],ie([1,0,9,10,501,72,490,205,245,5,24,110,212,2,213]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class r extends n.Disposable{constructor(a,g,h,p){super(),this._model=a,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=g,this._coordinatesConverter=h,this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,p),this._cursors=new y.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,n.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(a){this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,a),this._cursors.updateContext(this.context)}onLineMappingChanged(a){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(a,"viewModel",0,this.getCursorStates())}setHasFocus(a){this._hasFocus=a}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const a=this._cursors.getSelections();for(let g=0;g<this._autoClosedActions.length;g++){const h=this._autoClosedActions[g];h.isValid(a)||(h.dispose(),this._autoClosedActions.splice(g,1),g--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(a,g,h,p){let b=!1;const w=this.context.cursorConfig.multiCursorLimit;p!==null&&p.length>w&&(p=p.slice(0,w),b=!0);const E=u.from(this._model,this);return this._cursors.setStates(p),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(a,g,h,E,b)}setCursorColumnSelectData(a){this._columnSelectData=a}revealPrimary(a,g,h,p,b,w){const E=this._cursors.getViewPositions();let k=null,M=null;E.length>1?M=this._cursors.getViewSelections():k=v.Range.fromPositions(E[0],E[0]),a.emitViewEvent(new i.ViewRevealRangeRequestEvent(g,h,k,M,p,b,w))}saveState(){const a=[],g=this._cursors.getSelections();for(let h=0,p=g.length;h<p;h++){const b=g[h];a.push({inSelectionMode:!b.isEmpty(),selectionStart:{lineNumber:b.selectionStartLineNumber,column:b.selectionStartColumn},position:{lineNumber:b.positionLineNumber,column:b.positionColumn}})}return a}restoreState(a,g){const h=[];for(let p=0,b=g.length;p<b;p++){const w=g[p];let E=1,k=1;w.position&&w.position.lineNumber&&(E=w.position.lineNumber),w.position&&w.position.column&&(k=w.position.column);let M=E,R=k;w.selectionStart&&w.selectionStart.lineNumber&&(M=w.selectionStart.lineNumber),w.selectionStart&&w.selectionStart.column&&(R=w.selectionStart.column),h.push({selectionStartLineNumber:M,selectionStartColumn:R,positionLineNumber:E,positionColumn:k})}this.setStates(a,"restoreState",0,D.CursorState.fromModelSelections(h)),this.revealPrimary(a,"restoreState",!1,0,!0,1)}onModelContentChanged(a,g){if(g instanceof s.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(a,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const h=g.rawContentChangedEvent;if(this._knownModelVersionId=h.versionId,this._isHandling)return;const p=h.containsEvent(1);if(this._prevEditOperationType=0,p)this._cursors.dispose(),this._cursors=new y.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(a,"model",1,null,!1);else if(this._hasFocus&&h.resultingSelection&&h.resultingSelection.length>0){const b=D.CursorState.fromModelSelections(h.resultingSelection);this.setStates(a,"modelChange",h.isUndoing?5:h.isRedoing?6:2,b)&&this.revealPrimary(a,"modelChange",!1,0,!0,0)}else{const b=this._cursors.readSelectionFromMarkers();this.setStates(a,"modelChange",2,D.CursorState.fromModelSelections(b))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const a=this._cursors.getPrimaryCursor(),g=a.viewState.selectionStart.getStartPosition(),h=a.viewState.position;return{isReal:!1,fromViewLineNumber:g.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g),toViewLineNumber:h.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,h)}}getSelections(){return this._cursors.getSelections()}setSelections(a,g,h,p){this.setStates(a,g,p,D.CursorState.fromModelSelections(h))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(a){this._prevEditOperationType=a}_pushAutoClosedAction(a,g){const h=[],p=[];for(let E=0,k=a.length;E<k;E++)h.push({range:a[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),p.push({range:g[E],options:{description:"auto-closed-enclosing",stickiness:1}});const b=this._model.deltaDecorations([],h),w=this._model.deltaDecorations([],p);this._autoClosedActions.push(new f(this._model,b,w))}_executeEditOperation(a){if(!a)return;a.shouldPushStackElementBefore&&this._model.pushStackElement();const g=d.executeCommands(this._model,this._cursors.getSelections(),a.commands);if(g){this._interpretCommandResult(g);const h=[],p=[];for(let b=0;b<a.commands.length;b++){const w=a.commands[b];w instanceof _.TypeWithAutoClosingCommand&&w.enclosingRange&&w.closeCharacterRange&&(h.push(w.closeCharacterRange),p.push(w.enclosingRange))}h.length>0&&this._pushAutoClosedAction(h,p),this._prevEditOperationType=a.type}a.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(a){(!a||a.length===0)&&(a=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(a),this._cursors.normalize()}_emitStateChangedIfNecessary(a,g,h,p,b){const w=u.from(this._model,this);if(w.equals(p))return!1;const E=this._cursors.getSelections(),k=this._cursors.getViewSelections();if(a.emitViewEvent(new i.ViewCursorStateChangedEvent(k,E,h)),!p||p.cursorState.length!==w.cursorState.length||w.cursorState.some((M,R)=>!M.modelState.equals(p.cursorState[R].modelState))){const M=p?p.cursorState.map(B=>B.modelState.selection):null,R=p?p.modelVersionId:0;a.emitOutgoingEvent(new t.CursorStateChangedEvent(M,E,R,w.modelVersionId,g||"keyboard",h,b))}return!0}_findAutoClosingPairs(a){if(!a.length)return null;const g=[];for(let h=0,p=a.length;h<p;h++){const b=a[h];if(!b.text||b.text.indexOf(`
`)>=0)return null;const w=b.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!w)return null;const E=w[1],k=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!k||k.length!==1)return null;const M=k[0].open,R=b.text.length-w[2].length-1,B=b.text.lastIndexOf(M,R-1);if(B===-1)return null;g.push([B,R])}return g}executeEdits(a,g,h,p){let b=null;g==="snippet"&&(b=this._findAutoClosingPairs(h)),b&&(h[0]._isTracked=!0);const w=[],E=[],k=this._model.pushEditOperations(this.getSelections(),h,M=>{if(b)for(let B=0,T=b.length;B<T;B++){const[N,A]=b[B],P=M[B],O=P.range.startLineNumber,x=P.range.startColumn-1+N,W=P.range.startColumn-1+A;w.push(new v.Range(O,W+1,O,W+2)),E.push(new v.Range(O,x+1,O,W+2))}const R=p(M);return R&&(this._isHandling=!0),R});k&&(this._isHandling=!1,this.setSelections(a,g,k,0)),w.length>0&&this._pushAutoClosedAction(w,E)}_executeEdit(a,g,h,p=0){if(this.context.cursorConfig.readOnly)return;const b=u.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),a()}catch(w){(0,L.onUnexpectedError)(w)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,h,p,b,!1)&&this.revealPrimary(g,h,!1,0,!0,0)}getAutoClosedCharacters(){return f.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(a){this._compositionState=new o(this._model,this.getSelections())}endComposition(a,g){const h=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{g==="keyboard"&&this._executeEditOperation(_.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,h,this.getSelections(),this.getAutoClosedCharacters()))},a,g)}type(a,g,h){this._executeEdit(()=>{if(h==="keyboard"){const p=g.length;let b=0;for(;b<p;){const w=I.nextCharLength(g,b),E=g.substr(b,w);this._executeEditOperation(_.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),b+=w}}else this._executeEditOperation(_.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g))},a,h)}compositionType(a,g,h,p,b,w){if(g.length===0&&h===0&&p===0){if(b!==0){const E=this.getSelections().map(k=>{const M=k.getPosition();return new C.Selection(M.lineNumber,M.column+b,M.lineNumber,M.column+b)});this.setSelections(a,w,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g,h,p,b))},a,w)}paste(a,g,h,p,b){this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),g,h,p||[]))},a,b,4)}cut(a,g){this._executeEdit(()=>{this._executeEditOperation(m.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},a,g)}executeCommand(a,g,h){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},a,h)}executeCommands(a,g,h){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,g,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},a,h)}}e.CursorsController=r;class u{static from(a,g){return new u(a.getVersionId(),g.getCursorStates())}constructor(a,g){this.modelVersionId=a,this.cursorState=g}equals(a){if(!a||this.modelVersionId!==a.modelVersionId||this.cursorState.length!==a.cursorState.length)return!1;for(let g=0,h=this.cursorState.length;g<h;g++)if(!this.cursorState[g].equals(a.cursorState[g]))return!1;return!0}}class f{static getAllAutoClosedCharacters(a){let g=[];for(const h of a)g=g.concat(h.getAutoClosedCharactersRanges());return g}constructor(a,g,h){this._model=a,this._autoClosedCharactersDecorations=g,this._autoClosedEnclosingDecorations=h}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const a=[];for(let g=0;g<this._autoClosedCharactersDecorations.length;g++){const h=this._model.getDecorationRange(this._autoClosedCharactersDecorations[g]);h&&a.push(h)}return a}isValid(a){const g=[];for(let h=0;h<this._autoClosedEnclosingDecorations.length;h++){const p=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[h]);if(p&&(g.push(p),p.startLineNumber!==p.endLineNumber))return!1}g.sort(v.Range.compareRangesUsingStarts),a.sort(v.Range.compareRangesUsingStarts);for(let h=0;h<a.length;h++)if(h>=g.length||!g[h].strictContainsRange(a[h]))return!1;return!0}}class d{static executeCommands(a,g,h){const p={model:a,selectionsBefore:g,trackedRanges:[],trackedRangesDirection:[]},b=this._innerExecuteCommands(p,h);for(let w=0,E=p.trackedRanges.length;w<E;w++)p.model._setTrackedRange(p.trackedRanges[w],null,0);return b}static _innerExecuteCommands(a,g){if(this._arrayIsEmpty(g))return null;const h=this._getEditOperations(a,g);if(h.operations.length===0)return null;const p=h.operations,b=this._getLoserCursorMap(p);if(b.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const w=[];for(let M=0,R=p.length;M<R;M++)b.hasOwnProperty(p[M].identifier.major.toString())||w.push(p[M]);h.hadTrackedEditOperation&&w.length>0&&(w[0]._isTracked=!0);let E=a.model.pushEditOperations(a.selectionsBefore,w,M=>{const R=[];for(let N=0;N<a.selectionsBefore.length;N++)R[N]=[];for(const N of M)N.identifier&&R[N.identifier.major].push(N);const B=(N,A)=>N.identifier.minor-A.identifier.minor,T=[];for(let N=0;N<a.selectionsBefore.length;N++)R[N].length>0?(R[N].sort(B),T[N]=g[N].computeCursorState(a.model,{getInverseEditOperations:()=>R[N],getTrackedSelection:A=>{const P=parseInt(A,10),O=a.model._getTrackedRange(a.trackedRanges[P]);return a.trackedRangesDirection[P]===0?new C.Selection(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new C.Selection(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):T[N]=a.selectionsBefore[N];return T});E||(E=a.selectionsBefore);const k=[];for(const M in b)b.hasOwnProperty(M)&&k.push(parseInt(M,10));k.sort((M,R)=>R-M);for(const M of k)E.splice(M,1);return E}static _arrayIsEmpty(a){for(let g=0,h=a.length;g<h;g++)if(a[g])return!1;return!0}static _getEditOperations(a,g){let h=[],p=!1;for(let b=0,w=g.length;b<w;b++){const E=g[b];if(E){const k=this._getEditOperationsFromCommand(a,b,E);h=h.concat(k.operations),p=p||k.hadTrackedEditOperation}}return{operations:h,hadTrackedEditOperation:p}}static _getEditOperationsFromCommand(a,g,h){const p=[];let b=0;const w=(B,T,N=!1)=>{v.Range.isEmpty(B)&&T===""||p.push({identifier:{major:g,minor:b++},range:B,text:T,forceMoveMarkers:N,isAutoWhitespaceEdit:h.insertsAutoWhitespace})};let E=!1;const R={addEditOperation:w,addTrackedEditOperation:(B,T,N)=>{E=!0,w(B,T,N)},trackSelection:(B,T)=>{const N=C.Selection.liftSelection(B);let A;if(N.isEmpty())if(typeof T=="boolean")T?A=2:A=3;else{const x=a.model.getLineMaxColumn(N.startLineNumber);N.startColumn===x?A=2:A=3}else A=1;const P=a.trackedRanges.length,O=a.model._setTrackedRange(null,N,A);return a.trackedRanges[P]=O,a.trackedRangesDirection[P]=N.getDirection(),P.toString()}};try{h.getEditOperations(a.model,R)}catch(B){return(0,L.onUnexpectedError)(B),{operations:[],hadTrackedEditOperation:!1}}return{operations:p,hadTrackedEditOperation:E}}static _getLoserCursorMap(a){a=a.slice(0),a.sort((h,p)=>-v.Range.compareRangesUsingEnds(h.range,p.range));const g={};for(let h=1;h<a.length;h++){const p=a[h-1],b=a[h];if(v.Range.getStartPosition(p.range).isBefore(v.Range.getEndPosition(b.range))){let w;p.identifier.major>b.identifier.major?w=p.identifier.major:w=b.identifier.major,g[w.toString()]=!0;for(let E=0;E<a.length;E++)a[E].identifier.major===w&&(a.splice(E,1),E<h&&h--,E--);h>0&&h--}}return g}}class l{constructor(a,g,h){this.text=a,this.startSelection=g,this.endSelection=h}}class o{static _capture(a,g){const h=[];for(const p of g){if(p.startLineNumber!==p.endLineNumber)return null;h.push(new l(a.getLineContent(p.startLineNumber),p.startColumn-1,p.endColumn-1))}return h}constructor(a,g){this._original=o._capture(a,g)}deduceOutcome(a,g){if(!this._original)return null;const h=o._capture(a,g);if(!h||this._original.length!==h.length)return null;const p=[];for(let b=0,w=this._original.length;b<w;b++)p.push(o._deduceOutcome(this._original[b],h[b]));return p}static _deduceOutcome(a,g){const h=Math.min(a.startSelection,g.startSelection,I.commonPrefixLength(a.text,g.text)),p=Math.min(a.text.length-a.endSelection,g.text.length-g.endSelection,I.commonSuffixLength(a.text,g.text)),b=a.text.substring(h,a.text.length-p),w=g.text.substring(h,g.text.length-p);return new _.CompositionOutcome(b,a.startSelection-h,a.endSelection-h,w,g.startSelection-h,g.endSelection-h)}}}),define(te[776],ie([1,0,54,46,75,334]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=void 0;const S=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function m(C,s,i,n){const t=n===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:n===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(i){let r;if(i.scheme===L.Schemas.data)r=I.DataUri.parseMetaData(i).get(I.DataUri.META_DATA_LABEL);else{const u=i.path.match(S);u?(r=v(u[2].toLowerCase()),u[1]&&t.push(`${v(u[1].toLowerCase())}-name-dir-icon`)):r=v(i.authority.toLowerCase())}if(n===D.FileKind.FOLDER)t.push(`${r}-name-folder-icon`);else{if(r){if(t.push(`${r}-name-file-icon`),t.push("name-file-icon"),r.length<=255){const f=r.split(".");for(let d=1;d<f.length;d++)t.push(`${f.slice(d).join(".")}-ext-file-icon`)}t.push("ext-file-icon")}const u=_(C,s,i);u&&t.push(`${v(u)}-lang-file-icon`)}}return t}e.getIconClasses=m;function _(C,s,i){if(!i)return null;let n=null;if(i.scheme===L.Schemas.data){const r=I.DataUri.parseMetaData(i).get(I.DataUri.META_DATA_MIME);r&&(n=s.getLanguageIdByMimeType(r))}else{const t=C.getModel(i);t&&(n=t.getLanguageId())}return n&&n!==y.PLAINTEXT_LANGUAGE_ID?n:s.guessLanguageIdByFilepathOrFirstLine(i)}function v(C){return C.replace(/[\11\12\14\15\40]/g,"/")}}),define(te[777],ie([1,0,308,107,54,92,46,10,75]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let v=[],C=[],s=[];function i(o,c=!1){n(o,!1,c)}e.registerPlatformLanguageAssociation=i;function n(o,c,a){const g=t(o,c);v.push(g),g.userConfigured?s.push(g):C.push(g),a&&!g.userConfigured&&v.forEach(h=>{h.mime===g.mime||h.userConfigured||(g.extension&&h.extension===g.extension&&console.warn(`Overwriting extension <<${g.extension}>> to now point to mime <<${g.mime}>>`),g.filename&&h.filename===g.filename&&console.warn(`Overwriting filename <<${g.filename}>> to now point to mime <<${g.mime}>>`),g.filepattern&&h.filepattern===g.filepattern&&console.warn(`Overwriting filepattern <<${g.filepattern}>> to now point to mime <<${g.mime}>>`),g.firstline&&h.firstline===g.firstline&&console.warn(`Overwriting firstline <<${g.firstline}>> to now point to mime <<${g.mime}>>`))})}function t(o,c){return{id:o.id,mime:o.mime,filename:o.filename,extension:o.extension,filepattern:o.filepattern,firstline:o.firstline,userConfigured:c,filenameLowercase:o.filename?o.filename.toLowerCase():void 0,extensionLowercase:o.extension?o.extension.toLowerCase():void 0,filepatternLowercase:o.filepattern?(0,L.parse)(o.filepattern.toLowerCase()):void 0,filepatternOnPath:o.filepattern?o.filepattern.indexOf(D.posix.sep)>=0:!1}}function r(){v=v.filter(o=>o.userConfigured),C=[]}e.clearPlatformLanguageAssociations=r;function u(o,c){return f(o,c).map(a=>a.id)}e.getLanguageIds=u;function f(o,c){let a;if(o)switch(o.scheme){case y.Schemas.file:a=o.fsPath;break;case y.Schemas.data:{a=S.DataUri.parseMetaData(o).get(S.DataUri.META_DATA_LABEL);break}case y.Schemas.vscodeNotebookCell:a=void 0;break;default:a=o.path}if(!a)return[{id:"unknown",mime:I.Mimes.unknown}];a=a.toLowerCase();const g=(0,D.basename)(a),h=d(a,g,s);if(h)return[h,{id:_.PLAINTEXT_LANGUAGE_ID,mime:I.Mimes.text}];const p=d(a,g,C);if(p)return[p,{id:_.PLAINTEXT_LANGUAGE_ID,mime:I.Mimes.text}];if(c){const b=l(c);if(b)return[b,{id:_.PLAINTEXT_LANGUAGE_ID,mime:I.Mimes.text}]}return[{id:"unknown",mime:I.Mimes.unknown}]}function d(o,c,a){var g;let h,p,b;for(let w=a.length-1;w>=0;w--){const E=a[w];if(c===E.filenameLowercase){h=E;break}if(E.filepattern&&(!p||E.filepattern.length>p.filepattern.length)){const k=E.filepatternOnPath?o:c;!((g=E.filepatternLowercase)===null||g===void 0)&&g.call(E,k)&&(p=E)}E.extension&&(!b||E.extension.length>b.extension.length)&&c.endsWith(E.extensionLowercase)&&(b=E)}if(h)return h;if(p)return p;if(b)return b}function l(o){if((0,m.startsWithUTF8BOM)(o)&&(o=o.substr(1)),o.length>0)for(let c=v.length-1;c>=0;c--){const a=v[c];if(!a.firstline)continue;const g=o.match(a.firstline);if(g&&g.length>0)return a}}}),define(te[778],ie([1,0,6,2,10,777,75,95,35]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const v=Object.prototype.hasOwnProperty,C="vs.editor.nullLanguage";class s{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(C,0),this._register(S.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(t,r){this._languageIdToLanguage[r]=t,this._languageToLanguageId.set(t,r)}register(t){if(this._languageToLanguageId.has(t))return;const r=this._nextLanguageId++;this._register(t,r)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||C}}e.LanguageIdCodec=s;class i extends I.Disposable{constructor(t=!0,r=!1){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,i.instanceCount++,this._warnOnOverwrite=r,this.languageIdCodec=new s,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(S.ModesRegistry.onDidChangeLanguages(u=>{this._initializeFromRegistry()})))}dispose(){i.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,D.clearPlatformLanguageAssociations)();const t=[].concat(S.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const r of t)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{const u=this._languages[r];u.name&&(this._nameMap[u.name]=u.identifier),u.aliases.forEach(f=>{this._lowercaseNameMap[f.toLowerCase()]=u.identifier}),u.mimetypes.forEach(f=>{this._mimeTypesMap[f]=u.identifier})}),_.Registry.as(m.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const r=t.id;let u;v.call(this._languages,r)?u=this._languages[r]:(this.languageIdCodec.register(r),u={identifier:r,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[r]=u),this._mergeLanguage(u,t)}_mergeLanguage(t,r){const u=r.id;let f=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(t.mimetypes.push(...r.mimetypes),f=r.mimetypes[0]),f||(f=`text/x-${u}`,t.mimetypes.push(f)),Array.isArray(r.extensions)){r.configuration?t.extensions=r.extensions.concat(t.extensions):t.extensions=t.extensions.concat(r.extensions);for(const o of r.extensions)(0,D.registerPlatformLanguageAssociation)({id:u,mime:f,extension:o},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(const o of r.filenames)(0,D.registerPlatformLanguageAssociation)({id:u,mime:f,filename:o},this._warnOnOverwrite),t.filenames.push(o);if(Array.isArray(r.filenamePatterns))for(const o of r.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:u,mime:f,filepattern:o},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let o=r.firstLine;o.charAt(0)!=="^"&&(o="^"+o);try{const c=new RegExp(o);(0,y.regExpLeadsToEndlessLoop)(c)||(0,D.registerPlatformLanguageAssociation)({id:u,mime:f,firstline:c},this._warnOnOverwrite)}catch(c){console.warn(`[${r.id}]: Invalid regular expression \`${o}\`: `,c)}}t.aliases.push(u);let d=null;if(typeof r.aliases<"u"&&Array.isArray(r.aliases)&&(r.aliases.length===0?d=[null]:d=r.aliases),d!==null)for(const o of d)!o||o.length===0||t.aliases.push(o);const l=d!==null&&d.length>0;if(!(l&&d[0]===null)){const o=(l?d[0]:null)||u;(l||!t.name)&&(t.name=o)}r.configuration&&t.configurationFiles.push(r.configuration),r.icon&&t.icons.push(r.icon)}isRegisteredLanguageId(t){return t?v.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const r=t.toLowerCase();return v.call(this._lowercaseNameMap,r)?this._lowercaseNameMap[r]:null}getLanguageIdByMimeType(t){return t&&v.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,r){return!t&&!r?[]:(0,D.getLanguageIds)(t,r)}}e.LanguagesRegistry=i,i.instanceCount=0}),define(te[779],ie([1,0,6,2,778,13,29,75]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class _ extends I.Disposable{constructor(s=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new L.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new L.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new L.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,_.instanceCount++,this._registry=this._register(new y.LanguagesRegistry(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){_.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,i){const n=this._registry.guessLanguageIdByFilepathOrFirstLine(s,i);return(0,D.firstOrDefault)(n,null)}createById(s){return new v(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,i){return new v(this.onDidChange,()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(s,i);return this._createAndGetLanguageIdentifier(n)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=m.PLAINTEXT_LANGUAGE_ID),s}requestBasicLanguageFeatures(s){this._requestedBasicLanguages.has(s)||(this._requestedBasicLanguages.add(s),this._onDidRequestBasicLanguageFeatures.fire(s))}requestRichLanguageFeatures(s){this._requestedRichLanguages.has(s)||(this._requestedRichLanguages.add(s),this.requestBasicLanguageFeatures(s),S.TokenizationRegistry.getOrCreate(s),this._onDidRequestRichLanguageFeatures.fire(s))}}e.LanguageService=_,_.instanceCount=0;class v{constructor(s,i){this._onDidChangeLanguages=s,this._selector=i,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new L.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var s;const i=this._selector();i!==this.languageId&&(this.languageId=i,(s=this._emitter)===null||s===void 0||s.fire(this.languageId))}}}),define(te[346],ie([1,0,36,241,50,32,2,18,147]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class v{constructor(i,n){this._editorWorkerClient=new I.EditorWorkerClient(i,!1,"editorWorkerService",n)}provideDocumentColors(i,n){return be(this,void 0,void 0,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(i.uri)})}provideColorPresentations(i,n,t){const r=n.range,u=n.color,f=u.alpha,d=new L.Color(new L.RGBA(Math.round(255*u.red),Math.round(255*u.green),Math.round(255*u.blue),f)),l=f?L.Color.Format.CSS.formatRGB(d):L.Color.Format.CSS.formatRGBA(d),o=f?L.Color.Format.CSS.formatHSL(d):L.Color.Format.CSS.formatHSLA(d),c=f?L.Color.Format.CSS.formatHex(d):L.Color.Format.CSS.formatHexA(d),a=[];return a.push({label:l,textEdit:{range:r,text:l}}),a.push({label:o,textEdit:{range:r,text:o}}),a.push({label:c,textEdit:{range:r,text:c}}),a}}e.DefaultDocumentColorProvider=v;let C=class extends S.Disposable{constructor(i,n,t){super(),this._register(t.colorProvider.register("*",new v(i,n)))}};C=Ie([ge(0,y.IModelService),ge(1,D.ILanguageConfigurationService),ge(2,m.ILanguageFeaturesService)],C),(0,_.registerEditorFeature)(C)}),define(te[347],ie([1,0,19,9,21,5,50,25,18,346,28]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function s(d,l,o,c=!0){return be(this,void 0,void 0,function*(){return u(new n,d,l,o,c)})}e.getColors=s;function i(d,l,o,c){return Promise.resolve(o.provideColorPresentations(d,l,c))}e.getColorPresentations=i;class n{constructor(){}compute(l,o,c,a){return be(this,void 0,void 0,function*(){const g=yield l.provideDocumentColors(o,c);if(Array.isArray(g))for(const h of g)a.push({colorInfo:h,provider:l});return Array.isArray(g)})}}class t{constructor(){}compute(l,o,c,a){return be(this,void 0,void 0,function*(){const g=yield l.provideDocumentColors(o,c);if(Array.isArray(g))for(const h of g)a.push({range:h.range,color:[h.color.red,h.color.green,h.color.blue,h.color.alpha]});return Array.isArray(g)})}}class r{constructor(l){this.colorInfo=l}compute(l,o,c,a){return be(this,void 0,void 0,function*(){const g=yield l.provideColorPresentations(o,this.colorInfo,L.CancellationToken.None);return Array.isArray(g)&&a.push(...g),Array.isArray(g)})}}function u(d,l,o,c,a){return be(this,void 0,void 0,function*(){let g=!1,h;const p=[],b=l.ordered(o);for(let w=b.length-1;w>=0;w--){const E=b[w];if(E instanceof v.DefaultDocumentColorProvider)h=E;else try{(yield d.compute(E,o,c,p))&&(g=!0)}catch(k){(0,I.onUnexpectedExternalError)(k)}}return g?p:h&&a?(yield d.compute(h,o,c,p),p):[]})}function f(d,l){const{colorProvider:o}=d.get(_.ILanguageFeaturesService),c=d.get(S.IModelService).getModel(l);if(!c)throw(0,I.illegalArgument)();const a=d.get(C.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:l});return{model:c,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:a}}m.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(d,...l){const[o]=l;if(!(o instanceof y.URI))throw(0,I.illegalArgument)();const{model:c,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:g}=f(d,o);return u(new t,a,c,L.CancellationToken.None,g)}),m.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(d,...l){const[o,c]=l,{uri:a,range:g}=c;if(!(a instanceof y.URI)||!Array.isArray(o)||o.length!==4||!D.Range.isIRange(g))throw(0,I.illegalArgument)();const{model:h,colorProviderRegistry:p,isDefaultColorDecoratorsEnabled:b}=f(d,a),[w,E,k,M]=o;return u(new r({range:g,color:{red:w,green:E,blue:k,alpha:M}}),p,h,L.CancellationToken.None,b)})}),define(te[780],ie([1,0,19,69,2,40,12,29,32,18,604,300]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let i=class extends y.Disposable{constructor(c,a,g,h,p){super(),this.textModel=c,this.versionId=a,this._debounceValue=g,this.languageFeaturesService=h,this.languageConfigurationService=p,this._updateOperation=this._register(new y.MutableDisposable),this.inlineCompletions=(0,D.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,D.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(c,a,g){var h,p;const b=new t(c,a,this.textModel.getVersionId()),w=a.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((h=this._updateOperation.value)===null||h===void 0)&&h.request.satisfies(b))return this._updateOperation.value.promise;if(!((p=w.get())===null||p===void 0)&&p.request.satisfies(b))return Promise.resolve(!0);const E=!!this._updateOperation.value;this._updateOperation.clear();const k=new L.CancellationTokenSource,M=(()=>be(this,void 0,void 0,function*(){if((E||a.triggerKind===m.InlineCompletionTriggerKind.Automatic)&&(yield n(this._debounceValue.get(this.textModel))),k.token.isCancellationRequested||this.textModel.getVersionId()!==b.versionId)return!1;const T=new Date,N=yield(0,C.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,c,this.textModel,a,k.token,this.languageConfigurationService);if(k.token.isCancellationRequested||this.textModel.getVersionId()!==b.versionId)return!1;const A=new Date;this._debounceValue.update(this.textModel,A.getTime()-T.getTime());const P=new f(N,b,this.textModel,this.versionId);if(g){const O=g.toInlineCompletion(void 0);g.canBeReused(this.textModel,c)&&!N.has(O)&&P.prepend(g.inlineCompletion,O.range,!0)}return this._updateOperation.clear(),(0,D.transaction)(O=>{w.set(P,O)}),!0}))(),R=new u(b,k,M);return this._updateOperation.value=R,M}clear(c){this._updateOperation.clear(),this.inlineCompletions.set(void 0,c),this.suggestWidgetInlineCompletions.set(void 0,c)}clearSuggestWidgetInlineCompletions(c){var a;!((a=this._updateOperation.value)===null||a===void 0)&&a.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,c)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=i,e.InlineCompletionsSource=i=Ie([ge(3,v.ILanguageFeaturesService),ge(4,_.ILanguageConfigurationService)],i);function n(o,c){return new Promise(a=>{let g;const h=setTimeout(()=>{g&&g.dispose(),a()},o);c&&(g=c.onCancellationRequested(()=>{clearTimeout(h),g&&g.dispose(),a()}))})}class t{constructor(c,a,g){this.position=c,this.context=a,this.versionId=g}satisfies(c){return this.position.equals(c.position)&&r(this.context.selectedSuggestionInfo,c.context.selectedSuggestionInfo,(a,g)=>a.equals(g))&&(c.context.triggerKind===m.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===m.InlineCompletionTriggerKind.Explicit)&&this.versionId===c.versionId}}function r(o,c,a){return!o||!c?o===c:a(o,c)}class u{constructor(c,a,g){this.request=c,this.cancellationTokenSource=a,this.promise=g}dispose(){this.cancellationTokenSource.cancel()}}class f{get inlineCompletions(){return this._inlineCompletions}constructor(c,a,g,h){this.inlineCompletionProviderResult=c,this.request=a,this.textModel=g,this.versionId=h,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,D.derived)(this,b=>{this.versionId.read(b);let w=!1;for(const E of this._inlineCompletions)w=w||E._updateRange(this.textModel);return w&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const p=g.deltaDecorations([],c.completions.map(b=>({range:b.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=c.completions.map((b,w)=>new d(b,p[w],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(c=>c.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const c of this._prependedInlineCompletionItems)c.source.removeRef()}}prepend(c,a,g){g&&c.source.addRef();const h=this.textModel.deltaDecorations([],[{range:a,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new d(c,h,this._rangeVersionId,a)),this._prependedInlineCompletionItems.push(c)}}e.UpToDateInlineCompletions=f;class d{get forwardStable(){var c;return(c=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&c!==void 0?c:!1}constructor(c,a,g,h){this.inlineCompletion=c,this.decorationId=a,this.rangeVersion=g,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=h??c.range}toInlineCompletion(c){return this.inlineCompletion.withRange(this._getUpdatedRange(c))}toSingleTextEdit(c){return new s.SingleTextEdit(this._getUpdatedRange(c),this.inlineCompletion.insertText)}isVisible(c,a,g){const h=this._toFilterTextReplacement(g).removeCommonPrefix(c);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(g).getStartPosition())||a.lineNumber!==h.range.startLineNumber)return!1;const p=c.getValueInRange(h.range,1).toLowerCase(),b=h.text.toLowerCase(),w=Math.max(0,a.column-h.range.startColumn);let E=b.substring(0,w),k=b.substring(w),M=p.substring(0,w),R=p.substring(w);const B=c.getLineIndentColumn(h.range.startLineNumber);return h.range.startColumn<=B&&(M=M.trimStart(),M.length===0&&(R=R.trimStart()),E=E.trimStart(),E.length===0&&(k=k.trimStart())),E.startsWith(M)&&!!(0,I.matchesSubString)(R,k)}canBeReused(c,a){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(a)&&this.isVisible(c,a,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(c){return new s.SingleTextEdit(this._getUpdatedRange(c),this.inlineCompletion.filterText)}_isSmallerThanOriginal(c){return l(this._getUpdatedRange(c)).isBefore(l(this.inlineCompletion.range))}_getUpdatedRange(c){return this.rangeVersion.read(c),this._updatedRange}_updateRange(c){const a=c.getDecorationRange(this.decorationId);return a?this._updatedRange.equalsRange(a)?!1:(this._updatedRange=a,!0):(this._isValid=!1,!0)}}e.InlineCompletionWithUpdatedRange=d;function l(o){return o.startLineNumber===o.endLineNumber?new S.Position(1,1+o.endColumn-o.startColumn):new S.Position(1+o.endLineNumber-o.startLineNumber,o.endColumn)}}),define(te[781],ie([1,0,10,244,5,24,109,32,299,242,243]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let s=class{constructor(n,t,r,u){this._languageConfigurationService=u,this._selection=n,this._isMovingDown=t,this._autoIndent=r,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(n,t){const r=n.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===r){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let u=this._selection;u.startLineNumber<u.endLineNumber&&u.endColumn===1&&(this._moveEndPositionDown=!0,u=u.setEndPosition(u.endLineNumber-1,n.getLineMaxColumn(u.endLineNumber-1)));const{tabSize:f,indentSize:d,insertSpaces:l}=n.getOptions(),o=this.buildIndentConverter(f,d,l),c={tokenization:{getLineTokens:a=>n.tokenization.getLineTokens(a),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(a,g)=>n.getLanguageIdAtPosition(a,g)},getLineContent:null};if(u.startLineNumber===u.endLineNumber&&n.getLineMaxColumn(u.startLineNumber)===1){const a=u.startLineNumber,g=this._isMovingDown?a+1:a-1;n.getLineMaxColumn(g)===1?t.addEditOperation(new y.Range(1,1,1,1),null):(t.addEditOperation(new y.Range(a,1,a,1),n.getLineContent(g)),t.addEditOperation(new y.Range(g,1,g,n.getLineMaxColumn(g)),null)),u=new D.Selection(g,1,g,1)}else{let a,g;if(this._isMovingDown){a=u.endLineNumber+1,g=n.getLineContent(a),t.addEditOperation(new y.Range(a-1,n.getLineMaxColumn(a-1),a,n.getLineMaxColumn(a)),null);let h=g;if(this.shouldAutoIndent(n,u)){const p=this.matchEnterRule(n,o,f,a,u.startLineNumber-1);if(p!==null){const w=L.getLeadingWhitespace(n.getLineContent(a)),E=p+_.getSpaceCnt(w,f);h=_.generateIndent(E,f,l)+this.trimStart(g)}else{c.getLineContent=E=>E===u.startLineNumber?n.getLineContent(a):n.getLineContent(E);const w=(0,v.getGoodIndentForLine)(this._autoIndent,c,n.getLanguageIdAtPosition(a,1),u.startLineNumber,o,this._languageConfigurationService);if(w!==null){const E=L.getLeadingWhitespace(n.getLineContent(a)),k=_.getSpaceCnt(w,f),M=_.getSpaceCnt(E,f);k!==M&&(h=_.generateIndent(k,f,l)+this.trimStart(g))}}t.addEditOperation(new y.Range(u.startLineNumber,1,u.startLineNumber,1),h+`
`);const b=this.matchEnterRuleMovingDown(n,o,f,u.startLineNumber,a,h);if(b!==null)b!==0&&this.getIndentEditsOfMovingBlock(n,t,u,f,l,b);else{c.getLineContent=E=>E===u.startLineNumber?h:E>=u.startLineNumber+1&&E<=u.endLineNumber+1?n.getLineContent(E-1):n.getLineContent(E);const w=(0,v.getGoodIndentForLine)(this._autoIndent,c,n.getLanguageIdAtPosition(a,1),u.startLineNumber+1,o,this._languageConfigurationService);if(w!==null){const E=L.getLeadingWhitespace(n.getLineContent(u.startLineNumber)),k=_.getSpaceCnt(w,f),M=_.getSpaceCnt(E,f);if(k!==M){const R=k-M;this.getIndentEditsOfMovingBlock(n,t,u,f,l,R)}}}}else t.addEditOperation(new y.Range(u.startLineNumber,1,u.startLineNumber,1),h+`
`)}else if(a=u.startLineNumber-1,g=n.getLineContent(a),t.addEditOperation(new y.Range(a,1,a+1,1),null),t.addEditOperation(new y.Range(u.endLineNumber,n.getLineMaxColumn(u.endLineNumber),u.endLineNumber,n.getLineMaxColumn(u.endLineNumber)),`
`+g),this.shouldAutoIndent(n,u)){c.getLineContent=p=>p===a?n.getLineContent(u.startLineNumber):n.getLineContent(p);const h=this.matchEnterRule(n,o,f,u.startLineNumber,u.startLineNumber-2);if(h!==null)h!==0&&this.getIndentEditsOfMovingBlock(n,t,u,f,l,h);else{const p=(0,v.getGoodIndentForLine)(this._autoIndent,c,n.getLanguageIdAtPosition(u.startLineNumber,1),a,o,this._languageConfigurationService);if(p!==null){const b=L.getLeadingWhitespace(n.getLineContent(u.startLineNumber)),w=_.getSpaceCnt(p,f),E=_.getSpaceCnt(b,f);if(w!==E){const k=w-E;this.getIndentEditsOfMovingBlock(n,t,u,f,l,k)}}}}}this._selectionId=t.trackSelection(u)}buildIndentConverter(n,t,r){return{shiftIndent:u=>I.ShiftCommand.shiftIndent(u,u.length+1,n,t,r),unshiftIndent:u=>I.ShiftCommand.unshiftIndent(u,u.length+1,n,t,r)}}parseEnterResult(n,t,r,u,f){if(f){let d=f.indentation;f.indentAction===S.IndentAction.None||f.indentAction===S.IndentAction.Indent?d=f.indentation+f.appendText:f.indentAction===S.IndentAction.IndentOutdent?d=f.indentation:f.indentAction===S.IndentAction.Outdent&&(d=t.unshiftIndent(f.indentation)+f.appendText);const l=n.getLineContent(u);if(this.trimStart(l).indexOf(this.trimStart(d))>=0){const o=L.getLeadingWhitespace(n.getLineContent(u));let c=L.getLeadingWhitespace(d);const a=(0,v.getIndentMetadata)(n,u,this._languageConfigurationService);a!==null&&a&2&&(c=t.unshiftIndent(c));const g=_.getSpaceCnt(c,r),h=_.getSpaceCnt(o,r);return g-h}}return null}matchEnterRuleMovingDown(n,t,r,u,f,d){if(L.lastNonWhitespaceIndex(d)>=0){const l=n.getLineMaxColumn(f),o=(0,C.getEnterAction)(this._autoIndent,n,new y.Range(f,l,f,l),this._languageConfigurationService);return this.parseEnterResult(n,t,r,u,o)}else{let l=u-1;for(;l>=1;){const a=n.getLineContent(l);if(L.lastNonWhitespaceIndex(a)>=0)break;l--}if(l<1||u>n.getLineCount())return null;const o=n.getLineMaxColumn(l),c=(0,C.getEnterAction)(this._autoIndent,n,new y.Range(l,o,l,o),this._languageConfigurationService);return this.parseEnterResult(n,t,r,u,c)}}matchEnterRule(n,t,r,u,f,d){let l=f;for(;l>=1;){let a;if(l===f&&d!==void 0?a=d:a=n.getLineContent(l),L.lastNonWhitespaceIndex(a)>=0)break;l--}if(l<1||u>n.getLineCount())return null;const o=n.getLineMaxColumn(l),c=(0,C.getEnterAction)(this._autoIndent,n,new y.Range(l,o,l,o),this._languageConfigurationService);return this.parseEnterResult(n,t,r,u,c)}trimStart(n){return n.replace(/^\s+/,"")}shouldAutoIndent(n,t){if(this._autoIndent<4||!n.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const r=n.getLanguageIdAtPosition(t.startLineNumber,1),u=n.getLanguageIdAtPosition(t.endLineNumber,1);return!(r!==u||this._languageConfigurationService.getLanguageConfiguration(r).indentRulesSupport===null)}getIndentEditsOfMovingBlock(n,t,r,u,f,d){for(let l=r.startLineNumber;l<=r.endLineNumber;l++){const o=n.getLineContent(l),c=L.getLeadingWhitespace(o),g=_.getSpaceCnt(c,u)+d,h=_.generateIndent(g,u,f);h!==c&&(t.addEditOperation(new y.Range(l,1,l,c.length+1),h),l===r.endLineNumber&&r.endColumn<=c.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(n,t){let r=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&r.startLineNumber<r.endLineNumber&&(r=r.setEndPosition(r.endLineNumber,2)),r}};e.MoveLinesCommand=s,e.MoveLinesCommand=s=Ie([ge(3,m.ILanguageConfigurationService)],s)}),define(te[116],ie([1,0,181,90,9,6,2,70,42,75,330,55,459]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.openLinkFromMarkdown=e.MarkdownRenderer=void 0;let n=i=class{constructor(f,d,l){this._options=f,this._languageService=d,this._openerService=l,this._onDidRenderAsync=new D.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(f,d,l){if(!f)return{element:document.createElement("span"),dispose:()=>{}};const o=new S.DisposableStore,c=o.add((0,L.renderMarkdown)(f,Object.assign(Object.assign({},this._getRenderOptions(f,o)),d),l));return c.element.classList.add("rendered-markdown"),{element:c.element,dispose:()=>o.dispose()}}_getRenderOptions(f,d){return{codeBlockRenderer:(l,o)=>be(this,void 0,void 0,function*(){var c,a,g;let h;l?h=this._languageService.getLanguageIdByLanguageName(l):this._options.editor&&(h=(c=this._options.editor.getModel())===null||c===void 0?void 0:c.getLanguageId()),h||(h=v.PLAINTEXT_LANGUAGE_ID);const p=yield(0,C.tokenizeToString)(this._languageService,o,h),b=document.createElement("span");if(b.innerHTML=(g=(a=i._ttpTokenizer)===null||a===void 0?void 0:a.createHTML(p))!==null&&g!==void 0?g:p,this._options.editor){const w=this._options.editor.getOption(50);(0,m.applyFontInfo)(b,w)}else this._options.codeBlockFontFamily&&(b.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(b.style.fontSize=this._options.codeBlockFontSize),b}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:l=>t(this._openerService,l,f.isTrusted),disposables:d}}}};e.MarkdownRenderer=n,n._ttpTokenizer=(0,I.createTrustedTypesPolicy)("tokenizeToString",{createHTML(u){return u}}),e.MarkdownRenderer=n=i=Ie([ge(1,_.ILanguageService),ge(2,s.IOpenerService)],n);function t(u,f,d){return be(this,void 0,void 0,function*(){try{return yield u.open(f,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:r(d)})}catch(l){return(0,y.onUnexpectedError)(l),!1}})}e.openLinkFromMarkdown=t;function r(u){return u===!0?!0:u&&Array.isArray(u.enabledCommands)?u.enabledCommands:!1}}),define(te[782],ie([1,0,7,13,57,2,116,325,315]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const v=L.$;class C extends D.Disposable{constructor(n,t,r){super(),this._renderDisposeables=this._register(new D.DisposableStore),this._editor=n,this._isVisible=!1,this._messages=[],this._hover=this._register(new _.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new S.MarkdownRenderer({editor:this._editor},t,r)),this._computer=new s(this._editor),this._hoverOperation=this._register(new m.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(u=>{this._withResult(u.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return C.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(n){this._computer.lineNumber!==n&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=n,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(n){this._messages=n,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(n,t){this._renderDisposeables.clear();const r=document.createDocumentFragment();for(const u of t){const f=v("div.hover-row.markdown-hover"),d=L.append(f,v("div.hover-contents")),l=this._renderDisposeables.add(this._markdownRenderer.render(u.value));d.appendChild(l.element),r.appendChild(f)}this._updateContents(r),this._showAt(n)}_updateContents(n){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(n),this._updateFont()}_showAt(n){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),r=this._editor.getTopForLineNumber(n),u=this._editor.getScrollTop(),f=this._editor.getOption(66),d=this._hover.containerDomNode.clientHeight,l=r-u-(d-f)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(l),0)}px`}}e.MarginHoverWidget=C,C.ID="editor.contrib.modesGlyphHoverWidget";class s{get lineNumber(){return this._lineNumber}set lineNumber(n){this._lineNumber=n}constructor(n){this._editor=n,this._lineNumber=-1}computeSync(){const n=u=>({value:u}),t=this._editor.getLineDecorations(this._lineNumber),r=[];if(!t)return r;for(const u of t){if(!u.options.glyphMarginClassName)continue;const f=u.options.glyphMarginHoverMessage;!f||(0,y.isEmptyMarkdownString)(f)||r.push(...(0,I.asArray)(f).map(n))}return r}}}),define(te[348],ie([1,0,7,84,26,27,6,57,2,116,223,704,8]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function n(u){return!!u&&!!(u.completion.documentation||u.completion.detail&&u.completion.detail!==u.completion.label)}e.canExpandCompletionItem=n;let t=class{constructor(f,d){this._editor=f,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new S.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new _.DisposableStore,this._renderDisposeable=new _.DisposableStore,this._borderWidth=1,this._size=new L.Dimension(330,0),this.domNode=L.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=d.createInstance(v.MarkdownRenderer,{editor:f}),this._body=L.$(".body"),this._scrollbar=new I.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),L.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=L.append(this._body,L.$(".header")),this._close=L.append(this._header,L.$("span"+D.ThemeIcon.asCSSSelector(y.Codicon.close))),this._close.title=s.localize(0,null),this._type=L.append(this._header,L.$("p.type")),this._docs=L.append(this._body,L.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const f=this._editor.getOptions(),d=f.get(50),l=d.getMassagedFontFamily(),o=f.get(118)||d.fontSize,c=f.get(119)||d.lineHeight,a=d.fontWeight,g=`${o}px`,h=`${c}px`;this.domNode.style.fontSize=g,this.domNode.style.lineHeight=`${c/o}`,this.domNode.style.fontWeight=a,this.domNode.style.fontFeatureSettings=d.fontFeatureSettings,this._type.style.fontFamily=l,this._close.style.height=h,this._close.style.width=h}getLayoutInfo(){const f=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,d=this._borderWidth,l=d*2;return{lineHeight:f,borderWidth:d,borderHeight:l,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=s.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(f,d){var l,o;this._renderDisposeable.clear();let{detail:c,documentation:a}=f.completion;if(d){let g="";g+=`score: ${f.score[0]}
`,g+=`prefix: ${(l=f.word)!==null&&l!==void 0?l:"(no prefix)"}
`,g+=`word: ${f.completion.filterText?f.completion.filterText+" (filterText)":f.textLabel}
`,g+=`distance: ${f.distance} (localityBonus-setting)
`,g+=`index: ${f.idx}, based on ${f.completion.sortText&&`sortText: "${f.completion.sortText}"`||"label"}
`,g+=`commit_chars: ${(o=f.completion.commitCharacters)===null||o===void 0?void 0:o.join("")}
`,a=new m.MarkdownString().appendCodeblock("empty",g),c=`Provider: ${f.provider._debugDisplayName}`}if(!d&&!n(f)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),c){const g=c.length>1e5?`${c.substr(0,1e5)}\u2026`:c;this._type.textContent=g,this._type.title=g,L.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(g))}else L.clearNode(this._type),this._type.title="",L.hide(this._type),this.domNode.classList.add("no-type");if(L.clearNode(this._docs),typeof a=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=a;else if(a){this._docs.classList.add("markdown-docs"),L.clearNode(this._docs);const g=this._markdownRenderer.render(a);this._docs.appendChild(g.element),this._renderDisposeable.add(g),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=g=>{g.preventDefault(),g.stopPropagation()},this._close.onclick=g=>{g.preventDefault(),g.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(f,d){const l=new L.Dimension(f,d);L.Dimension.equals(l,this._size)||(this._size=l,L.size(this.domNode,f,d)),this._scrollbar.scanDomNode()}scrollDown(f=8){this._body.scrollTop+=f}scrollUp(f=8){this._body.scrollTop-=f}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(f){this._borderWidth=f}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=t,e.SuggestDetailsWidget=t=Ie([ge(1,i.IInstantiationService)],t);class r{constructor(f,d){this.widget=f,this._editor=d,this._disposables=new _.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new C.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(f.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let l,o,c=0,a=0;this._disposables.add(this._resizable.onDidWillResize(()=>{l=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(g=>{if(l&&o){this.widget.layout(g.dimension.width,g.dimension.height);let h=!1;g.west&&(a=o.width-g.dimension.width,h=!0),g.north&&(c=o.height-g.dimension.height,h=!0),h&&this._applyTopLeft({top:l.top+c,left:l.left+a})}g.done&&(l=void 0,o=void 0,c=0,a=0,this._userSize=g.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var g;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(g=this._userSize)!==null&&g!==void 0?g:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(f=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),f&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(f,d){var l;const o=f.getBoundingClientRect();this._anchorBox=o,this._preferAlignAtTop=d,this._placeAtAnchor(this._anchorBox,(l=this._userSize)!==null&&l!==void 0?l:this.widget.size,d)}_placeAtAnchor(f,d,l){var o;const c=L.getClientArea(this.getDomNode().ownerDocument.body),a=this.widget.getLayoutInfo(),g=new L.Dimension(220,2*a.lineHeight),h=f.top,p=function(){const A=c.width-(f.left+f.width+a.borderWidth+a.horizontalPadding),P=-a.borderWidth+f.left+f.width,O=new L.Dimension(A,c.height-f.top-a.borderHeight-a.verticalPadding),x=O.with(void 0,f.top+f.height-a.borderHeight-a.verticalPadding);return{top:h,left:P,fit:A-d.width,maxSizeTop:O,maxSizeBottom:x,minSize:g.with(Math.min(A,g.width))}}(),b=function(){const A=f.left-a.borderWidth-a.horizontalPadding,P=Math.max(a.horizontalPadding,f.left-d.width-a.borderWidth),O=new L.Dimension(A,c.height-f.top-a.borderHeight-a.verticalPadding),x=O.with(void 0,f.top+f.height-a.borderHeight-a.verticalPadding);return{top:h,left:P,fit:A-d.width,maxSizeTop:O,maxSizeBottom:x,minSize:g.with(Math.min(A,g.width))}}(),w=function(){const A=f.left,P=-a.borderWidth+f.top+f.height,O=new L.Dimension(f.width-a.borderHeight,c.height-f.top-f.height-a.verticalPadding);return{top:P,left:A,fit:O.height-d.height,maxSizeBottom:O,maxSizeTop:O,minSize:g.with(O.width)}}(),E=[p,b,w],k=(o=E.find(A=>A.fit>=0))!==null&&o!==void 0?o:E.sort((A,P)=>P.fit-A.fit)[0],M=f.top+f.height-a.borderHeight;let R,B=d.height;const T=Math.max(k.maxSizeTop.height,k.maxSizeBottom.height);B>T&&(B=T);let N;l?B<=k.maxSizeTop.height?(R=!0,N=k.maxSizeTop):(R=!1,N=k.maxSizeBottom):B<=k.maxSizeBottom.height?(R=!1,N=k.maxSizeBottom):(R=!0,N=k.maxSizeTop),this._applyTopLeft({left:k.left,top:R?k.top:M-B}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!R,k===p,R,k!==p),this._resizable.minSize=k.minSize,this._resizable.maxSize=N,this._resizable.layout(B,Math.min(N.width,d.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(f){this._topLeft=f,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=r}),define(te[349],ie([1,0,13,56,52,20,21,28,95,35]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function C(u){return Object.isFrozen(u)?u:y.deepFreeze(u)}class s{constructor(f={},d=[],l=[],o){this._contents=f,this._keys=d,this._overrides=l,this.raw=o,this.overrideConfigurations=new Map}get rawConfiguration(){var f;if(!this._rawConfiguration)if(!((f=this.raw)===null||f===void 0)&&f.length){const d=this.raw.map(l=>{if(l instanceof s)return l;const o=new i("");return o.parseRaw(l),o.configurationModel});this._rawConfiguration=d.reduce((l,o)=>o===l?o:l.merge(o),d[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(f){return f?(0,m.getConfigurationValue)(this.contents,f):this.contents}inspect(f,d){const l=this.rawConfiguration.getValue(f),o=d?this.rawConfiguration.getOverrideValue(f,d):void 0,c=d?this.rawConfiguration.override(d).getValue(f):l;return{value:l,override:o,merged:c}}getOverrideValue(f,d){const l=this.getContentsForOverrideIdentifer(d);return l?f?(0,m.getConfigurationValue)(l,f):l:void 0}override(f){let d=this.overrideConfigurations.get(f);return d||(d=this.createOverrideConfigurationModel(f),this.overrideConfigurations.set(f,d)),d}merge(...f){var d,l;const o=y.deepClone(this.contents),c=y.deepClone(this.overrides),a=[...this.keys],g=!((d=this.raw)===null||d===void 0)&&d.length?[...this.raw]:[this];for(const h of f)if(g.push(...!((l=h.raw)===null||l===void 0)&&l.length?h.raw:[h]),!h.isEmpty()){this.mergeContents(o,h.contents);for(const p of h.overrides){const[b]=c.filter(w=>L.equals(w.identifiers,p.identifiers));b?(this.mergeContents(b.contents,p.contents),b.keys.push(...p.keys),b.keys=L.distinct(b.keys)):c.push(y.deepClone(p))}for(const p of h.keys)a.indexOf(p)===-1&&a.push(p)}return new s(o,a,c,g.every(h=>h instanceof s)?void 0:g)}createOverrideConfigurationModel(f){const d=this.getContentsForOverrideIdentifer(f);if(!d||typeof d!="object"||!Object.keys(d).length)return this;const l={};for(const o of L.distinct([...Object.keys(this.contents),...Object.keys(d)])){let c=this.contents[o];const a=d[o];a&&(typeof c=="object"&&typeof a=="object"?(c=y.deepClone(c),this.mergeContents(c,a)):c=a),l[o]=c}return new s(l,this.keys,this.overrides)}mergeContents(f,d){for(const l of Object.keys(d)){if(l in f&&D.isObject(f[l])&&D.isObject(d[l])){this.mergeContents(f[l],d[l]);continue}f[l]=y.deepClone(d[l])}}getContentsForOverrideIdentifer(f){let d=null,l=null;const o=c=>{c&&(l?this.mergeContents(l,c):l=y.deepClone(c))};for(const c of this.overrides)c.identifiers.length===1&&c.identifiers[0]===f?d=c.contents:c.identifiers.includes(f)&&o(c.contents);return o(d),l}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(f,d){this.updateValue(f,d,!0)}setValue(f,d){this.updateValue(f,d,!1)}removeValue(f){const d=this.keys.indexOf(f);d!==-1&&(this.keys.splice(d,1),(0,m.removeFromValueTree)(this.contents,f),_.OVERRIDE_PROPERTY_REGEX.test(f)&&this.overrides.splice(this.overrides.findIndex(l=>L.equals(l.identifiers,(0,_.overrideIdentifiersFromKey)(f))),1))}updateValue(f,d,l){(0,m.addToValueTree)(this.contents,f,d,o=>console.error(o)),l=l||this.keys.indexOf(f)===-1,l&&this.keys.push(f),_.OVERRIDE_PROPERTY_REGEX.test(f)&&this.overrides.push({identifiers:(0,_.overrideIdentifiersFromKey)(f),keys:Object.keys(this.contents[f]),contents:(0,m.toValuesTree)(this.contents[f],o=>console.error(o))})}}e.ConfigurationModel=s;class i{constructor(f){this._name=f,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new s}parseRaw(f,d){this._raw=f;const{contents:l,keys:o,overrides:c,restricted:a,hasExcludedProperties:g}=this.doParseRaw(f,d);this._configurationModel=new s(l,o,c,g?[f]:void 0),this._restrictedConfigurations=a||[]}doParseRaw(f,d){const l=v.Registry.as(_.Extensions.Configuration).getConfigurationProperties(),o=this.filter(f,l,!0,d);f=o.raw;const c=(0,m.toValuesTree)(f,h=>console.error(`Conflict in settings file ${this._name}: ${h}`)),a=Object.keys(f),g=this.toOverrides(f,h=>console.error(`Conflict in settings file ${this._name}: ${h}`));return{contents:c,keys:a,overrides:g,restricted:o.restricted,hasExcludedProperties:o.hasExcludedProperties}}filter(f,d,l,o){var c,a,g;let h=!1;if(!o?.scopes&&!o?.skipRestricted&&!(!((c=o?.exclude)===null||c===void 0)&&c.length))return{raw:f,restricted:[],hasExcludedProperties:h};const p={},b=[];for(const w in f)if(_.OVERRIDE_PROPERTY_REGEX.test(w)&&l){const E=this.filter(f[w],d,!1,o);p[w]=E.raw,h=h||E.hasExcludedProperties,b.push(...E.restricted)}else{const E=d[w],k=E?typeof E.scope<"u"?E.scope:3:void 0;E?.restricted&&b.push(w),!(!((a=o.exclude)===null||a===void 0)&&a.includes(w))&&(!((g=o.include)===null||g===void 0)&&g.includes(w)||(k===void 0||o.scopes===void 0||o.scopes.includes(k))&&!(o.skipRestricted&&E?.restricted))?p[w]=f[w]:h=!0}return{raw:p,restricted:b,hasExcludedProperties:h}}toOverrides(f,d){const l=[];for(const o of Object.keys(f))if(_.OVERRIDE_PROPERTY_REGEX.test(o)){const c={};for(const a in f[o])c[a]=f[o][a];l.push({identifiers:(0,_.overrideIdentifiersFromKey)(o),keys:Object.keys(c),contents:(0,m.toValuesTree)(c,d)})}return l}}e.ConfigurationModelParser=i;class n{constructor(f,d,l,o,c,a,g,h,p,b,w,E,k){this.key=f,this.overrides=d,this._value=l,this.overrideIdentifiers=o,this.defaultConfiguration=c,this.policyConfiguration=a,this.applicationConfiguration=g,this.userConfiguration=h,this.localUserConfiguration=p,this.remoteUserConfiguration=b,this.workspaceConfiguration=w,this.folderConfigurationModel=E,this.memoryConfigurationModel=k}inspect(f,d,l){const o=f.inspect(d,l);return{get value(){return C(o.value)},get override(){return C(o.override)},get merged(){return C(o.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class t{constructor(f,d,l,o,c=new s,a=new s,g=new I.ResourceMap,h=new s,p=new I.ResourceMap){this._defaultConfiguration=f,this._policyConfiguration=d,this._applicationConfiguration=l,this._localUserConfiguration=o,this._remoteUserConfiguration=c,this._workspaceConfiguration=a,this._folderConfigurations=g,this._memoryConfiguration=h,this._memoryConfigurationByResource=p,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new I.ResourceMap,this._userConfiguration=null}getValue(f,d,l){return this.getConsolidatedConfigurationModel(f,d,l).getValue(f)}updateValue(f,d,l={}){let o;l.resource?(o=this._memoryConfigurationByResource.get(l.resource),o||(o=new s,this._memoryConfigurationByResource.set(l.resource,o))):o=this._memoryConfiguration,d===void 0?o.removeValue(f):o.setValue(f,d),l.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(f,d,l){const o=this.getConsolidatedConfigurationModel(f,d,l),c=this.getFolderConfigurationModelForResource(d.resource,l),a=d.resource?this._memoryConfigurationByResource.get(d.resource)||this._memoryConfiguration:this._memoryConfiguration,g=new Set;for(const h of o.overrides)for(const p of h.identifiers)o.getOverrideValue(f,p)!==void 0&&g.add(p);return new n(f,d,o.getValue(f),g.size?[...g]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,l?this._workspaceConfiguration:void 0,c||void 0,a)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(f,d,l){let o=this.getConsolidatedConfigurationModelForResource(d,l);return d.overrideIdentifier&&(o=o.override(d.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(f)!==void 0&&(o=o.merge(this._policyConfiguration)),o}getConsolidatedConfigurationModelForResource({resource:f},d){let l=this.getWorkspaceConsolidatedConfiguration();if(d&&f){const o=d.getFolder(f);o&&(l=this.getFolderConsolidatedConfiguration(o.uri)||l);const c=this._memoryConfigurationByResource.get(f);c&&(l=l.merge(c))}return l}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(f){let d=this._foldersConsolidatedConfigurations.get(f);if(!d){const l=this.getWorkspaceConsolidatedConfiguration(),o=this._folderConfigurations.get(f);o?(d=l.merge(o),this._foldersConsolidatedConfigurations.set(f,d)):d=l}return d}getFolderConfigurationModelForResource(f,d){if(d&&f){const l=d.getFolder(f);if(l)return this._folderConfigurations.get(l.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((f,d)=>{const{contents:l,overrides:o,keys:c}=this._folderConfigurations.get(d);return f.push([d,{contents:l,overrides:o,keys:c}]),f},[])}}static parse(f){const d=this.parseConfigurationModel(f.defaults),l=this.parseConfigurationModel(f.policy),o=this.parseConfigurationModel(f.application),c=this.parseConfigurationModel(f.user),a=this.parseConfigurationModel(f.workspace),g=f.folders.reduce((h,p)=>(h.set(S.URI.revive(p[0]),this.parseConfigurationModel(p[1])),h),new I.ResourceMap);return new t(d,l,o,c,new s,a,g,new s,new I.ResourceMap)}static parseConfigurationModel(f){return new s(f.contents,f.keys,f.overrides)}}e.Configuration=t;class r{constructor(f,d,l,o){this.change=f,this.previous=d,this.currentConfiguraiton=l,this.currentWorkspace=o,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const c of f.keys)this.affectedKeys.add(c);for(const[,c]of f.overrides)for(const a of c)this.affectedKeys.add(a);this._affectsConfigStr=this._marker;for(const c of this.affectedKeys)this._affectsConfigStr+=c+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=t.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(f,d){var l;const o=this._marker+f,c=this._affectsConfigStr.indexOf(o);if(c<0)return!1;const a=c+o.length;if(a>=this._affectsConfigStr.length)return!1;const g=this._affectsConfigStr.charCodeAt(a);if(g!==this._markerCode1&&g!==this._markerCode2)return!1;if(d){const h=this.previousConfiguration?this.previousConfiguration.getValue(f,d,(l=this.previous)===null||l===void 0?void 0:l.workspace):void 0,p=this.currentConfiguraiton.getValue(f,d,this.currentWorkspace);return!y.equals(h,p)}return!0}}e.ConfigurationChangeEvent=r}),define(te[783],ie([1,0,2,349,95,35]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class S extends L.Disposable{constructor(){super(...arguments),this._configurationModel=new I.ConfigurationModel}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new I.ConfigurationModel;const _=D.Registry.as(y.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(_),_)}updateConfigurationModel(_,v){const C=this.getConfigurationDefaultOverrides();for(const s of _){const i=C[s],n=v[s];i!==void 0?this._configurationModel.addValue(s,i):n?this._configurationModel.addValue(s,n.default):this._configurationModel.removeValue(s)}}}e.DefaultConfiguration=S}),define(te[117],ie([1,0,118,17,25,35,2,63]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class _{constructor(){this._coreKeybindings=new m.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(s){if(I.OS===1){if(s&&s.win)return s.win}else if(I.OS===2){if(s&&s.mac)return s.mac}else if(s&&s.linux)return s.linux;return s}registerKeybindingRule(s){const i=_.bindToCurrentPlatform(s),n=new S.DisposableStore;if(i&&i.primary){const t=(0,L.decodeKeybinding)(i.primary,I.OS);t&&n.add(this._registerDefaultKeybinding(t,s.id,s.args,s.weight,0,s.when))}if(i&&Array.isArray(i.secondary))for(let t=0,r=i.secondary.length;t<r;t++){const u=i.secondary[t],f=(0,L.decodeKeybinding)(u,I.OS);f&&n.add(this._registerDefaultKeybinding(f,s.id,s.args,s.weight,-t-1,s.when))}return n}registerCommandAndKeybindingRule(s){return(0,S.combinedDisposable)(this.registerKeybindingRule(s),y.CommandsRegistry.registerCommand(s))}_registerDefaultKeybinding(s,i,n,t,r,u){const f=this._coreKeybindings.push({keybinding:s,command:i,commandArgs:n,when:u,weight1:t,weight2:r,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,S.toDisposable)(()=>{f(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(v)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new _,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function v(C,s){if(C.weight1!==s.weight1)return C.weight1-s.weight1;if(C.command&&s.command){if(C.command<s.command)return-1;if(C.command>s.command)return 1}return C.weight2-s.weight2}});var vi=this&&this.__rest||function($,e){var L={};for(var I in $)Object.prototype.hasOwnProperty.call($,I)&&e.indexOf(I)<0&&(L[I]=$[I]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,I=Object.getOwnPropertySymbols($);y<I.length;y++)e.indexOf(I[y])<0&&Object.prototype.propertyIsEnumerable.call($,I[y])&&(L[I[y]]=$[I[y]]);return L};define(te[30],ie([1,0,41,27,6,2,63,25,15,8,117]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isISubmenuItem=e.isIMenuItem=void 0;function i(o){return o.command!==void 0}e.isIMenuItem=i;function n(o){return o.submenu!==void 0}e.isISubmenuItem=n;class t{constructor(c){if(t._instances.has(c))throw new TypeError(`MenuId with identifier '${c}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(c,this),this.id=c}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContent=new t("EditorContent"),t.EditorLineNumberContext=new t("EditorLineNumberContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EditorTitleContextShare=new t("EditorTitleContextShare"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.EditorTabsBarContext=new t("EditorTabsBarContext"),t.ExplorerContext=new t("ExplorerContext"),t.ExplorerContextShare=new t("ExplorerContextShare"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.CommandCenterCenter=new t("CommandCenterCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.PanelAlignmentMenu=new t("PanelAlignmentMenu"),t.PanelPositionMenu=new t("PanelPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.OpenEditorsContextShare=new t("OpenEditorsContextShare"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceContextShare=new t("SCMResourceContextShare"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.SearchActionMenu=new t("SearchActionContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.StickyScrollContext=new t("StickyScrollContext"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestMessageContext=new t("TestMessageContext"),t.TestMessageContent=new t("TestMessageContent"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentEditorActions=new t("CommentEditorActions"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentThreadAdditionalActions=new t("CommentThreadAdditionalActions"),t.CommentThreadTitleContext=new t("CommentThreadTitleContext"),t.CommentThreadCommentContext=new t("CommentThreadCommentContext"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookStickyScrollContext=new t("NotebookStickyScrollContext"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.NewFile=new t("NewFile"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),t.MergeBaseToolbar=new t("MergeBaseToolbar"),t.MergeInputResultToolbar=new t("MergeToolbarResultToolbar"),t.InlineSuggestionToolbar=new t("InlineSuggestionToolbar"),t.ChatContext=new t("ChatContext"),t.ChatCodeBlock=new t("ChatCodeblock"),t.ChatMessageTitle=new t("ChatMessageTitle"),t.ChatExecute=new t("ChatExecute"),t.ChatInputSide=new t("ChatInputSide"),t.AccessibleView=new t("AccessibleView"),e.IMenuService=(0,v.createDecorator)("menuService");class r{static for(c){let a=this._all.get(c);return a||(a=new r(c),this._all.set(c,a)),a}static merge(c){const a=new Set;for(const g of c)g instanceof r&&a.add(g.id);return a}constructor(c){this.id=c,this.has=a=>a===c}}r._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new y.MicrotaskEmitter({merge:r.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(o){return this._commands.set(o.id,o),this._onDidChangeMenu.fire(r.for(t.CommandPalette)),(0,D.toDisposable)(()=>{this._commands.delete(o.id)&&this._onDidChangeMenu.fire(r.for(t.CommandPalette))})}getCommand(o){return this._commands.get(o)}getCommands(){const o=new Map;return this._commands.forEach((c,a)=>o.set(a,c)),o}appendMenuItem(o,c){let a=this._menuItems.get(o);a||(a=new S.LinkedList,this._menuItems.set(o,a));const g=a.push(c);return this._onDidChangeMenu.fire(r.for(o)),(0,D.toDisposable)(()=>{g(),this._onDidChangeMenu.fire(r.for(o))})}appendMenuItems(o){const c=new D.DisposableStore;for(const{id:a,item:g}of o)c.add(this.appendMenuItem(a,g));return c}getMenuItems(o){let c;return this._menuItems.has(o)?c=[...this._menuItems.get(o)]:c=[],o===t.CommandPalette&&this._appendImplicitItems(c),c}_appendImplicitItems(o){const c=new Set;for(const a of o)i(a)&&(c.add(a.command.id),a.alt&&c.add(a.alt.id));this._commands.forEach((a,g)=>{c.has(g)||o.push({command:a})})}};class u extends L.SubmenuAction{constructor(c,a,g){super(`submenuitem.${c.submenu.id}`,typeof c.title=="string"?c.title:c.title.value,g,"submenu"),this.item=c,this.hideActions=a}}e.SubmenuItemAction=u;let f=s=class{static label(c,a){return a?.renderShortTitle&&c.shortTitle?typeof c.shortTitle=="string"?c.shortTitle:c.shortTitle.value:typeof c.title=="string"?c.title:c.title.value}constructor(c,a,g,h,p,b){var w,E;this.hideActions=h,this._commandService=b,this.id=c.id,this.label=s.label(c,g),this.tooltip=(E=typeof c.tooltip=="string"?c.tooltip:(w=c.tooltip)===null||w===void 0?void 0:w.value)!==null&&E!==void 0?E:"",this.enabled=!c.precondition||p.contextMatchesRules(c.precondition),this.checked=void 0;let k;if(c.toggled){const M=c.toggled.condition?c.toggled:{condition:c.toggled};this.checked=p.contextMatchesRules(M.condition),this.checked&&M.tooltip&&(this.tooltip=typeof M.tooltip=="string"?M.tooltip:M.tooltip.value),this.checked&&I.ThemeIcon.isThemeIcon(M.icon)&&(k=M.icon),this.checked&&M.title&&(this.label=typeof M.title=="string"?M.title:M.title.value)}k||(k=I.ThemeIcon.isThemeIcon(c.icon)?c.icon:void 0),this.item=c,this.alt=a?new s(a,void 0,g,h,p,b):void 0,this._options=g,this.class=k&&I.ThemeIcon.asClassName(k)}run(...c){var a,g;let h=[];return!((a=this._options)===null||a===void 0)&&a.arg&&(h=[...h,this._options.arg]),!((g=this._options)===null||g===void 0)&&g.shouldForwardArgs&&(h=[...h,...c]),this._commandService.executeCommand(this.id,...h)}};e.MenuItemAction=f,e.MenuItemAction=f=s=Ie([ge(4,_.IContextKeyService),ge(5,m.ICommandService)],f);class d{constructor(c){this.desc=c}}e.Action2=d;function l(o){const c=new D.DisposableStore,a=new o,g=a.desc,{f1:h,menu:p,keybinding:b,description:w}=g,E=vi(g,["f1","menu","keybinding","description"]);if(c.add(m.CommandsRegistry.registerCommand({id:E.id,handler:(k,...M)=>a.run(k,...M),description:w})),Array.isArray(p))for(const k of p)c.add(e.MenuRegistry.appendMenuItem(k.id,Object.assign({command:Object.assign(Object.assign({},E),{precondition:k.precondition===null?void 0:E.precondition})},k)));else p&&c.add(e.MenuRegistry.appendMenuItem(p.id,Object.assign({command:Object.assign(Object.assign({},E),{precondition:p.precondition===null?void 0:E.precondition})},p)));if(h&&(c.add(e.MenuRegistry.appendMenuItem(t.CommandPalette,{command:E,when:E.precondition})),c.add(e.MenuRegistry.addCommand(E))),Array.isArray(b))for(const k of b)c.add(C.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},k),{id:E.id,when:E.precondition?_.ContextKeyExpr.and(E.precondition,k.when):k.when})));else b&&c.add(C.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},b),{id:E.id,when:E.precondition?_.ContextKeyExpr.and(E.precondition,b.when):b.when})));return c}e.registerAction2=l}),define(te[784],ie([1,0,45,200,708,30]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends D.Action2{constructor(){super({id:S.ID,title:{value:y.localize(0,null),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const v=!I.TabFocus.getTabFocusMode();I.TabFocus.setTabFocusMode(v),v?(0,L.alert)(y.localize(1,null)):(0,L.alert)(y.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",(0,D.registerAction2)(S)}),define(te[350],ie([1,0,228,585,15,117,727,2]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new y.RawContextKey("suggestWidgetVisible",!1,(0,S.localize)(0,null));const _="historyNavigationWidgetFocus",v="historyNavigationForwardsEnabled",C="historyNavigationBackwardsEnabled";let s;const i=[];function n(u,f){if(i.includes(f))throw new Error("Cannot register the same widget multiple times");i.push(f);const d=new m.DisposableStore,l=new y.RawContextKey(_,!1).bindTo(u),o=new y.RawContextKey(v,!0).bindTo(u),c=new y.RawContextKey(C,!0).bindTo(u),a=()=>{l.set(!0),s=f},g=()=>{l.set(!1),s===f&&(s=void 0)};return f.element===document.activeElement&&a(),d.add(f.onDidFocus(()=>a())),d.add(f.onDidBlur(()=>g())),d.add((0,m.toDisposable)(()=>{i.splice(i.indexOf(f),1),g()})),{historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:c,dispose(){d.dispose()}}}e.registerAndCreateHistoryNavigationContext=n;let t=class extends L.FindInput{constructor(f,d,l,o){super(f,d,l);const c=this._register(o.createScoped(this.inputBox.element));this._register(n(c,this.inputBox))}};e.ContextScopedFindInput=t,e.ContextScopedFindInput=t=Ie([ge(3,y.IContextKeyService)],t);let r=class extends I.ReplaceInput{constructor(f,d,l,o,c=!1){super(f,d,c,l);const a=this._register(o.createScoped(this.inputBox.element));this._register(n(a,this.inputBox))}};e.ContextScopedReplaceInput=r,e.ContextScopedReplaceInput=r=Ie([ge(3,y.IContextKeyService)],r),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(_),y.ContextKeyExpr.equals(C,!0),y.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:u=>{s?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(_),y.ContextKeyExpr.equals(v,!0),y.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:u=>{s?.showNextValue()}})}),define(te[133],ie([1,0,19,9,69,2,59,20,21,12,5,65,127,701,30,25,15,18,350]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:d.historyNavigationVisible,HasFocusedSuggestion:new u.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,n.localize)(0,null)),DetailsVisible:new u.RawContextKey("suggestWidgetDetailsVisible",!1,(0,n.localize)(1,null)),MultipleSuggestions:new u.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,n.localize)(2,null)),MakesTextEdit:new u.RawContextKey("suggestionMakesTextEdit",!0,(0,n.localize)(3,null)),AcceptSuggestionsOnEnter:new u.RawContextKey("acceptSuggestionOnEnter",!0,(0,n.localize)(4,null)),HasInsertAndReplaceRange:new u.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,n.localize)(5,null)),InsertMode:new u.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,n.localize)(6,null)}),CanResolve:new u.RawContextKey("suggestionCanResolve",!1,(0,n.localize)(7,null))},e.suggestWidgetStatusbarMenu=new t.MenuId("suggestWidgetStatusBar");class l{constructor(T,N,A,P){var O;this.position=T,this.completion=N,this.container=A,this.provider=P,this.isInvalid=!1,this.score=y.FuzzyScore.Default,this.distance=0,this.textLabel=typeof N.label=="string"?N.label:(O=N.label)===null||O===void 0?void 0:O.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=N.sortText&&N.sortText.toLowerCase(),this.filterTextLow=N.filterText&&N.filterText.toLowerCase(),this.extensionId=N.extensionId,C.Range.isIRange(N.range)?(this.editStart=new v.Position(N.range.startLineNumber,N.range.startColumn),this.editInsertEnd=new v.Position(N.range.endLineNumber,N.range.endColumn),this.editReplaceEnd=new v.Position(N.range.endLineNumber,N.range.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(N.range)||N.range.startLineNumber!==T.lineNumber):(this.editStart=new v.Position(N.range.insert.startLineNumber,N.range.insert.startColumn),this.editInsertEnd=new v.Position(N.range.insert.endLineNumber,N.range.insert.endColumn),this.editReplaceEnd=new v.Position(N.range.replace.endLineNumber,N.range.replace.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(N.range.insert)||C.Range.spansMultipleLines(N.range.replace)||N.range.insert.startLineNumber!==T.lineNumber||N.range.replace.startLineNumber!==T.lineNumber||N.range.insert.startColumn!==N.range.replace.startColumn),typeof P.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(T){return be(this,void 0,void 0,function*(){if(!this._resolveCache){const N=T.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),A=new S.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,T)).then(P=>{Object.assign(this.completion,P),this._resolveDuration=A.elapsed()},P=>{(0,I.isCancellationError)(P)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{N.dispose()})}return this._resolveCache})}}e.CompletionItem=l;class o{constructor(T=2,N=new Set,A=new Set,P=new Map,O=!0){this.snippetSortOrder=T,this.kindFilter=N,this.providerFilter=A,this.providerItemsToReuse=P,this.showDeprecated=O}}e.CompletionOptions=o,o.default=new o;let c;function a(){return c}e.getSnippetSuggestSupport=a;class g{constructor(T,N,A,P){this.items=T,this.needsClipboard=N,this.durations=A,this.disposable=P}}e.CompletionItemModel=g;function h(B,T,N,A=o.default,P={triggerKind:0},O=L.CancellationToken.None){return be(this,void 0,void 0,function*(){const x=new S.StopWatch;N=N.clone();const W=T.getWordAtPosition(N),U=W?new C.Range(N.lineNumber,W.startColumn,N.lineNumber,W.endColumn):C.Range.fromPositions(N),F={replace:U,insert:U.setEndPosition(N.lineNumber,N.column)},G=[],Y=new D.DisposableStore,ne=[];let se=!1;const J=(H,V,Z)=>{var ee,le,ue;let de=!1;if(!V)return de;for(const ce of V.suggestions)if(!A.kindFilter.has(ce.kind)){if(!A.showDeprecated&&(!((ee=ce?.tags)===null||ee===void 0)&&ee.includes(1)))continue;ce.range||(ce.range=F),ce.sortText||(ce.sortText=typeof ce.label=="string"?ce.label:ce.label.label),!se&&ce.insertTextRules&&ce.insertTextRules&4&&(se=i.SnippetParser.guessNeedsClipboard(ce.insertText)),G.push(new l(N,ce,V,H)),de=!0}return(0,D.isDisposable)(V)&&Y.add(V),ne.push({providerName:(le=H._debugDisplayName)!==null&&le!==void 0?le:"unknown_provider",elapsedProvider:(ue=V.duration)!==null&&ue!==void 0?ue:-1,elapsedOverall:Z.elapsed()}),de},q=(()=>be(this,void 0,void 0,function*(){if(!c||A.kindFilter.has(27))return;const H=A.providerItemsToReuse.get(c);if(H){H.forEach(ee=>G.push(ee));return}if(A.providerFilter.size>0&&!A.providerFilter.has(c))return;const V=new S.StopWatch,Z=yield c.provideCompletionItems(T,N,P,O);J(c,Z,V)}))();for(const H of B.orderedGroups(T)){let V=!1;if(yield Promise.all(H.map(Z=>be(this,void 0,void 0,function*(){if(A.providerItemsToReuse.has(Z)){const ee=A.providerItemsToReuse.get(Z);ee.forEach(le=>G.push(le)),V=V||ee.length>0;return}if(!(A.providerFilter.size>0&&!A.providerFilter.has(Z)))try{const ee=new S.StopWatch,le=yield Z.provideCompletionItems(T,N,P,O);V=J(Z,le,ee)||V}catch(ee){(0,I.onUnexpectedExternalError)(ee)}}))),V||O.isCancellationRequested)break}return yield q,O.isCancellationRequested?(Y.dispose(),Promise.reject(new I.CancellationError)):new g(G.sort(k(A.snippetSortOrder)),se,{entries:ne,elapsed:x.elapsed()},Y)})}e.provideSuggestionItems=h;function p(B,T){if(B.sortTextLow&&T.sortTextLow){if(B.sortTextLow<T.sortTextLow)return-1;if(B.sortTextLow>T.sortTextLow)return 1}return B.textLabel<T.textLabel?-1:B.textLabel>T.textLabel?1:B.completion.kind-T.completion.kind}function b(B,T){if(B.completion.kind!==T.completion.kind){if(B.completion.kind===27)return-1;if(T.completion.kind===27)return 1}return p(B,T)}function w(B,T){if(B.completion.kind!==T.completion.kind){if(B.completion.kind===27)return 1;if(T.completion.kind===27)return-1}return p(B,T)}const E=new Map;E.set(0,b),E.set(2,w),E.set(1,p);function k(B){return E.get(B)}e.getSuggestionComparator=k,r.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(B,...T)=>be(void 0,void 0,void 0,function*(){const[N,A,P,O]=T;(0,m.assertType)(_.URI.isUri(N)),(0,m.assertType)(v.Position.isIPosition(A)),(0,m.assertType)(typeof P=="string"||!P),(0,m.assertType)(typeof O=="number"||!O);const{completionProvider:x}=B.get(f.ILanguageFeaturesService),W=yield B.get(s.ITextModelService).createModelReference(N);try{const U={incomplete:!1,suggestions:[]},F=[],G=W.object.textEditorModel.validatePosition(A),Y=yield h(x,W.object.textEditorModel,G,void 0,{triggerCharacter:P??void 0,triggerKind:P?1:0});for(const ne of Y.items)F.length<(O??0)&&F.push(ne.resolve(L.CancellationToken.None)),U.incomplete=U.incomplete||ne.container.incomplete,U.suggestions.push(ne.completion);try{return yield Promise.all(F),U}finally{setTimeout(()=>Y.disposable.dispose(),100)}}finally{W.dispose()}}));function M(B,T){var N;(N=B.getContribution("editor.contrib.suggestController"))===null||N===void 0||N.triggerSuggest(new Set().add(T),void 0,!0)}e.showSimpleSuggestions=M;class R{static isAllOff(T){return T.other==="off"&&T.comments==="off"&&T.strings==="off"}static isAllOn(T){return T.other==="on"&&T.comments==="on"&&T.strings==="on"}static valueFor(T,N){switch(N){case 1:return T.comments;case 2:return T.strings;default:return T.other}}}e.QuickSuggestionsOptions=R}),define(te[134],ie([1,0,13,2,35]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(m){m[m.PRESERVE=0]="PRESERVE",m[m.LAST=1]="LAST"})(D||(e.DefaultQuickAccessFilterValue=D={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(_){return _.prefix.length===0?this.defaultProvider=_:this.providers.push(_),this.providers.sort((v,C)=>C.prefix.length-v.prefix.length),(0,I.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(_),1),this.defaultProvider===_&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,L.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(_){return _&&this.providers.find(C=>_.startsWith(C.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,y.Registry.add(e.Extensions.Quickaccess,new S)}),define(te[785],ie([1,0,732,35,2,34,134,67]),function($,e,L,I,y,D,S,m){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let v=_=class{constructor(s,i){this.quickInputService=s,this.keybindingService=i,this.registry=I.Registry.as(S.Extensions.Quickaccess)}provide(s){const i=new y.DisposableStore;return i.add(s.onDidAccept(()=>{const[n]=s.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),i.add(s.onDidChangeValue(n=>{const t=this.registry.getQuickAccessProvider(n.substr(_.PREFIX.length));t&&t.prefix&&t.prefix!==_.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),s.items=this.getQuickAccessProviders().filter(n=>n.prefix!==_.PREFIX),i}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((i,n)=>i.prefix.localeCompare(n.prefix)).flatMap(i=>this.createPicks(i))}createPicks(s){return s.helpEntries.map(i=>{const n=i.prefix||s.prefix,t=n||"\u2026";return{prefix:n,label:t,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:(0,L.localize)(0,null,t,i.description),description:i.description}})}};e.HelpQuickAccessProvider=v,v.PREFIX="?",e.HelpQuickAccessProvider=v=_=Ie([ge(0,m.IQuickInputService),ge(1,D.IKeybindingService)],v)}),define(te[786],ie([1,0,35,134,93,785]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),L.Registry.as(I.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:y.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(te[787],ie([1,0,14,19,6,2,8,134,67,35]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let C=class extends D.Disposable{constructor(i,n){super(),this.quickInputService=i,this.instantiationService=n,this.registry=v.Registry.as(m.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",n){this.doShowOrPick(i,!1,n)}doShowOrPick(i,n,t){var r;const[u,f]=this.getOrInstantiateProvider(i),d=this.visibleQuickAccess,l=d?.descriptor;if(d&&f&&l===f){i!==f.prefix&&!t?.preserveValue&&(d.picker.value=i),this.adjustValueSelection(d.picker,f,t);return}if(f&&!t?.preserveValue){let h;if(d&&l&&l!==f){const p=d.value.substr(l.prefix.length);p&&(h=`${f.prefix}${p}`)}if(!h){const p=u?.defaultFilterValue;p===m.DefaultQuickAccessFilterValue.LAST?h=this.lastAcceptedPickerValues.get(f):typeof p=="string"&&(h=`${f.prefix}${p}`)}typeof h=="string"&&(i=h)}const o=new D.DisposableStore,c=o.add(this.quickInputService.createQuickPick());c.value=i,this.adjustValueSelection(c,f,t),c.placeholder=f?.placeholder,c.quickNavigate=t?.quickNavigateConfiguration,c.hideInput=!!c.quickNavigate&&!d,(typeof t?.itemActivation=="number"||t?.quickNavigateConfiguration)&&(c.itemActivation=(r=t?.itemActivation)!==null&&r!==void 0?r:_.ItemActivation.SECOND),c.contextKey=f?.contextKey,c.filterValue=h=>h.substring(f?f.prefix.length:0);let a;n&&(a=new L.DeferredPromise,o.add(y.Event.once(c.onWillAccept)(h=>{h.veto(),c.hide()}))),o.add(this.registerPickerListeners(c,u,f,i,t?.providerOptions));const g=o.add(new I.CancellationTokenSource);if(u&&o.add(u.provide(c,g.token,t?.providerOptions)),y.Event.once(c.onDidHide)(()=>{c.selectedItems.length===0&&g.cancel(),o.dispose(),a?.complete(c.selectedItems.slice(0))}),c.show(),n)return a?.p}adjustValueSelection(i,n,t){var r;let u;t?.preserveValue?u=[i.value.length,i.value.length]:u=[(r=n?.prefix.length)!==null&&r!==void 0?r:0,i.value.length],i.valueSelection=u}registerPickerListeners(i,n,t,r,u){const f=new D.DisposableStore,d=this.visibleQuickAccess={picker:i,descriptor:t,value:r};return f.add((0,D.toDisposable)(()=>{d===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),f.add(i.onDidChangeValue(l=>{const[o]=this.getOrInstantiateProvider(l);o!==n?this.show(l,{preserveValue:!0,providerOptions:u}):d.value=l})),t&&f.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(t,i.value)})),f}getOrInstantiateProvider(i){const n=this.registry.getQuickAccessProvider(i);if(!n)return[void 0,void 0];let t=this.mapProviderToDescriptor.get(n);return t||(t=this.instantiationService.createInstance(n.ctor),this.mapProviderToDescriptor.set(n,t)),[t,n]}};e.QuickAccessController=C,e.QuickAccessController=C=Ie([ge(0,_.IQuickInputService),ge(1,S.IInstantiationService)],C)}),define(te[788],ie([1,0,26,27,98,478]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var D;(function(S){function m(_){switch(_){case y.default.Ignore:return"severity-ignore "+I.ThemeIcon.asClassName(L.Codicon.info);case y.default.Info:return I.ThemeIcon.asClassName(L.Codicon.info);case y.default.Warning:return I.ThemeIcon.asClassName(L.Codicon.warning);case y.default.Error:return I.ThemeIcon.asClassName(L.Codicon.error);default:return""}}S.className=m})(D||(e.SeverityIcon=D={}))}),define(te[89],ie([1,0,6,2,20,591,8]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.loadKeyTargets=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,S.createDecorator)("storageService");var m;(function(s){s[s.NONE=0]="NONE",s[s.SHUTDOWN=1]="SHUTDOWN"})(m||(e.WillSaveStateReason=m={}));function _(s){const i=s.get(e.TARGET_KEY);if(i)try{return JSON.parse(i)}catch{}return Object.create(null)}e.loadKeyTargets=_;class v extends I.Disposable{constructor(i={flushInterval:v.DEFAULT_FLUSH_INTERVAL}){super(),this.options=i,this._onDidChangeValue=this._register(new L.PauseableEmitter),this._onDidChangeTarget=this._register(new L.PauseableEmitter),this._onWillSaveState=this._register(new L.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(i,n,t){return L.Event.filter(this._onDidChangeValue.event,r=>r.scope===i&&(n===void 0||r.key===n),t)}emitDidChangeValue(i,n){const{key:t,external:r}=n;if(t===e.TARGET_KEY){switch(i){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:i})}else this._onDidChangeValue.fire({scope:i,key:t,target:this.getKeyTargets(i)[t],external:r})}get(i,n,t){var r;return(r=this.getStorage(n))===null||r===void 0?void 0:r.get(i,t)}getBoolean(i,n,t){var r;return(r=this.getStorage(n))===null||r===void 0?void 0:r.getBoolean(i,t)}getNumber(i,n,t){var r;return(r=this.getStorage(n))===null||r===void 0?void 0:r.getNumber(i,t)}store(i,n,t,r,u=!1){if((0,y.isUndefinedOrNull)(n)){this.remove(i,t,u);return}this.withPausedEmitters(()=>{var f;this.updateKeyTarget(i,t,r),(f=this.getStorage(t))===null||f===void 0||f.set(i,n,u)})}remove(i,n,t=!1){this.withPausedEmitters(()=>{var r;this.updateKeyTarget(i,n,void 0),(r=this.getStorage(n))===null||r===void 0||r.delete(i,t)})}withPausedEmitters(i){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{i()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(i,n,t,r=!1){var u,f;const d=this.getKeyTargets(n);typeof t=="number"?d[i]!==t&&(d[i]=t,(u=this.getStorage(n))===null||u===void 0||u.set(e.TARGET_KEY,JSON.stringify(d),r)):typeof d[i]=="number"&&(delete d[i],(f=this.getStorage(n))===null||f===void 0||f.set(e.TARGET_KEY,JSON.stringify(d),r))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(i){switch(i){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(i){const n=this.getStorage(i);return n?_(n):Object.create(null)}}e.AbstractStorageService=v,v.DEFAULT_FLUSH_INTERVAL=60*1e3;class C extends v{constructor(){super(),this.applicationStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(i=>this.emitDidChangeValue(1,i))),this._register(this.profileStorage.onDidChangeStorage(i=>this.emitDidChangeValue(0,i))),this._register(this.applicationStorage.onDidChangeStorage(i=>this.emitDidChangeValue(-1,i)))}getStorage(i){switch(i){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=C}),define(te[789],ie([1,0,14,6,56,5,336,47,8,89]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,_.createDecorator)("ICodeLensCache");class C{constructor(n,t){this.lineCount=n,this.data=t}}let s=class{constructor(n){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.LRUCache(20,.75);const t="codelens/cache";(0,L.runWhenIdle)(()=>n.remove(t,1));const r="codelens/cache2",u=n.get(r,1,"{}");this._deserialize(u),I.Event.once(n.onWillSaveState)(f=>{f.reason===v.WillSaveStateReason.SHUTDOWN&&n.store(r,this._serialize(),1,1)})}put(n,t){const r=t.lenses.map(d=>{var l;return{range:d.symbol.range,command:d.symbol.command&&{id:"",title:(l=d.symbol.command)===null||l===void 0?void 0:l.title}}}),u=new S.CodeLensModel;u.add({lenses:r,dispose:()=>{}},this._fakeProvider);const f=new C(n.getLineCount(),u);this._cache.set(n.uri.toString(),f)}get(n){const t=this._cache.get(n.uri.toString());return t&&t.lineCount===n.getLineCount()?t.data:void 0}delete(n){this._cache.delete(n.uri.toString())}_serialize(){const n=Object.create(null);for(const[t,r]of this._cache){const u=new Set;for(const f of r.data.lenses)u.add(f.symbol.range.startLineNumber);n[t]={lineCount:r.lineCount,lines:[...u.values()]}}return JSON.stringify(n)}_deserialize(n){try{const t=JSON.parse(n);for(const r in t){const u=t[r],f=[];for(const l of u.lines)f.push({range:new D.Range(l,1,l,11)});const d=new S.CodeLensModel;d.add({lenses:f,dispose(){}},this._fakeProvider),this._cache.set(r,new C(u.lineCount,d))}}catch{}}};e.CodeLensCache=s,e.CodeLensCache=s=Ie([ge(0,v.IStorageService)],s),(0,m.registerSingleton)(e.ICodeLensCache,s,1)}),define(te[351],ie([1,0,14,2,56,197,29,28,47,8,89]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class i{constructor(d){this.name=d}select(d,l,o){if(o.length===0)return 0;const c=o[0].score[0];for(let a=0;a<o.length;a++){const{score:g,completion:h}=o[a];if(g[0]!==c)break;if(h.preselect)return a}return 0}}e.Memory=i;class n extends i{constructor(){super("first")}memorize(d,l,o){}toJSON(){}fromJSON(){}}e.NoMemory=n;class t extends i{constructor(){super("recentlyUsed"),this._cache=new y.LRUCache(300,.66),this._seq=0}memorize(d,l,o){const c=`${d.getLanguageId()}/${o.textLabel}`;this._cache.set(c,{touch:this._seq++,type:o.completion.kind,insertText:o.completion.insertText})}select(d,l,o){if(o.length===0)return 0;const c=d.getLineContent(l.lineNumber).substr(l.column-10,l.column-1);if(/\s$/.test(c))return super.select(d,l,o);const a=o[0].score[0];let g=-1,h=-1,p=-1;for(let b=0;b<o.length&&o[b].score[0]===a;b++){const w=`${d.getLanguageId()}/${o[b].textLabel}`,E=this._cache.peek(w);if(E&&E.touch>p&&E.type===o[b].completion.kind&&E.insertText===o[b].completion.insertText&&(p=E.touch,h=b),o[b].completion.preselect&&g===-1)return g=b}return h!==-1?h:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(d){this._cache.clear();const l=0;for(const[o,c]of d)c.touch=l,c.type=typeof c.type=="number"?c.type:S.CompletionItemKinds.fromString(c.type),this._cache.set(o,c);this._seq=this._cache.size}}e.LRUMemory=t;class r extends i{constructor(){super("recentlyUsedByPrefix"),this._trie=D.TernarySearchTree.forStrings(),this._seq=0}memorize(d,l,o){const{word:c}=d.getWordUntilPosition(l),a=`${d.getLanguageId()}/${c}`;this._trie.set(a,{type:o.completion.kind,insertText:o.completion.insertText,touch:this._seq++})}select(d,l,o){const{word:c}=d.getWordUntilPosition(l);if(!c)return super.select(d,l,o);const a=`${d.getLanguageId()}/${c}`;let g=this._trie.get(a);if(g||(g=this._trie.findSubstr(a)),g)for(let h=0;h<o.length;h++){const{kind:p,insertText:b}=o[h].completion;if(p===g.type&&b===g.insertText)return h}return super.select(d,l,o)}toJSON(){const d=[];return this._trie.forEach((l,o)=>d.push([o,l])),d.sort((l,o)=>-(l[1].touch-o[1].touch)).forEach((l,o)=>l[1].touch=o),d.slice(0,200)}fromJSON(d){if(this._trie.clear(),d.length>0){this._seq=d[0][1].touch+1;for(const[l,o]of d)o.type=typeof o.type=="number"?o.type:S.CompletionItemKinds.fromString(o.type),this._trie.set(l,o)}}}e.PrefixMemory=r;let u=s=class{constructor(d,l){this._storageService=d,this._configService=l,this._disposables=new I.DisposableStore,this._persistSoon=new L.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(d.onWillSaveState(o=>{o.reason===C.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(d,l,o){this._withStrategy(d,l).memorize(d,l,o),this._persistSoon.schedule()}select(d,l,o){return this._withStrategy(d,l).select(d,l,o)}_withStrategy(d,l){var o;const c=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:d.getLanguageIdAtPosition(l.lineNumber,l.column),resource:d.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==c){this._saveState();const a=s._strategyCtors.get(c)||n;this._strategy=new a;try{const h=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,p=this._storageService.get(`${s._storagePrefix}/${c}`,h);p&&this._strategy.fromJSON(JSON.parse(p))}catch{}}return this._strategy}_saveState(){if(this._strategy){const l=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,o=JSON.stringify(this._strategy);this._storageService.store(`${s._storagePrefix}/${this._strategy.name}`,o,l,1)}}};e.SuggestMemoryService=u,u._strategyCtors=new Map([["recentlyUsedByPrefix",r],["recentlyUsed",t],["first",n]]),u._storagePrefix="suggest/memories",e.SuggestMemoryService=u=s=Ie([ge(0,C.IStorageService),ge(1,m.IConfigurationService)],u),e.ISuggestMemoryService=(0,v.createDecorator)("ISuggestMemories"),(0,_.registerSingleton)(e.ISuggestMemoryService,u,1)}),define(te[790],ie([1,0,14,6,2,30,25,15,41,89,13,720]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";var i,n;Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let t=class{constructor(o,c){this._commandService=o,this._hiddenStates=new r(c)}createMenu(o,c,a){return new f(o,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},a),this._commandService,c)}resetHiddenStates(o){this._hiddenStates.reset(o)}};e.MenuService=t,e.MenuService=t=Ie([ge(0,S.ICommandService),ge(1,v.IStorageService)],t);let r=i=class{constructor(o){this._storageService=o,this._disposables=new y.DisposableStore,this._onDidChange=new I.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const c=o.get(i._key,0,"{}");this._data=JSON.parse(c)}catch{this._data=Object.create(null)}this._disposables.add(o.onDidChangeValue(0,i._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const c=o.get(i._key,0,"{}");this._data=JSON.parse(c)}catch(c){console.log("FAILED to read storage after UPDATE",c)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(o,c){var a;return(a=this._hiddenByDefaultCache.get(`${o.id}/${c}`))!==null&&a!==void 0?a:!1}setDefaultState(o,c,a){this._hiddenByDefaultCache.set(`${o.id}/${c}`,a)}isHidden(o,c){var a,g;const h=this._isHiddenByDefault(o,c),p=(g=(a=this._data[o.id])===null||a===void 0?void 0:a.includes(c))!==null&&g!==void 0?g:!1;return h?!p:p}updateHidden(o,c,a){this._isHiddenByDefault(o,c)&&(a=!a);const h=this._data[o.id];if(a)h?h.indexOf(c)<0&&h.push(c):this._data[o.id]=[c];else if(h){const p=h.indexOf(c);p>=0&&(0,C.removeFastWithoutKeepingOrder)(h,p),h.length===0&&delete this._data[o.id]}this._persist()}reset(o){if(o===void 0)this._data=Object.create(null),this._persist();else{for(const{id:c}of o)this._data[c]&&delete this._data[c];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const o=JSON.stringify(this._data);this._storageService.store(i._key,o,0,0)}finally{this._ignoreChangeEvent=!1}}};r._key="menu.hiddenCommands",r=i=Ie([ge(0,v.IStorageService)],r);let u=n=class{constructor(o,c,a,g,h){this._id=o,this._hiddenStates=c,this._collectContextKeysForSubmenus=a,this._commandService=g,this._contextKeyService=h,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const o=D.MenuRegistry.getMenuItems(this._id);let c;o.sort(n._compareMenuItems);for(const a of o){const g=a.group||"";(!c||c[0]!==g)&&(c=[g,[]],this._menuGroups.push(c)),c[1].push(a),this._collectContextKeys(a)}}_collectContextKeys(o){if(n._fillInKbExprKeys(o.when,this._structureContextKeys),(0,D.isIMenuItem)(o)){if(o.command.precondition&&n._fillInKbExprKeys(o.command.precondition,this._preconditionContextKeys),o.command.toggled){const c=o.command.toggled.condition||o.command.toggled;n._fillInKbExprKeys(c,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&D.MenuRegistry.getMenuItems(o.submenu).forEach(this._collectContextKeys,this)}createActionGroups(o){const c=[];for(const a of this._menuGroups){const[g,h]=a,p=[];for(const b of h)if(this._contextKeyService.contextMatchesRules(b.when)){const w=(0,D.isIMenuItem)(b);w&&this._hiddenStates.setDefaultState(this._id,b.command.id,!!b.isHiddenByDefault);const E=d(this._id,w?b.command:b,this._hiddenStates);if(w)p.push(new D.MenuItemAction(b.command,b.alt,o,E,this._contextKeyService,this._commandService));else{const k=new n(b.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(o),M=_.Separator.join(...k.map(R=>R[1]));M.length>0&&p.push(new D.SubmenuItemAction(b,E,M))}}p.length>0&&c.push([g,p])}return c}static _fillInKbExprKeys(o,c){if(o)for(const a of o.keys())c.add(a)}static _compareMenuItems(o,c){const a=o.group,g=c.group;if(a!==g){if(a){if(!g)return-1}else return 1;if(a==="navigation")return-1;if(g==="navigation")return 1;const b=a.localeCompare(g);if(b!==0)return b}const h=o.order||0,p=c.order||0;return h<p?-1:h>p?1:n._compareTitles((0,D.isIMenuItem)(o)?o.command.title:o.title,(0,D.isIMenuItem)(c)?c.command.title:c.title)}static _compareTitles(o,c){const a=typeof o=="string"?o:o.original,g=typeof c=="string"?c:c.original;return a.localeCompare(g)}};u=n=Ie([ge(3,S.ICommandService),ge(4,m.IContextKeyService)],u);let f=class{constructor(o,c,a,g,h){this._disposables=new y.DisposableStore,this._menuInfo=new u(o,c,a.emitEventsForSubmenuChanges,g,h);const p=new L.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},a.eventDebounceDelay);this._disposables.add(p),this._disposables.add(D.MenuRegistry.onDidChangeMenu(k=>{k.has(o)&&p.schedule()}));const b=this._disposables.add(new y.DisposableStore),w=k=>{let M=!1,R=!1,B=!1;for(const T of k)if(M=M||T.isStructuralChange,R=R||T.isEnablementChange,B=B||T.isToggleChange,M&&R&&B)break;return{menu:this,isStructuralChange:M,isEnablementChange:R,isToggleChange:B}},E=()=>{b.add(h.onDidChangeContext(k=>{const M=k.affectsSome(this._menuInfo.structureContextKeys),R=k.affectsSome(this._menuInfo.preconditionContextKeys),B=k.affectsSome(this._menuInfo.toggledContextKeys);(M||R||B)&&this._onDidChange.fire({menu:this,isStructuralChange:M,isEnablementChange:R,isToggleChange:B})})),b.add(c.onDidChange(k=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new I.DebounceEmitter({onWillAddFirstListener:E,onDidRemoveLastListener:b.clear.bind(b),delay:a.eventDebounceDelay,merge:w}),this.onDidChange=this._onDidChange.event}getActions(o){return this._menuInfo.createActionGroups(o)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};f=Ie([ge(3,S.ICommandService),ge(4,m.IContextKeyService)],f);function d(l,o,c){const a=(0,D.isISubmenuItem)(o)?o.submenu.id:o.id,g=typeof o.title=="string"?o.title:o.title.value,h=(0,_.toAction)({id:`hide/${l.id}/${a}`,label:(0,s.localize)(0,null,g),run(){c.updateHidden(l,a,!0)}}),p=(0,_.toAction)({id:`toggle/${l.id}/${a}`,label:g,get checked(){return!c.isHidden(l,a)},run(){c.updateHidden(l,a,!!this.checked)}});return{hide:h,toggle:p,get isHidden(){return!p.checked}}}}),define(te[76],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,L.createDecorator)("telemetryService")}),define(te[16],ie([1,0,607,21,33,12,50,65,30,25,15,8,117,35,76,20,66,7]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class d{constructor(P){this.id=P.id,this.precondition=P.precondition,this._kbOpts=P.kbOpts,this._menuOpts=P.menuOpts,this._description=P.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const P=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const O of P){let x=O.kbExpr;this.precondition&&(x?x=C.ContextKeyExpr.and(x,this.precondition):x=this.precondition);const W={id:this.id,weight:O.weight,args:O.args,when:x,primary:O.primary,secondary:O.secondary,win:O.win,linux:O.linux,mac:O.mac};i.KeybindingsRegistry.registerKeybindingRule(W)}}v.CommandsRegistry.registerCommand({id:this.id,handler:(P,O)=>this.runCommand(P,O),description:this._description})}_registerMenuItem(P){_.MenuRegistry.appendMenuItem(P.menuId,{group:P.group,command:{id:this.id,title:P.title,icon:P.icon,precondition:this.precondition},when:P.when,order:P.order})}}e.Command=d;class l extends d{constructor(){super(...arguments),this._implementations=[]}addImplementation(P,O,x,W){return this._implementations.push({priority:P,name:O,implementation:x,when:W}),this._implementations.sort((U,F)=>F.priority-U.priority),{dispose:()=>{for(let U=0;U<this._implementations.length;U++)if(this._implementations[U].implementation===x){this._implementations.splice(U,1);return}}}}runCommand(P,O){const x=P.get(u.ILogService),W=P.get(C.IContextKeyService);x.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const U of this._implementations){if(U.when){const G=W.getContext((0,f.getActiveElement)());if(!U.when.evaluate(G))continue}const F=U.implementation(P,O);if(F)return x.trace(`Command '${this.id}' was handled by '${U.name}'.`),typeof F=="boolean"?void 0:F}x.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=l;class o extends d{constructor(P,O){super(O),this.command=P}runCommand(P,O){return this.command.runCommand(P,O)}}e.ProxyCommand=o;class c extends d{static bindToContribution(P){return class extends c{constructor(x){super(x),this._callback=x.handler}runEditorCommand(x,W,U){const F=P(W);F&&this._callback(F,U)}}}static runEditorCommand(P,O,x,W){const U=P.get(y.ICodeEditorService),F=U.getFocusedCodeEditor()||U.getActiveCodeEditor();if(F)return F.invokeWithinContext(G=>{if(G.get(C.IContextKeyService).contextMatchesRules(x??void 0))return W(G,F,O)})}runCommand(P,O){return c.runEditorCommand(P,O,this.precondition,(x,W,U)=>this.runEditorCommand(x,W,U))}}e.EditorCommand=c;class a extends c{static convertOptions(P){let O;Array.isArray(P.menuOpts)?O=P.menuOpts:P.menuOpts?O=[P.menuOpts]:O=[];function x(W){return W.menuId||(W.menuId=_.MenuId.EditorContext),W.title||(W.title=P.label),W.when=C.ContextKeyExpr.and(P.precondition,W.when),W}return Array.isArray(P.contextMenuOpts)?O.push(...P.contextMenuOpts.map(x)):P.contextMenuOpts&&O.push(x(P.contextMenuOpts)),P.menuOpts=O,P}constructor(P){super(a.convertOptions(P)),this.label=P.label,this.alias=P.alias}runEditorCommand(P,O,x){return this.reportTelemetry(P,O),this.run(P,O,x||{})}reportTelemetry(P,O){P.get(t.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=a;class g extends a{constructor(){super(...arguments),this._implementations=[]}addImplementation(P,O){return this._implementations.push([P,O]),this._implementations.sort((x,W)=>W[0]-x[0]),{dispose:()=>{for(let x=0;x<this._implementations.length;x++)if(this._implementations[x][1]===O){this._implementations.splice(x,1);return}}}}run(P,O,x){for(const W of this._implementations){const U=W[1](P,O,x);if(U)return typeof U=="boolean"?void 0:U}}}e.MultiEditorAction=g;class h extends _.Action2{run(P,...O){const x=P.get(y.ICodeEditorService),W=x.getFocusedCodeEditor()||x.getActiveCodeEditor();if(W)return W.invokeWithinContext(U=>{var F,G;const Y=U.get(C.IContextKeyService),ne=U.get(u.ILogService);if(!Y.contextMatchesRules((F=this.desc.precondition)!==null&&F!==void 0?F:void 0)){ne.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(G=this.desc.precondition)===null||G===void 0?void 0:G.serialize());return}return this.runEditorCommand(U,W,...O)})}}e.EditorAction2=h;function p(A,P){v.CommandsRegistry.registerCommand(A,function(O,...x){const W=O.get(s.IInstantiationService),[U,F]=x;(0,r.assertType)(I.URI.isUri(U)),(0,r.assertType)(D.Position.isIPosition(F));const G=O.get(S.IModelService).getModel(U);if(G){const Y=D.Position.lift(F);return W.invokeFunction(P,G,Y,...x.slice(2))}return O.get(m.ITextModelService).createModelReference(U).then(Y=>new Promise((ne,se)=>{try{const J=W.invokeFunction(P,Y.object.textEditorModel,D.Position.lift(F),x.slice(2));ne(J)}catch(J){se(J)}}).finally(()=>{Y.dispose()}))})}e.registerModelAndPositionCommand=p;function b(A){return T.INSTANCE.registerEditorCommand(A),A}e.registerEditorCommand=b;function w(A){const P=new A;return T.INSTANCE.registerEditorAction(P),P}e.registerEditorAction=w;function E(A){return T.INSTANCE.registerEditorAction(A),A}e.registerMultiEditorAction=E;function k(A){T.INSTANCE.registerEditorAction(A)}e.registerInstantiatedEditorAction=k;function M(A,P,O){T.INSTANCE.registerEditorContribution(A,P,O)}e.registerEditorContribution=M;var R;(function(A){function P(F){return T.INSTANCE.getEditorCommand(F)}A.getEditorCommand=P;function O(){return T.INSTANCE.getEditorActions()}A.getEditorActions=O;function x(){return T.INSTANCE.getEditorContributions()}A.getEditorContributions=x;function W(F){return T.INSTANCE.getEditorContributions().filter(G=>F.indexOf(G.id)>=0)}A.getSomeEditorContributions=W;function U(){return T.INSTANCE.getDiffEditorContributions()}A.getDiffEditorContributions=U})(R||(e.EditorExtensionsRegistry=R={}));const B={EditorCommonContributions:"editor.contributions"};class T{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(P,O,x){this.editorContributions.push({id:P,ctor:O,instantiation:x})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(P){P.register(),this.editorActions.push(P)}getEditorActions(){return this.editorActions}registerEditorCommand(P){P.register(),this.editorCommands[P.id]=P}getEditorCommand(P){return this.editorCommands[P]||null}}T.INSTANCE=new T,n.Registry.add(B.EditorCommonContributions,T.INSTANCE);function N(A){return A.register(),A}e.UndoCommand=N(new l({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:_.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(0,null),order:1},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(1,null),order:1}]})),N(new o(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=N(new l({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:_.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(2,null),order:2},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(3,null),order:1}]})),N(new o(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=N(new l({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:_.MenuId.MenubarSelectionMenu,group:"1_basic",title:L.localize(4,null),order:1},{menuId:_.MenuId.CommandPalette,group:"",title:L.localize(5,null),order:1}]}))}),define(te[188],ie([1,0,606,51,20,45,16,33,499,72,205,206,245,12,5,22,15,117,7]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const l=0;class o extends S.EditorCommand{runEditorCommand(B,T,N){const A=T._getViewModel();A&&this.runCoreEditorCommand(A,N||{})}}e.CoreEditorCommand=o;var c;(function(R){const B=function(N){if(!y.isObject(N))return!1;const A=N;return!(!y.isString(A.to)||!y.isUndefined(A.by)&&!y.isString(A.by)||!y.isUndefined(A.value)&&!y.isNumber(A.value)||!y.isUndefined(A.revealCursor)&&!y.isBoolean(A.revealCursor))};R.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:B,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},R.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},R.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function T(N){let A;switch(N.to){case R.RawDirection.Up:A=1;break;case R.RawDirection.Right:A=2;break;case R.RawDirection.Down:A=3;break;case R.RawDirection.Left:A=4;break;default:return null}let P;switch(N.by){case R.RawUnit.Line:P=1;break;case R.RawUnit.WrappedLine:P=2;break;case R.RawUnit.Page:P=3;break;case R.RawUnit.HalfPage:P=4;break;case R.RawUnit.Editor:P=5;break;case R.RawUnit.Column:P=6;break;default:P=2}const O=Math.floor(N.value||1),x=!!N.revealCursor;return{direction:A,unit:P,value:O,revealCursor:x,select:!!N.select}}R.parse=T})(c||(e.EditorScroll_=c={}));var a;(function(R){const B=function(T){if(!y.isObject(T))return!1;const N=T;return!(!y.isNumber(N.lineNumber)&&!y.isString(N.lineNumber)||!y.isUndefined(N.at)&&!y.isString(N.at))};R.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:B,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},R.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(a||(e.RevealLine_=a={}));class g{constructor(B){B.addImplementation(1e4,"code-editor",(T,N)=>{const A=T.get(m.ICodeEditorService).getFocusedCodeEditor();return A&&A.hasTextFocus()?this._runEditorCommand(T,A,N):!1}),B.addImplementation(1e3,"generic-dom-input-textarea",(T,N)=>{const A=(0,d.getActiveElement)();return A&&["input","textarea"].indexOf(A.tagName.toLowerCase())>=0?(this.runDOMCommand(A),!0):!1}),B.addImplementation(0,"generic-dom",(T,N)=>{const A=T.get(m.ICodeEditorService).getActiveCodeEditor();return A?(A.focus(),this._runEditorCommand(T,A,N)):!1})}_runEditorCommand(B,T,N){const A=this.runEditorCommand(B,T,N);return A||!0}}var h;(function(R){class B extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){if(!Z.position)return;V.model.pushStackElement(),V.setCursorStates(Z.source,3,[s.CursorMoveCommands.moveTo(V,V.getPrimaryCursorState(),this._inSelectionMode,Z.position,Z.viewPosition)])&&Z.revealType!==2&&V.revealPrimaryCursor(Z.source,!0,!0)}}R.MoveTo=(0,S.registerEditorCommand)(new B({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),R.MoveToSelect=(0,S.registerEditorCommand)(new B({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class T extends o{runCoreEditorCommand(V,Z){V.model.pushStackElement();const ee=this._getColumnSelectResult(V,V.getPrimaryCursorState(),V.getCursorColumnSelectData(),Z);ee!==null&&(V.setCursorStates(Z.source,3,ee.viewStates.map(le=>v.CursorState.fromViewState(le))),V.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ee.fromLineNumber,fromViewVisualColumn:ee.fromVisualColumn,toViewLineNumber:ee.toLineNumber,toViewVisualColumn:ee.toVisualColumn}),ee.reversed?V.revealTopMostCursor(Z.source):V.revealBottomMostCursor(Z.source))}}R.ColumnSelect=(0,S.registerEditorCommand)(new class extends T{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(H,V,Z,ee){if(typeof ee.position>"u"||typeof ee.viewPosition>"u"||typeof ee.mouseColumn>"u")return null;const le=H.model.validatePosition(ee.position),ue=H.coordinatesConverter.validateViewPosition(new n.Position(ee.viewPosition.lineNumber,ee.viewPosition.column),le),de=ee.doColumnSelect?Z.fromViewLineNumber:ue.lineNumber,ce=ee.doColumnSelect?Z.fromViewVisualColumn:ee.mouseColumn-1;return _.ColumnSelection.columnSelect(H.cursorConfig,H,de,ce,ue.lineNumber,ee.mouseColumn-1)}}),R.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends T{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(H,V,Z,ee){return _.ColumnSelection.columnSelectLeft(H.cursorConfig,H,Z)}}),R.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends T{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(H,V,Z,ee){return _.ColumnSelection.columnSelectRight(H.cursorConfig,H,Z)}});class N extends T{constructor(V){super(V),this._isPaged=V.isPaged}_getColumnSelectResult(V,Z,ee,le){return _.ColumnSelection.columnSelectUp(V.cursorConfig,V,ee,this._isPaged)}}R.CursorColumnSelectUp=(0,S.registerEditorCommand)(new N({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),R.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new N({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class A extends T{constructor(V){super(V),this._isPaged=V.isPaged}_getColumnSelectResult(V,Z,ee,le){return _.ColumnSelection.columnSelectDown(V.cursorConfig,V,ee,this._isPaged)}}R.CursorColumnSelectDown=(0,S.registerEditorCommand)(new A({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),R.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new A({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class P extends o{constructor(){super({id:"cursorMove",precondition:void 0,description:s.CursorMove.description})}runCoreEditorCommand(V,Z){const ee=s.CursorMove.parse(Z);ee&&this._runCursorMove(V,Z.source,ee)}_runCursorMove(V,Z,ee){V.model.pushStackElement(),V.setCursorStates(Z,3,P._move(V,V.getCursorStates(),ee)),V.revealPrimaryCursor(Z,!0)}static _move(V,Z,ee){const le=ee.select,ue=ee.value;switch(ee.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s.CursorMoveCommands.simpleMove(V,Z,ee.direction,le,ue,ee.unit);case 11:case 13:case 12:case 14:return s.CursorMoveCommands.viewportMove(V,Z,ee.direction,le,ue);default:return null}}}R.CursorMoveImpl=P,R.CursorMove=(0,S.registerEditorCommand)(new P);class O extends o{constructor(V){super(V),this._staticArgs=V.args}runCoreEditorCommand(V,Z){let ee=this._staticArgs;this._staticArgs.value===-1&&(ee={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Z.pageSize||V.cursorConfig.pageSize}),V.model.pushStackElement(),V.setCursorStates(Z.source,3,s.CursorMoveCommands.simpleMove(V,V.getCursorStates(),ee.direction,ee.select,ee.value,ee.unit)),V.revealPrimaryCursor(Z.source,!0)}}R.CursorLeft=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),R.CursorLeftSelect=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:1039}})),R.CursorRight=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),R.CursorRightSelect=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:1041}})),R.CursorUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),R.CursorUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),R.CursorPageUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:11}})),R.CursorPageUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:1035}})),R.CursorDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),R.CursorDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),R.CursorPageDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:12}})),R.CursorPageDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:1036}})),R.CreateCursor=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(H,V){if(!V.position)return;let Z;V.wholeLine?Z=s.CursorMoveCommands.line(H,H.getPrimaryCursorState(),!1,V.position,V.viewPosition):Z=s.CursorMoveCommands.moveTo(H,H.getPrimaryCursorState(),!1,V.position,V.viewPosition);const ee=H.getCursorStates();if(ee.length>1){const le=Z.modelState?Z.modelState.position:null,ue=Z.viewState?Z.viewState.position:null;for(let de=0,ce=ee.length;de<ce;de++){const ae=ee[de];if(!(le&&!ae.modelState.selection.containsPosition(le))&&!(ue&&!ae.viewState.selection.containsPosition(ue))){ee.splice(de,1),H.model.pushStackElement(),H.setCursorStates(V.source,3,ee);return}}}ee.push(Z),H.model.pushStackElement(),H.setCursorStates(V.source,3,ee)}}),R.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(H,V){if(!V.position)return;const Z=H.getLastAddedCursorIndex(),ee=H.getCursorStates(),le=ee.slice(0);le[Z]=s.CursorMoveCommands.moveTo(H,ee[Z],!0,V.position,V.viewPosition),H.model.pushStackElement(),H.setCursorStates(V.source,3,le)}});class x extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){V.model.pushStackElement(),V.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToBeginningOfLine(V,V.getCursorStates(),this._inSelectionMode)),V.revealPrimaryCursor(Z.source,!0)}}R.CursorHome=(0,S.registerEditorCommand)(new x({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),R.CursorHomeSelect=(0,S.registerEditorCommand)(new x({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class W extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){V.model.pushStackElement(),V.setCursorStates(Z.source,3,this._exec(V.getCursorStates())),V.revealPrimaryCursor(Z.source,!0)}_exec(V){const Z=[];for(let ee=0,le=V.length;ee<le;ee++){const ue=V[ee],de=ue.modelState.position.lineNumber;Z[ee]=v.CursorState.fromModelState(ue.modelState.move(this._inSelectionMode,de,1,0))}return Z}}R.CursorLineStart=(0,S.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),R.CursorLineStartSelect=(0,S.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class U extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){V.model.pushStackElement(),V.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToEndOfLine(V,V.getCursorStates(),this._inSelectionMode,Z.sticky||!1)),V.revealPrimaryCursor(Z.source,!0)}}R.CursorEnd=(0,S.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(0,null),type:"boolean",default:!1}}}}]}})),R.CursorEndSelect=(0,S.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(1,null),type:"boolean",default:!1}}}}]}}));class F extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){V.model.pushStackElement(),V.setCursorStates(Z.source,3,this._exec(V,V.getCursorStates())),V.revealPrimaryCursor(Z.source,!0)}_exec(V,Z){const ee=[];for(let le=0,ue=Z.length;le<ue;le++){const de=Z[le],ce=de.modelState.position.lineNumber,ae=V.model.getLineMaxColumn(ce);ee[le]=v.CursorState.fromModelState(de.modelState.move(this._inSelectionMode,ce,ae,0))}return ee}}R.CursorLineEnd=(0,S.registerEditorCommand)(new F({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),R.CursorLineEndSelect=(0,S.registerEditorCommand)(new F({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class G extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){V.model.pushStackElement(),V.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToBeginningOfBuffer(V,V.getCursorStates(),this._inSelectionMode)),V.revealPrimaryCursor(Z.source,!0)}}R.CursorTop=(0,S.registerEditorCommand)(new G({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),R.CursorTopSelect=(0,S.registerEditorCommand)(new G({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class Y extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){V.model.pushStackElement(),V.setCursorStates(Z.source,3,s.CursorMoveCommands.moveToEndOfBuffer(V,V.getCursorStates(),this._inSelectionMode)),V.revealPrimaryCursor(Z.source,!0)}}R.CursorBottom=(0,S.registerEditorCommand)(new Y({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),R.CursorBottomSelect=(0,S.registerEditorCommand)(new Y({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class ne extends o{constructor(){super({id:"editorScroll",precondition:void 0,description:c.description})}determineScrollMethod(V){const Z=[6],ee=[1,2,3,4,5,6],le=[4,2],ue=[1,3];return Z.includes(V.unit)&&le.includes(V.direction)?this._runHorizontalEditorScroll.bind(this):ee.includes(V.unit)&&ue.includes(V.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(V,Z){const ee=c.parse(Z);if(!ee)return;const le=this.determineScrollMethod(ee);le&&le(V,Z.source,ee)}_runVerticalEditorScroll(V,Z,ee){const le=this._computeDesiredScrollTop(V,ee);if(ee.revealCursor){const ue=V.getCompletelyVisibleViewRangeAtScrollTop(le);V.setCursorStates(Z,3,[s.CursorMoveCommands.findPositionInViewportIfOutside(V,V.getPrimaryCursorState(),ue,ee.select)])}V.viewLayout.setScrollPosition({scrollTop:le},0)}_computeDesiredScrollTop(V,Z){if(Z.unit===1){const ue=V.viewLayout.getFutureViewport(),de=V.getCompletelyVisibleViewRangeAtScrollTop(ue.top),ce=V.coordinatesConverter.convertViewRangeToModelRange(de);let ae;Z.direction===1?ae=Math.max(1,ce.startLineNumber-Z.value):ae=Math.min(V.model.getLineCount(),ce.startLineNumber+Z.value);const X=V.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(ae,1));return V.viewLayout.getVerticalOffsetForLineNumber(X.lineNumber)}if(Z.unit===5){let ue=0;return Z.direction===3&&(ue=V.model.getLineCount()-V.cursorConfig.pageSize),V.viewLayout.getVerticalOffsetForLineNumber(ue)}let ee;Z.unit===3?ee=V.cursorConfig.pageSize*Z.value:Z.unit===4?ee=Math.round(V.cursorConfig.pageSize/2)*Z.value:ee=Z.value;const le=(Z.direction===1?-1:1)*ee;return V.viewLayout.getCurrentScrollTop()+le*V.cursorConfig.lineHeight}_runHorizontalEditorScroll(V,Z,ee){const le=this._computeDesiredScrollLeft(V,ee);V.viewLayout.setScrollPosition({scrollLeft:le},0)}_computeDesiredScrollLeft(V,Z){const ee=(Z.direction===4?-1:1)*Z.value;return V.viewLayout.getCurrentScrollLeft()+ee*V.cursorConfig.typicalHalfwidthCharacterWidth}}R.EditorScrollImpl=ne,R.EditorScroll=(0,S.registerEditorCommand)(new ne),R.ScrollLineUp=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(H,V){R.EditorScroll.runCoreEditorCommand(H,{to:c.RawDirection.Up,by:c.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:V.source})}}),R.ScrollPageUp=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(H,V){R.EditorScroll.runCoreEditorCommand(H,{to:c.RawDirection.Up,by:c.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:V.source})}}),R.ScrollEditorTop=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,V){R.EditorScroll.runCoreEditorCommand(H,{to:c.RawDirection.Up,by:c.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:V.source})}}),R.ScrollLineDown=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(H,V){R.EditorScroll.runCoreEditorCommand(H,{to:c.RawDirection.Down,by:c.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:V.source})}}),R.ScrollPageDown=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(H,V){R.EditorScroll.runCoreEditorCommand(H,{to:c.RawDirection.Down,by:c.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:V.source})}}),R.ScrollEditorBottom=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,V){R.EditorScroll.runCoreEditorCommand(H,{to:c.RawDirection.Down,by:c.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:V.source})}}),R.ScrollLeft=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,V){R.EditorScroll.runCoreEditorCommand(H,{to:c.RawDirection.Left,by:c.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:V.source})}}),R.ScrollRight=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(H,V){R.EditorScroll.runCoreEditorCommand(H,{to:c.RawDirection.Right,by:c.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:V.source})}});class se extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){Z.position&&(V.model.pushStackElement(),V.setCursorStates(Z.source,3,[s.CursorMoveCommands.word(V,V.getPrimaryCursorState(),this._inSelectionMode,Z.position)]),Z.revealType!==2&&V.revealPrimaryCursor(Z.source,!0,!0))}}R.WordSelect=(0,S.registerEditorCommand)(new se({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),R.WordSelectDrag=(0,S.registerEditorCommand)(new se({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),R.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(H,V){if(!V.position)return;const Z=H.getLastAddedCursorIndex(),ee=H.getCursorStates(),le=ee.slice(0),ue=ee[Z];le[Z]=s.CursorMoveCommands.word(H,ue,ue.modelState.hasSelection(),V.position),H.model.pushStackElement(),H.setCursorStates(V.source,3,le)}});class J extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){Z.position&&(V.model.pushStackElement(),V.setCursorStates(Z.source,3,[s.CursorMoveCommands.line(V,V.getPrimaryCursorState(),this._inSelectionMode,Z.position,Z.viewPosition)]),Z.revealType!==2&&V.revealPrimaryCursor(Z.source,!1,!0))}}R.LineSelect=(0,S.registerEditorCommand)(new J({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),R.LineSelectDrag=(0,S.registerEditorCommand)(new J({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class q extends o{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,Z){if(!Z.position)return;const ee=V.getLastAddedCursorIndex(),le=V.getCursorStates(),ue=le.slice(0);ue[ee]=s.CursorMoveCommands.line(V,le[ee],this._inSelectionMode,Z.position,Z.viewPosition),V.model.pushStackElement(),V.setCursorStates(Z.source,3,ue)}}R.LastCursorLineSelect=(0,S.registerEditorCommand)(new q({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),R.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new q({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),R.CancelSelection=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"cancelSelection",precondition:r.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(H,V){H.model.pushStackElement(),H.setCursorStates(V.source,3,[s.CursorMoveCommands.cancelSelection(H,H.getPrimaryCursorState())]),H.revealPrimaryCursor(V.source,!0)}}),R.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"removeSecondaryCursors",precondition:r.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:l+1,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(H,V){H.model.pushStackElement(),H.setCursorStates(V.source,3,[H.getPrimaryCursorState()]),H.revealPrimaryCursor(V.source,!0),(0,D.status)(L.localize(2,null))}}),R.RevealLine=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"revealLine",precondition:void 0,description:a.description})}runCoreEditorCommand(H,V){const Z=V,ee=Z.lineNumber||0;let le=typeof ee=="number"?ee+1:parseInt(ee)+1;le<1&&(le=1);const ue=H.model.getLineCount();le>ue&&(le=ue);const de=new t.Range(le,1,le,H.model.getLineMaxColumn(le));let ce=0;if(Z.at)switch(Z.at){case a.RawAtArgument.Top:ce=3;break;case a.RawAtArgument.Center:ce=1;break;case a.RawAtArgument.Bottom:ce=4;break;default:break}const ae=H.coordinatesConverter.convertModelRangeToViewRange(de);H.revealRange(V.source,!1,ae,ce,0)}}),R.SelectAll=new class extends g{constructor(){super(S.SelectAllCommand)}runDOMCommand(H){I.isFirefox&&(H.focus(),H.select()),H.ownerDocument.execCommand("selectAll")}runEditorCommand(H,V,Z){const ee=V._getViewModel();ee&&this.runCoreEditorCommand(ee,Z)}runCoreEditorCommand(H,V){H.model.pushStackElement(),H.setCursorStates("keyboard",3,[s.CursorMoveCommands.selectAll(H,H.getPrimaryCursorState())])}},R.SetSelection=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(H,V){V.selection&&(H.model.pushStackElement(),H.setCursorStates(V.source,3,[v.CursorState.fromModelSelection(V.selection)]))}})})(h||(e.CoreNavigationCommands=h={}));const p=u.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,r.EditorContextKeys.columnSelection);function b(R,B){f.KeybindingsRegistry.registerKeybindingRule({id:R,primary:B,when:p,weight:l+1})}b(h.CursorColumnSelectLeft.id,1039),b(h.CursorColumnSelectRight.id,1041),b(h.CursorColumnSelectUp.id,1040),b(h.CursorColumnSelectPageUp.id,1035),b(h.CursorColumnSelectDown.id,1042),b(h.CursorColumnSelectPageDown.id,1036);function w(R){return R.register(),R}var E;(function(R){class B extends S.EditorCommand{runEditorCommand(N,A,P){const O=A._getViewModel();O&&this.runCoreEditingCommand(A,O,P||{})}}R.CoreEditingCommand=B,R.LineBreakInsert=(0,S.registerEditorCommand)(new class extends B{constructor(){super({id:"lineBreakInsert",precondition:r.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(T,N,A){T.pushUndoStop(),T.executeCommands(this.id,i.TypeOperations.lineBreakInsert(N.cursorConfig,N.model,N.getCursorStates().map(P=>P.modelState.selection)))}}),R.Outdent=(0,S.registerEditorCommand)(new class extends B{constructor(){super({id:"outdent",precondition:r.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:u.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(T,N,A){T.pushUndoStop(),T.executeCommands(this.id,i.TypeOperations.outdent(N.cursorConfig,N.model,N.getCursorStates().map(P=>P.modelState.selection))),T.pushUndoStop()}}),R.Tab=(0,S.registerEditorCommand)(new class extends B{constructor(){super({id:"tab",precondition:r.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:u.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(T,N,A){T.pushUndoStop(),T.executeCommands(this.id,i.TypeOperations.tab(N.cursorConfig,N.model,N.getCursorStates().map(P=>P.modelState.selection))),T.pushUndoStop()}}),R.DeleteLeft=(0,S.registerEditorCommand)(new class extends B{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(T,N,A){const[P,O]=C.DeleteOperations.deleteLeft(N.getPrevEditOperationType(),N.cursorConfig,N.model,N.getCursorStates().map(x=>x.modelState.selection),N.getCursorAutoClosedCharacters());P&&T.pushUndoStop(),T.executeCommands(this.id,O),N.setPrevEditOperationType(2)}}),R.DeleteRight=(0,S.registerEditorCommand)(new class extends B{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:l,kbExpr:r.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(T,N,A){const[P,O]=C.DeleteOperations.deleteRight(N.getPrevEditOperationType(),N.cursorConfig,N.model,N.getCursorStates().map(x=>x.modelState.selection));P&&T.pushUndoStop(),T.executeCommands(this.id,O),N.setPrevEditOperationType(3)}}),R.Undo=new class extends g{constructor(){super(S.UndoCommand)}runDOMCommand(T){T.ownerDocument.execCommand("undo")}runEditorCommand(T,N,A){if(!(!N.hasModel()||N.getOption(90)===!0))return N.getModel().undo()}},R.Redo=new class extends g{constructor(){super(S.RedoCommand)}runDOMCommand(T){T.ownerDocument.execCommand("redo")}runEditorCommand(T,N,A){if(!(!N.hasModel()||N.getOption(90)===!0))return N.getModel().redo()}}})(E||(e.CoreEditingCommands=E={}));class k extends S.Command{constructor(B,T,N){super({id:B,precondition:void 0,description:N}),this._handlerId=T}runCommand(B,T){const N=B.get(m.ICodeEditorService).getFocusedCodeEditor();N&&N.trigger("keyboard",this._handlerId,T)}}function M(R,B){w(new k("default:"+R,R)),w(new k(R,R,B))}M("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),M("replacePreviousChar"),M("compositionType"),M("compositionStart"),M("compositionEnd"),M("paste"),M("cut")}),define(te[791],ie([1,0,233,16]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let y=class{constructor(S,m){}dispose(){}};e.MarkerDecorationsContribution=y,y.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=y=Ie([ge(1,L.IMarkerDecorationsService)],y),(0,I.registerEditorContribution)(y.ID,y,0)}),define(te[792],ie([1,0,188,12,17]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(m,_,v,C){this.configuration=m,this.viewModel=_,this.userInputEvents=v,this.commandDelegate=C}paste(m,_,v,C){this.commandDelegate.paste(m,_,v,C)}type(m){this.commandDelegate.type(m)}compositionType(m,_,v,C){this.commandDelegate.compositionType(m,_,v,C)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(m){L.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:m})}_validateViewColumn(m){const _=this.viewModel.getLineMinColumn(m.lineNumber);return m.column<_?new I.Position(m.lineNumber,_):m}_hasMulticursorModifier(m){switch(this.configuration.options.get(77)){case"altKey":return m.altKey;case"ctrlKey":return m.ctrlKey;case"metaKey":return m.metaKey;default:return!1}}_hasNonMulticursorModifier(m){switch(this.configuration.options.get(77)){case"altKey":return m.ctrlKey||m.metaKey;case"ctrlKey":return m.altKey||m.metaKey;case"metaKey":return m.ctrlKey||m.altKey;default:return!1}}dispatchMouse(m){const _=this.configuration.options,v=y.isLinux&&_.get(106),C=_.get(22);m.middleButton&&!v?this._columnSelect(m.position,m.mouseColumn,m.inSelectionMode):m.startedOnLineNumbers?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelect(m.position,m.revealType):this._createCursor(m.position,!0):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount>=4?this._selectAll():m.mouseDownCount===3?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelectDrag(m.position,m.revealType):this._lastCursorLineSelect(m.position,m.revealType):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount===2?m.onInjectedText||(this._hasMulticursorModifier(m)?this._lastCursorWordSelect(m.position,m.revealType):m.inSelectionMode?this._wordSelectDrag(m.position,m.revealType):this._wordSelect(m.position,m.revealType)):this._hasMulticursorModifier(m)?this._hasNonMulticursorModifier(m)||(m.shiftKey?this._columnSelect(m.position,m.mouseColumn,!0):m.inSelectionMode?this._lastCursorMoveToSelect(m.position,m.revealType):this._createCursor(m.position,!1)):m.inSelectionMode?m.altKey?this._columnSelect(m.position,m.mouseColumn,!0):C?this._columnSelect(m.position,m.mouseColumn,!0):this._moveToSelect(m.position,m.revealType):this.moveTo(m.position,m.revealType)}_usualArgs(m,_){return m=this._validateViewColumn(m),{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,revealType:_}}moveTo(m,_){L.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_moveToSelect(m,_){L.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_columnSelect(m,_,v){m=this._validateViewColumn(m),L.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,mouseColumn:_,doColumnSelect:v})}_createCursor(m,_){m=this._validateViewColumn(m),L.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,wholeLine:_})}_lastCursorMoveToSelect(m,_){L.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_wordSelect(m,_){L.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_wordSelectDrag(m,_){L.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lastCursorWordSelect(m,_){L.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lineSelect(m,_){L.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lineSelectDrag(m,_){L.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lastCursorLineSelect(m,_){L.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_lastCursorLineSelectDrag(m,_){L.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,_))}_selectAll(){L.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(m){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(m)}emitKeyDown(m){this.userInputEvents.emitKeyDown(m)}emitKeyUp(m){this.userInputEvents.emitKeyUp(m)}emitContextMenu(m){this.userInputEvents.emitContextMenu(m)}emitMouseMove(m){this.userInputEvents.emitMouseMove(m)}emitMouseLeave(m){this.userInputEvents.emitMouseLeave(m)}emitMouseUp(m){this.userInputEvents.emitMouseUp(m)}emitMouseDown(m){this.userInputEvents.emitMouseDown(m)}emitMouseDrag(m){this.userInputEvents.emitMouseDrag(m)}emitMouseDrop(m){this.userInputEvents.emitMouseDrop(m)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(m){this.userInputEvents.emitMouseWheel(m)}}e.ViewController=D}),define(te[793],ie([1,0,6,59,64,108,115,76]),function($,e,L,I,y,D,S,m){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=void 0;let v=_=class{constructor(s,i,n){this.editorWorkerService=i,this.telemetryService=n,this.onDidChangeEventEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(s)}dispose(){var s;(s=this.diffAlgorithmOnDidChangeSubscription)===null||s===void 0||s.dispose()}computeDiff(s,i,n,t){var r,u;return be(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(s,i,n,t);if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return i.getLineCount()===1&&i.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new D.DetailedLineRangeMapping(new y.LineRange(1,2),new y.LineRange(1,i.getLineCount()+1),[new D.RangeMapping(s.getFullModelRange(),i.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const f=JSON.stringify([s.uri.toString(),i.uri.toString()]),d=JSON.stringify([s.id,i.id,s.getAlternativeVersionId(),i.getAlternativeVersionId(),JSON.stringify(n)]),l=_.diffCache.get(f);if(l&&l.context===d)return l.result;const o=I.StopWatch.create(),c=yield this.editorWorkerService.computeDiff(s.uri,i.uri,n,this.diffAlgorithm),a=o.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:a,timedOut:(r=c?.quitEarly)!==null&&r!==void 0?r:!0,detectedMoves:n.computeMoves?(u=c?.moves.length)!==null&&u!==void 0?u:0:-1}),t.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!c)throw new Error("no diff result available");return _.diffCache.size>10&&_.diffCache.delete(_.diffCache.keys().next().value),_.diffCache.set(f,{result:c,context:d}),c})}setOptions(s){var i;let n=!1;s.diffAlgorithm&&this.diffAlgorithm!==s.diffAlgorithm&&((i=this.diffAlgorithmOnDidChangeSubscription)===null||i===void 0||i.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=s.diffAlgorithm,typeof s.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=s.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),n=!0),n&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=v,v.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=v=_=Ie([ge(1,S.IEditorWorkerService),ge(2,m.ITelemetryService)],v)}),define(te[794],ie([1,0,793,47,8]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffProviderFactoryService=e.IDiffProviderFactoryService=void 0,e.IDiffProviderFactoryService=(0,y.createDecorator)("diffProviderFactoryService");let D=class{constructor(m){this.instantiationService=m}createDiffProvider(m,_){return this.instantiationService.createInstance(L.WorkerBasedDocumentDiffProvider,_)}};e.DiffProviderFactoryService=D,e.DiffProviderFactoryService=D=Ie([ge(0,y.IInstantiationService)],D),(0,I.registerSingleton)(e.IDiffProviderFactoryService,D,1)}),define(te[352],ie([1,0,14,19,2,40,794,100,64,279,108,177,281,277]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;let t=class extends y.Disposable{setActiveMovedText(g){this._activeMovedText.set(g,void 0)}constructor(g,h,p,b){super(),this.model=g,this._options=h,this._editor=p,this._diffProviderFactoryService=b,this._isDiffUpToDate=(0,D.observableValue)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,D.observableValue)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,D.observableValue)(this,{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=(0,D.derived)(this,M=>this._options.hideUnchangedRegions.read(M)?this._unchangedRegions.read(M).regions:((0,D.transaction)(R=>{for(const B of this._unchangedRegions.get().regions)B.collapseAll(R)}),[])),this.movedTextToCompare=(0,D.observableValue)(this,void 0),this._activeMovedText=(0,D.observableValue)(this,void 0),this._hoveredMovedText=(0,D.observableValue)(this,void 0),this.activeMovedText=(0,D.derived)(this,M=>{var R,B;return(B=(R=this.movedTextToCompare.read(M))!==null&&R!==void 0?R:this._hoveredMovedText.read(M))!==null&&B!==void 0?B:this._activeMovedText.read(M)}),this._cancellationTokenSource=new I.CancellationTokenSource,this._diffProvider=(0,D.derived)(this,M=>{const R=this._diffProviderFactoryService.createDiffProvider(this._editor,{diffAlgorithm:this._options.diffAlgorithm.read(M)}),B=(0,D.observableSignalFromEvent)("onDidChange",R.onDidChange);return{diffProvider:R,onChangeSignal:B}}),this._register((0,y.toDisposable)(()=>this._cancellationTokenSource.cancel()));const w=(0,D.observableSignal)("contentChangedSignal"),E=this._register(new L.RunOnceScheduler(()=>w.trigger(void 0),200)),k=(M,R,B)=>{const T=l.fromDiffs(M.changes,g.original.getLineCount(),g.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(B),this._options.hideUnchangedRegionsContextLineCount.read(B)),N=this._unchangedRegions.get(),A=N.originalDecorationIds.map(W=>g.original.getDecorationRange(W)).filter(W=>!!W).map(W=>_.LineRange.fromRange(W)),P=N.modifiedDecorationIds.map(W=>g.modified.getDecorationRange(W)).filter(W=>!!W).map(W=>_.LineRange.fromRange(W)),O=g.original.deltaDecorations(N.originalDecorationIds,T.map(W=>({range:W.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),x=g.modified.deltaDecorations(N.modifiedDecorationIds,T.map(W=>({range:W.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(const W of T)for(let U=0;U<N.regions.length;U++)if(W.originalUnchangedRange.intersectsStrict(A[U])&&W.modifiedUnchangedRange.intersectsStrict(P[U])){W.setHiddenModifiedRange(N.regions[U].getHiddenModifiedRange(void 0),R);break}this._unchangedRegions.set({regions:T,originalDecorationIds:O,modifiedDecorationIds:x},R)};this._register(g.modified.onDidChangeContent(M=>{if(this._diff.get()){const B=s.TextEditInfo.fromModelContentChanges(M.changes),T=(this._lastDiff,g.original,g.modified,void 0);T&&(this._lastDiff=T,(0,D.transaction)(N=>{this._diff.set(f.fromDiffResult(this._lastDiff),N),k(T,N);const A=this.movedTextToCompare.get();this.movedTextToCompare.set(A?this._lastDiff.moves.find(P=>P.lineRangeMapping.modified.intersect(A.lineRangeMapping.modified)):void 0,N)}))}E.schedule()})),this._register(g.original.onDidChangeContent(M=>{if(this._diff.get()){const B=s.TextEditInfo.fromModelContentChanges(M.changes),T=(this._lastDiff,g.original,g.modified,void 0);T&&(this._lastDiff=T,(0,D.transaction)(N=>{this._diff.set(f.fromDiffResult(this._lastDiff),N),k(T,N);const A=this.movedTextToCompare.get();this.movedTextToCompare.set(A?this._lastDiff.moves.find(P=>P.lineRangeMapping.modified.intersect(A.lineRangeMapping.modified)):void 0,N)}))}E.schedule()})),this._register((0,D.autorunWithStore)((M,R)=>be(this,void 0,void 0,function*(){var B,T;this._options.hideUnchangedRegionsMinimumLineCount.read(M),this._options.hideUnchangedRegionsContextLineCount.read(M),E.cancel(),w.read(M);const N=this._diffProvider.read(M);N.onChangeSignal.read(M),(0,m.readHotReloadableExport)(v.DefaultLinesDiffComputer,M),(0,m.readHotReloadableExport)(n.optimizeSequenceDiffs,M),this._isDiffUpToDate.set(!1,void 0);let A=[];R.add(g.original.onDidChangeContent(x=>{const W=s.TextEditInfo.fromModelContentChanges(x.changes);A=(0,i.combineTextEditInfos)(A,W)}));let P=[];R.add(g.modified.onDidChangeContent(x=>{const W=s.TextEditInfo.fromModelContentChanges(x.changes);P=(0,i.combineTextEditInfos)(P,W)}));let O=yield N.diffProvider.computeDiff(g.original,g.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(M),maxComputationTimeMs:this._options.maxComputationTimeMs.read(M),computeMoves:this._options.showMoves.read(M)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(O=r(O,g.original,g.modified),O=(B=(g.original,g.modified,void 0))!==null&&B!==void 0?B:O,O=(T=(g.original,g.modified,void 0))!==null&&T!==void 0?T:O,(0,D.transaction)(x=>{k(O,x),this._lastDiff=O;const W=f.fromDiffResult(O);this._diff.set(W,x),this._isDiffUpToDate.set(!0,x);const U=this.movedTextToCompare.get();this.movedTextToCompare.set(U?this._lastDiff.moves.find(F=>F.lineRangeMapping.modified.intersect(U.lineRangeMapping.modified)):void 0,x)}))})))}ensureModifiedLineIsVisible(g,h){var p;if(((p=this.diff.get())===null||p===void 0?void 0:p.mappings.length)===0)return;const b=this._unchangedRegions.get().regions;for(const w of b)if(w.getHiddenModifiedRange(void 0).contains(g)){w.showModifiedLine(g,h);return}}ensureOriginalLineIsVisible(g,h){var p;if(((p=this.diff.get())===null||p===void 0?void 0:p.mappings.length)===0)return;const b=this._unchangedRegions.get().regions;for(const w of b)if(w.getHiddenOriginalRange(void 0).contains(g)){w.showOriginalLine(g,h);return}}waitForDiff(){return be(this,void 0,void 0,function*(){yield(0,D.waitForState)(this.isDiffUpToDate,g=>g)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(h=>({range:h.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(g){const h=g.collapsedRegions.map(b=>_.LineRange.deserialize(b.range)),p=this._unchangedRegions.get();(0,D.transaction)(b=>{for(const w of p.regions)for(const E of h)if(w.modifiedUnchangedRange.intersect(E)){w.setHiddenModifiedRange(E,b);break}})}};e.DiffEditorViewModel=t,e.DiffEditorViewModel=t=Ie([ge(3,S.IDiffProviderFactoryService)],t);function r(a,g,h){return{changes:a.changes.map(p=>new C.DetailedLineRangeMapping(p.original,p.modified,p.innerChanges?p.innerChanges.map(b=>u(b,g,h)):void 0)),moves:a.moves,identical:a.identical,quitEarly:a.quitEarly}}function u(a,g,h){let p=a.originalRange,b=a.modifiedRange;return(p.endColumn!==1||b.endColumn!==1)&&p.endColumn===g.getLineMaxColumn(p.endLineNumber)&&b.endColumn===h.getLineMaxColumn(b.endLineNumber)&&p.endLineNumber<g.getLineCount()&&b.endLineNumber<h.getLineCount()&&(p=p.setEndPosition(p.endLineNumber+1,1),b=b.setEndPosition(b.endLineNumber+1,1)),new C.RangeMapping(p,b)}class f{static fromDiffResult(g){return new f(g.changes.map(h=>new d(h)),g.moves||[],g.identical,g.quitEarly)}constructor(g,h,p,b){this.mappings=g,this.movedTexts=h,this.identical=p,this.quitEarly=b}}e.DiffState=f;class d{constructor(g){this.lineRangeMapping=g}}e.DiffMapping=d;class l{static fromDiffs(g,h,p,b,w){const E=C.DetailedLineRangeMapping.inverse(g,h,p),k=[];for(const M of E){let R=M.original.startLineNumber,B=M.modified.startLineNumber,T=M.original.length;const N=R===1&&B===1,A=R+T===h+1&&B+T===p+1;(N||A)&&T>=w+b?(N&&!A&&(T-=w),A&&!N&&(R+=w,B+=w,T-=w),k.push(new l(R,B,T,0,0))):T>=w*2+b&&(R+=w,B+=w,T-=w*2,k.push(new l(R,B,T,0,0)))}return k}get originalUnchangedRange(){return _.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return _.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(g,h,p,b,w){this.originalLineNumber=g,this.modifiedLineNumber=h,this.lineCount=p,this._visibleLineCountTop=(0,D.observableValue)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,D.observableValue)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,D.derived)(this,E=>this.visibleLineCountTop.read(E)+this.visibleLineCountBottom.read(E)===this.lineCount&&!this.isDragged.read(E)),this.isDragged=(0,D.observableValue)(this,!1),this._visibleLineCountTop.set(b,void 0),this._visibleLineCountBottom.set(w,void 0)}shouldHideControls(g){return this._shouldHideControls.read(g)}getHiddenOriginalRange(g){return _.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(g),this.lineCount-this._visibleLineCountTop.read(g)-this._visibleLineCountBottom.read(g))}getHiddenModifiedRange(g){return _.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(g),this.lineCount-this._visibleLineCountTop.read(g)-this._visibleLineCountBottom.read(g))}setHiddenModifiedRange(g,h){const p=g.startLineNumber-this.modifiedLineNumber,b=this.modifiedLineNumber+this.lineCount-g.endLineNumberExclusive;this.setState(p,b,h)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(g=10,h){const p=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+g,p),h)}showMoreBelow(g=10,h){const p=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+g,p),h)}showAll(g){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),g)}showModifiedLine(g,h){const p=g+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),b=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-g;p<b?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+p,h):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+b,h)}showOriginalLine(g,h){const p=g-this.originalLineNumber,b=this.originalLineNumber+this.lineCount-g;p<b?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+b-p,this.getMaxVisibleLineCountTop()),h):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+p-b,this.getMaxVisibleLineCountBottom()),h)}collapseAll(g){this._visibleLineCountTop.set(0,g),this._visibleLineCountBottom.set(0,g)}setState(g,h,p){g=Math.max(Math.min(g,this.lineCount),0),h=Math.max(Math.min(h,this.lineCount-g),0),this._visibleLineCountTop.set(g,p),this._visibleLineCountBottom.set(h,p)}}e.UnchangedRegion=l;function o(a,g,h,p){}function c(a,g,h,p){}}),define(te[795],ie([1,0,45,57,62,16,24,22,633,15,440]),function($,e,L,I,y,D,S,m,_,v){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new v.RawContextKey("selectionAnchorSet",!1);let s=C=class{static get(f){return f.getContribution(C.ID)}constructor(f,d){this.editor=f,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(d),this.modelChangeListener=f.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const f=this.editor.getPosition();this.editor.changeDecorations(d=>{this.decorationId&&d.removeDecoration(this.decorationId),this.decorationId=d.addDecoration(S.Selection.fromPositions(f,f),{description:"selection-anchor",stickiness:1,hoverMessage:new I.MarkdownString().appendText((0,_.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,L.alert)((0,_.localize)(1,null,f.lineNumber,f.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const f=this.editor.getModel().getDecorationRange(this.decorationId);f&&this.editor.setPosition(f.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const f=this.editor.getModel().getDecorationRange(this.decorationId);if(f){const d=this.editor.getPosition();this.editor.setSelection(S.Selection.fromPositions(f.getStartPosition(),d)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const f=this.decorationId;this.editor.changeDecorations(d=>{d.removeDecoration(f),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};s.ID="editor.contrib.selectionAnchorController",s=C=Ie([ge(1,v.IContextKeyService)],s);class i extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,_.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2080),weight:100}})}run(f,d){var l;return be(this,void 0,void 0,function*(){(l=s.get(d))===null||l===void 0||l.setSelectionAnchor()})}}class n extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,_.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(f,d){var l;return be(this,void 0,void 0,function*(){(l=s.get(d))===null||l===void 0||l.goToSelectionAnchor()})}}class t extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,_.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2089),weight:100}})}run(f,d){var l;return be(this,void 0,void 0,function*(){(l=s.get(d))===null||l===void 0||l.selectFromAnchorToCursor()})}}class r extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,_.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(f,d){var l;return be(this,void 0,void 0,function*(){(l=s.get(d))===null||l===void 0||l.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(s.ID,s,4),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(r)}),define(te[796],ie([1,0,16,22,540,635]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends L.EditorAction{constructor(C,s){super(s),this.left=C}run(C,s){if(!s.hasModel())return;const i=[],n=s.getSelections();for(const t of n)i.push(new y.MoveCaretCommand(t,this.left));s.pushUndoStop(),s.executeCommands(this.id,i),s.pushUndoStop()}}class m extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:I.EditorContextKeys.writable})}}class _ extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:I.EditorContextKeys.writable})}}(0,L.registerEditorAction)(m),(0,L.registerEditorAction)(_)}),define(te[797],ie([1,0,16,123,204,5,22,636]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class _ extends L.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:m.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(C,s){if(!s.hasModel())return;const i=s.getModel(),n=[],t=s.getSelections();for(const r of t){if(!r.isEmpty())continue;const u=r.startLineNumber,f=r.startColumn,d=i.getLineMaxColumn(u);if(u===1&&(f===1||f===2&&d===2))continue;const l=f===d?r.getPosition():y.MoveOperations.rightPosition(i,r.getPosition().lineNumber,r.getPosition().column),o=y.MoveOperations.leftPosition(i,l),c=y.MoveOperations.leftPosition(i,o),a=i.getValueInRange(D.Range.fromPositions(c,o)),g=i.getValueInRange(D.Range.fromPositions(o,l)),h=D.Range.fromPositions(c,l);n.push(new I.ReplaceCommand(h,g+a))}n.length>0&&(s.pushUndoStop(),s.executeCommands(this.id,n),s.pushUndoStop())}}(0,L.registerEditorAction)(_)}),define(te[798],ie([1,0,51,7,17,183,16,33,22,637,30,102,15]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const n="9_cutcopypaste",t=y.isNative||document.queryCommandSupported("cut"),r=y.isNative||document.queryCommandSupported("copy"),u=typeof navigator.clipboard>"u"||L.isFirefox?document.queryCommandSupported("paste"):!0;function f(o){return o.register(),o}e.CutAction=t?f(new S.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:y.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(0,null),order:1},{menuId:C.MenuId.EditorContext,group:n,title:v.localize(1,null),when:_.EditorContextKeys.writable,order:1},{menuId:C.MenuId.CommandPalette,group:"",title:v.localize(2,null),order:1},{menuId:C.MenuId.SimpleEditorContext,group:n,title:v.localize(3,null),when:_.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=r?f(new S.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:y.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(4,null),order:2},{menuId:C.MenuId.EditorContext,group:n,title:v.localize(5,null),order:2},{menuId:C.MenuId.CommandPalette,group:"",title:v.localize(6,null),order:1},{menuId:C.MenuId.SimpleEditorContext,group:n,title:v.localize(7,null),order:2}]})):void 0,C.MenuRegistry.appendMenuItem(C.MenuId.MenubarEditMenu,{submenu:C.MenuId.MenubarCopy,title:{value:v.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),C.MenuRegistry.appendMenuItem(C.MenuId.EditorContext,{submenu:C.MenuId.EditorContextCopy,title:{value:v.localize(9,null),original:"Copy As"},group:n,order:3}),C.MenuRegistry.appendMenuItem(C.MenuId.EditorContext,{submenu:C.MenuId.EditorContextShare,title:{value:v.localize(10,null),original:"Share"},group:"11_share",order:-1,when:i.ContextKeyExpr.and(i.ContextKeyExpr.notEquals("resourceScheme","output"),_.EditorContextKeys.editorTextFocus)}),C.MenuRegistry.appendMenuItem(C.MenuId.EditorTitleContext,{submenu:C.MenuId.EditorTitleContextShare,title:{value:v.localize(11,null),original:"Share"},group:"11_share",order:-1}),C.MenuRegistry.appendMenuItem(C.MenuId.ExplorerContext,{submenu:C.MenuId.ExplorerContextShare,title:{value:v.localize(12,null),original:"Share"},group:"11_share",order:-1}),e.PasteAction=u?f(new S.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:y.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(13,null),order:4},{menuId:C.MenuId.EditorContext,group:n,title:v.localize(14,null),when:_.EditorContextKeys.writable,order:4},{menuId:C.MenuId.CommandPalette,group:"",title:v.localize(15,null),order:1},{menuId:C.MenuId.SimpleEditorContext,group:n,title:v.localize(16,null),when:_.EditorContextKeys.writable,order:4}]})):void 0;class d extends S.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v.localize(17,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(c,a){!a.hasModel()||!a.getOption(37)&&a.getSelection().isEmpty()||(D.CopyOptions.forceCopyWithSyntaxHighlighting=!0,a.focus(),a.getContainerDomNode().ownerDocument.execCommand("copy"),D.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function l(o,c){o&&(o.addImplementation(1e4,"code-editor",(a,g)=>{const h=a.get(m.ICodeEditorService).getFocusedCodeEditor();if(h&&h.hasTextFocus()){const p=h.getOption(37),b=h.getSelection();return b&&b.isEmpty()&&!p||h.getContainerDomNode().ownerDocument.execCommand(c),!0}return!1}),o.addImplementation(0,"generic-dom",(a,g)=>((0,I.getActiveDocument)().execCommand(c),!0)))}l(e.CutAction,"cut"),l(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(o,c)=>{const a=o.get(m.ICodeEditorService),g=o.get(s.IClipboardService),h=a.getFocusedCodeEditor();return h&&h.hasTextFocus()?!h.getContainerDomNode().ownerDocument.execCommand("paste")&&y.isWeb?(()=>be(void 0,void 0,void 0,function*(){const b=yield g.readText();if(b!==""){const w=D.InMemoryClipboardMetadataManager.INSTANCE.get(b);let E=!1,k=null,M=null;w&&(E=h.getOption(37)&&!!w.isFromEmptySelection,k=typeof w.multicursorText<"u"?w.multicursorText:null,M=w.mode),h.trigger("keyboard","paste",{text:b,pasteOnNewLine:E,multicursorText:k,mode:M})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(o,c)=>((0,I.getActiveDocument)().execCommand("paste"),!0))),r&&(0,S.registerEditorAction)(d)}),define(te[799],ie([1,0,62,16,5,22,32,294,542,647,30]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends I.EditorAction{constructor(f,d){super(d),this._type=f}run(f,d){const l=f.get(S.ILanguageConfigurationService);if(!d.hasModel())return;const o=d.getModel(),c=[],a=o.getOptions(),g=d.getOption(23),h=d.getSelections().map((b,w)=>({selection:b,index:w,ignoreFirstLine:!1}));h.sort((b,w)=>y.Range.compareRangesUsingStarts(b.selection,w.selection));let p=h[0];for(let b=1;b<h.length;b++){const w=h[b];p.selection.endLineNumber===w.selection.startLineNumber&&(p.index<w.index?w.ignoreFirstLine=!0:(p.ignoreFirstLine=!0,p=w))}for(const b of h)c.push(new _.LineCommentCommand(l,b.selection,a.tabSize,this._type,g.insertSpace,g.ignoreEmptyLines,b.ignoreFirstLine));d.pushUndoStop(),d.executeCommands(this.id,c),d.pushUndoStop()}}class i extends s{constructor(){super(0,{id:"editor.action.commentLine",label:v.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(1,null),order:1}})}}class n extends s{constructor(){super(1,{id:"editor.action.addCommentLine",label:v.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2081),weight:100}})}}class t extends s{constructor(){super(2,{id:"editor.action.removeCommentLine",label:v.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2099),weight:100}})}}class r extends I.EditorAction{constructor(){super({id:"editor.action.blockComment",label:v.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(5,null),order:2}})}run(f,d){const l=f.get(S.ILanguageConfigurationService);if(!d.hasModel())return;const o=d.getOption(23),c=[],a=d.getSelections();for(const g of a)c.push(new m.BlockCommentCommand(g,o.insertSpace,l));d.pushUndoStop(),d.executeCommands(this.id,c),d.pushUndoStop()}}(0,I.registerEditorAction)(i),(0,I.registerEditorAction)(n),(0,I.registerEditorAction)(t),(0,I.registerEditorAction)(r)}),define(te[800],ie([1,0,2,16,22,649]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(i){this.selections=i}equals(i){const n=this.selections.length,t=i.selections.length;if(n!==t)return!1;for(let r=0;r<n;r++)if(!this.selections[r].equalsSelection(i.selections[r]))return!1;return!0}}class m{constructor(i,n,t){this.cursorState=i,this.scrollTop=n,this.scrollLeft=t}}class _ extends L.Disposable{static get(i){return i.getContribution(_.ID)}constructor(i){super(),this._editor=i,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(i.onDidChangeModel(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeModelContent(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeCursorSelection(n=>{if(this._isCursorUndoRedo||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const t=new S(n.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new m(t,i.getScrollTop(),i.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new m(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new m(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(i){this._isCursorUndoRedo=!0,this._editor.setSelections(i.cursorState.selections),this._editor.setScrollPosition({scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=_,_.ID="editor.contrib.cursorUndoRedoController";class v extends I.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(i,n,t){var r;(r=_.get(n))===null||r===void 0||r.cursorUndo()}}e.CursorUndo=v;class C extends I.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(i,n,t){var r;(r=_.get(n))===null||r===void 0||r.cursorRedo()}}e.CursorRedo=C,(0,I.registerEditorContribution)(_.ID,_,0),(0,I.registerEditorAction)(v),(0,I.registerEditorAction)(C)}),define(te[801],ie([1,0,16,15,19,63,8,47,655]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const v=(0,S.createDecorator)("IEditorCancelService"),C=new I.RawContextKey("cancellableOperation",!1,(0,_.localize)(0,null));(0,m.registerSingleton)(v,class{constructor(){this._tokens=new WeakMap}add(i,n){let t=this._tokens.get(i);t||(t=i.invokeWithinContext(u=>{const f=C.bindTo(u.get(I.IContextKeyService)),d=new D.LinkedList;return{key:f,tokens:d}}),this._tokens.set(i,t));let r;return t.key.set(!0),r=t.tokens.push(n),()=>{r&&(r(),t.key.set(!t.tokens.isEmpty()),r=void 0)}}cancel(i){const n=this._tokens.get(i);if(!n)return;const t=n.tokens.pop();t&&(t.cancel(),n.key.set(!n.tokens.isEmpty()))}},1);class s extends y.CancellationTokenSource{constructor(n,t){super(t),this.editor=n,this._unregister=n.invokeWithinContext(r=>r.get(v).add(n,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=s,(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:C})}runEditorCommand(i,n){i.get(v).cancel(n)}})}),define(te[103],ie([1,0,10,5,19,2,801]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class m{constructor(s,i){if(this.flags=i,this.flags&1){const n=s.getModel();this.modelVersionId=n?L.format("{0}#{1}",n.uri.toString(),n.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=s.getPosition():this.position=null,this.flags&2?this.selection=s.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=s.getScrollLeft(),this.scrollTop=s.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(s){if(!(s instanceof m))return!1;const i=s;return!(this.modelVersionId!==i.modelVersionId||this.scrollLeft!==i.scrollLeft||this.scrollTop!==i.scrollTop||!this.position&&i.position||this.position&&!i.position||this.position&&i.position&&!this.position.equals(i.position)||!this.selection&&i.selection||this.selection&&!i.selection||this.selection&&i.selection&&!this.selection.equalsRange(i.selection))}validate(s){return this._equals(new m(s,this.flags))}}e.EditorState=m;class _ extends S.EditorKeybindingCancellationTokenSource{constructor(s,i,n,t){super(s,t),this._listener=new D.DisposableStore,i&4&&this._listener.add(s.onDidChangeCursorPosition(r=>{(!n||!I.Range.containsPosition(n,r.position))&&this.cancel()})),i&2&&this._listener.add(s.onDidChangeCursorSelection(r=>{(!n||!I.Range.containsRange(n,r.selection))&&this.cancel()})),i&8&&this._listener.add(s.onDidScrollChange(r=>this.cancel())),i&1&&(this._listener.add(s.onDidChangeModel(r=>this.cancel())),this._listener.add(s.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=_;class v extends y.CancellationTokenSource{constructor(s,i){super(i),this._listener=s.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=v}),define(te[135],ie([1,0,13,19,9,2,21,130,5,24,18,50,103,638,25,48,85,76,112]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyCodeAction=e.ApplyCodeActionReason=e.getCodeActions=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class l extends D.Disposable{static codeActionsPreferredComparator(k,M){return k.isPreferred&&!M.isPreferred?-1:!k.isPreferred&&M.isPreferred?1:0}static codeActionsComparator({action:k},{action:M}){return(0,L.isNonEmptyArray)(k.diagnostics)?(0,L.isNonEmptyArray)(M.diagnostics)?l.codeActionsPreferredComparator(k,M):-1:(0,L.isNonEmptyArray)(M.diagnostics)?1:l.codeActionsPreferredComparator(k,M)}constructor(k,M,R){super(),this.documentation=M,this._register(R),this.allActions=[...k].sort(l.codeActionsComparator),this.validActions=this.allActions.filter(({action:B})=>!B.disabled)}get hasAutoFix(){return this.validActions.some(({action:k})=>!!k.kind&&d.CodeActionKind.QuickFix.contains(new d.CodeActionKind(k.kind))&&!!k.isPreferred)}}const o={actions:[],documentation:void 0};function c(E,k,M,R,B,T){var N;return be(this,void 0,void 0,function*(){const A=R.filter||{},P=Object.assign(Object.assign({},A),{excludes:[...A.excludes||[],d.CodeActionKind.Notebook]}),O={only:(N=A.include)===null||N===void 0?void 0:N.value,trigger:R.type},x=new i.TextModelCancellationTokenSource(k,T),W=R.type===2,U=a(E,k,W?P:A),F=new D.DisposableStore,G=U.map(ne=>be(this,void 0,void 0,function*(){try{B.report(ne);const se=yield ne.provideCodeActions(k,M,O,x.token);if(se&&F.add(se),x.token.isCancellationRequested)return o;const J=(se?.actions||[]).filter(H=>H&&(0,d.filtersAction)(A,H)),q=h(ne,J,A.include);return{actions:J.map(H=>new d.CodeActionItem(H,ne)),documentation:q}}catch(se){if((0,y.isCancellationError)(se))throw se;return(0,y.onUnexpectedExternalError)(se),o}})),Y=E.onDidChange(()=>{const ne=E.all(k);(0,L.equals)(ne,U)||x.cancel()});try{const ne=yield Promise.all(G),se=ne.map(q=>q.actions).flat(),J=[...(0,L.coalesce)(ne.map(q=>q.documentation)),...g(E,k,R,se)];return new l(se,J,F)}finally{Y.dispose(),x.dispose()}})}e.getCodeActions=c;function a(E,k,M){return E.all(k).filter(R=>R.providedCodeActionKinds?R.providedCodeActionKinds.some(B=>(0,d.mayIncludeActionsOfKind)(M,new d.CodeActionKind(B))):!0)}function*g(E,k,M,R){var B,T,N;if(k&&R.length)for(const A of E.all(k))A._getAdditionalMenuItems&&(yield*(B=A._getAdditionalMenuItems)===null||B===void 0?void 0:B.call(A,{trigger:M.type,only:(N=(T=M.filter)===null||T===void 0?void 0:T.include)===null||N===void 0?void 0:N.value},R.map(P=>P.action)))}function h(E,k,M){if(!E.documentation)return;const R=E.documentation.map(B=>({kind:new d.CodeActionKind(B.kind),command:B.command}));if(M){let B;for(const T of R)T.kind.contains(M)&&(B?B.kind.contains(T.kind)&&(B=T):B=T);if(B)return B?.command}for(const B of k)if(B.kind){for(const T of R)if(T.kind.contains(new d.CodeActionKind(B.kind)))return T.command}}var p;(function(E){E.OnSave="onSave",E.FromProblemsView="fromProblemsView",E.FromCodeActions="fromCodeActions"})(p||(e.ApplyCodeActionReason=p={}));function b(E,k,M,R,B=I.CancellationToken.None){var T;return be(this,void 0,void 0,function*(){const N=E.get(m.IBulkEditService),A=E.get(t.ICommandService),P=E.get(f.ITelemetryService),O=E.get(r.INotificationService);if(P.publicLog2("codeAction.applyCodeAction",{codeActionTitle:k.action.title,codeActionKind:k.action.kind,codeActionIsPreferred:!!k.action.isPreferred,reason:M}),yield k.resolve(B),!B.isCancellationRequested&&!(!((T=k.action.edit)===null||T===void 0)&&T.edits.length&&!(yield N.apply(k.action.edit,{editor:R?.editor,label:k.action.title,quotableLabel:k.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:M!==p.OnSave,showPreview:R?.preview})).isApplied)&&k.action.command)try{yield A.executeCommand(k.action.command.id,...k.action.command.arguments||[])}catch(x){const W=w(x);O.error(typeof W=="string"?W:n.localize(0,null))}})}e.applyCodeAction=b;function w(E){return typeof E=="string"?E:E instanceof Error&&typeof E.message=="string"?E.message:void 0}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(E,k,M,R,B){return be(this,void 0,void 0,function*(){if(!(k instanceof S.URI))throw(0,y.illegalArgument)();const{codeActionProvider:T}=E.get(C.ILanguageFeaturesService),N=E.get(s.IModelService).getModel(k);if(!N)throw(0,y.illegalArgument)();const A=v.Selection.isISelection(M)?v.Selection.liftSelection(M):_.Range.isIRange(M)?N.validateRange(M):void 0;if(!A)throw(0,y.illegalArgument)();const P=typeof R=="string"?new d.CodeActionKind(R):void 0,O=yield c(T,N,A,{type:1,triggerAction:d.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:P}},u.Progress.None,I.CancellationToken.None),x=[],W=Math.min(O.validActions.length,typeof B=="number"?B:0);for(let U=0;U<W;U++)x.push(O.validActions[U].resolve(I.CancellationToken.None));try{return yield Promise.all(x),O.validActions.map(U=>U.action)}finally{setTimeout(()=>O.dispose(),100)}})})}),define(te[802],ie([1,0,97,135,112,34]),function($,e,L,I,y,D){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let m=S=class{constructor(v){this.keybindingService=v}getResolver(){const v=new L.Lazy(()=>this.keybindingService.getKeybindings().filter(C=>S.codeActionCommands.indexOf(C.command)>=0).filter(C=>C.resolvedKeybinding).map(C=>{let s=C.commandArgs;return C.command===I.organizeImportsCommandId?s={kind:y.CodeActionKind.SourceOrganizeImports.value}:C.command===I.fixAllCommandId&&(s={kind:y.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:C.resolvedKeybinding},y.CodeActionCommandArgs.fromUser(s,{kind:y.CodeActionKind.None,apply:"never"}))}));return C=>{if(C.kind){const s=this.bestKeybindingForCodeAction(C,v.value);return s?.resolvedKeybinding}}}bestKeybindingForCodeAction(v,C){if(!v.kind)return;const s=new y.CodeActionKind(v.kind);return C.filter(i=>i.kind.contains(s)).filter(i=>i.preferred?v.isPreferred:!0).reduceRight((i,n)=>i?i.kind.contains(n.kind)?n:i:n,void 0)}};e.CodeActionKeybindingResolver=m,m.codeActionCommands=[I.refactorCommandId,I.codeActionCommandId,I.sourceActionCommandId,I.organizeImportsCommandId,I.fixAllCommandId],e.CodeActionKeybindingResolver=m=S=Ie([ge(0,D.IKeybindingService)],m)}),define(te[353],ie([1,0,14,9,6,2,46,12,24,15,85,112,135]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new v.RawContextKey("supportedCodeAction","");class n extends D.Disposable{constructor(d,l,o,c=250){super(),this._editor=d,this._markerService=l,this._signalChange=o,this._delay=c,this._autoTriggerTimer=this._register(new L.TimeoutTimer),this._register(this._markerService.onMarkerChanged(a=>this._onMarkerChanges(a))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(d){const l=this._getRangeOfSelectionUnlessWhitespaceEnclosed(d);this._signalChange(l?{trigger:d,selection:l}:void 0)}_onMarkerChanges(d){const l=this._editor.getModel();l&&d.some(o=>(0,S.isEqual)(o,l.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:s.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(d){if(!this._editor.hasModel())return;const l=this._editor.getModel(),o=this._editor.getSelection();if(o.isEmpty()&&d.type===2){const{lineNumber:c,column:a}=o.getPosition(),g=l.getLineContent(c);if(g.length===0)return;if(a===1){if(/\s/.test(g[0]))return}else if(a===l.getLineMaxColumn(c)){if(/\s/.test(g[g.length-1]))return}else if(/\s/.test(g[a-2])&&/\s/.test(g[a-1]))return}return o}}var t;(function(f){f.Empty={type:0};class d{constructor(o,c,a){this.trigger=o,this.position=c,this._cancellablePromise=a,this.type=1,this.actions=a.catch(g=>{if((0,I.isCancellationError)(g))return r;throw g})}cancel(){this._cancellablePromise.cancel()}}f.Triggered=d})(t||(e.CodeActionsState=t={}));const r=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class u extends D.Disposable{constructor(d,l,o,c,a,g){super(),this._editor=d,this._registry=l,this._markerService=o,this._progressService=a,this._configurationService=g,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=t.Empty,this._onDidChangeState=this._register(new y.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(c),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(t.Empty,!0))}_settingEnabledNearbyQuickfixes(){var d;const l=(d=this._editor)===null||d===void 0?void 0:d.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickfixes",{resource:l?.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(t.Empty);const d=this._editor.getModel();if(d&&this._registry.has(d)&&!this._editor.getOption(90)){const l=this._registry.all(d).flatMap(o=>{var c;return(c=o.providedCodeActionKinds)!==null&&c!==void 0?c:[]});this._supportedCodeActions.set(l.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,o=>{var c;if(!o){this.setState(t.Empty);return}const a=o.selection.getStartPosition(),g=(0,L.createCancelablePromise)(h=>be(this,void 0,void 0,function*(){var p,b,w,E,k,M;if(this._settingEnabledNearbyQuickfixes()&&o.trigger.type===1&&(o.trigger.triggerAction===s.CodeActionTriggerSource.QuickFix||!((b=(p=o.trigger.filter)===null||p===void 0?void 0:p.include)===null||b===void 0)&&b.contains(s.CodeActionKind.QuickFix))){const R=yield(0,i.getCodeActions)(this._registry,d,o.selection,o.trigger,C.Progress.None,h);if(h.isCancellationRequested)return r;if(!((w=R.validActions)===null||w===void 0?void 0:w.some(T=>T.action.kind?s.CodeActionKind.QuickFix.contains(new s.CodeActionKind(T.action.kind)):!1))){const T=this._markerService.read({resource:d.uri});if(T.length>0){const N=o.selection.getPosition();let A=N,P=Number.MAX_VALUE,O=!1;for(const x of T){const W=x.endColumn,U=x.endLineNumber,F=x.startLineNumber;(U===N.lineNumber||F===N.lineNumber)&&Math.abs(N.column-W)<P&&(P=Math.abs(N.column-W),O=!0,A=new m.Position(U,W))}if(O){const x={type:o.trigger.type,triggerAction:o.trigger.triggerAction,filter:{include:!((E=o.trigger.filter)===null||E===void 0)&&E.include?(k=o.trigger.filter)===null||k===void 0?void 0:k.include:s.CodeActionKind.QuickFix},autoApply:o.trigger.autoApply,context:{notAvailableMessage:((M=o.trigger.context)===null||M===void 0?void 0:M.notAvailableMessage)||"",position:A}},W=new _.Selection(A.lineNumber,A.column,A.lineNumber,A.column),U=yield(0,i.getCodeActions)(this._registry,d,W,x,C.Progress.None,h),F=[...R.validActions];return U.validActions.length!==0&&(U.validActions.forEach(G=>{G.highlightRange=G.action.isPreferred}),F.push(...U.validActions)),{validActions:F,allActions:R.allActions,documentation:R.documentation,hasAutoFix:R.hasAutoFix,dispose:()=>{R.dispose()}}}}}}return(0,i.getCodeActions)(this._registry,d,o.selection,o.trigger,C.Progress.None,h)}));o.trigger.type===1&&((c=this._progressService)===null||c===void 0||c.showWhile(g,250)),this.setState(new t.Triggered(o.trigger,a,g))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:s.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(d){var l;(l=this._codeActionOracle.value)===null||l===void 0||l.trigger(d)}setState(d,l){d!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=d,!l&&!this._disposed&&this._onDidChangeState.fire(d))}}e.CodeActionModel=u}),define(te[354],ie([1,0,7,61,26,6,2,27,208,135,643,34,442]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var n;(function(r){r.Hidden={type:0};class u{constructor(d,l,o,c){this.actions=d,this.trigger=l,this.editorPosition=o,this.widgetPosition=c,this.type=1}}r.Showing=u})(n||(n={}));let t=i=class extends S.Disposable{constructor(u,f){super(),this._editor=u,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=L.$("div.lightBulbWidget"),this._register(I.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(d=>{const l=this._editor.getModel();(this.state.type!==1||!l||this.state.editorPosition.lineNumber>=l.getLineCount())&&this.hide()})),this._register(L.addStandardDisposableGenericMouseDownListener(this._domNode,d=>{if(this.state.type!==1)return;this._editor.focus(),d.preventDefault();const{top:l,height:o}=L.getDomNodePagePosition(this._domNode),c=this._editor.getOption(66);let a=Math.floor(c/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(a+=c),this._onClick.fire({x:d.posx,y:l+o+a,actions:this.state.actions,trigger:this.state.trigger})})),this._register(L.addDisposableListener(this._domNode,"mouseenter",d=>{(d.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(64)&&!this._editor.getOption(64).enabled&&this.hide()})),this._register(D.Event.runAndSubscribe(f.onDidUpdateKeybindings,()=>{var d,l,o,c;this._preferredKbLabel=(l=(d=f.lookupKeybinding(v.autoFixCommandId))===null||d===void 0?void 0:d.getLabel())!==null&&l!==void 0?l:void 0,this._quickFixKbLabel=(c=(o=f.lookupKeybinding(v.quickFixCommandId))===null||o===void 0?void 0:o.getLabel())!==null&&c!==void 0?c:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(u,f,d){if(u.validActions.length<=0)return this.hide();const l=this._editor.getOptions();if(!l.get(64).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:c,column:a}=o.validatePosition(d),g=o.getOptions().tabSize,h=l.get(50),p=o.getLineContent(c),b=(0,_.computeIndentLevel)(p,g),w=h.spaceWidth*b>22,E=M=>M>2&&this._editor.getTopForLineNumber(M)===this._editor.getTopForLineNumber(M-1);let k=c;if(!w){if(c>1&&!E(c-1))k-=1;else if(!E(c+1))k+=1;else if(a*h.spaceWidth<22)return this.hide()}this.state=new n.Showing(u,f,d,{position:{lineNumber:k,column:1},preference:i._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==n.Hidden&&(this.state=n.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(u){this._state=u,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...m.ThemeIcon.asClassNameArray(y.Codicon.lightBulb)),this._domNode.classList.add(...m.ThemeIcon.asClassNameArray(y.Codicon.lightbulbAutofix)),this._preferredKbLabel)){this.title=C.localize(0,null,this._preferredKbLabel);return}this._domNode.classList.remove(...m.ThemeIcon.asClassNameArray(y.Codicon.lightbulbAutofix)),this._domNode.classList.add(...m.ThemeIcon.asClassNameArray(y.Codicon.lightBulb)),this._quickFixKbLabel?this.title=C.localize(1,null,this._quickFixKbLabel):this.title=C.localize(2,null)}set title(u){this._domNode.title=u}};e.LightBulbWidget=t,t.ID="editor.contrib.lightbulbWidget",t._posPref=[0],e.LightBulbWidget=t=i=Ie([ge(1,s.IKeybindingService)],t)}),define(te[803],ie([1,0,16,143,660]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:y.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(v,C){I.EditorZoom.setZoomLevel(I.EditorZoom.getZoomLevel()+1)}}class S extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:y.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(v,C){I.EditorZoom.setZoomLevel(I.EditorZoom.getZoomLevel()-1)}}class m extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:y.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(v,C){I.EditorZoom.setZoomLevel(0)}}(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(m)}),define(te[355],ie([1,0,45,13,19,9,43,63,20,21,103,175,12,5,24,115,65,298,661,25,745,8,18,66]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function h(N){if(N=N.filter(x=>x.range),!N.length)return;let{range:A}=N[0];for(let x=1;x<N.length;x++)A=n.Range.plusRange(A,N[x].range);const{startLineNumber:P,endLineNumber:O}=A;P===O?N.length===1?(0,L.alert)(d.localize(0,null,P)):(0,L.alert)(d.localize(1,null,N.length,P)):N.length===1?(0,L.alert)(d.localize(2,null,P,O)):(0,L.alert)(d.localize(3,null,N.length,P,O))}e.alertFormattingEdits=h;function p(N,A,P){const O=[],x=new o.ExtensionIdentifierSet,W=N.ordered(P);for(const F of W)O.push(F),F.extensionId&&x.add(F.extensionId);const U=A.ordered(P);for(const F of U){if(F.extensionId){if(x.has(F.extensionId))continue;x.add(F.extensionId)}O.push({displayName:F.displayName,extensionId:F.extensionId,provideDocumentFormattingEdits(G,Y,ne){return F.provideDocumentRangeFormattingEdits(G,G.getFullModelRange(),Y,ne)}})}return O}e.getRealAndSyntheticDocumentFormattersOrdered=p;class b{static setFormatterSelector(A){return{dispose:b._selectors.unshift(A)}}static select(A,P,O){return be(this,void 0,void 0,function*(){if(A.length===0)return;const x=S.Iterable.first(b._selectors);if(x)return yield x(A,P,O)})}}e.FormattingConflicts=b,b._selectors=new m.LinkedList;function w(N,A,P,O,x,W){return be(this,void 0,void 0,function*(){const U=N.get(c.IInstantiationService),{documentRangeFormattingEditProvider:F}=N.get(a.ILanguageFeaturesService),G=(0,s.isCodeEditor)(A)?A.getModel():A,Y=F.ordered(G),ne=yield b.select(Y,G,O);ne&&(x.report(ne),yield U.invokeFunction(E,ne,A,P,W))})}e.formatDocumentRangesWithSelectedProvider=w;function E(N,A,P,O,x){var W,U;return be(this,void 0,void 0,function*(){const F=N.get(r.IEditorWorkerService),G=N.get(g.ILogService);let Y,ne;(0,s.isCodeEditor)(P)?(Y=P.getModel(),ne=new C.EditorStateCancellationTokenSource(P,5,void 0,x)):(Y=P,ne=new C.TextModelCancellationTokenSource(P,x));const se=[];let J=0;for(const ee of(0,I.asArray)(O).sort(n.Range.compareRangesUsingStarts))J>0&&n.Range.areIntersectingOrTouching(se[J-1],ee)?se[J-1]=n.Range.fromPositions(se[J-1].getStartPosition(),ee.getEndPosition()):J=se.push(ee);const q=ee=>be(this,void 0,void 0,function*(){var le,ue;G.trace("[format][provideDocumentRangeFormattingEdits] (request)",(le=A.extensionId)===null||le===void 0?void 0:le.value,ee);const de=(yield A.provideDocumentRangeFormattingEdits(Y,ee,Y.getFormattingOptions(),ne.token))||[];return G.trace("[format][provideDocumentRangeFormattingEdits] (response)",(ue=A.extensionId)===null||ue===void 0?void 0:ue.value,de),de}),H=(ee,le)=>{if(!ee.length||!le.length)return!1;const ue=ee.reduce((de,ce)=>n.Range.plusRange(de,ce.range),ee[0].range);if(!le.some(de=>n.Range.intersectRanges(ue,de.range)))return!1;for(const de of ee)for(const ce of le)if(n.Range.intersectRanges(de.range,ce.range))return!0;return!1},V=[],Z=[];try{if(typeof A.provideDocumentRangesFormattingEdits=="function"){G.trace("[format][provideDocumentRangeFormattingEdits] (request)",(W=A.extensionId)===null||W===void 0?void 0:W.value,se);const ee=(yield A.provideDocumentRangesFormattingEdits(Y,se,Y.getFormattingOptions(),ne.token))||[];G.trace("[format][provideDocumentRangeFormattingEdits] (response)",(U=A.extensionId)===null||U===void 0?void 0:U.value,ee),Z.push(ee)}else{for(const ee of se){if(ne.token.isCancellationRequested)return!0;Z.push(yield q(ee))}for(let ee=0;ee<se.length;++ee)for(let le=ee+1;le<se.length;++le){if(ne.token.isCancellationRequested)return!0;if(H(Z[ee],Z[le])){const ue=n.Range.plusRange(se[ee],se[le]),de=yield q(ue);se.splice(le,1),se.splice(ee,1),se.push(ue),Z.splice(le,1),Z.splice(ee,1),Z.push(de),ee=0,le=0}}}for(const ee of Z){if(ne.token.isCancellationRequested)return!0;const le=yield F.computeMoreMinimalEdits(Y.uri,ee);le&&V.push(...le)}}finally{ne.dispose()}if(V.length===0)return!1;if((0,s.isCodeEditor)(P))f.FormattingEdit.execute(P,V,!0),h(V),P.revealPositionInCenterIfOutsideViewport(P.getPosition(),1);else{const[{range:ee}]=V,le=new t.Selection(ee.startLineNumber,ee.startColumn,ee.endLineNumber,ee.endColumn);Y.pushEditOperations([le],V.map(ue=>({text:ue.text,range:n.Range.lift(ue.range),forceMoveMarkers:!0})),ue=>{for(const{range:de}of ue)if(n.Range.areIntersectingOrTouching(de,le))return[new t.Selection(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=E;function k(N,A,P,O,x){return be(this,void 0,void 0,function*(){const W=N.get(c.IInstantiationService),U=N.get(a.ILanguageFeaturesService),F=(0,s.isCodeEditor)(A)?A.getModel():A,G=p(U.documentFormattingEditProvider,U.documentRangeFormattingEditProvider,F),Y=yield b.select(G,F,P);Y&&(O.report(Y),yield W.invokeFunction(M,Y,A,P,x))})}e.formatDocumentWithSelectedProvider=k;function M(N,A,P,O,x){return be(this,void 0,void 0,function*(){const W=N.get(r.IEditorWorkerService);let U,F;(0,s.isCodeEditor)(P)?(U=P.getModel(),F=new C.EditorStateCancellationTokenSource(P,5,void 0,x)):(U=P,F=new C.TextModelCancellationTokenSource(P,x));let G;try{const Y=yield A.provideDocumentFormattingEdits(U,U.getFormattingOptions(),F.token);if(G=yield W.computeMoreMinimalEdits(U.uri,Y),F.token.isCancellationRequested)return!0}finally{F.dispose()}if(!G||G.length===0)return!1;if((0,s.isCodeEditor)(P))f.FormattingEdit.execute(P,G,O!==2),O!==2&&(h(G),P.revealPositionInCenterIfOutsideViewport(P.getPosition(),1));else{const[{range:Y}]=G,ne=new t.Selection(Y.startLineNumber,Y.startColumn,Y.endLineNumber,Y.endColumn);U.pushEditOperations([ne],G.map(se=>({text:se.text,range:n.Range.lift(se.range),forceMoveMarkers:!0})),se=>{for(const{range:J}of se)if(n.Range.areIntersectingOrTouching(J,ne))return[new t.Selection(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=M;function R(N,A,P,O,x,W){return be(this,void 0,void 0,function*(){const U=A.documentRangeFormattingEditProvider.ordered(P);for(const F of U){const G=yield Promise.resolve(F.provideDocumentRangeFormattingEdits(P,O,x,W)).catch(D.onUnexpectedExternalError);if((0,I.isNonEmptyArray)(G))return yield N.computeMoreMinimalEdits(P.uri,G)}})}e.getDocumentRangeFormattingEditsUntilResult=R;function B(N,A,P,O,x){return be(this,void 0,void 0,function*(){const W=p(A.documentFormattingEditProvider,A.documentRangeFormattingEditProvider,P);for(const U of W){const F=yield Promise.resolve(U.provideDocumentFormattingEdits(P,O,x)).catch(D.onUnexpectedExternalError);if((0,I.isNonEmptyArray)(F))return yield N.computeMoreMinimalEdits(P.uri,F)}})}e.getDocumentFormattingEditsUntilResult=B;function T(N,A,P,O,x,W,U){const F=A.onTypeFormattingEditProvider.ordered(P);return F.length===0||F[0].autoFormatTriggerCharacters.indexOf(x)<0?Promise.resolve(void 0):Promise.resolve(F[0].provideOnTypeFormattingEdits(P,O,x,W,U)).catch(D.onUnexpectedExternalError).then(G=>N.computeMoreMinimalEdits(P.uri,G))}e.getOnTypeFormattingEdits=T,l.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(N,...A){return be(this,void 0,void 0,function*(){const[P,O,x]=A;(0,_.assertType)(v.URI.isUri(P)),(0,_.assertType)(n.Range.isIRange(O));const W=N.get(u.ITextModelService),U=N.get(r.IEditorWorkerService),F=N.get(a.ILanguageFeaturesService),G=yield W.createModelReference(P);try{return R(U,F,G.object.textEditorModel,n.Range.lift(O),x,y.CancellationToken.None)}finally{G.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(N,...A){return be(this,void 0,void 0,function*(){const[P,O]=A;(0,_.assertType)(v.URI.isUri(P));const x=N.get(u.ITextModelService),W=N.get(r.IEditorWorkerService),U=N.get(a.ILanguageFeaturesService),F=yield x.createModelReference(P);try{return B(W,U,F.object.textEditorModel,O,y.CancellationToken.None)}finally{F.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(N,...A){return be(this,void 0,void 0,function*(){const[P,O,x,W]=A;(0,_.assertType)(v.URI.isUri(P)),(0,_.assertType)(i.Position.isIPosition(O)),(0,_.assertType)(typeof x=="string");const U=N.get(u.ITextModelService),F=N.get(r.IEditorWorkerService),G=N.get(a.ILanguageFeaturesService),Y=yield U.createModelReference(P);try{return T(F,G,Y.object.textEditorModel,i.Position.lift(O),x,W,y.CancellationToken.None)}finally{Y.dispose()}})})}),define(te[804],ie([1,0,13,19,9,62,2,16,33,121,5,22,115,18,355,298,662,25,15,8,85]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormatOnType=void 0;let c=class{constructor(b,w,E){this._editor=b,this._languageFeaturesService=w,this._workerService=E,this._disposables=new S.DisposableStore,this._sessionDisposables=new S.DisposableStore,this._disposables.add(w.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(b.onDidChangeModel(()=>this._update())),this._disposables.add(b.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(b.onDidChangeConfiguration(k=>{k.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const b=this._editor.getModel(),[w]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(b);if(!w||!w.autoFormatTriggerCharacters)return;const E=new v.CharacterSet;for(const k of w.autoFormatTriggerCharacters)E.add(k.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(k=>{const M=k.charCodeAt(k.length-1);E.has(M)&&this._trigger(String.fromCharCode(M))}))}_trigger(b){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const w=this._editor.getModel(),E=this._editor.getPosition(),k=new I.CancellationTokenSource,M=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){k.cancel(),M.dispose();return}for(let B=0,T=R.changes.length;B<T;B++)if(R.changes[B].range.endLineNumber<=E.lineNumber){k.cancel(),M.dispose();return}});(0,t.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,w,E,b,w.getFormattingOptions(),k.token).then(R=>{k.token.isCancellationRequested||(0,L.isNonEmptyArray)(R)&&(r.FormattingEdit.execute(this._editor,R,!0),(0,t.alertFormattingEdits)(R))}).finally(()=>{M.dispose()})}};e.FormatOnType=c,c.ID="editor.contrib.autoFormat",e.FormatOnType=c=Ie([ge(1,n.ILanguageFeaturesService),ge(2,i.IEditorWorkerService)],c);let a=class{constructor(b,w,E){this.editor=b,this._languageFeaturesService=w,this._instantiationService=E,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._callOnDispose.add(b.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(b.onDidChangeModel(()=>this._update())),this._callOnDispose.add(b.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(w.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:b})=>this._trigger(b)))}_trigger(b){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(t.formatDocumentRangesWithSelectedProvider,this.editor,b,2,o.Progress.None,I.CancellationToken.None).catch(y.onUnexpectedError))}};a.ID="editor.contrib.formatOnPaste",a=Ie([ge(1,n.ILanguageFeaturesService),ge(2,l.IInstantiationService)],a);class g extends m.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:u.localize(0,null),alias:"Format Document",precondition:d.ContextKeyExpr.and(s.EditorContextKeys.notInCompositeEditor,s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(b,w){return be(this,void 0,void 0,function*(){if(w.hasModel()){const E=b.get(l.IInstantiationService);yield b.get(o.IEditorProgressService).showWhile(E.invokeFunction(t.formatDocumentWithSelectedProvider,w,1,o.Progress.None,I.CancellationToken.None),250)}})}}class h extends m.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:u.localize(1,null),alias:"Format Selection",precondition:d.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:s.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(b,w){return be(this,void 0,void 0,function*(){if(!w.hasModel())return;const E=b.get(l.IInstantiationService),k=w.getModel(),M=w.getSelections().map(B=>B.isEmpty()?new C.Range(B.startLineNumber,1,B.startLineNumber,k.getLineMaxColumn(B.startLineNumber)):B);yield b.get(o.IEditorProgressService).showWhile(E.invokeFunction(t.formatDocumentRangesWithSelectedProvider,w,M,1,o.Progress.None,I.CancellationToken.None),250)})}}(0,m.registerEditorContribution)(c.ID,c,2),(0,m.registerEditorContribution)(a.ID,a,2),(0,m.registerEditorAction)(g),(0,m.registerEditorAction)(h),f.CommandsRegistry.registerCommand("editor.action.format",p=>be(void 0,void 0,void 0,function*(){const b=p.get(_.ICodeEditorService).getFocusedCodeEditor();if(!b||!b.hasModel())return;const w=p.get(f.ICommandService);b.getSelection().isEmpty()?yield w.executeCommand("editor.action.formatDocument"):yield w.executeCommand("editor.action.formatSelection")}))}),define(te[246],ie([1,0,13,19,9,16,18,155]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function _(r,u,f,d){return be(this,void 0,void 0,function*(){const o=f.ordered(r).map(a=>Promise.resolve(d(a,r,u)).then(void 0,g=>{(0,y.onUnexpectedExternalError)(g)})),c=yield Promise.all(o);return(0,L.coalesce)(c.flat())})}function v(r,u,f,d){return _(u,f,r,(l,o,c)=>l.provideDefinition(o,c,d))}e.getDefinitionsAtPosition=v;function C(r,u,f,d){return _(u,f,r,(l,o,c)=>l.provideDeclaration(o,c,d))}e.getDeclarationsAtPosition=C;function s(r,u,f,d){return _(u,f,r,(l,o,c)=>l.provideImplementation(o,c,d))}e.getImplementationsAtPosition=s;function i(r,u,f,d){return _(u,f,r,(l,o,c)=>l.provideTypeDefinition(o,c,d))}e.getTypeDefinitionsAtPosition=i;function n(r,u,f,d,l){return _(u,f,r,(o,c,a)=>be(this,void 0,void 0,function*(){const g=yield o.provideReferences(c,a,{includeDeclaration:!0},l);if(!d||!g||g.length!==2)return g;const h=yield o.provideReferences(c,a,{includeDeclaration:!1},l);return h&&h.length===1?h:g}))}e.getReferencesAtPosition=n;function t(r){return be(this,void 0,void 0,function*(){const u=yield r(),f=new m.ReferencesModel(u,""),d=f.references.map(l=>l.link);return f.dispose(),d})}(0,D.registerModelAndPositionCommand)("_executeDefinitionProvider",(r,u,f)=>{const d=r.get(S.ILanguageFeaturesService),l=v(d.definitionProvider,u,f,I.CancellationToken.None);return t(()=>l)}),(0,D.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(r,u,f)=>{const d=r.get(S.ILanguageFeaturesService),l=i(d.typeDefinitionProvider,u,f,I.CancellationToken.None);return t(()=>l)}),(0,D.registerModelAndPositionCommand)("_executeDeclarationProvider",(r,u,f)=>{const d=r.get(S.ILanguageFeaturesService),l=C(d.declarationProvider,u,f,I.CancellationToken.None);return t(()=>l)}),(0,D.registerModelAndPositionCommand)("_executeReferenceProvider",(r,u,f)=>{const d=r.get(S.ILanguageFeaturesService),l=n(d.referenceProvider,u,f,!1,I.CancellationToken.None);return t(()=>l)}),(0,D.registerModelAndPositionCommand)("_executeImplementationProvider",(r,u,f)=>{const d=r.get(S.ILanguageFeaturesService),l=s(d.implementationProvider,u,f,I.CancellationToken.None);return t(()=>l)})}),define(te[805],ie([1,0,6,2,46,16,33,5,671,15,47,8,34,117,48]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new v.RawContextKey("hasSymbols",!1,(0,_.localize)(0,null)),e.ISymbolNavigationService=(0,s.createDecorator)("ISymbolNavigationService");let r=class{constructor(d,l,o,c){this._editorService=l,this._notificationService=o,this._keybindingService=c,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(d)}reset(){var d,l;this._ctxHasSymbols.reset(),(d=this._currentState)===null||d===void 0||d.dispose(),(l=this._currentMessage)===null||l===void 0||l.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(d){const l=d.parent.parent;if(l.references.length<=1){this.reset();return}this._currentModel=l,this._currentIdx=l.references.indexOf(d),this._ctxHasSymbols.set(!0),this._showMessage();const o=new u(this._editorService),c=o.onDidChange(a=>{if(this._ignoreEditorChange)return;const g=this._editorService.getActiveCodeEditor();if(!g)return;const h=g.getModel(),p=g.getPosition();if(!h||!p)return;let b=!1,w=!1;for(const E of l.references)if((0,y.isEqual)(E.uri,h.uri))b=!0,w=w||m.Range.containsPosition(E.range,p);else if(b)break;(!b||!w)&&this.reset()});this._currentState=(0,I.combinedDisposable)(o,c)}revealNext(d){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const l=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:l.uri,options:{selection:m.Range.collapseToStart(l.range),selectionRevealType:3}},d).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var d;(d=this._currentMessage)===null||d===void 0||d.dispose();const l=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=l?(0,_.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,l.getLabel()):(0,_.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};r=Ie([ge(0,v.IContextKeyService),ge(1,S.ICodeEditorService),ge(2,t.INotificationService),ge(3,i.IKeybindingService)],r),(0,C.registerSingleton)(e.ISymbolNavigationService,r,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(f,d){return f.get(e.ISymbolNavigationService).revealNext(d)}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(f){f.get(e.ISymbolNavigationService).reset()}});let u=class{constructor(d){this._listener=new Map,this._disposables=new I.DisposableStore,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(d.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(d.onCodeEditorAdd(this._onDidAddEditor,this)),d.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,I.dispose)(this._listener.values())}_onDidAddEditor(d){this._listener.set(d,(0,I.combinedDisposable)(d.onDidChangeCursorPosition(l=>this._onDidChange.fire({editor:d})),d.onDidChangeModelContent(l=>this._onDidChange.fire({editor:d}))))}_onDidRemoveEditor(d){var l;(l=this._listener.get(d))===null||l===void 0||l.dispose(),this._listener.delete(d)}};u=Ie([ge(0,S.ICodeEditorService)],u)}),define(te[356],ie([1,0,14,19,9,16,18]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class m{constructor(n,t,r){this.provider=n,this.hover=t,this.ordinal=r}}e.HoverProviderResult=m;function _(i,n,t,r,u){return be(this,void 0,void 0,function*(){try{const f=yield Promise.resolve(i.provideHover(t,r,u));if(f&&s(f))return new m(i,f,n)}catch(f){(0,y.onUnexpectedExternalError)(f)}})}function v(i,n,t,r){const f=i.ordered(n).map((d,l)=>_(d,l,n,t,r));return L.AsyncIterableObject.fromPromises(f).coalesce()}e.getHover=v;function C(i,n,t,r){return v(i,n,t,r).map(u=>u.hover).toPromise()}e.getHoverPromise=C,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(i,n,t)=>{const r=i.get(S.ILanguageFeaturesService);return C(r.hoverProvider,n,t,I.CancellationToken.None)});function s(i){const n=typeof i.range<"u",t=typeof i.contents<"u"&&i.contents&&i.contents.length>0;return n&&t}}),define(te[247],ie([1,0,7,13,14,57,2,116,12,5,42,356,673,28,55,18]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const u=L.$;class f{constructor(c,a,g,h,p){this.owner=c,this.range=a,this.contents=g,this.isBeforeContent=h,this.ordinal=p}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.MarkdownHover=f;let d=class{constructor(c,a,g,h,p){this._editor=c,this._languageService=a,this._openerService=g,this._configurationService=h,this._languageFeaturesService=p,this.hoverOrdinal=3}createLoadingMessage(c){return new f(this,c.range,[new D.MarkdownString().appendText(i.localize(0,null))],!1,2e3)}computeSync(c,a){if(!this._editor.hasModel()||c.type!==1)return[];const g=this._editor.getModel(),h=c.range.startLineNumber,p=g.getLineMaxColumn(h),b=[];let w=1e3;const E=g.getLineLength(h),k=g.getLanguageIdAtPosition(c.range.startLineNumber,c.range.startColumn),M=this._editor.getOption(116),R=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:k});let B=!1;M>=0&&E>M&&c.range.startColumn>=M&&(B=!0,b.push(new f(this,c.range,[{value:i.localize(1,null)}],!1,w++))),!B&&typeof R=="number"&&E>=R&&b.push(new f(this,c.range,[{value:i.localize(2,null)}],!1,w++));let T=!1;for(const N of a){const A=N.range.startLineNumber===h?N.range.startColumn:1,P=N.range.endLineNumber===h?N.range.endColumn:p,O=N.options.hoverMessage;if(!O||(0,D.isEmptyMarkdownString)(O))continue;N.options.beforeContentClassName&&(T=!0);const x=new v.Range(c.range.startLineNumber,A,c.range.startLineNumber,P);b.push(new f(this,x,(0,I.asArray)(O),T,w++))}return b}computeAsync(c,a,g){if(!this._editor.hasModel()||c.type!==1)return y.AsyncIterableObject.EMPTY;const h=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(h))return y.AsyncIterableObject.EMPTY;const p=new _.Position(c.range.startLineNumber,c.range.startColumn);return(0,s.getHover)(this._languageFeaturesService.hoverProvider,h,p,g).filter(b=>!(0,D.isEmptyMarkdownString)(b.hover.contents)).map(b=>{const w=b.hover.range?v.Range.lift(b.hover.range):c.range;return new f(this,w,b.hover.contents,!1,b.ordinal)})}renderHoverParts(c,a){return l(c,a,this._editor,this._languageService,this._openerService)}};e.MarkdownHoverParticipant=d,e.MarkdownHoverParticipant=d=Ie([ge(1,C.ILanguageService),ge(2,t.IOpenerService),ge(3,n.IConfigurationService),ge(4,r.ILanguageFeaturesService)],d);function l(o,c,a,g,h){c.sort((b,w)=>b.ordinal-w.ordinal);const p=new S.DisposableStore;for(const b of c)for(const w of b.contents){if((0,D.isEmptyMarkdownString)(w))continue;const E=u("div.hover-row.markdown-hover"),k=L.append(E,u("div.hover-contents")),M=p.add(new m.MarkdownRenderer({editor:a},g,h));p.add(M.onDidRenderAsync(()=>{k.className="hover-contents code-hover-contents",o.onContentsChanged()}));const R=p.add(M.render(w));k.appendChild(R.element),o.fragment.appendChild(E)}return p}e.renderMarkdownHovers=l}),define(te[806],ie([1,0,2,10,16,244,71,5,24,22,32,50,299,676,67,201,242]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function f(B,T,N,A,P){if(B.getLineCount()===1&&B.getLineMaxColumn(1)===1)return[];const O=T.getLanguageConfiguration(B.getLanguageId()).indentationRules;if(!O)return[];for(A=Math.min(A,B.getLineCount());N<=A&&O.unIndentedLinePattern;){const H=B.getLineContent(N);if(!O.unIndentedLinePattern.test(H))break;N++}if(N>A-1)return[];const{tabSize:x,indentSize:W,insertSpaces:U}=B.getOptions(),F=(H,V)=>(V=V||1,D.ShiftCommand.shiftIndent(H,H.length+V,x,W,U)),G=(H,V)=>(V=V||1,D.ShiftCommand.unshiftIndent(H,H.length+V,x,W,U)),Y=[];let ne;const se=B.getLineContent(N);let J=se;if(P!=null){ne=P;const H=I.getLeadingWhitespace(se);J=ne+se.substring(H.length),O.decreaseIndentPattern&&O.decreaseIndentPattern.test(J)&&(ne=G(ne),J=ne+se.substring(H.length)),se!==J&&Y.push(S.EditOperation.replaceMove(new _.Selection(N,1,N,H.length+1),(0,r.normalizeIndentation)(ne,W,U)))}else ne=I.getLeadingWhitespace(se);let q=ne;O.increaseIndentPattern&&O.increaseIndentPattern.test(J)?(q=F(q),ne=F(ne)):O.indentNextLinePattern&&O.indentNextLinePattern.test(J)&&(q=F(q)),N++;for(let H=N;H<=A;H++){const V=B.getLineContent(H),Z=I.getLeadingWhitespace(V),ee=q+V.substring(Z.length);O.decreaseIndentPattern&&O.decreaseIndentPattern.test(ee)&&(q=G(q),ne=G(ne)),Z!==q&&Y.push(S.EditOperation.replaceMove(new _.Selection(H,1,H,Z.length+1),(0,r.normalizeIndentation)(q,W,U))),!(O.unIndentedLinePattern&&O.unIndentedLinePattern.test(V))&&(O.increaseIndentPattern&&O.increaseIndentPattern.test(ee)?(ne=F(ne),q=ne):O.indentNextLinePattern&&O.indentNextLinePattern.test(ee)?q=F(q):q=ne)}return Y}e.getReindentEditOperations=f;class d extends y.EditorAction{constructor(){super({id:d.ID,label:n.localize(0,null),alias:"Convert Indentation to Spaces",precondition:v.EditorContextKeys.writable})}run(T,N){const A=N.getModel();if(!A)return;const P=A.getOptions(),O=N.getSelection();if(!O)return;const x=new M(O,P.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[x]),N.pushUndoStop(),A.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=d,d.ID="editor.action.indentationToSpaces";class l extends y.EditorAction{constructor(){super({id:l.ID,label:n.localize(1,null),alias:"Convert Indentation to Tabs",precondition:v.EditorContextKeys.writable})}run(T,N){const A=N.getModel();if(!A)return;const P=A.getOptions(),O=N.getSelection();if(!O)return;const x=new R(O,P.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[x]),N.pushUndoStop(),A.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=l,l.ID="editor.action.indentationToTabs";class o extends y.EditorAction{constructor(T,N,A){super(A),this.insertSpaces=T,this.displaySizeOnly=N}run(T,N){const A=T.get(t.IQuickInputService),P=T.get(s.IModelService),O=N.getModel();if(!O)return;const x=P.getCreationOptions(O.getLanguageId(),O.uri,O.isForSimpleWidget),W=O.getOptions(),U=[1,2,3,4,5,6,7,8].map(G=>({id:G.toString(),label:G.toString(),description:G===x.tabSize&&G===W.tabSize?n.localize(2,null):G===x.tabSize?n.localize(3,null):G===W.tabSize?n.localize(4,null):void 0})),F=Math.min(O.getOptions().tabSize-1,7);setTimeout(()=>{A.pick(U,{placeHolder:n.localize(5,null),activeItem:U[F]}).then(G=>{if(G&&O&&!O.isDisposed()){const Y=parseInt(G.label,10);this.displaySizeOnly?O.updateOptions({tabSize:Y}):O.updateOptions({tabSize:Y,indentSize:Y,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=o;class c extends o{constructor(){super(!1,!1,{id:c.ID,label:n.localize(6,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=c,c.ID="editor.action.indentUsingTabs";class a extends o{constructor(){super(!0,!1,{id:a.ID,label:n.localize(7,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=a,a.ID="editor.action.indentUsingSpaces";class g extends o{constructor(){super(!0,!0,{id:g.ID,label:n.localize(8,null),alias:"Change Tab Display Size",precondition:void 0})}}e.ChangeTabDisplaySize=g,g.ID="editor.action.changeTabDisplaySize";class h extends y.EditorAction{constructor(){super({id:h.ID,label:n.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0})}run(T,N){const A=T.get(s.IModelService),P=N.getModel();if(!P)return;const O=A.getCreationOptions(P.getLanguageId(),P.uri,P.isForSimpleWidget);P.detectIndentation(O.insertSpaces,O.tabSize)}}e.DetectIndentation=h,h.ID="editor.action.detectIndentation";class p extends y.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:n.localize(10,null),alias:"Reindent Lines",precondition:v.EditorContextKeys.writable})}run(T,N){const A=T.get(C.ILanguageConfigurationService),P=N.getModel();if(!P)return;const O=f(P,A,1,P.getLineCount());O.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,O),N.pushUndoStop())}}e.ReindentLinesAction=p;class b extends y.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:n.localize(11,null),alias:"Reindent Selected Lines",precondition:v.EditorContextKeys.writable})}run(T,N){const A=T.get(C.ILanguageConfigurationService),P=N.getModel();if(!P)return;const O=N.getSelections();if(O===null)return;const x=[];for(const W of O){let U=W.startLineNumber,F=W.endLineNumber;if(U!==F&&W.endColumn===1&&F--,U===1){if(U===F)continue}else U--;const G=f(P,A,U,F);x.push(...G)}x.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,x),N.pushUndoStop())}}e.ReindentSelectedLinesAction=b;class w{constructor(T,N){this._initialSelection=N,this._edits=[],this._selectionId=null;for(const A of T)A.range&&typeof A.text=="string"&&this._edits.push(A)}getEditOperations(T,N){for(const P of this._edits)N.addEditOperation(m.Range.lift(P.range),P.text);let A=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(A=!0,this._selectionId=N.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(A=!0,this._selectionId=N.trackSelection(this._initialSelection,!1))),A||(this._selectionId=N.trackSelection(this._initialSelection))}computeCursorState(T,N){return N.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=w;let E=class{constructor(T,N){this.editor=T,this._languageConfigurationService=N,this.callOnDispose=new L.DisposableStore,this.callOnModel=new L.DisposableStore,this.callOnDispose.add(T.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(T.onDidChangeModel(()=>this.update())),this.callOnDispose.add(T.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:T})=>{this.trigger(T)}))}trigger(T){const N=this.editor.getSelections();if(N===null||N.length>1)return;const A=this.editor.getModel();if(!A||!A.tokenization.isCheapToTokenize(T.getStartPosition().lineNumber))return;const P=this.editor.getOption(12),{tabSize:O,indentSize:x,insertSpaces:W}=A.getOptions(),U=[],F={shiftIndent:se=>D.ShiftCommand.shiftIndent(se,se.length+1,O,x,W),unshiftIndent:se=>D.ShiftCommand.unshiftIndent(se,se.length+1,O,x,W)};let G=T.startLineNumber;for(;G<=T.endLineNumber;){if(this.shouldIgnoreLine(A,G)){G++;continue}break}if(G>T.endLineNumber)return;let Y=A.getLineContent(G);if(!/\S/.test(Y.substring(0,T.startColumn-1))){const se=(0,u.getGoodIndentForLine)(P,A,A.getLanguageId(),G,F,this._languageConfigurationService);if(se!==null){const J=I.getLeadingWhitespace(Y),q=i.getSpaceCnt(se,O),H=i.getSpaceCnt(J,O);if(q!==H){const V=i.generateIndent(q,O,W);U.push({range:new m.Range(G,1,G,J.length+1),text:V}),Y=V+Y.substr(J.length)}else{const V=(0,u.getIndentMetadata)(A,G,this._languageConfigurationService);if(V===0||V===8)return}}}const ne=G;for(;G<T.endLineNumber;){if(!/\S/.test(A.getLineContent(G+1))){G++;continue}break}if(G!==T.endLineNumber){const se={tokenization:{getLineTokens:q=>A.tokenization.getLineTokens(q),getLanguageId:()=>A.getLanguageId(),getLanguageIdAtPosition:(q,H)=>A.getLanguageIdAtPosition(q,H)},getLineContent:q=>q===ne?Y:A.getLineContent(q)},J=(0,u.getGoodIndentForLine)(P,se,A.getLanguageId(),G+1,F,this._languageConfigurationService);if(J!==null){const q=i.getSpaceCnt(J,O),H=i.getSpaceCnt(I.getLeadingWhitespace(A.getLineContent(G+1)),O);if(q!==H){const V=q-H;for(let Z=G+1;Z<=T.endLineNumber;Z++){const ee=A.getLineContent(Z),le=I.getLeadingWhitespace(ee),de=i.getSpaceCnt(le,O)+V,ce=i.generateIndent(de,O,W);ce!==le&&U.push({range:new m.Range(Z,1,Z,le.length+1),text:ce})}}}}if(U.length>0){this.editor.pushUndoStop();const se=new w(U,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",se),this.editor.pushUndoStop()}}shouldIgnoreLine(T,N){T.tokenization.forceTokenization(N);const A=T.getLineFirstNonWhitespaceColumn(N);if(A===0)return!0;const P=T.tokenization.getLineTokens(N);if(P.getCount()>0){const O=P.findTokenIndexAtOffset(A);if(O>=0&&P.getStandardTokenType(O)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=E,E.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=E=Ie([ge(1,C.ILanguageConfigurationService)],E);function k(B,T,N,A){if(B.getLineCount()===1&&B.getLineMaxColumn(1)===1)return;let P="";for(let x=0;x<N;x++)P+=" ";const O=new RegExp(P,"gi");for(let x=1,W=B.getLineCount();x<=W;x++){let U=B.getLineFirstNonWhitespaceColumn(x);if(U===0&&(U=B.getLineMaxColumn(x)),U===1)continue;const F=new m.Range(x,1,x,U),G=B.getValueInRange(F),Y=A?G.replace(/\t/ig,P):G.replace(O,"	");T.addEditOperation(F,Y)}}class M{constructor(T,N){this.selection=T,this.tabSize=N,this.selectionId=null}getEditOperations(T,N){this.selectionId=N.trackSelection(this.selection),k(T,N,this.tabSize,!0)}computeCursorState(T,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=M;class R{constructor(T,N){this.selection=T,this.tabSize=N,this.selectionId=null}getEditOperations(T,N){this.selectionId=N.trackSelection(this.selection),k(T,N,this.tabSize,!1)}computeCursorState(T,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=R,(0,y.registerEditorContribution)(E.ID,E,2),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(a),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(p),(0,y.registerEditorAction)(b)}),define(te[807],ie([1,0,16,206,22,683]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class S extends L.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:y.EditorContextKeys.textInputFocus,primary:2090}})}run(_,v,C){if(C=C||{},!v.hasModel())return;const s=v._getViewModel();s.model.pushStackElement(),s.setCursorStates(C.source,3,I.CursorMoveCommands.expandLineSelection(s,s.getCursorStates())),s.revealPrimaryCursor(C.source,!0)}}e.ExpandLineSelectionAction=S,(0,L.registerEditorAction)(S)}),define(te[808],ie([1,0,62,188,16,123,488,245,71,12,5,24,22,548,781,549,684,30,32]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class l extends y.EditorAction{constructor(Z,ee){super(ee),this.down=Z}run(Z,ee){if(!ee.hasModel())return;const le=ee.getSelections().map((ce,ae)=>({selection:ce,index:ae,ignore:!1}));le.sort((ce,ae)=>C.Range.compareRangesUsingStarts(ce.selection,ae.selection));let ue=le[0];for(let ce=1;ce<le.length;ce++){const ae=le[ce];ue.selection.endLineNumber===ae.selection.startLineNumber&&(ue.index<ae.index?ae.ignore=!0:(ue.ignore=!0,ue=ae))}const de=[];for(const ce of le)de.push(new n.CopyLinesCommand(ce.selection,this.down,ce.ignore));ee.pushUndoStop(),ee.executeCommands(this.id,de),ee.pushUndoStop()}}class o extends l{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:u.localize(0,null),alias:"Copy Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:f.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(1,null),order:1}})}}class c extends l{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:u.localize(2,null),alias:"Copy Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:f.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(3,null),order:2}})}}class a extends y.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:u.localize(4,null),alias:"Duplicate Selection",precondition:i.EditorContextKeys.writable,menuOpts:{menuId:f.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(5,null),order:5}})}run(Z,ee,le){if(!ee.hasModel())return;const ue=[],de=ee.getSelections(),ce=ee.getModel();for(const ae of de)if(ae.isEmpty())ue.push(new n.CopyLinesCommand(ae,!0));else{const X=new s.Selection(ae.endLineNumber,ae.endColumn,ae.endLineNumber,ae.endColumn);ue.push(new D.ReplaceCommandThatSelectsText(X,ce.getValueInRange(ae)))}ee.pushUndoStop(),ee.executeCommands(this.id,ue),ee.pushUndoStop()}}e.DuplicateSelectionAction=a;class g extends y.EditorAction{constructor(Z,ee){super(ee),this.down=Z}run(Z,ee){const le=Z.get(d.ILanguageConfigurationService),ue=[],de=ee.getSelections()||[],ce=ee.getOption(12);for(const ae of de)ue.push(new t.MoveLinesCommand(ae,this.down,ce,le));ee.pushUndoStop(),ee.executeCommands(this.id,ue),ee.pushUndoStop()}}class h extends g{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:u.localize(6,null),alias:"Move Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:f.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(7,null),order:3}})}}class p extends g{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:u.localize(8,null),alias:"Move Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:f.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(9,null),order:4}})}}class b extends y.EditorAction{constructor(Z,ee){super(ee),this.descending=Z}run(Z,ee){const le=ee.getSelections()||[];for(const de of le)if(!r.SortLinesCommand.canRun(ee.getModel(),de,this.descending))return;const ue=[];for(let de=0,ce=le.length;de<ce;de++)ue[de]=new r.SortLinesCommand(le[de],this.descending);ee.pushUndoStop(),ee.executeCommands(this.id,ue),ee.pushUndoStop()}}e.AbstractSortLinesAction=b;class w extends b{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:u.localize(10,null),alias:"Sort Lines Ascending",precondition:i.EditorContextKeys.writable})}}e.SortLinesAscendingAction=w;class E extends b{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:u.localize(11,null),alias:"Sort Lines Descending",precondition:i.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class k extends y.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:u.localize(12,null),alias:"Delete Duplicate Lines",precondition:i.EditorContextKeys.writable})}run(Z,ee){if(!ee.hasModel())return;const le=ee.getModel();if(le.getLineCount()===1&&le.getLineMaxColumn(1)===1)return;const ue=[],de=[];let ce=0;for(const ae of ee.getSelections()){const X=new Set,K=[];for(let re=ae.startLineNumber;re<=ae.endLineNumber;re++){const oe=le.getLineContent(re);X.has(oe)||(K.push(oe),X.add(oe))}const z=new s.Selection(ae.startLineNumber,1,ae.endLineNumber,le.getLineMaxColumn(ae.endLineNumber)),Q=ae.startLineNumber-ce,j=new s.Selection(Q,1,Q+K.length-1,K[K.length-1].length);ue.push(_.EditOperation.replace(z,K.join(`
`))),de.push(j),ce+=ae.endLineNumber-ae.startLineNumber+1-K.length}ee.pushUndoStop(),ee.executeEdits(this.id,ue,de),ee.pushUndoStop()}}e.DeleteDuplicateLinesAction=k;class M extends y.EditorAction{constructor(){super({id:M.ID,label:u.localize(13,null),alias:"Trim Trailing Whitespace",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2102),weight:100}})}run(Z,ee,le){let ue=[];le.reason==="auto-save"&&(ue=(ee.getSelections()||[]).map(ae=>new v.Position(ae.positionLineNumber,ae.positionColumn)));const de=ee.getSelection();if(de===null)return;const ce=new S.TrimTrailingWhitespaceCommand(de,ue);ee.pushUndoStop(),ee.executeCommands(this.id,[ce]),ee.pushUndoStop()}}e.TrimTrailingWhitespaceAction=M,M.ID="editor.action.trimTrailingWhitespace";class R extends y.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:u.localize(14,null),alias:"Delete Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(Z,ee){if(!ee.hasModel())return;const le=this._getLinesToRemove(ee),ue=ee.getModel();if(ue.getLineCount()===1&&ue.getLineMaxColumn(1)===1)return;let de=0;const ce=[],ae=[];for(let X=0,K=le.length;X<K;X++){const z=le[X];let Q=z.startLineNumber,j=z.endLineNumber,re=1,oe=ue.getLineMaxColumn(j);j<ue.getLineCount()?(j+=1,oe=1):Q>1&&(Q-=1,re=ue.getLineMaxColumn(Q)),ce.push(_.EditOperation.replace(new s.Selection(Q,re,j,oe),"")),ae.push(new s.Selection(Q-de,z.positionColumn,Q-de,z.positionColumn)),de+=z.endLineNumber-z.startLineNumber+1}ee.pushUndoStop(),ee.executeEdits(this.id,ce,ae),ee.pushUndoStop()}_getLinesToRemove(Z){const ee=Z.getSelections().map(de=>{let ce=de.endLineNumber;return de.startLineNumber<de.endLineNumber&&de.endColumn===1&&(ce-=1),{startLineNumber:de.startLineNumber,selectionStartColumn:de.selectionStartColumn,endLineNumber:ce,positionColumn:de.positionColumn}});ee.sort((de,ce)=>de.startLineNumber===ce.startLineNumber?de.endLineNumber-ce.endLineNumber:de.startLineNumber-ce.startLineNumber);const le=[];let ue=ee[0];for(let de=1;de<ee.length;de++)ue.endLineNumber+1>=ee[de].startLineNumber?ue.endLineNumber=ee[de].endLineNumber:(le.push(ue),ue=ee[de]);return le.push(ue),le}}e.DeleteLinesAction=R;class B extends y.EditorAction{constructor(){super({id:"editor.action.indentLines",label:u.localize(15,null),alias:"Indent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(Z,ee){const le=ee._getViewModel();le&&(ee.pushUndoStop(),ee.executeCommands(this.id,m.TypeOperations.indent(le.cursorConfig,ee.getModel(),ee.getSelections())),ee.pushUndoStop())}}e.IndentLinesAction=B;class T extends y.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:u.localize(16,null),alias:"Outdent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(Z,ee){I.CoreEditingCommands.Outdent.runEditorCommand(Z,ee,null)}}class N extends y.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:u.localize(17,null),alias:"Insert Line Above",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(Z,ee){const le=ee._getViewModel();le&&(ee.pushUndoStop(),ee.executeCommands(this.id,m.TypeOperations.lineInsertBefore(le.cursorConfig,ee.getModel(),ee.getSelections())))}}e.InsertLineBeforeAction=N;class A extends y.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:u.localize(18,null),alias:"Insert Line Below",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(Z,ee){const le=ee._getViewModel();le&&(ee.pushUndoStop(),ee.executeCommands(this.id,m.TypeOperations.lineInsertAfter(le.cursorConfig,ee.getModel(),ee.getSelections())))}}e.InsertLineAfterAction=A;class P extends y.EditorAction{run(Z,ee){if(!ee.hasModel())return;const le=ee.getSelection(),ue=this._getRangesToDelete(ee),de=[];for(let X=0,K=ue.length-1;X<K;X++){const z=ue[X],Q=ue[X+1];C.Range.intersectRanges(z,Q)===null?de.push(z):ue[X+1]=C.Range.plusRange(z,Q)}de.push(ue[ue.length-1]);const ce=this._getEndCursorState(le,de),ae=de.map(X=>_.EditOperation.replace(X,""));ee.pushUndoStop(),ee.executeEdits(this.id,ae,ce),ee.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=P;class O extends P{constructor(){super({id:"deleteAllLeft",label:u.localize(19,null),alias:"Delete All Left",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Z,ee){let le=null;const ue=[];let de=0;return ee.forEach(ce=>{let ae;if(ce.endColumn===1&&de>0){const X=ce.startLineNumber-de;ae=new s.Selection(X,ce.startColumn,X,ce.startColumn)}else ae=new s.Selection(ce.startLineNumber,ce.startColumn,ce.startLineNumber,ce.startColumn);de+=ce.endLineNumber-ce.startLineNumber,ce.intersectRanges(Z)?le=ae:ue.push(ae)}),le&&ue.unshift(le),ue}_getRangesToDelete(Z){const ee=Z.getSelections();if(ee===null)return[];let le=ee;const ue=Z.getModel();return ue===null?[]:(le.sort(C.Range.compareRangesUsingStarts),le=le.map(de=>{if(de.isEmpty())if(de.startColumn===1){const ce=Math.max(1,de.startLineNumber-1),ae=de.startLineNumber===1?1:ue.getLineLength(ce)+1;return new C.Range(ce,ae,de.startLineNumber,1)}else return new C.Range(de.startLineNumber,1,de.startLineNumber,de.startColumn);else return new C.Range(de.startLineNumber,1,de.endLineNumber,de.endColumn)}),le)}}e.DeleteAllLeftAction=O;class x extends P{constructor(){super({id:"deleteAllRight",label:u.localize(20,null),alias:"Delete All Right",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Z,ee){let le=null;const ue=[];for(let de=0,ce=ee.length,ae=0;de<ce;de++){const X=ee[de],K=new s.Selection(X.startLineNumber-ae,X.startColumn,X.startLineNumber-ae,X.startColumn);X.intersectRanges(Z)?le=K:ue.push(K)}return le&&ue.unshift(le),ue}_getRangesToDelete(Z){const ee=Z.getModel();if(ee===null)return[];const le=Z.getSelections();if(le===null)return[];const ue=le.map(de=>{if(de.isEmpty()){const ce=ee.getLineMaxColumn(de.startLineNumber);return de.startColumn===ce?new C.Range(de.startLineNumber,de.startColumn,de.startLineNumber+1,1):new C.Range(de.startLineNumber,de.startColumn,de.startLineNumber,ce)}return de});return ue.sort(C.Range.compareRangesUsingStarts),ue}}e.DeleteAllRightAction=x;class W extends y.EditorAction{constructor(){super({id:"editor.action.joinLines",label:u.localize(21,null),alias:"Join Lines",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Z,ee){const le=ee.getSelections();if(le===null)return;let ue=ee.getSelection();if(ue===null)return;le.sort(C.Range.compareRangesUsingStarts);const de=[],ce=le.reduce((j,re)=>j.isEmpty()?j.endLineNumber===re.startLineNumber?(ue.equalsSelection(j)&&(ue=re),re):re.startLineNumber>j.endLineNumber+1?(de.push(j),re):new s.Selection(j.startLineNumber,j.startColumn,re.endLineNumber,re.endColumn):re.startLineNumber>j.endLineNumber?(de.push(j),re):new s.Selection(j.startLineNumber,j.startColumn,re.endLineNumber,re.endColumn));de.push(ce);const ae=ee.getModel();if(ae===null)return;const X=[],K=[];let z=ue,Q=0;for(let j=0,re=de.length;j<re;j++){const oe=de[j],he=oe.startLineNumber,me=1;let pe=0,ve,we;const Le=ae.getLineLength(oe.endLineNumber)-oe.endColumn;if(oe.isEmpty()||oe.startLineNumber===oe.endLineNumber){const Re=oe.getStartPosition();Re.lineNumber<ae.getLineCount()?(ve=he+1,we=ae.getLineMaxColumn(ve)):(ve=Re.lineNumber,we=ae.getLineMaxColumn(Re.lineNumber))}else ve=oe.endLineNumber,we=ae.getLineMaxColumn(ve);let Ee=ae.getLineContent(he);for(let Re=he+1;Re<=ve;Re++){const Be=ae.getLineContent(Re),ye=ae.getLineFirstNonWhitespaceColumn(Re);if(ye>=1){let De=!0;Ee===""&&(De=!1),De&&(Ee.charAt(Ee.length-1)===" "||Ee.charAt(Ee.length-1)==="	")&&(De=!1,Ee=Ee.replace(/[\s\uFEFF\xA0]+$/g," "));const fe=Be.substr(ye-1);Ee+=(De?" ":"")+fe,De?pe=fe.length+1:pe=fe.length}else pe=0}const Ae=new C.Range(he,me,ve,we);if(!Ae.isEmpty()){let Re;oe.isEmpty()?(X.push(_.EditOperation.replace(Ae,Ee)),Re=new s.Selection(Ae.startLineNumber-Q,Ee.length-pe+1,he-Q,Ee.length-pe+1)):oe.startLineNumber===oe.endLineNumber?(X.push(_.EditOperation.replace(Ae,Ee)),Re=new s.Selection(oe.startLineNumber-Q,oe.startColumn,oe.endLineNumber-Q,oe.endColumn)):(X.push(_.EditOperation.replace(Ae,Ee)),Re=new s.Selection(oe.startLineNumber-Q,oe.startColumn,oe.startLineNumber-Q,Ee.length-Le)),C.Range.intersectRanges(Ae,ue)!==null?z=Re:K.push(Re)}Q+=Ae.endLineNumber-Ae.startLineNumber}K.unshift(z),ee.pushUndoStop(),ee.executeEdits(this.id,X,K),ee.pushUndoStop()}}e.JoinLinesAction=W;class U extends y.EditorAction{constructor(){super({id:"editor.action.transpose",label:u.localize(22,null),alias:"Transpose Characters around the Cursor",precondition:i.EditorContextKeys.writable})}run(Z,ee){const le=ee.getSelections();if(le===null)return;const ue=ee.getModel();if(ue===null)return;const de=[];for(let ce=0,ae=le.length;ce<ae;ce++){const X=le[ce];if(!X.isEmpty())continue;const K=X.getStartPosition(),z=ue.getLineMaxColumn(K.lineNumber);if(K.column>=z){if(K.lineNumber===ue.getLineCount())continue;const Q=new C.Range(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),j=ue.getValueInRange(Q).split("").reverse().join("");de.push(new D.ReplaceCommand(new s.Selection(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),j))}else{const Q=new C.Range(K.lineNumber,Math.max(1,K.column-1),K.lineNumber,K.column+1),j=ue.getValueInRange(Q).split("").reverse().join("");de.push(new D.ReplaceCommandThatPreservesSelection(Q,j,new s.Selection(K.lineNumber,K.column+1,K.lineNumber,K.column+1)))}}ee.pushUndoStop(),ee.executeCommands(this.id,de),ee.pushUndoStop()}}e.TransposeAction=U;class F extends y.EditorAction{run(Z,ee){const le=ee.getSelections();if(le===null)return;const ue=ee.getModel();if(ue===null)return;const de=ee.getOption(129),ce=[];for(const ae of le)if(ae.isEmpty()){const X=ae.getStartPosition(),K=ee.getConfiguredWordAtPosition(X);if(!K)continue;const z=new C.Range(X.lineNumber,K.startColumn,X.lineNumber,K.endColumn),Q=ue.getValueInRange(z);ce.push(_.EditOperation.replace(z,this._modifyText(Q,de)))}else{const X=ue.getValueInRange(ae);ce.push(_.EditOperation.replace(ae,this._modifyText(X,de)))}ee.pushUndoStop(),ee.executeEdits(this.id,ce),ee.pushUndoStop()}}e.AbstractCaseAction=F;class G extends F{constructor(){super({id:"editor.action.transformToUppercase",label:u.localize(23,null),alias:"Transform to Uppercase",precondition:i.EditorContextKeys.writable})}_modifyText(Z,ee){return Z.toLocaleUpperCase()}}e.UpperCaseAction=G;class Y extends F{constructor(){super({id:"editor.action.transformToLowercase",label:u.localize(24,null),alias:"Transform to Lowercase",precondition:i.EditorContextKeys.writable})}_modifyText(Z,ee){return Z.toLocaleLowerCase()}}e.LowerCaseAction=Y;class ne{constructor(Z,ee){this._pattern=Z,this._flags=ee,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class se extends F{constructor(){super({id:"editor.action.transformToTitlecase",label:u.localize(25,null),alias:"Transform to Title Case",precondition:i.EditorContextKeys.writable})}_modifyText(Z,ee){const le=se.titleBoundary.get();return le?Z.toLocaleLowerCase().replace(le,ue=>ue.toLocaleUpperCase()):Z}}e.TitleCaseAction=se,se.titleBoundary=new ne("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class J extends F{constructor(){super({id:"editor.action.transformToSnakecase",label:u.localize(26,null),alias:"Transform to Snake Case",precondition:i.EditorContextKeys.writable})}_modifyText(Z,ee){const le=J.caseBoundary.get(),ue=J.singleLetters.get();return!le||!ue?Z:Z.replace(le,"$1_$2").replace(ue,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=J,J.caseBoundary=new ne("(\\p{Ll})(\\p{Lu})","gmu"),J.singleLetters=new ne("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class q extends F{constructor(){super({id:"editor.action.transformToCamelcase",label:u.localize(27,null),alias:"Transform to Camel Case",precondition:i.EditorContextKeys.writable})}_modifyText(Z,ee){const le=q.wordBoundary.get();if(!le)return Z;const ue=Z.split(le);return ue.shift()+ue.map(ce=>ce.substring(0,1).toLocaleUpperCase()+ce.substring(1)).join("")}}e.CamelCaseAction=q,q.wordBoundary=new ne("[_\\s-]","gm");class H extends F{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(ee=>ee.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:u.localize(28,null),alias:"Transform to Kebab Case",precondition:i.EditorContextKeys.writable})}_modifyText(Z,ee){const le=H.caseBoundary.get(),ue=H.singleLetters.get(),de=H.underscoreBoundary.get();return!le||!ue||!de?Z:Z.replace(de,"$1-$3").replace(le,"$1-$2").replace(ue,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=H,H.caseBoundary=new ne("(\\p{Ll})(\\p{Lu})","gmu"),H.singleLetters=new ne("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),H.underscoreBoundary=new ne("(\\S)(_)(\\S)","gm"),(0,y.registerEditorAction)(o),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(a),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(p),(0,y.registerEditorAction)(w),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(k),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(R),(0,y.registerEditorAction)(B),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(O),(0,y.registerEditorAction)(x),(0,y.registerEditorAction)(W),(0,y.registerEditorAction)(U),(0,y.registerEditorAction)(G),(0,y.registerEditorAction)(Y),J.caseBoundary.isSupported()&&J.singleLetters.isSupported()&&(0,y.registerEditorAction)(J),q.wordBoundary.isSupported()&&(0,y.registerEditorAction)(q),se.titleBoundary.isSupported()&&(0,y.registerEditorAction)(se),H.isSupported()&&(0,y.registerEditorAction)(H)}),define(te[809],ie([1,0,2,16]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends L.Disposable{constructor(S){super(),this._editor=S,this._register(this._editor.onMouseDown(m=>{const _=this._editor.getOption(116);_>=0&&m.target.type===6&&m.target.position.column>=_&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}y.ID="editor.contrib.longLinesHelper",(0,I.registerEditorContribution)(y.ID,y,2)}),define(te[189],ie([1,0,181,45,6,57,2,16,5,116,687,15,55,7,460]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let r=t=class{static get(l){return l.getContribution(t.ID)}constructor(l,o,c){this._openerService=c,this._messageWidget=new S.MutableDisposable,this._messageListeners=new S.DisposableStore,this._mouseOverMessage=!1,this._editor=l,this._visible=t.MESSAGE_VISIBLE.bindTo(o)}dispose(){var l;(l=this._message)===null||l===void 0||l.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(l,o){(0,I.alert)((0,D.isMarkdownString)(l)?l.value:l),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,D.isMarkdownString)(l)?(0,L.renderMarkdown)(l,{actionHandler:{callback:a=>(0,v.openLinkFromMarkdown)(this._openerService,a,(0,D.isMarkdownString)(l)?l.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new f(this._editor,o,typeof l=="string"?l:this._message.element),this._messageListeners.add(y.Event.debounce(this._editor.onDidBlurEditorText,(a,g)=>g,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&n.isAncestor(n.getActiveElement(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(n.addDisposableListener(this._messageWidget.value.getDomNode(),n.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(n.addDisposableListener(this._messageWidget.value.getDomNode(),n.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let c;this._messageListeners.add(this._editor.onMouseMove(a=>{a.target.position&&(c?c.containsPosition(a.target.position)||this.closeMessage():c=new _.Range(o.lineNumber-3,1,a.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(f.fadeOut(this._messageWidget.value))}};e.MessageController=r,r.ID="editor.contrib.messageController",r.MESSAGE_VISIBLE=new s.RawContextKey("messageVisible",!1,C.localize(0,null)),e.MessageController=r=t=Ie([ge(1,s.IContextKeyService),ge(2,i.IOpenerService)],r);const u=m.EditorCommand.bindToContribution(r.get);(0,m.registerEditorCommand)(new u({id:"leaveEditorMessage",precondition:r.MESSAGE_VISIBLE,handler:d=>d.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class f{static fadeOut(l){const o=()=>{l.dispose(),clearTimeout(c),l.getDomNode().removeEventListener("animationend",o)},c=setTimeout(o,110);return l.getDomNode().addEventListener("animationend",o),l.getDomNode().classList.add("fadeOut"),{dispose:o}}constructor(l,{lineNumber:o,column:c},a){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=l,this._editor.revealLinesInCenterIfOutsideViewport(o,o,0),this._position={lineNumber:o,column:c},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const g=document.createElement("div");g.classList.add("anchor","top"),this._domNode.appendChild(g);const h=document.createElement("div");typeof a=="string"?(h.classList.add("message"),h.textContent=a):(a.classList.add("message"),h.appendChild(a)),this._domNode.appendChild(h);const p=document.createElement("div");p.classList.add("anchor","below"),this._domNode.appendChild(p),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(l){this._domNode.classList.toggle("below",l===2)}}(0,m.registerEditorContribution)(r.ID,r,4)}),define(te[810],ie([1,0,57,2,16,189,694]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class m extends I.Disposable{constructor(v){super(),this.editor=v,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const v=D.MessageController.get(this.editor);if(v&&this.editor.hasModel()){let C=this.editor.getOptions().get(91);C||(this.editor.isSimpleWidget?C=new L.MarkdownString(S.localize(0,null)):C=new L.MarkdownString(S.localize(1,null))),v.showMessage(C,this.editor.getPosition())}}}e.ReadOnlyMessageController=m,m.ID="editor.contrib.readOnlyMessageController",(0,y.registerEditorContribution)(m.ID,m,2)}),define(te[811],ie([1,0,13,19,9,16,12,5,24,22,302,550,697,30,25,18,65,20,21]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=e.SmartSelectController=void 0;class o{constructor(w,E){this.index=w,this.ranges=E}mov(w){const E=this.index+(w?1:-1);if(E<0||E>=this.ranges.length)return this;const k=new o(E,this.ranges);return k.ranges[E].equalsRange(this.ranges[this.index])?k.mov(w):k}}let c=l=class{static get(w){return w.getContribution(l.ID)}constructor(w,E){this._editor=w,this._languageFeaturesService=E,this._ignoreSelection=!1}dispose(){var w;(w=this._selectionListener)===null||w===void 0||w.dispose()}run(w){return be(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const E=this._editor.getSelections(),k=this._editor.getModel();if(this._state||(yield p(this._languageFeaturesService.selectionRangeProvider,k,E.map(R=>R.getPosition()),this._editor.getOption(112),I.CancellationToken.None).then(R=>{var B;if(!(!L.isNonEmptyArray(R)||R.length!==E.length)&&!(!this._editor.hasModel()||!L.equals(this._editor.getSelections(),E,(T,N)=>T.equalsSelection(N)))){for(let T=0;T<R.length;T++)R[T]=R[T].filter(N=>N.containsPosition(E[T].getStartPosition())&&N.containsPosition(E[T].getEndPosition())),R[T].unshift(E[T]);this._state=R.map(T=>new o(0,T)),(B=this._selectionListener)===null||B===void 0||B.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var T;this._ignoreSelection||((T=this._selectionListener)===null||T===void 0||T.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(R=>R.mov(w));const M=this._state.map(R=>_.Selection.fromPositions(R.ranges[R.index].getStartPosition(),R.ranges[R.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(M)}finally{this._ignoreSelection=!1}})}};e.SmartSelectController=c,c.ID="editor.contrib.smartSelectController",e.SmartSelectController=c=l=Ie([ge(1,r.ILanguageFeaturesService)],c);class a extends D.EditorAction{constructor(w,E){super(E),this._forward=w}run(w,E){return be(this,void 0,void 0,function*(){const k=c.get(E);k&&(yield k.run(this._forward))})}}class g extends a{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:i.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(1,null),order:2}})}}t.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class h extends a{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:i.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(c.ID,c,4),(0,D.registerEditorAction)(g),(0,D.registerEditorAction)(h);function p(b,w,E,k,M){return be(this,void 0,void 0,function*(){const R=b.all(w).concat(new s.WordSelectionRangeProvider(k.selectSubwords));R.length===1&&R.unshift(new C.BracketSelectionRangeProvider);const B=[],T=[];for(const N of R)B.push(Promise.resolve(N.provideSelectionRanges(w,E,M)).then(A=>{if(L.isNonEmptyArray(A)&&A.length===E.length)for(let P=0;P<E.length;P++){T[P]||(T[P]=[]);for(const O of A[P])m.Range.isIRange(O.range)&&m.Range.containsPosition(O.range,E[P])&&T[P].push(m.Range.lift(O.range))}},y.onUnexpectedExternalError));return yield Promise.all(B),T.map(N=>{if(N.length===0)return[];N.sort((x,W)=>S.Position.isBefore(x.getStartPosition(),W.getStartPosition())?1:S.Position.isBefore(W.getStartPosition(),x.getStartPosition())||S.Position.isBefore(x.getEndPosition(),W.getEndPosition())?-1:S.Position.isBefore(W.getEndPosition(),x.getEndPosition())?1:0);const A=[];let P;for(const x of N)(!P||m.Range.containsRange(x,P)&&!m.Range.equalsRange(x,P))&&(A.push(x),P=x);if(!k.selectLeadingAndTrailingWhitespace)return A;const O=[A[0]];for(let x=1;x<A.length;x++){const W=A[x-1],U=A[x];if(U.startLineNumber!==W.startLineNumber||U.endLineNumber!==W.endLineNumber){const F=new m.Range(W.startLineNumber,w.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,w.getLineLastNonWhitespaceColumn(W.endLineNumber));F.containsRange(W)&&!F.equalsRange(W)&&U.containsRange(F)&&!U.equalsRange(F)&&O.push(F);const G=new m.Range(W.startLineNumber,1,W.endLineNumber,w.getLineMaxColumn(W.endLineNumber));G.containsRange(W)&&!G.equalsRange(F)&&U.containsRange(G)&&!U.equalsRange(G)&&O.push(G)}O.push(U)}return O})})}e.provideSelectionRanges=p,t.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(b,...w){return be(this,void 0,void 0,function*(){const[E,k]=w;(0,f.assertType)(d.URI.isUri(E));const M=b.get(r.ILanguageFeaturesService).selectionRangeProvider,R=yield b.get(u.ITextModelService).createModelReference(E);try{return p(M,R.object.textEditorModel,k,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},I.CancellationToken.None)}finally{R.dispose()}})})}),define(te[812],ie([1,0,19,69,43,2,16,33,5,18,304,133,351,305,102,8]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class f{constructor(a,g,h,p,b,w){this.range=a,this.insertText=g,this.filterText=h,this.additionalTextEdits=p,this.command=b,this.completion=w}}let d=class extends D.RefCountedDisposable{constructor(a,g,h,p,b,w){super(b.disposable),this.model=a,this.line=g,this.word=h,this.completionModel=p,this._suggestMemoryService=w}canBeReused(a,g,h){return this.model===a&&this.line===g&&this.word.word.length>0&&this.word.startColumn===h.startColumn&&this.word.endColumn<h.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var a;const g=[],{items:h}=this.completionModel,p=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},h),b=y.Iterable.slice(h,p),w=y.Iterable.slice(h,0,p);let E=5;for(const k of y.Iterable.concat(b,w)){if(k.score===I.FuzzyScore.Default)continue;const M=new _.Range(k.editStart.lineNumber,k.editStart.column,k.editInsertEnd.lineNumber,k.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),R=k.completion.insertTextRules&&k.completion.insertTextRules&4?{snippet:k.completion.insertText}:k.completion.insertText;g.push(new f(M,R,(a=k.filterTextLow)!==null&&a!==void 0?a:k.labelLow,k.completion.additionalTextEdits,k.completion.command,k)),E-->=0&&k.resolve(L.CancellationToken.None)}return g}};d=Ie([ge(5,i.ISuggestMemoryService)],d);let l=class{constructor(a,g,h,p){this._getEditorOption=a,this._languageFeatureService=g,this._clipboardService=h,this._suggestMemoryService=p}provideInlineCompletions(a,g,h,p){var b;return be(this,void 0,void 0,function*(){if(h.selectedSuggestionInfo)return;const w=this._getEditorOption(88,a);if(s.QuickSuggestionsOptions.isAllOff(w))return;a.tokenization.tokenizeIfCheap(g.lineNumber);const E=a.tokenization.getLineTokens(g.lineNumber),k=E.getStandardTokenType(E.findTokenIndexAtOffset(Math.max(g.column-1-1,0)));if(s.QuickSuggestionsOptions.valueFor(w,k)!=="inline")return;let M=a.getWordAtPosition(g),R;if(M?.word||(R=this._getTriggerCharacterInfo(a,g)),!M?.word&&!R||(M||(M=a.getWordUntilPosition(g)),M.endColumn!==g.column))return;let B;const T=a.getValueInRange(new _.Range(g.lineNumber,1,g.lineNumber,g.column));if(!R&&(!((b=this._lastResult)===null||b===void 0)&&b.canBeReused(a,g.lineNumber,M))){const N=new C.LineContext(T,g.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=N,this._lastResult.acquire(),B=this._lastResult}else{const N=yield(0,s.provideSuggestionItems)(this._languageFeatureService.completionProvider,a,g,new s.CompletionOptions(void 0,void 0,R?.providers),R&&{triggerKind:1,triggerCharacter:R.ch},p);let A;N.needsClipboard&&(A=yield this._clipboardService.readText());const P=new C.CompletionModel(N.items,g.column,new C.LineContext(T,0),n.WordDistance.None,this._getEditorOption(117,a),this._getEditorOption(111,a),{boostFullMatch:!1,firstMatchCanBeWeak:!1},A);B=new d(a,g.lineNumber,M,P,N,this._suggestMemoryService)}return this._lastResult=B,B})}handleItemDidShow(a,g){g.completion.resolve(L.CancellationToken.None)}freeInlineCompletions(a){a.release()}_getTriggerCharacterInfo(a,g){var h;const p=a.getValueInRange(_.Range.fromPositions({lineNumber:g.lineNumber,column:g.column-1},g)),b=new Set;for(const w of this._languageFeatureService.completionProvider.all(a))!((h=w.triggerCharacters)===null||h===void 0)&&h.includes(p)&&b.add(w);if(b.size!==0)return{providers:b,ch:p}}};e.SuggestInlineCompletions=l,e.SuggestInlineCompletions=l=Ie([ge(1,v.ILanguageFeaturesService),ge(2,t.IClipboardService),ge(3,i.ISuggestMemoryService)],l);let o=u=class{constructor(a,g,h,p){if(++u._counter===1){const b=p.createInstance(l,(w,E)=>{var k;return((k=h.listCodeEditors().find(R=>R.getModel()===E))!==null&&k!==void 0?k:a).getOption(w)});u._disposable=g.inlineCompletionsProvider.register("*",b)}}dispose(){var a;--u._counter===0&&((a=u._disposable)===null||a===void 0||a.dispose(),u._disposable=void 0)}};o._counter=0,o=u=Ie([ge(1,v.ILanguageFeaturesService),ge(2,m.ICodeEditorService),ge(3,r.IInstantiationService)],o),(0,S.registerEditorContribution)("suggest.inlineCompletionsProvider",o,0)}),define(te[813],ie([1,0,59,16,709]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends I.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:y.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(m,_){if(!_.hasModel())return;const v=_.getModel();v.tokenization.resetTokenization();const C=new L.StopWatch;v.tokenization.forceTokenization(v.getLineCount()),C.stop(),console.log(`tokenization took ${C.elapsed()}`)}}(0,I.registerEditorAction)(D)}),define(te[814],ie([1,0,2,46,16,33,711,157]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const _="ignoreUnusualLineTerminators";function v(i,n,t){i.setModelProperty(n.uri,_,t)}function C(i,n){return i.getModelProperty(n.uri,_)}let s=class extends L.Disposable{constructor(n,t,r){super(),this._editor=n,this._dialogService=t,this._codeEditorService=r,this._isPresentingDialog=!1,this._config=this._editor.getOption(125),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(125)&&(this._config=this._editor.getOption(125),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(u=>{u.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return be(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const n=this._editor.getModel();if(!n.mightContainUnusualLineTerminators()||C(this._codeEditorService,n)===!0||this._editor.getOption(90))return;if(this._config==="auto"){n.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let r;try{this._isPresentingDialog=!0,r=yield this._dialogService.confirm({title:S.localize(0,null),message:S.localize(1,null),detail:S.localize(2,null,(0,I.basename)(n.uri)),primaryButton:S.localize(3,null),cancelButton:S.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!r.confirmed){v(this._codeEditorService,n,!0);return}n.removeUnusualLineTerminators(this._editor.getSelections())})}};e.UnusualLineTerminatorsDetector=s,s.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=s=Ie([ge(1,m.IDialogService),ge(2,D.ICodeEditorService)],s),(0,y.registerEditorContribution)(s.ID,s,1)}),define(te[357],ie([1,0,16,123,39,72,176,144,12,5,24,22,32,714,88,15,237]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class f extends L.EditorCommand{constructor(q){super(q),this._inSelectionMode=q.inSelectionMode,this._wordNavigationType=q.wordNavigationType}runEditorCommand(q,H,V){if(!H.hasModel())return;const Z=(0,m.getMapForWordSeparators)(H.getOption(129)),ee=H.getModel(),ue=H.getSelections().map(de=>{const ce=new _.Position(de.positionLineNumber,de.positionColumn),ae=this._move(Z,ee,ce,this._wordNavigationType);return this._moveTo(de,ae,this._inSelectionMode)});if(ee.pushStackElement(),H._getViewModel().setCursorStates("moveWordCommand",3,ue.map(de=>D.CursorState.fromModelSelection(de))),ue.length===1){const de=new _.Position(ue[0].positionLineNumber,ue[0].positionColumn);H.revealPosition(de,0)}}_moveTo(q,H,V){return V?new C.Selection(q.selectionStartLineNumber,q.selectionStartColumn,H.lineNumber,H.column):new C.Selection(H.lineNumber,H.column,H.lineNumber,H.column)}}e.MoveWordCommand=f;class d extends f{_move(q,H,V,Z){return S.WordOperations.moveWordLeft(q,H,V,Z)}}e.WordLeftCommand=d;class l extends f{_move(q,H,V,Z){return S.WordOperations.moveWordRight(q,H,V,Z)}}e.WordRightCommand=l;class o extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=o;class c extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=c;class a extends d{constructor(){var q;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(q=r.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||q===void 0?void 0:q.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=a;class g extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=g;class h extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=h;class p extends d{constructor(){var q;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(q=r.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||q===void 0?void 0:q.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=p;class b extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(q,H,V,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),H,V,Z)}}e.CursorWordAccessibilityLeft=b;class w extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(q,H,V,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),H,V,Z)}}e.CursorWordAccessibilityLeftSelect=w;class E extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class k extends l{constructor(){var q;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(q=r.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||q===void 0?void 0:q.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=k;class M extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=M;class R extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=R;class B extends l{constructor(){var q;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(q=r.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,u.IsWindowsContext))===null||q===void 0?void 0:q.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=B;class T extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=T;class N extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(q,H,V,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),H,V,Z)}}e.CursorWordAccessibilityRight=N;class A extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(q,H,V,Z){return super._move((0,m.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),H,V,Z)}}e.CursorWordAccessibilityRightSelect=A;class P extends L.EditorCommand{constructor(q){super(q),this._whitespaceHeuristics=q.whitespaceHeuristics,this._wordNavigationType=q.wordNavigationType}runEditorCommand(q,H,V){const Z=q.get(i.ILanguageConfigurationService);if(!H.hasModel())return;const ee=(0,m.getMapForWordSeparators)(H.getOption(129)),le=H.getModel(),ue=H.getSelections(),de=H.getOption(6),ce=H.getOption(11),ae=Z.getLanguageConfiguration(le.getLanguageId()).getAutoClosingPairs(),X=H._getViewModel(),K=ue.map(z=>{const Q=this._delete({wordSeparators:ee,model:le,selection:z,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:H.getOption(9),autoClosingBrackets:de,autoClosingQuotes:ce,autoClosingPairs:ae,autoClosedCharacters:X.getCursorAutoClosedCharacters()},this._wordNavigationType);return new I.ReplaceCommand(Q,"")});H.pushUndoStop(),H.executeCommands(this.id,K),H.pushUndoStop()}}e.DeleteWordCommand=P;class O extends P{_delete(q,H){const V=S.WordOperations.deleteWordLeft(q,H);return V||new v.Range(1,1,1,1)}}e.DeleteWordLeftCommand=O;class x extends P{_delete(q,H){const V=S.WordOperations.deleteWordRight(q,H);if(V)return V;const Z=q.model.getLineCount(),ee=q.model.getLineMaxColumn(Z);return new v.Range(Z,ee,Z,ee)}}e.DeleteWordRightCommand=x;class W extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartLeft=W;class U extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndLeft=U;class F extends O{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=F;class G extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartRight=G;class Y extends x{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndRight=Y;class ne extends x{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=ne;class se extends L.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:s.EditorContextKeys.writable,label:n.localize(0,null),alias:"Delete Word"})}run(q,H,V){if(!H.hasModel())return;const Z=(0,m.getMapForWordSeparators)(H.getOption(129)),ee=H.getModel(),ue=H.getSelections().map(de=>{const ce=S.WordOperations.deleteInsideWord(Z,ee,de);return new I.ReplaceCommand(ce,"")});H.pushUndoStop(),H.executeCommands(this.id,ue),H.pushUndoStop()}}e.DeleteInsideWord=se,(0,L.registerEditorCommand)(new o),(0,L.registerEditorCommand)(new c),(0,L.registerEditorCommand)(new a),(0,L.registerEditorCommand)(new g),(0,L.registerEditorCommand)(new h),(0,L.registerEditorCommand)(new p),(0,L.registerEditorCommand)(new E),(0,L.registerEditorCommand)(new k),(0,L.registerEditorCommand)(new M),(0,L.registerEditorCommand)(new R),(0,L.registerEditorCommand)(new B),(0,L.registerEditorCommand)(new T),(0,L.registerEditorCommand)(new b),(0,L.registerEditorCommand)(new w),(0,L.registerEditorCommand)(new N),(0,L.registerEditorCommand)(new A),(0,L.registerEditorCommand)(new W),(0,L.registerEditorCommand)(new U),(0,L.registerEditorCommand)(new F),(0,L.registerEditorCommand)(new G),(0,L.registerEditorCommand)(new Y),(0,L.registerEditorCommand)(new ne),(0,L.registerEditorAction)(se)}),define(te[815],ie([1,0,16,176,5,22,357,25]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class _ extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(f,d){const l=I.WordPartOperations.deleteWordPartLeft(f);return l||new y.Range(1,1,1,1)}}e.DeleteWordPartLeft=_;class v extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(f,d){const l=I.WordPartOperations.deleteWordPartRight(f);if(l)return l;const o=f.model.getLineCount(),c=f.model.getLineMaxColumn(o);return new y.Range(o,c,o,c)}}e.DeleteWordPartRight=v;class C extends S.MoveWordCommand{_move(f,d,l,o){return I.WordPartOperations.moveWordPartLeft(f,d,l)}}e.WordPartLeftCommand=C;class s extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=s,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class i extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=i,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class n extends S.MoveWordCommand{_move(f,d,l,o){return I.WordPartOperations.moveWordPartRight(f,d,l)}}e.WordPartRightCommand=n;class t extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=t;class r extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=r,(0,L.registerEditorCommand)(new _),(0,L.registerEditorCommand)(new v),(0,L.registerEditorCommand)(new s),(0,L.registerEditorCommand)(new i),(0,L.registerEditorCommand)(new t),(0,L.registerEditorCommand)(new r)}),define(te[816],ie([1,0,7,2,16,17,472]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends I.Disposable{constructor(v){super(),this.editor=v,this.widget=null,D.isIOS&&(this._register(v.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const v=!this.editor.getOption(90);!this.widget&&v?this.widget=new m(this.editor):this.widget&&!v&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class m extends I.Disposable{constructor(v){super(),this.editor=v,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(L.addDisposableListener(this._domNode,"touchstart",C=>{this.editor.focus()})),this._register(L.addDisposableListener(this._domNode,"focus",C=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return m.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}m.ID="editor.contrib.ShowKeyboardWidget",(0,y.registerEditorContribution)(S.ID,S,3)}),define(te[817],ie([1,0,7,36,2,16,29,124,154,42,131,93,473]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});let n=i=class extends y.Disposable{static get(l){return l.getContribution(i.ID)}constructor(l,o,c){super(),this._editor=l,this._languageService=c,this._widget=null,this._register(this._editor.onDidChangeModel(a=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(a=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(a=>this.stop())),this._register(this._editor.onKeyUp(a=>a.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new f(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};n.ID="editor.contrib.inspectTokens",n=i=Ie([ge(1,C.IStandaloneThemeService),ge(2,v.ILanguageService)],n);class t extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:s.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(l,o){const c=n.get(o);c?.launch()}}function r(d){let l="";for(let o=0,c=d.length;o<c;o++){const a=d.charCodeAt(o);switch(a){case 9:l+="\u2192";break;case 32:l+="\xB7";break;default:l+=String.fromCharCode(a)}}return l}function u(d,l){const o=S.TokenizationRegistry.get(l);if(o)return o;const c=d.encodeLanguageId(l);return{getInitialState:()=>_.NullState,tokenize:(a,g,h)=>(0,_.nullTokenize)(l,h),tokenizeEncoded:(a,g,h)=>(0,_.nullTokenizeEncoded)(c,h)}}class f extends y.Disposable{constructor(l,o){super(),this.allowEditorOverflow=!0,this._editor=l,this._languageService=o,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=u(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(c=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return f._ID}_compute(l){const o=this._getTokensAtLine(l.lineNumber);let c=0;for(let b=o.tokens1.length-1;b>=0;b--){const w=o.tokens1[b];if(l.column-1>=w.offset){c=b;break}}let a=0;for(let b=o.tokens2.length>>>1;b>=0;b--)if(l.column-1>=o.tokens2[b<<1]){a=b;break}const g=this._model.getLineContent(l.lineNumber);let h="";if(c<o.tokens1.length){const b=o.tokens1[c].offset,w=c+1<o.tokens1.length?o.tokens1[c+1].offset:g.length;h=g.substring(b,w)}(0,L.reset)(this._domNode,(0,L.$)("h2.tm-token",void 0,r(h),(0,L.$)("span.tm-token-length",void 0,`${h.length} ${h.length===1?"char":"chars"}`))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const p=(a<<1)+1<o.tokens2.length?this._decodeMetadata(o.tokens2[(a<<1)+1]):null;(0,L.append)(this._domNode,(0,L.$)("table.tm-metadata-table",void 0,(0,L.$)("tbody",void 0,(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"language"),(0,L.$)("td.tm-metadata-value",void 0,`${p?p.languageId:"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"token type"),(0,L.$)("td.tm-metadata-value",void 0,`${p?this._tokenTypeToString(p.tokenType):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"font style"),(0,L.$)("td.tm-metadata-value",void 0,`${p?this._fontStyleToString(p.fontStyle):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"foreground"),(0,L.$)("td.tm-metadata-value",void 0,`${p?I.Color.Format.CSS.formatHex(p.foreground):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"background"),(0,L.$)("td.tm-metadata-value",void 0,`${p?I.Color.Format.CSS.formatHex(p.background):"-?-"}`))))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator")),c<o.tokens1.length&&(0,L.append)(this._domNode,(0,L.$)("span.tm-token-type",void 0,o.tokens1[c].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(l){const o=S.TokenizationRegistry.getColorMap(),c=m.TokenMetadata.getLanguageId(l),a=m.TokenMetadata.getTokenType(l),g=m.TokenMetadata.getFontStyle(l),h=m.TokenMetadata.getForeground(l),p=m.TokenMetadata.getBackground(l);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(c),tokenType:a,fontStyle:g,foreground:o[h],background:o[p]}}_tokenTypeToString(l){switch(l){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(l){let o="";return l&1&&(o+="italic "),l&2&&(o+="bold "),l&4&&(o+="underline "),l&8&&(o+="strikethrough "),o.length===0&&(o="---"),o}_getTokensAtLine(l){const o=this._getStateBeforeLine(l),c=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,o),a=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(l),!0,o);return{startState:o,tokens1:c.tokens,tokens2:a.tokens,endState:c.endState}}_getStateBeforeLine(l){let o=this._tokenizationSupport.getInitialState();for(let c=1;c<l;c++)o=this._tokenizationSupport.tokenize(this._model.getLineContent(c),!0,o).endState;return o}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}f._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(n.ID,n,4),(0,D.registerEditorAction)(t)}),define(te[818],ie([1,0,7,60,587,41,13,260,43,2,719,30,15,58,34,76]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchToolBar=void 0;let u=class extends y.ToolBar{constructor(d,l,o,c,a,g,h){super(d,a,Object.assign(Object.assign({getKeyBinding:b=>{var w;return(w=g.lookupKeybinding(b.id))!==null&&w!==void 0?w:void 0}},l),{allowContextMenu:!0,skipTelemetry:typeof l?.telemetrySource=="string"})),this._options=l,this._menuService=o,this._contextKeyService=c,this._contextMenuService=a,this._sessionDisposables=this._store.add(new v.DisposableStore);const p=l?.telemetrySource;p&&this._store.add(this.actionBar.onDidRun(b=>h.publicLog2("workbenchActionExecuted",{id:b.action.id,from:p})))}setActions(d,l=[],o){var c,a,g;this._sessionDisposables.clear();const h=d.slice(),p=l.slice(),b=[];let w=0;const E=[];let k=!1;if(((c=this._options)===null||c===void 0?void 0:c.hiddenItemStrategy)!==-1)for(let M=0;M<h.length;M++){const R=h[M];!(R instanceof s.MenuItemAction)&&!(R instanceof s.SubmenuItemAction)||R.hideActions&&(b.push(R.hideActions.toggle),R.hideActions.toggle.checked&&w++,R.hideActions.isHidden&&(k=!0,h[M]=void 0,((a=this._options)===null||a===void 0?void 0:a.hiddenItemStrategy)!==0&&(E[M]=R)))}if(((g=this._options)===null||g===void 0?void 0:g.overflowBehavior)!==void 0){const M=(0,m.intersection)(new Set(this._options.overflowBehavior.exempted),_.Iterable.map(h,T=>T?.id)),R=this._options.overflowBehavior.maxItems-M.size;let B=0;for(let T=0;T<h.length;T++){const N=h[T];N&&(B++,!M.has(N.id)&&B>=R&&(h[T]=void 0,E[T]=N))}}(0,S.coalesceInPlace)(h),(0,S.coalesceInPlace)(E),super.setActions(h,D.Separator.join(E,p)),b.length>0&&this._sessionDisposables.add((0,L.addDisposableListener)(this.getElement(),"contextmenu",M=>{var R,B,T,N,A;const P=new I.StandardMouseEvent(M),O=this.getItemAction(P.target);if(!O)return;P.preventDefault(),P.stopPropagation();let x=!1;if(w===1&&((R=this._options)===null||R===void 0?void 0:R.hiddenItemStrategy)===0){x=!0;for(let F=0;F<b.length;F++)if(b[F].checked){b[F]=(0,D.toAction)({id:O.id,label:O.label,checked:!0,enabled:!1,run(){}});break}}let W;if(!x&&(O instanceof s.MenuItemAction||O instanceof s.SubmenuItemAction)){if(!O.hideActions)return;W=O.hideActions.hide}else W=(0,D.toAction)({id:"label",label:(0,C.localize)(0,null),enabled:!1,run(){}});const U=D.Separator.join([W],b);!((B=this._options)===null||B===void 0)&&B.resetMenu&&!o&&(o=[this._options.resetMenu]),k&&o&&(U.push(new D.Separator),U.push((0,D.toAction)({id:"resetThisMenu",label:(0,C.localize)(1,null),run:()=>this._menuService.resetHiddenStates(o)}))),this._contextMenuService.showContextMenu({getAnchor:()=>P,getActions:()=>U,menuId:(T=this._options)===null||T===void 0?void 0:T.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(N=this._options)===null||N===void 0?void 0:N.menuOptions),skipTelemetry:typeof((A=this._options)===null||A===void 0?void 0:A.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=u,e.WorkbenchToolBar=u=Ie([ge(2,s.IMenuService),ge(3,i.IContextKeyService),ge(4,n.IContextMenuService),ge(5,t.IKeybindingService),ge(6,r.ITelemetryService)],u)}),define(te[819],ie([1,0,567,9,69,106,2,56,397,731,25,28,157,8,34,772,89,76]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f){"use strict";var d,l;Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let o=d=class extends r.PickerQuickAccessProvider{constructor(g,h,p,b,w,E){super(d.PREFIX,g),this.instantiationService=h,this.keybindingService=p,this.commandService=b,this.telemetryService=w,this.dialogService=E,this.commandsHistory=this._register(this.instantiationService.createInstance(c)),this.options=g}_getPicks(g,h,p,b){var w,E,k,M;return be(this,void 0,void 0,function*(){const R=yield this.getCommandPicks(p);if(p.isCancellationRequested)return[];const B=(0,D.createSingleCallFunction)(()=>{const W=new _.TfIdfCalculator;W.updateDocuments(R.map(F=>({key:F.commandId,textChunks:[F.label+(F.commandAlias?` ${F.commandAlias}`:"")]})));const U=W.calculateScores(g,p);return(0,_.normalizeTfIdfScores)(U).filter(F=>F.score>d.TFIDF_THRESHOLD).slice(0,d.TFIDF_MAX_RESULTS)}),T=[];for(const W of R){const U=(w=d.WORD_FILTER(g,W.label))!==null&&w!==void 0?w:void 0,F=W.commandAlias&&(E=d.WORD_FILTER(g,W.commandAlias))!==null&&E!==void 0?E:void 0;if(U||F)W.highlights={label:U,detail:this.options.showAlias?F:void 0},T.push(W);else if(g===W.commandId)T.push(W);else if(g.length>=3){const G=B();if(p.isCancellationRequested)return[];const Y=G.find(ne=>ne.key===W.commandId);Y&&(W.tfIdfScore=Y.score,T.push(W))}}const N=new Map;for(const W of T){const U=N.get(W.label);U?(W.description=W.commandId,U.description=U.commandId):N.set(W.label,W)}T.sort((W,U)=>{if(W.tfIdfScore&&U.tfIdfScore)return W.tfIdfScore===U.tfIdfScore?W.label.localeCompare(U.label):U.tfIdfScore-W.tfIdfScore;if(W.tfIdfScore)return 1;if(U.tfIdfScore)return-1;const F=this.commandsHistory.peek(W.commandId),G=this.commandsHistory.peek(U.commandId);if(F&&G)return F>G?-1:1;if(F)return-1;if(G)return 1;if(this.options.suggestedCommandIds){const Y=this.options.suggestedCommandIds.has(W.commandId),ne=this.options.suggestedCommandIds.has(U.commandId);if(Y&&ne)return 0;if(Y)return-1;if(ne)return 1}return W.label.localeCompare(U.label)});const A=[];let P=!1,O=!0,x=!!this.options.suggestedCommandIds;for(let W=0;W<T.length;W++){const U=T[W];W===0&&this.commandsHistory.peek(U.commandId)&&(A.push({type:"separator",label:(0,v.localize)(0,null)}),P=!0),O&&U.tfIdfScore!==void 0&&(A.push({type:"separator",label:(0,v.localize)(1,null)}),O=!1),x&&U.tfIdfScore===void 0&&!this.commandsHistory.peek(U.commandId)&&(!((k=this.options.suggestedCommandIds)===null||k===void 0)&&k.has(U.commandId))&&(A.push({type:"separator",label:(0,v.localize)(2,null)}),P=!0,x=!1),P&&U.tfIdfScore===void 0&&!this.commandsHistory.peek(U.commandId)&&!(!((M=this.options.suggestedCommandIds)===null||M===void 0)&&M.has(U.commandId))&&(A.push({type:"separator",label:(0,v.localize)(3,null)}),P=!1),A.push(this.toCommandPick(U,b))}return this.hasAdditionalCommandPicks(g,p)?{picks:A,additionalPicks:(()=>be(this,void 0,void 0,function*(){var W;const U=yield this.getAdditionalCommandPicks(R,T,g,p);if(p.isCancellationRequested)return[];const F=U.map(G=>this.toCommandPick(G,b));return O&&((W=F[0])===null||W===void 0?void 0:W.type)!=="separator"&&F.unshift({type:"separator",label:(0,v.localize)(4,null)}),F}))()}:A})}toCommandPick(g,h){if(g.type==="separator")return g;const p=this.keybindingService.lookupKeybinding(g.commandId),b=p?(0,v.localize)(5,null,g.label,p.getAriaLabel()):g.label;return Object.assign(Object.assign({},g),{ariaLabel:b,detail:this.options.showAlias&&g.commandAlias!==g.label?g.commandAlias:void 0,keybinding:p,accept:()=>be(this,void 0,void 0,function*(){var w,E;this.commandsHistory.push(g.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:g.commandId,from:(w=h?.from)!==null&&w!==void 0?w:"quick open"});try{!((E=g.args)===null||E===void 0)&&E.length?yield this.commandService.executeCommand(g.commandId,...g.args):yield this.commandService.executeCommand(g.commandId)}catch(k){(0,I.isCancellationError)(k)||this.dialogService.error((0,v.localize)(6,null,g.label),(0,L.toErrorMessage)(k))}})})}};e.AbstractCommandsQuickAccessProvider=o,o.PREFIX=">",o.TFIDF_THRESHOLD=.5,o.TFIDF_MAX_RESULTS=5,o.WORD_FILTER=(0,y.or)(y.matchesPrefix,y.matchesWords,y.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=o=d=Ie([ge(1,n.IInstantiationService),ge(2,t.IKeybindingService),ge(3,C.ICommandService),ge(4,f.ITelemetryService),ge(5,i.IDialogService)],o);let c=l=class extends S.Disposable{constructor(g,h){super(),this.storageService=g,this.configurationService=h,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(g=>this.updateConfiguration(g)))}updateConfiguration(g){g&&!g.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=l.getConfiguredCommandHistoryLength(this.configurationService),l.cache&&l.cache.limit!==this.configuredCommandsHistoryLength&&(l.cache.limit=this.configuredCommandsHistoryLength,l.saveState(this.storageService)))}load(){const g=this.storageService.get(l.PREF_KEY_CACHE,0);let h;if(g)try{h=JSON.parse(g)}catch{}const p=l.cache=new m.LRUCache(this.configuredCommandsHistoryLength,1);if(h){let b;h.usesLRU?b=h.entries:b=h.entries.sort((w,E)=>w.value-E.value),b.forEach(w=>p.set(w.key,w.value))}l.counter=this.storageService.getNumber(l.PREF_KEY_COUNTER,0,l.counter)}push(g){l.cache&&(l.cache.set(g,l.counter++),l.saveState(this.storageService))}peek(g){var h;return(h=l.cache)===null||h===void 0?void 0:h.peek(g)}static saveState(g){if(!l.cache)return;const h={usesLRU:!0,entries:[]};l.cache.forEach((p,b)=>h.entries.push({key:b,value:p})),g.store(l.PREF_KEY_CACHE,JSON.stringify(h),0,0),g.store(l.PREF_KEY_COUNTER,l.counter,0,0)}static getConfiguredCommandHistoryLength(g){var h,p;const w=(p=(h=g.getValue().workbench)===null||h===void 0?void 0:h.commandPalette)===null||p===void 0?void 0:p.history;return typeof w=="number"?w:l.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=c,c.DEFAULT_COMMANDS_HISTORY_LENGTH=50,c.PREF_KEY_CACHE="commandPalette.mru.cache",c.PREF_KEY_COUNTER="commandPalette.mru.counter",c.counter=1,e.CommandsHistory=c=l=Ie([ge(0,u.IStorageService),ge(1,s.IConfigurationService)],c)}),define(te[820],ie([1,0,119,819]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class y extends I.AbstractCommandsQuickAccessProvider{constructor(S,m,_,v,C,s){super(S,m,_,v,C,s)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const m=[];for(const _ of S.getSupportedActions())m.push({commandId:_.id,commandAlias:_.alias,label:(0,L.stripIcons)(_.label)||_.id});return m}}e.AbstractEditorCommandsQuickAccessProvider=y}),define(te[821],ie([1,0,35,134,93,33,820,8,34,25,76,157,16,22,67]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let r=class extends S.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){var d;return(d=this.codeEditorService.getFocusedCodeEditor())!==null&&d!==void 0?d:void 0}constructor(d,l,o,c,a,g){super({showAlias:!1},d,o,c,a,g),this.codeEditorService=l}getCommandPicks(){return be(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return be(this,void 0,void 0,function*(){return[]})}};e.StandaloneCommandsQuickAccessProvider=r,e.StandaloneCommandsQuickAccessProvider=r=Ie([ge(0,m.IInstantiationService),ge(1,D.ICodeEditorService),ge(2,_.IKeybindingService),ge(3,v.ICommandService),ge(4,C.ITelemetryService),ge(5,s.IDialogService)],r);class u extends i.EditorAction{constructor(){super({id:u.ID,label:y.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:n.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(d){d.get(t.IQuickInputService).quickAccess.show(r.PREFIX)}}e.GotoLineAction=u,u.ID="editor.action.quickCommand",(0,i.registerEditorAction)(u),L.Registry.as(I.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:r.PREFIX,helpEntries:[{description:y.QuickCommandNLS.quickCommandHelp,commandId:u.ID}]})}),define(te[31],ie([1,0,14,36,6,96,737,239,35]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapError=e.minimapWarning=e.minimapInfo=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchResultsInfoForeground=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetBorder=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableWithDefault=e.asCssVariable=e.asCssVariableName=void 0;function v(R){return`--vscode-${R.replace(/\./g,"-")}`}e.asCssVariableName=v;function C(R){return`var(${v(R)})`}e.asCssVariable=C;function s(R,B){return`var(${v(R)}, ${B})`}e.asCssVariableWithDefault=s,e.Extensions={ColorContribution:"base.contributions.colors"};class i{constructor(){this._onDidChangeSchema=new y.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(B,T,N,A=!1,P){const O={id:B,description:N,defaults:T,needsTransparency:A,deprecationMessage:P};this.colorsById[B]=O;const x={type:"string",description:N,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return P&&(x.deprecationMessage=P),this.colorSchema.properties[B]=x,this.colorReferenceSchema.enum.push(B),this.colorReferenceSchema.enumDescriptions.push(N),this._onDidChangeSchema.fire(),B}getColors(){return Object.keys(this.colorsById).map(B=>this.colorsById[B])}resolveDefaultColor(B,T){const N=this.colorsById[B];if(N&&N.defaults){const A=N.defaults[T.type];return E(A,T)}}getColorSchema(){return this.colorSchema}toString(){const B=(T,N)=>{const A=T.indexOf(".")===-1?0:1,P=N.indexOf(".")===-1?0:1;return A!==P?A-P:T.localeCompare(N)};return Object.keys(this.colorsById).sort(B).map(T=>`- \`${T}\`: ${this.colorsById[T].description}`).join(`
`)}}const n=new i;_.Registry.add(e.Extensions.ColorContribution,n);function t(R,B,T,N,A){return n.registerColor(R,B,T,N,A)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(0,null)),e.disabledForeground=t("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},S.localize(1,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(2,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:h(e.foreground,.7),hcDark:h(e.foreground,.7),hcLight:h(e.foreground,.7)},S.localize(3,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(4,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},S.localize(5,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},S.localize(6,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(7,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(8,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:I.Color.black,hcLight:"#292929"},S.localize(9,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.localize(10,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.localize(11,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},S.localize(12,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},S.localize(13,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:I.Color.white,hcLight:"#292929"},S.localize(14,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:I.Color.black,hcLight:"#F2F2F2"},S.localize(15,null)),e.widgetShadow=t("widget.shadow",{dark:h(I.Color.black,.36),light:h(I.Color.black,.16),hcDark:null,hcLight:null},S.localize(16,null)),e.widgetBorder=t("widget.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(17,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:I.Color.white,hcDark:I.Color.black,hcLight:I.Color.white},S.localize(18,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(19,null)),e.inputBorder=t("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(20,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(21,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(22,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:h(e.focusBorder,.4),light:h(e.focusBorder,.2),hcDark:I.Color.transparent,hcLight:I.Color.transparent},S.localize(23,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:I.Color.white,light:I.Color.black,hcDark:e.foreground,hcLight:e.foreground},S.localize(24,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:h(e.foreground,.5),dark:h(e.foreground,.5),hcDark:h(e.foreground,.7),hcLight:h(e.foreground,.7)},S.localize(25,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:I.Color.black,hcLight:I.Color.white},S.localize(26,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(27,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(28,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:I.Color.black,hcLight:I.Color.white},S.localize(29,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(30,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(31,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:I.Color.black,hcLight:I.Color.white},S.localize(32,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(33,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(34,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:I.Color.white,hcDark:I.Color.black,hcLight:I.Color.white},S.localize(35,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hcDark:I.Color.black,hcLight:I.Color.white},S.localize(36,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:e.foreground,hcDark:I.Color.white,hcLight:e.foreground},S.localize(37,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(38,null)),e.buttonForeground=t("button.foreground",{dark:I.Color.white,light:I.Color.white,hcDark:I.Color.white,hcLight:I.Color.white},S.localize(39,null)),e.buttonSeparator=t("button.separator",{dark:h(e.buttonForeground,.4),light:h(e.buttonForeground,.4),hcDark:h(e.buttonForeground,.4),hcLight:h(e.buttonForeground,.4)},S.localize(40,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},S.localize(41,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:g(e.buttonBackground,.2),light:a(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},S.localize(42,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(43,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:I.Color.white,light:I.Color.white,hcDark:I.Color.white,hcLight:e.foreground},S.localize(44,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:I.Color.white},S.localize(45,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:g(e.buttonSecondaryBackground,.2),light:a(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},S.localize(46,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:I.Color.black,hcLight:"#0F4A85"},S.localize(47,null)),e.badgeForeground=t("badge.foreground",{dark:I.Color.white,light:"#333",hcDark:I.Color.white,hcLight:I.Color.white},S.localize(48,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},S.localize(49,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:I.Color.fromHex("#797979").transparent(.4),light:I.Color.fromHex("#646464").transparent(.4),hcDark:h(e.contrastBorder,.6),hcLight:h(e.contrastBorder,.4)},S.localize(50,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:I.Color.fromHex("#646464").transparent(.7),light:I.Color.fromHex("#646464").transparent(.7),hcDark:h(e.contrastBorder,.8),hcLight:h(e.contrastBorder,.8)},S.localize(51,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:I.Color.fromHex("#BFBFBF").transparent(.4),light:I.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(52,null)),e.progressBarBackground=t("progressBar.background",{dark:I.Color.fromHex("#0E70C0"),light:I.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(53,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(54,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(55,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hcDark:I.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},S.localize(56,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(57,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},S.localize(58,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hcDark:I.Color.fromHex("#FFCC00").transparent(.8),hcLight:I.Color.fromHex("#FFCC00").transparent(.8)},S.localize(59,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(60,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},S.localize(61,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hcDark:I.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},S.localize(62,null)),e.editorHintForeground=t("editorHint.foreground",{dark:I.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},S.localize(63,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hcDark:I.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},S.localize(64,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(65,null)),e.editorBackground=t("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:I.Color.black,hcLight:I.Color.white},S.localize(66,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:I.Color.white,hcLight:e.foreground},S.localize(67,null)),e.editorStickyScrollBackground=t("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(68,null)),e.editorStickyScrollHoverBackground=t("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:I.Color.fromHex("#0F4A85").transparent(.1)},S.localize(69,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:I.Color.white},S.localize(70,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(71,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(72,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(73,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(74,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(75,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new I.Color(new I.RGBA(255,255,255,.105)),light:new I.Color(new I.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:I.Color.white},S.localize(76,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:I.Color.white,hcLight:"#0F4A85"},S.localize(77,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:I.Color.white,hcLight:"#0F4A85"},S.localize(78,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new I.Color(new I.RGBA(128,128,128,.17)),light:new I.Color(new I.RGBA(221,221,221,.4)),hcDark:I.Color.transparent,hcLight:I.Color.transparent},S.localize(79,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:I.Color.fromHex("#CCCCCC"),light:I.Color.fromHex("#555555"),hcDark:I.Color.white,hcLight:e.foreground},S.localize(80,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new I.Color(new I.RGBA(51,51,51,.6)),light:new I.Color(new I.RGBA(204,204,204,.4)),hcDark:new I.Color(new I.RGBA(111,195,223)),hcLight:e.contrastBorder},S.localize(81,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new I.Color(new I.RGBA(68,68,68,.6)),light:new I.Color(new I.RGBA(187,187,187,.4)),hcDark:new I.Color(new I.RGBA(111,195,223)),hcLight:e.foreground},S.localize(82,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},S.localize(83,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:I.Color.white},S.localize(84,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:h(e.editorSelectionBackground,.5),dark:h(e.editorSelectionBackground,.5),hcDark:h(e.editorSelectionBackground,.7),hcLight:h(e.editorSelectionBackground,.5)},S.localize(85,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:w(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:w(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},S.localize(86,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(87,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},S.localize(88,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},S.localize(89,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},S.localize(90,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(91,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(92,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:h(e.activeContrastBorder,.4),hcLight:h(e.activeContrastBorder,.4)},S.localize(93,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:h(e.editorFindMatchHighlight,.66),dark:h(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},S.localize(94,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:h(e.editorFindMatchHighlightBorder,.66),dark:h(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},S.localize(95,null)),e.searchResultsInfoForeground=t("search.resultsInfoForeground",{light:e.foreground,dark:h(e.foreground,.65),hcDark:e.foreground,hcLight:e.foreground},S.localize(96,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},S.localize(97,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(98,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(99,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},S.localize(100,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:g(e.editorHoverBackground,.2),light:a(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(101,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:I.Color.blue,hcDark:I.Color.cyan,hcLight:"#292929"},S.localize(102,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:I.Color.white,hcLight:I.Color.black},S.localize(103,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:h(e.badgeBackground,.1),light:h(e.badgeBackground,.1),hcDark:h(I.Color.white,.1),hcLight:h(e.badgeBackground,.1)},S.localize(104,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(105,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(106,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(107,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(108,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},S.localize(109,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},S.localize(110,null)),e.defaultInsertColor=new I.Color(new I.RGBA(155,185,85,.2)),e.defaultRemoveColor=new I.Color(new I.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},S.localize(111,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},S.localize(112,null),!0),e.diffInsertedLine=t("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},S.localize(113,null),!0),e.diffRemovedLine=t("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},S.localize(114,null),!0),e.diffInsertedLineGutter=t("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(115,null)),e.diffRemovedLineGutter=t("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(116,null)),e.diffOverviewRulerInserted=t("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(117,null)),e.diffOverviewRulerRemoved=t("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(118,null)),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},S.localize(119,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},S.localize(120,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(121,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},S.localize(122,null)),e.diffUnchangedRegionBackground=t("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null},S.localize(123,null)),e.diffUnchangedRegionForeground=t("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null},S.localize(124,null)),e.diffUnchangedTextBackground=t("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},S.localize(125,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(126,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(127,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(128,null)),e.listFocusAndSelectionOutline=t("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(129,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:I.Color.fromHex("#0F4A85").transparent(.1)},S.localize(130,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:I.Color.white,light:I.Color.white,hcDark:null,hcLight:null},S.localize(131,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(132,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:I.Color.fromHex("#0F4A85").transparent(.1)},S.localize(133,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(134,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(135,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(136,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(137,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:I.Color.white.transparent(.1),hcLight:I.Color.fromHex("#0F4A85").transparent(.1)},S.localize(138,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(139,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},S.localize(140,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(141,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:b(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},S.localize(142,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},S.localize(143,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},S.localize(144,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},S.localize(145,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:a(e.editorWidgetBackground,0),dark:g(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(146,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:I.Color.transparent,light:I.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},S.localize(147,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(148,null)),e.listFilterWidgetShadow=t("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},S.localize(149,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},S.localize(150,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},S.localize(151,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},S.localize(152,null)),e.treeInactiveIndentGuidesStroke=t("tree.inactiveIndentGuidesStroke",{dark:h(e.treeIndentGuidesStroke,.4),light:h(e.treeIndentGuidesStroke,.4),hcDark:h(e.treeIndentGuidesStroke,.4),hcLight:h(e.treeIndentGuidesStroke,.4)},S.localize(153,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},S.localize(154,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:h(e.foreground,.04),light:h(e.foreground,.04),hcDark:null,hcLight:null},S.localize(155,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},S.localize(156,null)),e.checkboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(157,null)),e.checkboxSelectBackground=t("checkbox.selectBackground",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(158,null)),e.checkboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(159,null)),e.checkboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},S.localize(160,null)),e.checkboxSelectBorder=t("checkbox.selectBorder",{dark:e.iconForeground,light:e.iconForeground,hcDark:e.iconForeground,hcLight:e.iconForeground},S.localize(161,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,S.localize(162,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(163,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},S.localize(164,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},S.localize(165,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(166,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(167,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(168,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(169,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},S.localize(170,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(171,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(172,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(173,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(174,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:g(e.toolbarHoverBackground,.1),light:a(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},S.localize(175,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new I.Color(new I.RGBA(124,124,124,.3)),light:new I.Color(new I.RGBA(10,50,100,.2)),hcDark:new I.Color(new I.RGBA(124,124,124,.3)),hcLight:new I.Color(new I.RGBA(10,50,100,.2))},S.localize(176,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(177,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(178,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new I.Color(new I.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},S.localize(179,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:h(e.foreground,.8),dark:h(e.foreground,.8),hcDark:h(e.foreground,.8),hcLight:h(e.foreground,.8)},S.localize(180,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(181,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:a(e.foreground,.2),dark:g(e.foreground,.1),hcDark:g(e.foreground,.1),hcLight:g(e.foreground,.1)},S.localize(182,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:a(e.foreground,.2),dark:g(e.foreground,.1),hcDark:g(e.foreground,.1),hcLight:g(e.foreground,.1)},S.localize(183,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(184,null));const r=.5,u=I.Color.fromHex("#40C8AE").transparent(r),f=I.Color.fromHex("#40A6FF").transparent(r),d=I.Color.fromHex("#606060").transparent(.4),l=.4,o=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:u,light:u,hcDark:null,hcLight:null},S.localize(185,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:h(e.mergeCurrentHeaderBackground,l),light:h(e.mergeCurrentHeaderBackground,l),hcDark:h(e.mergeCurrentHeaderBackground,l),hcLight:h(e.mergeCurrentHeaderBackground,l)},S.localize(186,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:f,light:f,hcDark:null,hcLight:null},S.localize(187,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:h(e.mergeIncomingHeaderBackground,l),light:h(e.mergeIncomingHeaderBackground,l),hcDark:h(e.mergeIncomingHeaderBackground,l),hcLight:h(e.mergeIncomingHeaderBackground,l)},S.localize(188,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:d,light:d,hcDark:null,hcLight:null},S.localize(189,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:h(e.mergeCommonHeaderBackground,l),light:h(e.mergeCommonHeaderBackground,l),hcDark:h(e.mergeCommonHeaderBackground,l),hcLight:h(e.mergeCommonHeaderBackground,l)},S.localize(190,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},S.localize(191,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:h(e.mergeCurrentHeaderBackground,o),light:h(e.mergeCurrentHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(192,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:h(e.mergeIncomingHeaderBackground,o),light:h(e.mergeIncomingHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(193,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:h(e.mergeCommonHeaderBackground,o),light:h(e.mergeCommonHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(194,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},S.localize(195,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},S.localize(196,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},S.localize(197,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(198,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(199,null),!0),e.minimapInfo=t("minimap.infoHighlight",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoBorder,hcLight:e.editorInfoBorder},S.localize(200,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},S.localize(201,null)),e.minimapError=t("minimap.errorHighlight",{dark:new I.Color(new I.RGBA(255,18,18,.7)),light:new I.Color(new I.RGBA(255,18,18,.7)),hcDark:new I.Color(new I.RGBA(255,50,50,1)),hcLight:"#B5200D"},S.localize(202,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(203,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:I.Color.fromHex("#000f"),light:I.Color.fromHex("#000f"),hcDark:I.Color.fromHex("#000f"),hcLight:I.Color.fromHex("#000f")},S.localize(204,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:h(e.scrollbarSliderBackground,.5),dark:h(e.scrollbarSliderBackground,.5),hcDark:h(e.scrollbarSliderBackground,.5),hcLight:h(e.scrollbarSliderBackground,.5)},S.localize(205,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:h(e.scrollbarSliderHoverBackground,.5),dark:h(e.scrollbarSliderHoverBackground,.5),hcDark:h(e.scrollbarSliderHoverBackground,.5),hcLight:h(e.scrollbarSliderHoverBackground,.5)},S.localize(206,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:h(e.scrollbarSliderActiveBackground,.5),dark:h(e.scrollbarSliderActiveBackground,.5),hcDark:h(e.scrollbarSliderActiveBackground,.5),hcLight:h(e.scrollbarSliderActiveBackground,.5)},S.localize(207,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(208,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(209,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(210,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(211,null)),e.chartsLines=t("charts.lines",{dark:h(e.foreground,.5),light:h(e.foreground,.5),hcDark:h(e.foreground,.5),hcLight:h(e.foreground,.5)},S.localize(212,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(213,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(214,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(215,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},S.localize(216,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},S.localize(217,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},S.localize(218,null));function c(R,B){var T,N,A,P;switch(R.op){case 0:return(T=E(R.value,B))===null||T===void 0?void 0:T.darken(R.factor);case 1:return(N=E(R.value,B))===null||N===void 0?void 0:N.lighten(R.factor);case 2:return(A=E(R.value,B))===null||A===void 0?void 0:A.transparent(R.factor);case 3:{const O=E(R.background,B);return O?(P=E(R.value,B))===null||P===void 0?void 0:P.makeOpaque(O):E(R.value,B)}case 4:for(const O of R.values){const x=E(O,B);if(x)return x}return;case 6:return E(B.defines(R.if)?R.then:R.else,B);case 5:{const O=E(R.value,B);if(!O)return;const x=E(R.background,B);return x?O.isDarkerThan(x)?I.Color.getLighterColor(O,x,R.factor).transparent(R.transparency):I.Color.getDarkerColor(O,x,R.factor).transparent(R.transparency):O.transparent(R.factor*R.transparency)}default:throw(0,D.assertNever)(R)}}e.executeTransform=c;function a(R,B){return{op:0,value:R,factor:B}}e.darken=a;function g(R,B){return{op:1,value:R,factor:B}}e.lighten=g;function h(R,B){return{op:2,value:R,factor:B}}e.transparent=h;function p(...R){return{op:4,values:R}}e.oneOf=p;function b(R,B,T){return{op:6,if:R,then:B,else:T}}e.ifDefinedThenElse=b;function w(R,B,T,N){return{op:5,value:R,background:B,factor:T,transparency:N}}function E(R,B){if(R!==null){if(typeof R=="string")return R[0]==="#"?I.Color.fromHex(R):B.getColor(R);if(R instanceof I.Color)return R;if(typeof R=="object")return c(R,B)}}e.resolveColorValue=E,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const k=_.Registry.as(m.Extensions.JSONContribution);k.registerSchema(e.workbenchColorsSchemaId,n.getColorSchema());const M=new L.RunOnceScheduler(()=>k.notifySchemaChanged(e.workbenchColorsSchemaId),200);n.onDidChangeSchema(()=>{M.isScheduled()||M.schedule()})}),define(te[159],ie([1,0,7,151,60,14,2,31]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class _{constructor(a,g){this.x=a,this.y=g,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new v(this.x-window.scrollX,this.y-window.scrollY)}}e.PageCoordinates=_;class v{constructor(a,g){this.clientX=a,this.clientY=g,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new _(this.clientX+window.scrollX,this.clientY+window.scrollY)}}e.ClientCoordinates=v;class C{constructor(a,g,h,p){this.x=a,this.y=g,this.width=h,this.height=p,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=C;class s{constructor(a,g){this.x=a,this.y=g,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=s;function i(c){const a=L.getDomNodePagePosition(c);return new C(a.left,a.top,a.width,a.height)}e.createEditorPagePosition=i;function n(c,a,g){const h=a.width/c.offsetWidth,p=a.height/c.offsetHeight,b=(g.x-a.x)/h,w=(g.y-a.y)/p;return new s(b,w)}e.createCoordinatesRelativeToEditor=n;class t extends y.StandardMouseEvent{constructor(a,g,h){super(a),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=g,this.pos=new _(this.posx,this.posy),this.editorPos=i(h),this.relativePos=n(h,this.editorPos,this.pos)}}e.EditorMouseEvent=t;class r{constructor(a){this._editorViewDomNode=a}_create(a){return new t(a,!1,this._editorViewDomNode)}onContextMenu(a,g){return L.addDisposableListener(a,"contextmenu",h=>{g(this._create(h))})}onMouseUp(a,g){return L.addDisposableListener(a,"mouseup",h=>{g(this._create(h))})}onMouseDown(a,g){return L.addDisposableListener(a,L.EventType.MOUSE_DOWN,h=>{g(this._create(h))})}onPointerDown(a,g){return L.addDisposableListener(a,L.EventType.POINTER_DOWN,h=>{g(this._create(h),h.pointerId)})}onMouseLeave(a,g){return L.addDisposableListener(a,L.EventType.MOUSE_LEAVE,h=>{g(this._create(h))})}onMouseMove(a,g){return L.addDisposableListener(a,"mousemove",h=>g(this._create(h)))}}e.EditorMouseEventFactory=r;class u{constructor(a){this._editorViewDomNode=a}_create(a){return new t(a,!1,this._editorViewDomNode)}onPointerUp(a,g){return L.addDisposableListener(a,"pointerup",h=>{g(this._create(h))})}onPointerDown(a,g){return L.addDisposableListener(a,L.EventType.POINTER_DOWN,h=>{g(this._create(h),h.pointerId)})}onPointerLeave(a,g){return L.addDisposableListener(a,L.EventType.POINTER_LEAVE,h=>{g(this._create(h))})}onPointerMove(a,g){return L.addDisposableListener(a,"pointermove",h=>g(this._create(h)))}}e.EditorPointerEventFactory=u;class f extends S.Disposable{constructor(a){super(),this._editorViewDomNode=a,this._globalPointerMoveMonitor=this._register(new I.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(a,g,h,p,b){this._keydownListener=L.addStandardDisposableListener(a.ownerDocument,"keydown",w=>{w.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,w.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(a,g,h,w=>{p(new t(w,!0,this._editorViewDomNode))},w=>{this._keydownListener.dispose(),b(w)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=f;class d{constructor(a){this._editor=a,this._instanceId=++d._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(a){const g=this.getOrCreateRule(a);return g.increaseRefCount(),{className:g.className,dispose:()=>{g.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(a){const g=this.computeUniqueKey(a);let h=this._rules.get(g);if(!h){const p=this._counter++;h=new l(g,`dyn-rule-${this._instanceId}-${p}`,L.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,a),this._rules.set(g,h)}return h}computeUniqueKey(a){return JSON.stringify(a)}garbageCollect(){for(const a of this._rules.values())a.hasReferences()||(this._rules.delete(a.key),a.dispose())}}e.DynamicCssRules=d,d._idPool=0;class l{constructor(a,g,h,p){this.key=a,this.className=g,this.properties=p,this._referenceCount=0,this._styleElement=L.createStyleSheet(h),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(a,g){let h=`.${a} {`;for(const p in g){const b=g[p];let w;typeof b=="object"?w=(0,m.asCssVariable)(b.id):w=b;const E=o(p);h+=`
	${E}: ${w};`}return h+=`
}`,h}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function o(c){return c.replace(/(^[A-Z])/,([a])=>a.toLowerCase()).replace(/([A-Z])/g,([a])=>`-${a.toLowerCase()}`)}}),define(te[822],ie([1,0,7,38,151,2,17,10,229,53,39,5,274,332,82,31,24,61,485,49,106,430]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const c=140,a=2;class g{constructor(T,N,A){const P=T.options,O=P.get(141),x=P.get(143),W=x.minimap,U=P.get(50),F=P.get(72);this.renderMinimap=W.renderMinimap,this.size=F.size,this.minimapHeightIsEditorHeight=W.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=P.get(104),this.paddingTop=P.get(83).top,this.paddingBottom=P.get(83).bottom,this.showSlider=F.showSlider,this.autohide=F.autohide,this.pixelRatio=O,this.typicalHalfwidthCharacterWidth=U.typicalHalfwidthCharacterWidth,this.lineHeight=P.get(66),this.minimapLeft=W.minimapLeft,this.minimapWidth=W.minimapWidth,this.minimapHeight=x.height,this.canvasInnerWidth=W.minimapCanvasInnerWidth,this.canvasInnerHeight=W.minimapCanvasInnerHeight,this.canvasOuterWidth=W.minimapCanvasOuterWidth,this.canvasOuterHeight=W.minimapCanvasOuterHeight,this.isSampling=W.minimapIsSampling,this.editorHeight=x.height,this.fontScale=W.minimapScale,this.minimapLineHeight=W.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,o.createSingleCallFunction)(()=>d.MinimapCharRendererFactory.create(this.fontScale,U.fontFamily)),this.defaultBackgroundColor=A.getColor(2),this.backgroundColor=g._getMinimapBackground(N,this.defaultBackgroundColor),this.foregroundAlpha=g._getMinimapForegroundOpacity(N)}static _getMinimapBackground(T,N){const A=T.getColor(r.minimapBackground);return A?new i.RGBA8(A.rgba.r,A.rgba.g,A.rgba.b,Math.round(255*A.rgba.a)):N}static _getMinimapForegroundOpacity(T){const N=T.getColor(r.minimapForegroundOpacity);return N?i.RGBA8._clamp(Math.round(255*N.rgba.a)):255}equals(T){return this.renderMinimap===T.renderMinimap&&this.size===T.size&&this.minimapHeightIsEditorHeight===T.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===T.scrollBeyondLastLine&&this.paddingTop===T.paddingTop&&this.paddingBottom===T.paddingBottom&&this.showSlider===T.showSlider&&this.autohide===T.autohide&&this.pixelRatio===T.pixelRatio&&this.typicalHalfwidthCharacterWidth===T.typicalHalfwidthCharacterWidth&&this.lineHeight===T.lineHeight&&this.minimapLeft===T.minimapLeft&&this.minimapWidth===T.minimapWidth&&this.minimapHeight===T.minimapHeight&&this.canvasInnerWidth===T.canvasInnerWidth&&this.canvasInnerHeight===T.canvasInnerHeight&&this.canvasOuterWidth===T.canvasOuterWidth&&this.canvasOuterHeight===T.canvasOuterHeight&&this.isSampling===T.isSampling&&this.editorHeight===T.editorHeight&&this.fontScale===T.fontScale&&this.minimapLineHeight===T.minimapLineHeight&&this.minimapCharWidth===T.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(T.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(T.backgroundColor)&&this.foregroundAlpha===T.foregroundAlpha}}class h{constructor(T,N,A,P,O,x,W,U,F){this.scrollTop=T,this.scrollHeight=N,this.sliderNeeded=A,this._computedSliderRatio=P,this.sliderTop=O,this.sliderHeight=x,this.topPaddingLineCount=W,this.startLineNumber=U,this.endLineNumber=F}getDesiredScrollTopFromDelta(T){return Math.round(this.scrollTop+T/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(T){return Math.round((T-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(T){const N=Math.max(this.startLineNumber,T.startLineNumber),A=Math.min(this.endLineNumber,T.endLineNumber);return N>A?null:[N,A]}getYForLineNumber(T,N){return+(T-this.startLineNumber+this.topPaddingLineCount)*N}static create(T,N,A,P,O,x,W,U,F,G,Y){const ne=T.pixelRatio,se=T.minimapLineHeight,J=Math.floor(T.canvasInnerHeight/se),q=T.lineHeight;if(T.minimapHeightIsEditorHeight){let de=U*T.lineHeight+T.paddingTop+T.paddingBottom;T.scrollBeyondLastLine&&(de+=Math.max(0,O-T.lineHeight-T.paddingBottom));const ce=Math.max(1,Math.floor(O*O/de)),ae=Math.max(0,T.minimapHeight-ce),X=ae/(G-O),K=F*X,z=ae>0,Q=Math.floor(T.canvasInnerHeight/T.minimapLineHeight),j=Math.floor(T.paddingTop/T.lineHeight);return new h(F,G,z,X,K,ce,j,1,Math.min(W,Q))}let H;if(x&&A!==W){const de=A-N+1;H=Math.floor(de*se/ne)}else{const de=O/q;H=Math.floor(de*se/ne)}const V=Math.floor(T.paddingTop/q);let Z=Math.floor(T.paddingBottom/q);if(T.scrollBeyondLastLine){const de=O/q;Z=Math.max(Z,de-1)}let ee;if(Z>0){const de=O/q;ee=(V+W+Z-de-1)*se/ne}else ee=Math.max(0,(V+W)*se/ne-H);ee=Math.min(T.minimapHeight-H,ee);const le=ee/(G-O),ue=F*le;if(J>=V+W+Z){const de=ee>0;return new h(F,G,de,le,ue,H,V,1,W)}else{let de;N>1?de=N+V:de=Math.max(1,F/q);let ce,ae=Math.max(1,Math.floor(de-ue*ne/se));ae<V?(ce=V-ae+1,ae=1):(ce=0,ae=Math.max(1,ae-V)),Y&&Y.scrollHeight===G&&(Y.scrollTop>F&&(ae=Math.min(ae,Y.startLineNumber),ce=Math.max(ce,Y.topPaddingLineCount)),Y.scrollTop<F&&(ae=Math.max(ae,Y.startLineNumber),ce=Math.min(ce,Y.topPaddingLineCount)));const X=Math.min(W,ae-ce+J-1),K=(F-P)/q;let z;return F>=T.paddingTop?z=(N-ae+ce+K)*se/ne:z=F/T.paddingTop*(ce+K)*se/ne,new h(F,G,!0,le,z,H,ce,ae,X)}}}class p{constructor(T){this.dy=T}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}p.INVALID=new p(-1);class b{constructor(T,N,A){this.renderedLayout=T,this._imageData=N,this._renderedLines=new _.RenderedLinesCollection(()=>p.INVALID),this._renderedLines._set(T.startLineNumber,A)}linesEquals(T){if(!this.scrollEquals(T))return!1;const A=this._renderedLines._get().lines;for(let P=0,O=A.length;P<O;P++)if(A[P].dy===-1)return!1;return!0}scrollEquals(T){return this.renderedLayout.startLineNumber===T.startLineNumber&&this.renderedLayout.endLineNumber===T.endLineNumber}_get(){const T=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:T.rendLineNumberStart,lines:T.lines}}onLinesChanged(T,N){return this._renderedLines.onLinesChanged(T,N)}onLinesDeleted(T,N){this._renderedLines.onLinesDeleted(T,N)}onLinesInserted(T,N){this._renderedLines.onLinesInserted(T,N)}onTokensChanged(T){return this._renderedLines.onTokensChanged(T)}}class w{constructor(T,N,A,P){this._backgroundFillData=w._createBackgroundFillData(N,A,P),this._buffers=[T.createImageData(N,A),T.createImageData(N,A)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const T=this._buffers[this._lastUsedBuffer];return T.data.set(this._backgroundFillData),T}static _createBackgroundFillData(T,N,A){const P=A.r,O=A.g,x=A.b,W=A.a,U=new Uint8ClampedArray(T*N*4);let F=0;for(let G=0;G<N;G++)for(let Y=0;Y<T;Y++)U[F]=P,U[F+1]=O,U[F+2]=x,U[F+3]=W,F+=4;return U}}class E{static compute(T,N,A){if(T.renderMinimap===0||!T.isSampling)return[null,[]];const{minimapLineCount:P}=C.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:N,scrollBeyondLastLine:T.scrollBeyondLastLine,paddingTop:T.paddingTop,paddingBottom:T.paddingBottom,height:T.editorHeight,lineHeight:T.lineHeight,pixelRatio:T.pixelRatio}),O=N/P,x=O/2;if(!A||A.minimapLines.length===0){const H=[];if(H[0]=1,P>1){for(let V=0,Z=P-1;V<Z;V++)H[V]=Math.round(V*O+x);H[P-1]=N}return[new E(O,H),[]]}const W=A.minimapLines,U=W.length,F=[];let G=0,Y=0,ne=1;const se=10;let J=[],q=null;for(let H=0;H<P;H++){const V=Math.max(ne,Math.round(H*O)),Z=Math.max(V,Math.round((H+1)*O));for(;G<U&&W[G]<V;){if(J.length<se){const le=G+1+Y;q&&q.type==="deleted"&&q._oldIndex===G-1?q.deleteToLineNumber++:(q={type:"deleted",_oldIndex:G,deleteFromLineNumber:le,deleteToLineNumber:le},J.push(q)),Y--}G++}let ee;if(G<U&&W[G]<=Z)ee=W[G],G++;else if(H===0?ee=1:H+1===P?ee=N:ee=Math.round(H*O+x),J.length<se){const le=G+1+Y;q&&q.type==="inserted"&&q._i===H-1?q.insertToLineNumber++:(q={type:"inserted",_i:H,insertFromLineNumber:le,insertToLineNumber:le},J.push(q)),Y++}F[H]=ee,ne=ee}if(J.length<se)for(;G<U;){const H=G+1+Y;q&&q.type==="deleted"&&q._oldIndex===G-1?q.deleteToLineNumber++:(q={type:"deleted",_oldIndex:G,deleteFromLineNumber:H,deleteToLineNumber:H},J.push(q)),Y--,G++}else J=[{type:"flush"}];return[new E(O,F),J]}constructor(T,N){this.samplingRatio=T,this.minimapLines=N}modelLineToMinimapLine(T){return Math.min(this.minimapLines.length,Math.max(1,Math.round(T/this.samplingRatio)))}modelLineRangeToMinimapLineRange(T,N){let A=this.modelLineToMinimapLine(T)-1;for(;A>0&&this.minimapLines[A-1]>=T;)A--;let P=this.modelLineToMinimapLine(N)-1;for(;P+1<this.minimapLines.length&&this.minimapLines[P+1]<=N;)P++;if(A===P){const O=this.minimapLines[A];if(O<T||O>N)return null}return[A+1,P+1]}decorationLineRangeToMinimapLineRange(T,N){let A=this.modelLineToMinimapLine(T),P=this.modelLineToMinimapLine(N);return T!==N&&P===A&&(P===this.minimapLines.length?A>1&&A--:P++),[A,P]}onLinesDeleted(T){const N=T.toLineNumber-T.fromLineNumber+1;let A=this.minimapLines.length,P=0;for(let O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<T.fromLineNumber);O--)this.minimapLines[O]<=T.toLineNumber?(this.minimapLines[O]=Math.max(1,T.fromLineNumber-1),A=Math.min(A,O),P=Math.max(P,O)):this.minimapLines[O]-=N;return[A,P]}onLinesInserted(T){const N=T.toLineNumber-T.fromLineNumber+1;for(let A=this.minimapLines.length-1;A>=0&&!(this.minimapLines[A]<T.fromLineNumber);A--)this.minimapLines[A]+=N}}class k extends v.ViewPart{constructor(T){super(T),this.tokensColorTracker=n.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);const[N]=E.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=N,this._shouldCheckSampling=!1,this._actual=new M(T.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const T=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(T)?!1:(this.options=T,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(T){return this._onOptionsMaybeChanged()}onCursorStateChanged(T){return this._selections=T.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(T){return T.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(T){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(T){if(this._samplingState){const N=this._samplingState.modelLineRangeToMinimapLineRange(T.fromLineNumber,T.fromLineNumber+T.count-1);return N?this._actual.onLinesChanged(N[0],N[1]-N[0]+1):!1}else return this._actual.onLinesChanged(T.fromLineNumber,T.count)}onLinesDeleted(T){if(this._samplingState){const[N,A]=this._samplingState.onLinesDeleted(T);return N<=A&&this._actual.onLinesChanged(N+1,A-N+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(T.fromLineNumber,T.toLineNumber)}onLinesInserted(T){return this._samplingState?(this._samplingState.onLinesInserted(T),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(T.fromLineNumber,T.toLineNumber)}onScrollChanged(T){return this._actual.onScrollChanged()}onThemeChanged(T){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(T){if(this._samplingState){const N=[];for(const A of T.ranges){const P=this._samplingState.modelLineRangeToMinimapLineRange(A.fromLineNumber,A.toLineNumber);P&&N.push({fromLineNumber:P[0],toLineNumber:P[1]})}return N.length?this._actual.onTokensChanged(N):!1}else return this._actual.onTokensChanged(T.ranges)}onTokensColorsChanged(T){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(T){return this._actual.onZonesChanged()}prepareRender(T){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(T){let N=T.visibleRange.startLineNumber,A=T.visibleRange.endLineNumber;this._samplingState&&(N=this._samplingState.modelLineToMinimapLine(N),A=this._samplingState.modelLineToMinimapLine(A));const P={viewportContainsWhitespaceGaps:T.viewportData.whitespaceViewportData.length>0,scrollWidth:T.scrollWidth,scrollHeight:T.scrollHeight,viewportStartLineNumber:N,viewportEndLineNumber:A,viewportStartLineNumberVerticalOffset:T.getVerticalOffsetForLineNumber(N),scrollTop:T.scrollTop,scrollLeft:T.scrollLeft,viewportWidth:T.viewportWidth,viewportHeight:T.viewportHeight};this._actual.render(P)}_recreateLineSampling(){this._minimapSelections=null;const T=!!this._samplingState,[N,A]=E.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=N,T&&this._samplingState)for(const P of A)switch(P.type){case"deleted":this._actual.onLinesDeleted(P.deleteFromLineNumber,P.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(P.insertFromLineNumber,P.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(T){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[T-1]):this._context.viewModel.getLineContent(T)}getLineMaxColumn(T){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[T-1]):this._context.viewModel.getLineMaxColumn(T)}getMinimapLinesRenderingData(T,N,A){if(this._samplingState){const P=[];for(let O=0,x=N-T+1;O<x;O++)A[O]?P[O]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[T+O-1]):P[O]=null;return P}return this._context.viewModel.getMinimapLinesRenderingData(T,N,A).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const T of this._selections){const[N,A]=this._samplingState.decorationLineRangeToMinimapLineRange(T.startLineNumber,T.endLineNumber);this._minimapSelections.push(new u.Selection(N,T.startColumn,A,T.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(T,N){let A;if(this._samplingState){const O=this._samplingState.minimapLines[T-1],x=this._samplingState.minimapLines[N-1];A=new s.Range(O,1,x,this._context.viewModel.getLineMaxColumn(x))}else A=new s.Range(T,1,N,this._context.viewModel.getLineMaxColumn(N));const P=this._context.viewModel.getMinimapDecorationsInRange(A);if(this._samplingState){const O=[];for(const x of P){if(!x.options.minimap)continue;const W=x.range,U=this._samplingState.modelLineToMinimapLine(W.startLineNumber),F=this._samplingState.modelLineToMinimapLine(W.endLineNumber);O.push(new t.ViewModelDecoration(new s.Range(U,W.startColumn,F,W.endColumn),x.options))}return O}return P}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(T){this._samplingState&&(T=this._samplingState.minimapLines[T-1]),this._context.viewModel.revealRange("mouse",!1,new s.Range(T,1,T,1),1,0)}setScrollTop(T){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:T},1)}}e.Minimap=k;class M extends D.Disposable{constructor(T,N){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=T,this._model=N,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(r.minimapSelection),this._domNode=(0,I.createFastDomNode)(document.createElement("div")),v.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,I.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,I.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,I.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,I.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,I.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=L.addStandardDisposableListener(this._domNode.domNode,L.EventType.POINTER_DOWN,A=>{if(A.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(A.button===0&&this._lastRenderData){const F=L.getDomNodePagePosition(this._slider.domNode),G=F.top+F.height/2;this._startSliderDragging(A,G,this._lastRenderData.renderedLayout)}return}const O=this._model.options.minimapLineHeight,x=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*A.offsetY;let U=Math.floor(x/O)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;U=Math.min(U,this._model.getLineCount()),this._model.revealLineNumber(U)}),this._sliderPointerMoveMonitor=new y.GlobalPointerMoveMonitor,this._sliderPointerDownListener=L.addStandardDisposableListener(this._slider.domNode,L.EventType.POINTER_DOWN,A=>{A.preventDefault(),A.stopPropagation(),A.button===0&&this._lastRenderData&&this._startSliderDragging(A,A.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=f.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=L.addDisposableListener(this._domNode.domNode,f.EventType.Start,A=>{A.preventDefault(),A.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(A))},{passive:!1}),this._sliderTouchMoveListener=L.addDisposableListener(this._domNode.domNode,f.EventType.Change,A=>{A.preventDefault(),A.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(A)},{passive:!1}),this._sliderTouchEndListener=L.addStandardDisposableListener(this._domNode.domNode,f.EventType.End,A=>{A.preventDefault(),A.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(T,N,A){if(!T.target||!(T.target instanceof Element))return;const P=T.pageX;this._slider.toggleClassName("active",!0);const O=(x,W)=>{const U=L.getDomNodePagePosition(this._domNode.domNode),F=Math.min(Math.abs(W-P),Math.abs(W-U.left),Math.abs(W-U.left-U.width));if(S.isWindows&&F>c){this._model.setScrollTop(A.scrollTop);return}const G=x-N;this._model.setScrollTop(A.getDesiredScrollTopFromDelta(G))};T.pageY!==N&&O(T.pageY,P),this._sliderPointerMoveMonitor.startMonitoring(T.target,T.pointerId,T.buttons,x=>O(x.pageY,x.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(T){const N=this._domNode.domNode.getBoundingClientRect().top,A=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(T.pageY-N);this._model.setScrollTop(A)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const T=["minimap"];return this._model.options.showSlider==="always"?T.push("slider-always"):T.push("slider-mouseover"),this._model.options.autohide&&T.push("autohide"),T.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new w(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(T,N){return this._lastRenderData?this._lastRenderData.onLinesChanged(T,N):!1}onLinesDeleted(T,N){var A;return(A=this._lastRenderData)===null||A===void 0||A.onLinesDeleted(T,N),!0}onLinesInserted(T,N){var A;return(A=this._lastRenderData)===null||A===void 0||A.onLinesInserted(T,N),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(r.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(T){return this._lastRenderData?this._lastRenderData.onTokensChanged(T):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(T){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}T.scrollLeft+T.viewportWidth>=T.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const A=h.create(this._model.options,T.viewportStartLineNumber,T.viewportEndLineNumber,T.viewportStartLineNumberVerticalOffset,T.viewportHeight,T.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),T.scrollTop,T.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(A.sliderNeeded?"block":"none"),this._slider.setTop(A.sliderTop),this._slider.setHeight(A.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(A.sliderHeight),this.renderDecorations(A),this._lastRenderData=this.renderLines(A)}renderDecorations(T){if(this._renderDecorations){this._renderDecorations=!1;const N=this._model.getSelections();N.sort(s.Range.compareRangesUsingStarts);const A=this._model.getMinimapDecorationsInViewport(T.startLineNumber,T.endLineNumber);A.sort((ne,se)=>(ne.options.zIndex||0)-(se.options.zIndex||0));const{canvasInnerWidth:P,canvasInnerHeight:O}=this._model.options,x=this._model.options.minimapLineHeight,W=this._model.options.minimapCharWidth,U=this._model.getOptions().tabSize,F=this._decorationsCanvas.domNode.getContext("2d");F.clearRect(0,0,P,O);const G=new R(T.startLineNumber,T.endLineNumber,!1);this._renderSelectionLineHighlights(F,N,G,T,x),this._renderDecorationsLineHighlights(F,A,G,T,x);const Y=new R(T.startLineNumber,T.endLineNumber,null);this._renderSelectionsHighlights(F,N,Y,T,x,U,W,P),this._renderDecorationsHighlights(F,A,Y,T,x,U,W,P)}}_renderSelectionLineHighlights(T,N,A,P,O){if(!this._selectionColor||this._selectionColor.isTransparent())return;T.fillStyle=this._selectionColor.transparent(.5).toString();let x=0,W=0;for(const U of N){const F=P.intersectWithViewport(U);if(!F)continue;const[G,Y]=F;for(let J=G;J<=Y;J++)A.set(J,!0);const ne=P.getYForLineNumber(G,O),se=P.getYForLineNumber(Y,O);W>=ne||(W>x&&T.fillRect(C.MINIMAP_GUTTER_WIDTH,x,T.canvas.width,W-x),x=ne),W=se}W>x&&T.fillRect(C.MINIMAP_GUTTER_WIDTH,x,T.canvas.width,W-x)}_renderDecorationsLineHighlights(T,N,A,P,O){const x=new Map;for(let W=N.length-1;W>=0;W--){const U=N[W],F=U.options.minimap;if(!F||F.position!==l.MinimapPosition.Inline)continue;const G=P.intersectWithViewport(U.range);if(!G)continue;const[Y,ne]=G,se=F.getColor(this._theme.value);if(!se||se.isTransparent())continue;let J=x.get(se.toString());J||(J=se.transparent(.5).toString(),x.set(se.toString(),J)),T.fillStyle=J;for(let q=Y;q<=ne;q++){if(A.has(q))continue;A.set(q,!0);const H=P.getYForLineNumber(Y,O);T.fillRect(C.MINIMAP_GUTTER_WIDTH,H,T.canvas.width,O)}}}_renderSelectionsHighlights(T,N,A,P,O,x,W,U){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const F of N){const G=P.intersectWithViewport(F);if(!G)continue;const[Y,ne]=G;for(let se=Y;se<=ne;se++)this.renderDecorationOnLine(T,A,F,this._selectionColor,P,se,O,O,x,W,U)}}_renderDecorationsHighlights(T,N,A,P,O,x,W,U){for(const F of N){const G=F.options.minimap;if(!G)continue;const Y=P.intersectWithViewport(F.range);if(!Y)continue;const[ne,se]=Y,J=G.getColor(this._theme.value);if(!(!J||J.isTransparent()))for(let q=ne;q<=se;q++)switch(G.position){case l.MinimapPosition.Inline:this.renderDecorationOnLine(T,A,F.range,J,P,q,O,O,x,W,U);continue;case l.MinimapPosition.Gutter:{const H=P.getYForLineNumber(q,O),V=2;this.renderDecoration(T,J,V,H,a,O);continue}}}}renderDecorationOnLine(T,N,A,P,O,x,W,U,F,G,Y){const ne=O.getYForLineNumber(x,U);if(ne+W<0||ne>this._model.options.canvasInnerHeight)return;const{startLineNumber:se,endLineNumber:J}=A,q=se===x?A.startColumn:1,H=J===x?A.endColumn:this._model.getLineMaxColumn(x),V=this.getXOffsetForPosition(N,x,q,F,G,Y),Z=this.getXOffsetForPosition(N,x,H,F,G,Y);this.renderDecoration(T,P,V,ne,Z-V,W)}getXOffsetForPosition(T,N,A,P,O,x){if(A===1)return C.MINIMAP_GUTTER_WIDTH;if((A-1)*O>=x)return x;let U=T.get(N);if(!U){const F=this._model.getLineContent(N);U=[C.MINIMAP_GUTTER_WIDTH];let G=C.MINIMAP_GUTTER_WIDTH;for(let Y=1;Y<F.length+1;Y++){const ne=F.charCodeAt(Y-1),se=ne===9?P*O:m.isFullWidthCharacter(ne)?2*O:O,J=G+se;if(J>=x){U[Y]=x;break}U[Y]=J,G=J}T.set(N,U)}return A-1<U.length?U[A-1]:x}renderDecoration(T,N,A,P,O,x){T.fillStyle=N&&N.toString()||"",T.fillRect(A,P,O,x)}renderLines(T){const N=T.startLineNumber,A=T.endLineNumber,P=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(T)){const oe=this._lastRenderData._get();return new b(T,oe.imageData,oe.lines)}const O=this._getBuffer();if(!O)return null;const[x,W,U]=M._renderUntouchedLines(O,T.topPaddingLineCount,N,A,P,this._lastRenderData),F=this._model.getMinimapLinesRenderingData(N,A,U),G=this._model.getOptions().tabSize,Y=this._model.options.defaultBackgroundColor,ne=this._model.options.backgroundColor,se=this._model.options.foregroundAlpha,J=this._model.tokensColorTracker,q=J.backgroundIsLight(),H=this._model.options.renderMinimap,V=this._model.options.charRenderer(),Z=this._model.options.fontScale,ee=this._model.options.minimapCharWidth,ue=(H===1?2:2+1)*Z,de=P>ue?Math.floor((P-ue)/2):0,ce=ne.a/255,ae=new i.RGBA8(Math.round((ne.r-Y.r)*ce+Y.r),Math.round((ne.g-Y.g)*ce+Y.g),Math.round((ne.b-Y.b)*ce+Y.b),255);let X=T.topPaddingLineCount*P;const K=[];for(let oe=0,he=A-N+1;oe<he;oe++)U[oe]&&M._renderLine(O,ae,ne.a,q,H,ee,J,se,V,X,de,G,F[oe],Z,P),K[oe]=new p(X),X+=P;const z=x===-1?0:x,j=(W===-1?O.height:W)-z;return this._canvas.domNode.getContext("2d").putImageData(O,0,0,0,z,O.width,j),new b(T,O,K)}static _renderUntouchedLines(T,N,A,P,O,x){const W=[];if(!x){for(let X=0,K=P-A+1;X<K;X++)W[X]=!0;return[-1,-1,W]}const U=x._get(),F=U.imageData.data,G=U.rendLineNumberStart,Y=U.lines,ne=Y.length,se=T.width,J=T.data,q=(P-A+1)*O*se*4;let H=-1,V=-1,Z=-1,ee=-1,le=-1,ue=-1,de=N*O;for(let X=A;X<=P;X++){const K=X-A,z=X-G,Q=z>=0&&z<ne?Y[z].dy:-1;if(Q===-1){W[K]=!0,de+=O;continue}const j=Q*se*4,re=(Q+O)*se*4,oe=de*se*4,he=(de+O)*se*4;ee===j&&ue===oe?(ee=re,ue=he):(Z!==-1&&(J.set(F.subarray(Z,ee),le),H===-1&&Z===0&&Z===le&&(H=ee),V===-1&&ee===q&&Z===le&&(V=Z)),Z=j,ee=re,le=oe,ue=he),W[K]=!1,de+=O}Z!==-1&&(J.set(F.subarray(Z,ee),le),H===-1&&Z===0&&Z===le&&(H=ee),V===-1&&ee===q&&Z===le&&(V=Z));const ce=H===-1?-1:H/(se*4),ae=V===-1?-1:V/(se*4);return[ce,ae,W]}static _renderLine(T,N,A,P,O,x,W,U,F,G,Y,ne,se,J,q){const H=se.content,V=se.tokens,Z=T.width-x,ee=q===1;let le=C.MINIMAP_GUTTER_WIDTH,ue=0,de=0;for(let ce=0,ae=V.getCount();ce<ae;ce++){const X=V.getEndOffset(ce),K=V.getForeground(ce),z=W.getColor(K);for(;ue<X;ue++){if(le>Z)return;const Q=H.charCodeAt(ue);if(Q===9){const j=ne-(ue+de)%ne;de+=j-1,le+=j*x}else if(Q===32)le+=x;else{const j=m.isFullWidthCharacter(Q)?2:1;for(let re=0;re<j;re++)if(O===2?F.blockRenderChar(T,le,G+Y,z,U,N,A,ee):F.renderChar(T,le,G+Y,Q,z,U,N,A,J,P,ee),le+=x,le>Z)return}}}}}class R{constructor(T,N,A){this._startLineNumber=T,this._endLineNumber=N,this._defaultValue=A,this._values=[];for(let P=0,O=this._endLineNumber-this._startLineNumber+1;P<O;P++)this._values[P]=A}has(T){return this.get(T)!==this._defaultValue}set(T,N){T<this._startLineNumber||T>this._endLineNumber||(this._values[T-this._startLineNumber]=N)}get(T){return T<this._startLineNumber||T>this._endLineNumber?this._defaultValue:this._values[T-this._startLineNumber]}}}),define(te[823],ie([1,0,610,31]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffMoveBorderActive=e.diffMoveBorder=void 0,e.diffMoveBorder=(0,I.registerColor)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,L.localize)(0,null)),e.diffMoveBorderActive=(0,I.registerColor)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,L.localize)(1,null))}),define(te[248],ie([1,0,707,31,467]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,I.registerColor)("symbolIcon.arrayForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,I.registerColor)("symbolIcon.booleanForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,I.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,I.registerColor)("symbolIcon.colorForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,I.registerColor)("symbolIcon.constantForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,I.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,I.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,I.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,I.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,I.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,I.registerColor)("symbolIcon.fileForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,I.registerColor)("symbolIcon.folderForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,I.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,I.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,I.registerColor)("symbolIcon.keyForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,I.registerColor)("symbolIcon.keywordForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,I.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,I.registerColor)("symbolIcon.moduleForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,I.registerColor)("symbolIcon.namespaceForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,I.registerColor)("symbolIcon.nullForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,I.registerColor)("symbolIcon.numberForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,I.registerColor)("symbolIcon.objectForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,I.registerColor)("symbolIcon.operatorForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,I.registerColor)("symbolIcon.packageForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,I.registerColor)("symbolIcon.propertyForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,I.registerColor)("symbolIcon.referenceForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,I.registerColor)("symbolIcon.snippetForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,I.registerColor)("symbolIcon.stringForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,I.registerColor)("symbolIcon.structForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,I.registerColor)("symbolIcon.textForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,I.registerColor)("symbolIcon.typeParameterForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,I.registerColor)("symbolIcon.unitForeground",{dark:I.foreground,light:I.foreground,hcDark:I.foreground,hcLight:I.foreground},(0,L.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,I.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(32,null))}),define(te[824],ie([1,0,26,112,642,171,248]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=void 0;const D=Object.freeze({kind:I.CodeActionKind.Empty,title:(0,y.localize)(0,null)}),S=Object.freeze([{kind:I.CodeActionKind.QuickFix,title:(0,y.localize)(1,null)},{kind:I.CodeActionKind.RefactorExtract,title:(0,y.localize)(2,null),icon:L.Codicon.wrench},{kind:I.CodeActionKind.RefactorInline,title:(0,y.localize)(3,null),icon:L.Codicon.wrench},{kind:I.CodeActionKind.RefactorRewrite,title:(0,y.localize)(4,null),icon:L.Codicon.wrench},{kind:I.CodeActionKind.RefactorMove,title:(0,y.localize)(5,null),icon:L.Codicon.wrench},{kind:I.CodeActionKind.SurroundWith,title:(0,y.localize)(6,null),icon:L.Codicon.symbolSnippet},{kind:I.CodeActionKind.Source,title:(0,y.localize)(7,null),icon:L.Codicon.symbolFile},D]);function m(_,v,C){if(!v)return _.map(n=>{var t;return{kind:"action",item:n,group:D,disabled:!!n.action.disabled,label:n.action.disabled||n.action.title,canPreview:!!(!((t=n.action.edit)===null||t===void 0)&&t.edits.length)}});const s=S.map(n=>({group:n,actions:[]}));for(const n of _){const t=n.action.kind?new I.CodeActionKind(n.action.kind):I.CodeActionKind.None;for(const r of s)if(r.group.kind.contains(t)){r.actions.push(n);break}}const i=[];for(const n of s)if(n.actions.length){i.push({kind:"header",group:n.group});for(const t of n.actions)i.push({kind:"action",item:t,group:n.group,label:t.action.title,disabled:!!t.action.disabled,keybinding:C(t.action)})}return i}e.toMenuItems=m}),define(te[104],ie([1,0,31,36]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.getListStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0;function y(S,m){const _=Object.assign({},m);for(const v in S){const C=S[v];_[v]=C!==void 0?(0,L.asCssVariable)(C):void 0}return _}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,L.asCssVariable)(L.keybindingLabelBackground),keybindingLabelForeground:(0,L.asCssVariable)(L.keybindingLabelForeground),keybindingLabelBorder:(0,L.asCssVariable)(L.keybindingLabelBorder),keybindingLabelBottomBorder:(0,L.asCssVariable)(L.keybindingLabelBottomBorder),keybindingLabelShadow:(0,L.asCssVariable)(L.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,L.asCssVariable)(L.buttonForeground),buttonSeparator:(0,L.asCssVariable)(L.buttonSeparator),buttonBackground:(0,L.asCssVariable)(L.buttonBackground),buttonHoverBackground:(0,L.asCssVariable)(L.buttonHoverBackground),buttonSecondaryForeground:(0,L.asCssVariable)(L.buttonSecondaryForeground),buttonSecondaryBackground:(0,L.asCssVariable)(L.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,L.asCssVariable)(L.buttonSecondaryHoverBackground),buttonBorder:(0,L.asCssVariable)(L.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,L.asCssVariable)(L.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,L.asCssVariable)(L.inputActiveOptionBorder),inputActiveOptionForeground:(0,L.asCssVariable)(L.inputActiveOptionForeground),inputActiveOptionBackground:(0,L.asCssVariable)(L.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,L.asCssVariable)(L.checkboxBackground),checkboxBorder:(0,L.asCssVariable)(L.checkboxBorder),checkboxForeground:(0,L.asCssVariable)(L.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,L.asCssVariable)(L.editorWidgetBackground),dialogForeground:(0,L.asCssVariable)(L.editorWidgetForeground),dialogShadow:(0,L.asCssVariable)(L.widgetShadow),dialogBorder:(0,L.asCssVariable)(L.contrastBorder),errorIconForeground:(0,L.asCssVariable)(L.problemsErrorIconForeground),warningIconForeground:(0,L.asCssVariable)(L.problemsWarningIconForeground),infoIconForeground:(0,L.asCssVariable)(L.problemsInfoIconForeground),textLinkForeground:(0,L.asCssVariable)(L.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,L.asCssVariable)(L.inputBackground),inputForeground:(0,L.asCssVariable)(L.inputForeground),inputBorder:(0,L.asCssVariable)(L.inputBorder),inputValidationInfoBorder:(0,L.asCssVariable)(L.inputValidationInfoBorder),inputValidationInfoBackground:(0,L.asCssVariable)(L.inputValidationInfoBackground),inputValidationInfoForeground:(0,L.asCssVariable)(L.inputValidationInfoForeground),inputValidationWarningBorder:(0,L.asCssVariable)(L.inputValidationWarningBorder),inputValidationWarningBackground:(0,L.asCssVariable)(L.inputValidationWarningBackground),inputValidationWarningForeground:(0,L.asCssVariable)(L.inputValidationWarningForeground),inputValidationErrorBorder:(0,L.asCssVariable)(L.inputValidationErrorBorder),inputValidationErrorBackground:(0,L.asCssVariable)(L.inputValidationErrorBackground),inputValidationErrorForeground:(0,L.asCssVariable)(L.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,L.asCssVariable)(L.listFilterWidgetBackground),listFilterWidgetOutline:(0,L.asCssVariable)(L.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,L.asCssVariable)(L.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,L.asCssVariable)(L.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,L.asCssVariable)(L.badgeBackground),badgeForeground:(0,L.asCssVariable)(L.badgeForeground),badgeBorder:(0,L.asCssVariable)(L.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,L.asCssVariable)(L.breadcrumbsBackground),breadcrumbsForeground:(0,L.asCssVariable)(L.breadcrumbsForeground),breadcrumbsHoverForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,L.asCssVariable)(L.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,L.asCssVariable)(L.listFocusBackground),listFocusForeground:(0,L.asCssVariable)(L.listFocusForeground),listFocusOutline:(0,L.asCssVariable)(L.listFocusOutline),listActiveSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listActiveSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,L.asCssVariable)(L.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,L.asCssVariable)(L.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listInactiveSelectionBackground:(0,L.asCssVariable)(L.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,L.asCssVariable)(L.listInactiveSelectionForeground),listInactiveFocusBackground:(0,L.asCssVariable)(L.listInactiveFocusBackground),listInactiveFocusOutline:(0,L.asCssVariable)(L.listInactiveFocusOutline),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listDropBackground:(0,L.asCssVariable)(L.listDropBackground),listSelectionOutline:(0,L.asCssVariable)(L.activeContrastBorder),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),treeIndentGuidesStroke:(0,L.asCssVariable)(L.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,L.asCssVariable)(L.treeInactiveIndentGuidesStroke),tableColumnsBorder:(0,L.asCssVariable)(L.tableColumnsBorder),tableOddRowsBackgroundColor:(0,L.asCssVariable)(L.tableOddRowsBackgroundColor)};function D(S){return y(S,e.defaultListStyles)}e.getListStyles=D,e.defaultSelectBoxStyles={selectBackground:(0,L.asCssVariable)(L.selectBackground),selectListBackground:(0,L.asCssVariable)(L.selectListBackground),selectForeground:(0,L.asCssVariable)(L.selectForeground),decoratorRightForeground:(0,L.asCssVariable)(L.pickerGroupForeground),selectBorder:(0,L.asCssVariable)(L.selectBorder),focusBorder:(0,L.asCssVariable)(L.focusBorder),listFocusBackground:(0,L.asCssVariable)(L.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.quickInputListFocusIconForeground),listFocusForeground:(0,L.asCssVariable)(L.quickInputListFocusForeground),listFocusOutline:(0,L.asCssVariableWithDefault)(L.activeContrastBorder,I.Color.transparent.toString()),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),selectListBorder:(0,L.asCssVariable)(L.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},e.defaultMenuStyles={shadowColor:(0,L.asCssVariable)(L.widgetShadow),borderColor:(0,L.asCssVariable)(L.menuBorder),foregroundColor:(0,L.asCssVariable)(L.menuForeground),backgroundColor:(0,L.asCssVariable)(L.menuBackground),selectionForegroundColor:(0,L.asCssVariable)(L.menuSelectionForeground),selectionBackgroundColor:(0,L.asCssVariable)(L.menuSelectionBackground),selectionBorderColor:(0,L.asCssVariable)(L.menuSelectionBorder),separatorColor:(0,L.asCssVariable)(L.menuSeparatorBackground),scrollbarShadow:(0,L.asCssVariable)(L.scrollbarShadow),scrollbarSliderBackground:(0,L.asCssVariable)(L.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,L.asCssVariable)(L.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,L.asCssVariable)(L.scrollbarSliderActiveBackground)}}),define(te[825],ie([1,0,7,312,313,226,69,2,46,65,668,8,34,158,104,155]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let f=class{constructor(w){this._resolverService=w}hasChildren(w){return w instanceof r.ReferencesModel||w instanceof r.FileReferences}getChildren(w){if(w instanceof r.ReferencesModel)return w.groups;if(w instanceof r.FileReferences)return w.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};e.DataSource=f,e.DataSource=f=Ie([ge(0,v.ITextModelService)],f);class d{getHeight(){return 23}getTemplateId(w){return w instanceof r.FileReferences?a.id:h.id}}e.Delegate=d;let l=class{constructor(w){this._keybindingService=w}getKeyboardNavigationLabel(w){var E;if(w instanceof r.OneReference){const k=(E=w.parent.getPreview(w))===null||E===void 0?void 0:E.preview(w.range);if(k)return k.value}return(0,_.basename)(w.uri)}};e.StringRepresentationProvider=l,e.StringRepresentationProvider=l=Ie([ge(0,i.IKeybindingService)],l);class o{getId(w){return w instanceof r.OneReference?w.id:w.uri}}e.IdentityProvider=o;let c=class extends m.Disposable{constructor(w,E){super(),this._labelService=E;const k=document.createElement("div");k.classList.add("reference-file"),this.file=this._register(new D.IconLabel(k,{supportHighlights:!0})),this.badge=new I.CountBadge(L.append(k,L.$(".count")),{},t.defaultCountBadgeStyles),w.appendChild(k)}set(w,E){const k=(0,_.dirname)(w.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(w.uri),this._labelService.getUriLabel(k,{relative:!0}),{title:this._labelService.getUriLabel(w.uri),matches:E});const M=w.children.length;this.badge.setCount(M),M>1?this.badge.setTitleFormat((0,C.localize)(0,null,M)):this.badge.setTitleFormat((0,C.localize)(1,null,M))}};c=Ie([ge(1,n.ILabelService)],c);let a=u=class{constructor(w){this._instantiationService=w,this.templateId=u.id}renderTemplate(w){return this._instantiationService.createInstance(c,w)}renderElement(w,E,k){k.set(w.element,(0,S.createMatches)(w.filterData))}disposeTemplate(w){w.dispose()}};e.FileReferencesRenderer=a,a.id="FileReferencesRenderer",e.FileReferencesRenderer=a=u=Ie([ge(0,s.IInstantiationService)],a);class g{constructor(w){this.label=new y.HighlightedLabel(w)}set(w,E){var k;const M=(k=w.parent.getPreview(w))===null||k===void 0?void 0:k.preview(w.range);if(!M||!M.value)this.label.set(`${(0,_.basename)(w.uri)}:${w.range.startLineNumber+1}:${w.range.startColumn+1}`);else{const{value:R,highlight:B}=M;E&&!S.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(R,(0,S.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(R,[B]))}}}class h{constructor(){this.templateId=h.id}renderTemplate(w){return new g(w)}renderElement(w,E,k){k.set(w.element,w.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=h,h.id="OneReferenceRenderer";class p{getWidgetAriaLabel(){return(0,C.localize)(2,null)}getAriaLabel(w){return w.ariaMessage}}e.AccessibilityProvider=p}),define(te[826],ie([1,0,7,222,113,19,26,2,17,27,716,58,34,104,31,268]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class r{get templateId(){return"header"}renderTemplate(g){g.classList.add("group-header");const h=document.createElement("span");return g.append(h),{container:g,text:h}}renderElement(g,h,p){var b,w;p.text.textContent=(w=(b=g.group)===null||b===void 0?void 0:b.title)!==null&&w!==void 0?w:""}disposeTemplate(g){}}let u=class{get templateId(){return"action"}constructor(g,h){this._supportsPreview=g,this._keybindingService=h}renderTemplate(g){g.classList.add(this.templateId);const h=document.createElement("div");h.className="icon",g.append(h);const p=document.createElement("span");p.className="title",g.append(p);const b=new I.KeybindingLabel(g,_.OS);return{container:g,icon:h,text:p,keybinding:b}}renderElement(g,h,p){var b,w,E;if(!((b=g.group)===null||b===void 0)&&b.icon?(p.icon.className=v.ThemeIcon.asClassName(g.group.icon),g.group.icon.color&&(p.icon.style.color=(0,t.asCssVariable)(g.group.icon.color.id))):(p.icon.className=v.ThemeIcon.asClassName(S.Codicon.lightBulb),p.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!g.item||!g.label)return;p.text.textContent=c(g.label),p.keybinding.set(g.keybinding),L.setVisibility(!!g.keybinding,p.keybinding.element);const k=(w=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||w===void 0?void 0:w.getLabel(),M=(E=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||E===void 0?void 0:E.getLabel();p.container.classList.toggle("option-disabled",g.disabled),g.disabled?p.container.title=g.label:k&&M?this._supportsPreview&&g.canPreview?p.container.title=(0,C.localize)(0,null,k,M):p.container.title=(0,C.localize)(1,null,k):p.container.title=""}disposeTemplate(g){}};u=Ie([ge(1,i.IKeybindingService)],u);class f extends UIEvent{constructor(){super("acceptSelectedAction")}}class d extends UIEvent{constructor(){super("previewSelectedAction")}}function l(a){if(a.kind==="action")return a.label}let o=class extends m.Disposable{constructor(g,h,p,b,w,E){super(),this._delegate=b,this._contextViewService=w,this._keybindingService=E,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new D.CancellationTokenSource),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const k={getHeight:M=>M.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:M=>M.kind};this._list=this._register(new y.List(g,this.domNode,k,[new u(h,this._keybindingService),new r],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:l},accessibilityProvider:{getAriaLabel:M=>{if(M.kind==="action"){let R=M.label?c(M?.label):"";return M.disabled&&(R=(0,C.localize)(2,null,R,M.disabled)),R}return null},getWidgetAriaLabel:()=>(0,C.localize)(3,null),getRole:M=>M.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(n.defaultListStyles),this._register(this._list.onMouseClick(M=>this.onListClick(M))),this._register(this._list.onMouseOver(M=>this.onListHover(M))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(M=>this.onListSelection(M))),this._allMenuItems=p,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(g){return!g.disabled&&g.kind==="action"}hide(g){this._delegate.onHide(g),this.cts.cancel(),this._contextViewService.hideContextView()}layout(g){const h=this._allMenuItems.filter(R=>R.kind==="header").length,b=this._allMenuItems.length*this._actionLineHeight+h*this._headerLineHeight-h*this._actionLineHeight;this._list.layout(b);const w=this._allMenuItems.map((R,B)=>{const T=document.getElementById(this._list.getElementID(B));if(T){T.style.width="auto";const N=T.getBoundingClientRect().width;return T.style.width="",N}return 0}),E=Math.max(...w,g),k=.7,M=Math.min(b,document.body.clientHeight*k);return this._list.layout(M,E),this.domNode.style.height=`${M}px`,this._list.domFocus(),E}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(g){const h=this._list.getFocus();if(h.length===0)return;const p=h[0],b=this._list.element(p);if(!this.focusCondition(b))return;const w=g?new d:new f;this._list.setSelection([p],w)}onListSelection(g){if(!g.elements.length)return;const h=g.elements[0];h.item&&this.focusCondition(h)?this._delegate.onSelect(h.item,g.browserEvent instanceof d):this._list.setSelection([])}onFocus(){var g,h;this._list.domFocus();const p=this._list.getFocus();if(p.length===0)return;const b=p[0],w=this._list.element(b);(h=(g=this._delegate).onFocus)===null||h===void 0||h.call(g,w.item)}onListHover(g){return be(this,void 0,void 0,function*(){const h=g.element;if(h&&h.item&&this.focusCondition(h)){if(this._delegate.onHover&&!h.disabled&&h.kind==="action"){const p=yield this._delegate.onHover(h.item,this.cts.token);h.canPreview=p?p.canPreview:void 0}g.index&&this._list.splice(g.index,1,[h])}this._list.setFocus(typeof g.index=="number"?[g.index]:[])})}onListClick(g){g.element&&this.focusCondition(g.element)&&this._list.setFocus([])}};e.ActionList=o,e.ActionList=o=Ie([ge(4,s.IContextViewService),ge(5,i.IKeybindingService)],o);function c(a){return a.replace(/\r\n|\r|\n/g," ")}}),define(te[827],ie([1,0,7,73,2,717,826,30,15,58,47,8,31,268]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0,(0,i.registerColor)("actionBar.toggledBackground",{dark:i.inputActiveOptionBackground,light:i.inputActiveOptionBackground,hcDark:i.inputActiveOptionBackground,hcLight:i.inputActiveOptionBackground},(0,D.localize)(0,null));const n={Visible:new _.RawContextKey("codeActionMenuVisible",!1,(0,D.localize)(1,null))};e.IActionWidgetService=(0,s.createDecorator)("actionWidgetService");let t=class extends y.Disposable{get isVisible(){return n.Visible.getValue(this._contextKeyService)||!1}constructor(f,d,l){super(),this._contextViewService=f,this._contextKeyService=d,this._instantiationService=l,this._list=this._register(new y.MutableDisposable)}show(f,d,l,o,c,a,g){const h=n.Visible.bindTo(this._contextKeyService),p=this._instantiationService.createInstance(S.ActionList,f,d,l,o);this._contextViewService.showContextView({getAnchor:()=>c,render:b=>(h.set(!0),this._renderWidget(b,p,g??[])),onHide:b=>{h.reset(),this._onWidgetClosed(b)}},a,!1)}acceptSelected(f){var d;(d=this._list.value)===null||d===void 0||d.acceptSelected(f)}focusPrevious(){var f,d;(d=(f=this._list)===null||f===void 0?void 0:f.value)===null||d===void 0||d.focusPrevious()}focusNext(){var f,d;(d=(f=this._list)===null||f===void 0?void 0:f.value)===null||d===void 0||d.focusNext()}hide(){var f;(f=this._list.value)===null||f===void 0||f.hide(),this._list.clear()}_renderWidget(f,d,l){var o;const c=document.createElement("div");if(c.classList.add("action-widget"),f.appendChild(c),this._list.value=d,this._list.value)c.appendChild(this._list.value.domNode);else throw new Error("List has no value");const a=new y.DisposableStore,g=document.createElement("div"),h=f.appendChild(g);h.classList.add("context-view-block"),a.add(L.addDisposableListener(h,L.EventType.MOUSE_DOWN,M=>M.stopPropagation()));const p=document.createElement("div"),b=f.appendChild(p);b.classList.add("context-view-pointerBlock"),a.add(L.addDisposableListener(b,L.EventType.POINTER_MOVE,()=>b.remove())),a.add(L.addDisposableListener(b,L.EventType.MOUSE_DOWN,()=>b.remove()));let w=0;if(l.length){const M=this._createActionBar(".action-widget-action-bar",l);M&&(c.appendChild(M.getContainer().parentElement),a.add(M),w=M.getContainer().offsetWidth)}const E=(o=this._list.value)===null||o===void 0?void 0:o.layout(w);c.style.width=`${E}px`;const k=a.add(L.trackFocus(f));return a.add(k.onDidBlur(()=>this.hide())),a}_createActionBar(f,d){if(!d.length)return;const l=L.$(f),o=new I.ActionBar(l);return o.push(d,{icon:!1,label:!0}),o}_onWidgetClosed(f){var d;(d=this._list.value)===null||d===void 0||d.hide(f)}};t=Ie([ge(0,v.IContextViewService),ge(1,_.IContextKeyService),ge(2,s.IInstantiationService)],t),(0,C.registerSingleton)(e.IActionWidgetService,t,1);const r=100+1e3;(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,D.localize)(2,null),original:"Hide action widget"},precondition:n.Visible,keybinding:{weight:r,primary:9,secondary:[1033]}})}run(u){u.get(e.IActionWidgetService).hide()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,D.localize)(3,null),original:"Select previous action"},precondition:n.Visible,keybinding:{weight:r,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(u){const f=u.get(e.IActionWidgetService);f instanceof t&&f.focusPrevious()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectNextCodeAction",title:{value:(0,D.localize)(4,null),original:"Select next action"},precondition:n.Visible,keybinding:{weight:r,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(u){const f=u.get(e.IActionWidgetService);f instanceof t&&f.focusNext()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:S.acceptSelectedActionCommand,title:{value:(0,D.localize)(5,null),original:"Accept selected action"},precondition:n.Visible,keybinding:{weight:r,primary:3,secondary:[2137]}})}run(u){const f=u.get(e.IActionWidgetService);f instanceof t&&f.acceptSelected()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:S.previewSelectedActionCommand,title:{value:(0,D.localize)(6,null),original:"Preview selected action"},precondition:n.Visible,keybinding:{weight:r,primary:2051}})}run(u){const f=u.get(e.IActionWidgetService);f instanceof t&&f.acceptSelected(!0)}})}),define(te[828],ie([1,0,7,60,586,41,9,2,104]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class v{constructor(s,i,n,t){this.contextViewService=s,this.telemetryService=i,this.notificationService=n,this.keybindingService=t,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const i=s.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let n;const t=(0,L.isHTMLElement)(s.domForShadowRoot)?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:r=>{var u;this.lastContainer=r;const f=s.getMenuClassName?s.getMenuClassName():"";f&&(r.className+=" "+f),this.options.blockMouse&&(this.block=r.appendChild((0,L.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(u=this.blockDisposable)===null||u===void 0||u.dispose(),this.blockDisposable=(0,L.addDisposableListener)(this.block,L.EventType.MOUSE_DOWN,o=>o.stopPropagation()));const d=new m.DisposableStore,l=s.actionRunner||new D.ActionRunner;return l.onWillRun(o=>this.onActionRun(o,!s.skipTelemetry),this,d),l.onDidRun(this.onDidActionRun,this,d),n=new y.Menu(r,i,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:l,getKeyBinding:s.getKeyBinding?s.getKeyBinding:o=>this.keybindingService.lookupKeybinding(o.id)},_.defaultMenuStyles),n.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,d),n.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,d),d.add((0,L.addDisposableListener)(window,L.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),d.add((0,L.addDisposableListener)(window,L.EventType.MOUSE_DOWN,o=>{if(o.defaultPrevented)return;const c=new I.StandardMouseEvent(o);let a=c.target;if(!c.rightButton){for(;a;){if(a===r)return;a=a.parentElement}this.contextViewService.hideContextView(!0)}})),(0,m.combinedDisposable)(d,n)},focus:()=>{n?.focus(!!s.autoSelectFirstItem)},onHide:r=>{var u,f,d;(u=s.onHide)===null||u===void 0||u.call(s,!!r),this.block&&(this.block.remove(),this.block=null),(f=this.blockDisposable)===null||f===void 0||f.dispose(),this.blockDisposable=null,this.lastContainer&&((0,L.getActiveElement)()===this.lastContainer||(0,L.isAncestor)((0,L.getActiveElement)(),this.lastContainer))&&((d=this.focusToReturn)===null||d===void 0||d.focus()),this.lastContainer=null}},t,!!t)}onActionRun(s,i){i&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(s){s.error&&!(0,S.isCancellationError)(s.error)&&this.notificationService.error(s.error)}}e.ContextMenuHandler=v}),define(te[190],ie([1,0,7,581,113,582,182,589,588,321,6,2,729,28,95,15,237,58,8,34,35,104]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,d.createDecorator)("listService");class a{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new s.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(oe){var he,me;oe!==this._lastFocusedWidget&&((he=this._lastFocusedWidget)===null||he===void 0||he.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=oe,(me=this._lastFocusedWidget)===null||me===void 0||me.getHTMLElement().classList.add("last-focused"))}register(oe,he){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new y.DefaultStyleController((0,L.createStyleSheet)(),"").style(c.defaultListStyles)),this.lists.some(pe=>pe.widget===oe))throw new Error("Cannot register the same widget multiple times");const me={widget:oe,extraContextKeys:he};return this.lists.push(me),oe.getHTMLElement()===document.activeElement&&this.setLastFocusedList(oe),(0,s.combinedDisposable)(oe.onDidFocus(()=>this.setLastFocusedList(oe)),(0,s.toDisposable)(()=>this.lists.splice(this.lists.indexOf(me),1)),oe.onDidDispose(()=>{this.lists=this.lists.filter(pe=>pe!==me),this._lastFocusedWidget===oe&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=a,e.RawWorkbenchListScrollAtBoundaryContextKey=new r.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=r.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=r.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new r.RawContextKey("listFocus",!0),e.WorkbenchListSupportsMultiSelectContextKey=new r.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=r.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,r.ContextKeyExpr.not(u.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new r.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new r.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new r.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new r.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new r.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new r.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new r.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new r.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new r.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new r.RawContextKey("treeFindOpen",!1);const g="listTypeNavigationMode",h="listAutomaticKeyboardNavigation";function p(re,oe){const he=re.createScoped(oe.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(he),he}function b(re,oe){const he=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(re),me=()=>{const pe=oe.scrollTop===0,ve=oe.scrollHeight-oe.renderHeight-oe.scrollTop<1;pe&&ve?he.set("both"):pe?he.set("top"):ve?he.set("bottom"):he.set("none")};return me(),oe.onDidScroll(me)}const w="workbench.list.multiSelectModifier",E="workbench.list.openMode",k="workbench.list.horizontalScrolling",M="workbench.list.defaultFindMode",R="workbench.list.typeNavigationMode",B="workbench.list.keyboardNavigation",T="workbench.list.scrollByPage",N="workbench.list.defaultFindMatchType",A="workbench.tree.indent",P="workbench.tree.renderIndentGuides",O="workbench.list.smoothScrolling",x="workbench.list.mouseWheelScrollSensitivity",W="workbench.list.fastScrollSensitivity",U="workbench.tree.expandMode";function F(re){return re.getValue(w)==="alt"}class G extends s.Disposable{constructor(oe){super(),this.configurationService=oe,this.useAltAsMultipleSelectionModifier=F(oe),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(oe=>{oe.affectsConfiguration(w)&&(this.useAltAsMultipleSelectionModifier=F(this.configurationService))}))}isSelectionSingleChangeEvent(oe){return this.useAltAsMultipleSelectionModifier?oe.browserEvent.altKey:(0,y.isSelectionSingleChangeEvent)(oe)}isSelectionRangeChangeEvent(oe){return(0,y.isSelectionRangeChangeEvent)(oe)}}function Y(re,oe){var he;const me=re.get(n.IConfigurationService),pe=re.get(l.IKeybindingService),ve=new s.DisposableStore;return[Object.assign(Object.assign({},oe),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Le){return pe.mightProducePrintableCharacter(Le)}},smoothScrolling:!!me.getValue(O),mouseWheelScrollSensitivity:me.getValue(x),fastScrollSensitivity:me.getValue(W),multipleSelectionController:(he=oe.multipleSelectionController)!==null&&he!==void 0?he:ve.add(new G(me)),keyboardNavigationEventFilter:ee(pe),scrollByPage:!!me.getValue(T)}),ve]}let ne=class extends y.List{constructor(oe,he,me,pe,ve,we,Le,Ee,Ae){const Re=typeof ve.horizontalScrolling<"u"?ve.horizontalScrolling:!!Ee.getValue(k),[Be,ye]=Ae.invokeFunction(Y,ve);super(oe,he,me,pe,Object.assign(Object.assign({keyboardSupport:!1},Be),{horizontalScrolling:Re})),this.disposables.add(ye),this.contextKeyService=p(we,this),this.disposables.add(b(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ve.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ve.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ve.horizontalScrolling,this._useAltAsMultipleSelectionModifier=F(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(Le.register(this)),this.updateStyles(ve.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const fe=this.getSelection(),Ce=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(fe.length>0||Ce.length>0),this.listMultiSelection.set(fe.length>1),this.listDoubleSelection.set(fe.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const fe=this.getSelection(),Ce=this.getFocus();this.listHasSelectionOrFocus.set(fe.length>0||Ce.length>0)})),this.disposables.add(Ee.onDidChangeConfiguration(fe=>{fe.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=F(Ee));let Ce={};if(fe.affectsConfiguration(k)&&this.horizontalScrolling===void 0){const Me=!!Ee.getValue(k);Ce=Object.assign(Object.assign({},Ce),{horizontalScrolling:Me})}if(fe.affectsConfiguration(T)){const Me=!!Ee.getValue(T);Ce=Object.assign(Object.assign({},Ce),{scrollByPage:Me})}if(fe.affectsConfiguration(O)){const Me=!!Ee.getValue(O);Ce=Object.assign(Object.assign({},Ce),{smoothScrolling:Me})}if(fe.affectsConfiguration(x)){const Me=Ee.getValue(x);Ce=Object.assign(Object.assign({},Ce),{mouseWheelScrollSensitivity:Me})}if(fe.affectsConfiguration(W)){const Me=Ee.getValue(W);Ce=Object.assign(Object.assign({},Ce),{fastScrollSensitivity:Me})}Object.keys(Ce).length>0&&this.updateOptions(Ce)})),this.navigator=new H(this,Object.assign({configurationService:Ee},ve)),this.disposables.add(this.navigator)}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles!==void 0&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyles(oe){this.style(oe?(0,c.getListStyles)(oe):c.defaultListStyles)}};e.WorkbenchList=ne,e.WorkbenchList=ne=Ie([ge(5,r.IContextKeyService),ge(6,e.IListService),ge(7,n.IConfigurationService),ge(8,d.IInstantiationService)],ne);let se=class extends I.PagedList{constructor(oe,he,me,pe,ve,we,Le,Ee,Ae){const Re=typeof ve.horizontalScrolling<"u"?ve.horizontalScrolling:!!Ee.getValue(k),[Be,ye]=Ae.invokeFunction(Y,ve);super(oe,he,me,pe,Object.assign(Object.assign({keyboardSupport:!1},Be),{horizontalScrolling:Re})),this.disposables=new s.DisposableStore,this.disposables.add(ye),this.contextKeyService=p(we,this),this.disposables.add(b(this.contextKeyService,this.widget)),this.horizontalScrolling=ve.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ve.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ve.selectionNavigation),this._useAltAsMultipleSelectionModifier=F(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(Le.register(this)),this.updateStyles(ve.overrideStyles),this.disposables.add(Ee.onDidChangeConfiguration(fe=>{fe.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=F(Ee));let Ce={};if(fe.affectsConfiguration(k)&&this.horizontalScrolling===void 0){const Me=!!Ee.getValue(k);Ce=Object.assign(Object.assign({},Ce),{horizontalScrolling:Me})}if(fe.affectsConfiguration(T)){const Me=!!Ee.getValue(T);Ce=Object.assign(Object.assign({},Ce),{scrollByPage:Me})}if(fe.affectsConfiguration(O)){const Me=!!Ee.getValue(O);Ce=Object.assign(Object.assign({},Ce),{smoothScrolling:Me})}if(fe.affectsConfiguration(x)){const Me=Ee.getValue(x);Ce=Object.assign(Object.assign({},Ce),{mouseWheelScrollSensitivity:Me})}if(fe.affectsConfiguration(W)){const Me=Ee.getValue(W);Ce=Object.assign(Object.assign({},Ce),{fastScrollSensitivity:Me})}Object.keys(Ce).length>0&&this.updateOptions(Ce)})),this.navigator=new H(this,Object.assign({configurationService:Ee},ve)),this.disposables.add(this.navigator)}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles!==void 0&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyles(oe){this.style(oe?(0,c.getListStyles)(oe):c.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=se,e.WorkbenchPagedList=se=Ie([ge(5,r.IContextKeyService),ge(6,e.IListService),ge(7,n.IConfigurationService),ge(8,d.IInstantiationService)],se);let J=class extends D.Table{constructor(oe,he,me,pe,ve,we,Le,Ee,Ae,Re){const Be=typeof we.horizontalScrolling<"u"?we.horizontalScrolling:!!Ae.getValue(k),[ye,De]=Re.invokeFunction(Y,we);super(oe,he,me,pe,ve,Object.assign(Object.assign({keyboardSupport:!1},ye),{horizontalScrolling:Be})),this.disposables.add(De),this.contextKeyService=p(Le,this),this.disposables.add(b(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(we.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!we.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=we.horizontalScrolling,this._useAltAsMultipleSelectionModifier=F(Ae),this.disposables.add(this.contextKeyService),this.disposables.add(Ee.register(this)),this.updateStyles(we.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ce=this.getSelection(),Me=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ce.length>0||Me.length>0),this.listMultiSelection.set(Ce.length>1),this.listDoubleSelection.set(Ce.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ce=this.getSelection(),Me=this.getFocus();this.listHasSelectionOrFocus.set(Ce.length>0||Me.length>0)})),this.disposables.add(Ae.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=F(Ae));let Me={};if(Ce.affectsConfiguration(k)&&this.horizontalScrolling===void 0){const Pe=!!Ae.getValue(k);Me=Object.assign(Object.assign({},Me),{horizontalScrolling:Pe})}if(Ce.affectsConfiguration(T)){const Pe=!!Ae.getValue(T);Me=Object.assign(Object.assign({},Me),{scrollByPage:Pe})}if(Ce.affectsConfiguration(O)){const Pe=!!Ae.getValue(O);Me=Object.assign(Object.assign({},Me),{smoothScrolling:Pe})}if(Ce.affectsConfiguration(x)){const Pe=Ae.getValue(x);Me=Object.assign(Object.assign({},Me),{mouseWheelScrollSensitivity:Pe})}if(Ce.affectsConfiguration(W)){const Pe=Ae.getValue(W);Me=Object.assign(Object.assign({},Me),{fastScrollSensitivity:Pe})}Object.keys(Me).length>0&&this.updateOptions(Me)})),this.navigator=new V(this,Object.assign({configurationService:Ae},we)),this.disposables.add(this.navigator)}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles!==void 0&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyles(oe){this.style(oe?(0,c.getListStyles)(oe):c.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=J,e.WorkbenchTable=J=Ie([ge(6,r.IContextKeyService),ge(7,e.IListService),ge(8,n.IConfigurationService),ge(9,d.IInstantiationService)],J);class q extends s.Disposable{constructor(oe,he){var me;super(),this.widget=oe,this._onDidOpen=this._register(new C.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(C.Event.filter(this.widget.onDidChangeSelection,pe=>pe.browserEvent instanceof KeyboardEvent)(pe=>this.onSelectionFromKeyboard(pe))),this._register(this.widget.onPointer(pe=>this.onPointer(pe.element,pe.browserEvent))),this._register(this.widget.onMouseDblClick(pe=>this.onMouseDblClick(pe.element,pe.browserEvent))),typeof he?.openOnSingleClick!="boolean"&&he?.configurationService?(this.openOnSingleClick=he?.configurationService.getValue(E)!=="doubleClick",this._register(he?.configurationService.onDidChangeConfiguration(pe=>{pe.affectsConfiguration(E)&&(this.openOnSingleClick=he?.configurationService.getValue(E)!=="doubleClick")}))):this.openOnSingleClick=(me=he?.openOnSingleClick)!==null&&me!==void 0?me:!0}onSelectionFromKeyboard(oe){if(oe.elements.length!==1)return;const he=oe.browserEvent,me=typeof he.preserveFocus=="boolean"?he.preserveFocus:!0,pe=typeof he.pinned=="boolean"?he.pinned:!me,ve=!1;this._open(this.getSelectedElement(),me,pe,ve,oe.browserEvent)}onPointer(oe,he){if(!this.openOnSingleClick||he.detail===2)return;const pe=he.button===1,ve=!0,we=pe,Le=he.ctrlKey||he.metaKey||he.altKey;this._open(oe,ve,we,Le,he)}onMouseDblClick(oe,he){if(!he)return;const me=he.target;if(me.classList.contains("monaco-tl-twistie")||me.classList.contains("monaco-icon-label")&&me.classList.contains("folder-icon")&&he.offsetX<16)return;const ve=!1,we=!0,Le=he.ctrlKey||he.metaKey||he.altKey;this._open(oe,ve,we,Le,he)}_open(oe,he,me,pe,ve){oe&&this._onDidOpen.fire({editorOptions:{preserveFocus:he,pinned:me,revealIfVisible:!0},sideBySide:pe,element:oe,browserEvent:ve})}}class H extends q{constructor(oe,he){super(oe,he),this.widget=oe}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class V extends q{constructor(oe,he){super(oe,he)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Z extends q{constructor(oe,he){super(oe,he)}getSelectedElement(){var oe;return(oe=this.widget.getSelection()[0])!==null&&oe!==void 0?oe:void 0}}function ee(re){let oe=!1;return he=>{if(he.toKeyCodeChord().isModifierKey())return!1;if(oe)return oe=!1,!1;const me=re.softDispatch(he,he.target);return me.kind===1?(oe=!0,!1):(oe=!1,me.kind===0)}}let le=class extends v.ObjectTree{constructor(oe,he,me,pe,ve,we,Le,Ee,Ae){const{options:Re,getTypeNavigationMode:Be,disposable:ye}=we.invokeFunction(z,ve);super(oe,he,me,pe,Re),this.disposables.add(ye),this.internals=new Q(this,ve,Be,ve.overrideStyles,Le,Ee,Ae),this.disposables.add(this.internals)}updateOptions(oe){super.updateOptions(oe),this.internals.updateOptions(oe)}};e.WorkbenchObjectTree=le,e.WorkbenchObjectTree=le=Ie([ge(5,d.IInstantiationService),ge(6,r.IContextKeyService),ge(7,e.IListService),ge(8,n.IConfigurationService)],le);let ue=class extends v.CompressibleObjectTree{constructor(oe,he,me,pe,ve,we,Le,Ee,Ae){const{options:Re,getTypeNavigationMode:Be,disposable:ye}=we.invokeFunction(z,ve);super(oe,he,me,pe,Re),this.disposables.add(ye),this.internals=new Q(this,ve,Be,ve.overrideStyles,Le,Ee,Ae),this.disposables.add(this.internals)}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}};e.WorkbenchCompressibleObjectTree=ue,e.WorkbenchCompressibleObjectTree=ue=Ie([ge(5,d.IInstantiationService),ge(6,r.IContextKeyService),ge(7,e.IListService),ge(8,n.IConfigurationService)],ue);let de=class extends _.DataTree{constructor(oe,he,me,pe,ve,we,Le,Ee,Ae,Re){const{options:Be,getTypeNavigationMode:ye,disposable:De}=Le.invokeFunction(z,we);super(oe,he,me,pe,ve,Be),this.disposables.add(De),this.internals=new Q(this,we,ye,we.overrideStyles,Ee,Ae,Re),this.disposables.add(this.internals)}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles!==void 0&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}};e.WorkbenchDataTree=de,e.WorkbenchDataTree=de=Ie([ge(6,d.IInstantiationService),ge(7,r.IContextKeyService),ge(8,e.IListService),ge(9,n.IConfigurationService)],de);let ce=class extends m.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(oe,he,me,pe,ve,we,Le,Ee,Ae,Re){const{options:Be,getTypeNavigationMode:ye,disposable:De}=Le.invokeFunction(z,we);super(oe,he,me,pe,ve,Be),this.disposables.add(De),this.internals=new Q(this,we,ye,we.overrideStyles,Ee,Ae,Re),this.disposables.add(this.internals)}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}};e.WorkbenchAsyncDataTree=ce,e.WorkbenchAsyncDataTree=ce=Ie([ge(6,d.IInstantiationService),ge(7,r.IContextKeyService),ge(8,e.IListService),ge(9,n.IConfigurationService)],ce);let ae=class extends m.CompressibleAsyncDataTree{constructor(oe,he,me,pe,ve,we,Le,Ee,Ae,Re,Be){const{options:ye,getTypeNavigationMode:De,disposable:fe}=Ee.invokeFunction(z,Le);super(oe,he,me,pe,ve,we,ye),this.disposables.add(fe),this.internals=new Q(this,Le,De,Le.overrideStyles,Ae,Re,Be),this.disposables.add(this.internals)}updateOptions(oe){super.updateOptions(oe),this.internals.updateOptions(oe)}};e.WorkbenchCompressibleAsyncDataTree=ae,e.WorkbenchCompressibleAsyncDataTree=ae=Ie([ge(7,d.IInstantiationService),ge(8,r.IContextKeyService),ge(9,e.IListService),ge(10,n.IConfigurationService)],ae);function X(re){const oe=re.getValue(M);if(oe==="highlight")return S.TreeFindMode.Highlight;if(oe==="filter")return S.TreeFindMode.Filter;const he=re.getValue(B);if(he==="simple"||he==="highlight")return S.TreeFindMode.Highlight;if(he==="filter")return S.TreeFindMode.Filter}function K(re){const oe=re.getValue(N);if(oe==="fuzzy")return S.TreeFindMatchType.Fuzzy;if(oe==="contiguous")return S.TreeFindMatchType.Contiguous}function z(re,oe){var he;const me=re.get(n.IConfigurationService),pe=re.get(f.IContextViewService),ve=re.get(r.IContextKeyService),we=re.get(d.IInstantiationService),Le=()=>{const De=ve.getContextKeyValue(g);if(De==="automatic")return y.TypeNavigationMode.Automatic;if(De==="trigger"||ve.getContextKeyValue(h)===!1)return y.TypeNavigationMode.Trigger;const Ce=me.getValue(R);if(Ce==="automatic")return y.TypeNavigationMode.Automatic;if(Ce==="trigger")return y.TypeNavigationMode.Trigger},Ee=oe.horizontalScrolling!==void 0?oe.horizontalScrolling:!!me.getValue(k),[Ae,Re]=we.invokeFunction(Y,oe),Be=oe.paddingBottom,ye=oe.renderIndentGuides!==void 0?oe.renderIndentGuides:me.getValue(P);return{getTypeNavigationMode:Le,disposable:Re,options:Object.assign(Object.assign({keyboardSupport:!1},Ae),{indent:typeof me.getValue(A)=="number"?me.getValue(A):void 0,renderIndentGuides:ye,smoothScrolling:!!me.getValue(O),defaultFindMode:X(me),defaultFindMatchType:K(me),horizontalScrolling:Ee,scrollByPage:!!me.getValue(T),paddingBottom:Be,hideTwistiesOfChildlessElements:oe.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(he=oe.expandOnlyOnTwistieClick)!==null&&he!==void 0?he:me.getValue(U)==="doubleClick",contextViewProvider:pe,findWidgetStyles:c.defaultFindWidgetStyles})}}let Q=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(oe,he,me,pe,ve,we,Le){var Ee;this.tree=oe,this.disposables=[],this.contextKeyService=p(ve,oe),this.disposables.push(b(this.contextKeyService,oe)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(he.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!he.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Ee=he.findWidgetEnabled)!==null&&Ee!==void 0?Ee:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=F(Le),this.updateStyleOverrides(pe);const Re=()=>{const ye=oe.getFocus()[0];if(!ye)return;const De=oe.getNode(ye);this.treeElementCanCollapse.set(De.collapsible&&!De.collapsed),this.treeElementHasParent.set(!!oe.getParentElement(ye)),this.treeElementCanExpand.set(De.collapsible&&De.collapsed),this.treeElementHasChild.set(!!oe.getFirstElementChild(ye))},Be=new Set;Be.add(g),Be.add(h),this.disposables.push(this.contextKeyService,we.register(oe),oe.onDidChangeSelection(()=>{const ye=oe.getSelection(),De=oe.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ye.length>0||De.length>0),this.hasMultiSelection.set(ye.length>1),this.hasDoubleSelection.set(ye.length===2)})}),oe.onDidChangeFocus(()=>{const ye=oe.getSelection(),De=oe.getFocus();this.hasSelectionOrFocus.set(ye.length>0||De.length>0),Re()}),oe.onDidChangeCollapseState(Re),oe.onDidChangeModel(Re),oe.onDidChangeFindOpenState(ye=>this.treeFindOpen.set(ye)),Le.onDidChangeConfiguration(ye=>{let De={};if(ye.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=F(Le)),ye.affectsConfiguration(A)){const fe=Le.getValue(A);De=Object.assign(Object.assign({},De),{indent:fe})}if(ye.affectsConfiguration(P)&&he.renderIndentGuides===void 0){const fe=Le.getValue(P);De=Object.assign(Object.assign({},De),{renderIndentGuides:fe})}if(ye.affectsConfiguration(O)){const fe=!!Le.getValue(O);De=Object.assign(Object.assign({},De),{smoothScrolling:fe})}if(ye.affectsConfiguration(M)||ye.affectsConfiguration(B)){const fe=X(Le);De=Object.assign(Object.assign({},De),{defaultFindMode:fe})}if(ye.affectsConfiguration(R)||ye.affectsConfiguration(B)){const fe=me();De=Object.assign(Object.assign({},De),{typeNavigationMode:fe})}if(ye.affectsConfiguration(N)){const fe=K(Le);De=Object.assign(Object.assign({},De),{defaultFindMatchType:fe})}if(ye.affectsConfiguration(k)&&he.horizontalScrolling===void 0){const fe=!!Le.getValue(k);De=Object.assign(Object.assign({},De),{horizontalScrolling:fe})}if(ye.affectsConfiguration(T)){const fe=!!Le.getValue(T);De=Object.assign(Object.assign({},De),{scrollByPage:fe})}if(ye.affectsConfiguration(U)&&he.expandOnlyOnTwistieClick===void 0&&(De=Object.assign(Object.assign({},De),{expandOnlyOnTwistieClick:Le.getValue(U)==="doubleClick"})),ye.affectsConfiguration(x)){const fe=Le.getValue(x);De=Object.assign(Object.assign({},De),{mouseWheelScrollSensitivity:fe})}if(ye.affectsConfiguration(W)){const fe=Le.getValue(W);De=Object.assign(Object.assign({},De),{fastScrollSensitivity:fe})}Object.keys(De).length>0&&oe.updateOptions(De)}),this.contextKeyService.onDidChangeContext(ye=>{ye.affectsSome(Be)&&oe.updateOptions({typeNavigationMode:me()})})),this.navigator=new Z(oe,Object.assign({configurationService:Le},he)),this.disposables.push(this.navigator)}updateOptions(oe){oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyleOverrides(oe){this.tree.style(oe?(0,c.getListStyles)(oe):c.defaultListStyles)}dispose(){this.disposables=(0,s.dispose)(this.disposables)}};Q=Ie([ge(4,r.IContextKeyService),ge(5,e.IListService),ge(6,n.IConfigurationService)],Q),o.Registry.as(t.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[w]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[E]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[k]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[T]:{type:"boolean",default:!1,description:(0,i.localize)(6,null)},[A]:{type:"number",default:8,minimum:4,maximum:40,description:(0,i.localize)(7,null)},[P]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(8,null)},[O]:{type:"boolean",default:!1,description:(0,i.localize)(9,null)},[x]:{type:"number",default:1,markdownDescription:(0,i.localize)(10,null)},[W]:{type:"number",default:5,markdownDescription:(0,i.localize)(11,null)},[M]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,i.localize)(12,null),(0,i.localize)(13,null)],default:"highlight",description:(0,i.localize)(14,null)},[B]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(15,null),(0,i.localize)(16,null),(0,i.localize)(17,null)],default:"highlight",description:(0,i.localize)(18,null),deprecated:!0,deprecationMessage:(0,i.localize)(19,null)},[N]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,i.localize)(20,null),(0,i.localize)(21,null)],default:"fuzzy",description:(0,i.localize)(22,null)},[U]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(23,null)},[R]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,i.localize)(24,null)}}})}),define(te[77],ie([1,0,14,26,27,6,20,21,738,239,35]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var s;(function(o){function c(a,g){let h=a.defaults;for(;y.ThemeIcon.isThemeIcon(h);){const p=t.getIcon(h.id);if(!p)return;h=p.defaults}return h}o.getDefinition=c})(s||(e.IconContribution=s={}));var i;(function(o){function c(g){return{weight:g.weight,style:g.style,src:g.src.map(h=>({format:h.format,location:h.location.toString()}))}}o.toJSONObject=c;function a(g){const h=p=>(0,S.isString)(p)?p:void 0;if(g&&Array.isArray(g.src)&&g.src.every(p=>(0,S.isString)(p.format)&&(0,S.isString)(p.location)))return{weight:h(g.weight),style:h(g.style),src:g.src.map(p=>({format:p.format,location:m.URI.parse(p.location)}))}}o.fromJSONObject=a})(i||(e.IconFontDefinition=i={}));class n{constructor(){this._onDidChange=new D.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,_.localize)(0,null)},fontCharacter:{type:"string",description:(0,_.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${y.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(c,a,g,h){const p=this.iconsById[c];if(p){if(g&&!p.description){p.description=g,this.iconSchema.properties[c].markdownDescription=`${g} $(${c})`;const E=this.iconReferenceSchema.enum.indexOf(c);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=g),this._onDidChange.fire()}return p}const b={id:c,description:g,defaults:a,deprecationMessage:h};this.iconsById[c]=b;const w={$ref:"#/definitions/icons"};return h&&(w.deprecationMessage=h),g&&(w.markdownDescription=`${g}: $(${c})`),this.iconSchema.properties[c]=w,this.iconReferenceSchema.enum.push(c),this.iconReferenceSchema.enumDescriptions.push(g||""),this._onDidChange.fire(),{id:c}}getIcons(){return Object.keys(this.iconsById).map(c=>this.iconsById[c])}getIcon(c){return this.iconsById[c]}getIconSchema(){return this.iconSchema}toString(){const c=(p,b)=>p.id.localeCompare(b.id),a=p=>{for(;y.ThemeIcon.isThemeIcon(p.defaults);)p=this.iconsById[p.defaults.id];return`codicon codicon-${p?p.id:""}`},g=[];g.push("| preview     | identifier                        | default codicon ID                | description"),g.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const h=Object.keys(this.iconsById).map(p=>this.iconsById[p]);for(const p of h.filter(b=>!!b.description).sort(c))g.push(`|<i class="${a(p)}"></i>|${p.id}|${y.ThemeIcon.isThemeIcon(p.defaults)?p.defaults.id:p.id}|${p.description||""}|`);g.push("| preview     | identifier                        "),g.push("| ----------- | --------------------------------- |");for(const p of h.filter(b=>!y.ThemeIcon.isThemeIcon(b.defaults)).sort(c))g.push(`|<i class="${a(p)}"></i>|${p.id}|`);return g.join(`
`)}}const t=new n;C.Registry.add(e.Extensions.IconContribution,t);function r(o,c,a,g){return t.registerIcon(o,c,a,g)}e.registerIcon=r;function u(){return t}e.getIconRegistry=u;function f(){const o=(0,I.getCodiconFontCharacters)();for(const c in o){const a="\\"+o[c].toString(16);t.registerIcon(c,{fontCharacter:a})}}f(),e.iconsSchemaId="vscode://schemas/icons";const d=C.Registry.as(v.Extensions.JSONContribution);d.registerSchema(e.iconsSchemaId,t.getIconSchema());const l=new L.RunOnceScheduler(()=>d.notifySchemaChanged(e.iconsSchemaId),200);t.onDidChange(()=>{l.isScheduled()||l.schedule()}),e.widgetClose=r("widget-close",I.Codicon.close,(0,_.localize)(2,null)),e.gotoPreviousLocation=r("goto-previous-location",I.Codicon.arrowUp,(0,_.localize)(3,null)),e.gotoNextLocation=r("goto-next-location",I.Codicon.arrowDown,(0,_.localize)(4,null)),e.syncing=y.ThemeIcon.modify(I.Codicon.sync,"spin"),e.spinningLoading=y.ThemeIcon.modify(I.Codicon.loading,"spin")}),define(te[829],ie([1,0,7,90,73,84,41,13,26,2,40,27,70,100,39,64,81,12,5,108,42,91,114,82,609,156,8,77,437]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewer=void 0;const E=(0,w.registerIcon)("diff-review-insert",_.Codicon.add,(0,h.localize)(0,null)),k=(0,w.registerIcon)("diff-review-remove",_.Codicon.remove,(0,h.localize)(1,null)),M=(0,w.registerIcon)("diff-review-close",_.Codicon.close,(0,h.localize)(2,null));let R=class extends v.Disposable{constructor(Y,ne,se,J,q,H,V,Z,ee){super(),this._parentNode=Y,this._visible=ne,this._setVisible=se,this._canClose=J,this._width=q,this._height=H,this._diffs=V,this._editors=Z,this._instantiationService=ee,this.model=(0,C.derivedWithStore)(this,(le,ue)=>{const de=this._visible.read(le);if(this._parentNode.style.visibility=de?"visible":"hidden",!de)return null;const ce=ue.add(this._instantiationService.createInstance(B,this._diffs,this._editors,this._setVisible,this._canClose)),ae=ue.add(this._instantiationService.createInstance(F,this._parentNode,ce,this._width,this._height,this._editors));return{model:ce,view:ae}}),this._register((0,C.recomputeInitiallyAndOnChange)(this.model))}next(){(0,C.transaction)(Y=>{const ne=this._visible.get();this._setVisible(!0,Y),ne&&this.model.get().model.nextGroup(Y)})}prev(){(0,C.transaction)(Y=>{this._setVisible(!0,Y),this.model.get().model.previousGroup(Y)})}close(){(0,C.transaction)(Y=>{this._setVisible(!1,Y)})}};e.AccessibleDiffViewer=R,R._ttPolicy=(0,I.createTrustedTypesPolicy)("diffReview",{createHTML:G=>G}),e.AccessibleDiffViewer=R=Ie([ge(8,b.IInstantiationService)],R);let B=class extends v.Disposable{constructor(Y,ne,se,J,q){super(),this._diffs=Y,this._editors=ne,this._setVisible=se,this.canClose=J,this._audioCueService=q,this._groups=(0,C.observableValue)(this,[]),this._currentGroupIdx=(0,C.observableValue)(this,0),this._currentElementIdx=(0,C.observableValue)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((H,V)=>this._groups.read(V)[H]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((H,V)=>{var Z;return(Z=this.currentGroup.read(V))===null||Z===void 0?void 0:Z.lines[H]}),this._register((0,C.autorun)(H=>{const V=this._diffs.read(H);if(!V){this._groups.set([],void 0);return}const Z=N(V,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());(0,C.transaction)(ee=>{const le=this._editors.modified.getPosition();if(le){const ue=Z.findIndex(de=>le?.lineNumber<de.range.modified.endLineNumberExclusive);ue!==-1&&this._currentGroupIdx.set(ue,ee)}this._groups.set(Z,ee)})})),this._register((0,C.autorun)(H=>{const V=this.currentElement.read(H);V?.type===A.Deleted?this._audioCueService.playAudioCue(p.AudioCue.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):V?.type===A.Added&&this._audioCueService.playAudioCue(p.AudioCue.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,C.autorun)(H=>{var V;const Z=this.currentElement.read(H);if(Z&&Z.type!==A.Header){const ee=(V=Z.modifiedLineNumber)!==null&&V!==void 0?V:Z.diff.modified.startLineNumber;this._editors.modified.setSelection(d.Range.fromPositions(new f.Position(ee,1)))}}))}_goToGroupDelta(Y,ne){const se=this.groups.get();!se||se.length<=1||(0,C.subtransaction)(ne,J=>{this._currentGroupIdx.set(u.OffsetRange.ofLength(se.length).clipCyclic(this._currentGroupIdx.get()+Y),J),this._currentElementIdx.set(0,J)})}nextGroup(Y){this._goToGroupDelta(1,Y)}previousGroup(Y){this._goToGroupDelta(-1,Y)}_goToLineDelta(Y){const ne=this.currentGroup.get();!ne||ne.lines.length<=1||(0,C.transaction)(se=>{this._currentElementIdx.set(u.OffsetRange.ofLength(ne.lines.length).clip(this._currentElementIdx.get()+Y),se)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(Y){const ne=this.currentGroup.get();if(!ne)return;const se=ne.lines.indexOf(Y);se!==-1&&(0,C.transaction)(J=>{this._currentElementIdx.set(se,J)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const Y=this.currentElement.get();Y&&(Y.type===A.Deleted?(this._editors.original.setSelection(d.Range.fromPositions(new f.Position(Y.originalLineNumber,1))),this._editors.original.revealLine(Y.originalLineNumber),this._editors.original.focus()):(Y.type!==A.Header&&(this._editors.modified.setSelection(d.Range.fromPositions(new f.Position(Y.modifiedLineNumber,1))),this._editors.modified.revealLine(Y.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};B=Ie([ge(4,p.IAudioCueService)],B);const T=3;function N(G,Y,ne){const se=[];for(const J of(0,m.groupAdjacentBy)(G,(q,H)=>H.modified.startLineNumber-q.modified.endLineNumberExclusive<2*T)){const q=[];q.push(new O);const H=new r.LineRange(Math.max(1,J[0].original.startLineNumber-T),Math.min(J[J.length-1].original.endLineNumberExclusive+T,Y+1)),V=new r.LineRange(Math.max(1,J[0].modified.startLineNumber-T),Math.min(J[J.length-1].modified.endLineNumberExclusive+T,ne+1));(0,m.forEachAdjacent)(J,(le,ue)=>{const de=new r.LineRange(le?le.original.endLineNumberExclusive:H.startLineNumber,ue?ue.original.startLineNumber:H.endLineNumberExclusive),ce=new r.LineRange(le?le.modified.endLineNumberExclusive:V.startLineNumber,ue?ue.modified.startLineNumber:V.endLineNumberExclusive);de.forEach(ae=>{q.push(new U(ae,ce.startLineNumber+(ae-de.startLineNumber)))}),ue&&(ue.original.forEach(ae=>{q.push(new x(ue,ae))}),ue.modified.forEach(ae=>{q.push(new W(ue,ae))}))});const Z=J[0].modified.join(J[J.length-1].modified),ee=J[0].original.join(J[J.length-1].original);se.push(new P(new l.LineRangeMapping(Z,ee),q))}return se}var A;(function(G){G[G.Header=0]="Header",G[G.Unchanged=1]="Unchanged",G[G.Deleted=2]="Deleted",G[G.Added=3]="Added"})(A||(A={}));class P{constructor(Y,ne){this.range=Y,this.lines=ne}}class O{constructor(){this.type=A.Header}}class x{constructor(Y,ne){this.diff=Y,this.originalLineNumber=ne,this.type=A.Deleted,this.modifiedLineNumber=void 0}}class W{constructor(Y,ne){this.diff=Y,this.modifiedLineNumber=ne,this.type=A.Added,this.originalLineNumber=void 0}}class U{constructor(Y,ne){this.originalLineNumber=Y,this.modifiedLineNumber=ne,this.type=A.Unchanged}}let F=class extends v.Disposable{constructor(Y,ne,se,J,q,H){super(),this._element=Y,this._model=ne,this._width=se,this._height=J,this._editors=q,this._languageService=H,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const V=document.createElement("div");V.className="diff-review-actions",this._actionBar=this._register(new y.ActionBar(V)),this._register((0,C.autorun)(Z=>{this._actionBar.clear(),this._model.canClose.read(Z)&&this._actionBar.push(new S.Action("diffreview.close",(0,h.localize)(3,null),"close-diff-review "+s.ThemeIcon.asClassName(M),!0,()=>be(this,void 0,void 0,function*(){return ne.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new D.DomScrollableElement(this._content,{})),(0,L.reset)(this.domNode,this._scrollbar.getDomNode(),V),this._register((0,v.toDisposable)(()=>{(0,L.reset)(this.domNode)})),this._register((0,n.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,n.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,C.autorunWithStore)((Z,ee)=>{this._model.currentGroup.read(Z),this._render(ee)})),this._register((0,L.addStandardDisposableListener)(this.domNode,"keydown",Z=>{(Z.equals(18)||Z.equals(2066)||Z.equals(530))&&(Z.preventDefault(),this._model.goToNextLine()),(Z.equals(16)||Z.equals(2064)||Z.equals(528))&&(Z.preventDefault(),this._model.goToPreviousLine()),(Z.equals(9)||Z.equals(2057)||Z.equals(521)||Z.equals(1033))&&(Z.preventDefault(),this._model.close()),(Z.equals(10)||Z.equals(3))&&(Z.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(Y){const ne=this._editors.original.getOptions(),se=this._editors.modified.getOptions(),J=document.createElement("div");J.className="diff-review-table",J.setAttribute("role","list"),J.setAttribute("aria-label",(0,h.localize)(4,null)),(0,i.applyFontInfo)(J,se.get(50)),(0,L.reset)(this._content,J);const q=this._editors.original.getModel(),H=this._editors.modified.getModel();if(!q||!H)return;const V=q.getOptions(),Z=H.getOptions(),ee=se.get(66),le=this._model.currentGroup.get();for(const ue of le?.lines||[]){if(!le)break;let de;if(ue.type===A.Header){const ae=document.createElement("div");ae.className="diff-review-row",ae.setAttribute("role","listitem");const X=le.range,K=this._model.currentGroupIndex.get(),z=this._model.groups.get().length,Q=he=>he===0?(0,h.localize)(5,null):he===1?(0,h.localize)(6,null):(0,h.localize)(7,null,he),j=Q(X.original.length),re=Q(X.modified.length);ae.setAttribute("aria-label",(0,h.localize)(8,null,K+1,z,X.original.startLineNumber,j,X.modified.startLineNumber,re));const oe=document.createElement("div");oe.className="diff-review-cell diff-review-summary",oe.appendChild(document.createTextNode(`${K+1}/${z}: @@ -${X.original.startLineNumber},${X.original.length} +${X.modified.startLineNumber},${X.modified.length} @@`)),ae.appendChild(oe),de=ae}else de=this._createRow(ue,ee,this._width.get(),ne,q,V,se,H,Z);J.appendChild(de);const ce=(0,C.derived)(ae=>this._model.currentElement.read(ae)===ue);Y.add((0,C.autorun)(ae=>{const X=ce.read(ae);de.tabIndex=X?0:-1,X&&de.focus()})),Y.add((0,L.addDisposableListener)(de,"focus",()=>{this._model.goToLine(ue)}))}this._scrollbar.scanDomNode()}_createRow(Y,ne,se,J,q,H,V,Z,ee){const le=J.get(143),ue=le.glyphMarginWidth+le.lineNumbersWidth,de=V.get(143),ce=10+de.glyphMarginWidth+de.lineNumbersWidth;let ae="diff-review-row",X="";const K="diff-review-spacer";let z=null;switch(Y.type){case A.Added:ae="diff-review-row line-insert",X=" char-insert",z=E;break;case A.Deleted:ae="diff-review-row line-delete",X=" char-delete",z=k;break}const Q=document.createElement("div");Q.style.minWidth=se+"px",Q.className=ae,Q.setAttribute("role","listitem"),Q.ariaLevel="";const j=document.createElement("div");j.className="diff-review-cell",j.style.height=`${ne}px`,Q.appendChild(j);const re=document.createElement("span");re.style.width=ue+"px",re.style.minWidth=ue+"px",re.className="diff-review-line-number"+X,Y.originalLineNumber!==void 0?re.appendChild(document.createTextNode(String(Y.originalLineNumber))):re.innerText="\xA0",j.appendChild(re);const oe=document.createElement("span");oe.style.width=ce+"px",oe.style.minWidth=ce+"px",oe.style.paddingRight="10px",oe.className="diff-review-line-number"+X,Y.modifiedLineNumber!==void 0?oe.appendChild(document.createTextNode(String(Y.modifiedLineNumber))):oe.innerText="\xA0",j.appendChild(oe);const he=document.createElement("span");if(he.className=K,z){const ve=document.createElement("span");ve.className=s.ThemeIcon.asClassName(z),ve.innerText="\xA0\xA0",he.appendChild(ve)}else he.innerText="\xA0\xA0";j.appendChild(he);let me;if(Y.modifiedLineNumber!==void 0){let ve=this._getLineHtml(Z,V,ee.tabSize,Y.modifiedLineNumber,this._languageService.languageIdCodec);R._ttPolicy&&(ve=R._ttPolicy.createHTML(ve)),j.insertAdjacentHTML("beforeend",ve),me=Z.getLineContent(Y.modifiedLineNumber)}else{let ve=this._getLineHtml(q,J,H.tabSize,Y.originalLineNumber,this._languageService.languageIdCodec);R._ttPolicy&&(ve=R._ttPolicy.createHTML(ve)),j.insertAdjacentHTML("beforeend",ve),me=q.getLineContent(Y.originalLineNumber)}me.length===0&&(me=(0,h.localize)(9,null));let pe="";switch(Y.type){case A.Unchanged:Y.originalLineNumber===Y.modifiedLineNumber?pe=(0,h.localize)(10,null,me,Y.originalLineNumber):pe=(0,h.localize)(11,null,me,Y.originalLineNumber,Y.modifiedLineNumber);break;case A.Added:pe=(0,h.localize)(12,null,me,Y.modifiedLineNumber);break;case A.Deleted:pe=(0,h.localize)(13,null,me,Y.originalLineNumber);break}return Q.setAttribute("aria-label",pe),Q}_getLineHtml(Y,ne,se,J,q){const H=Y.getLineContent(J),V=ne.get(50),Z=c.LineTokens.createEmpty(H,q),ee=g.ViewLineRenderingData.isBasicASCII(H,Y.mightContainNonBasicASCII()),le=g.ViewLineRenderingData.containsRTL(H,ee,Y.mightContainRTL());return(0,a.renderViewLine2)(new a.RenderLineInput(V.isMonospace&&!ne.get(33),V.canUseHalfwidthRightwardsArrow,H,!1,ee,le,0,Z,[],se,0,V.spaceWidth,V.middotWidth,V.wsmiddotWidth,ne.get(116),ne.get(98),ne.get(93),ne.get(51)!==t.EditorFontLigatures.OFF,null)).html}};F=Ie([ge(5,o.ILanguageService)],F)}),define(te[830],ie([1,0,51,7,151,83,26,36,6,2,27,645,31,77,199]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=I.$;class r extends v.Disposable{constructor(p,b,w,E=!1){super(),this.model=b,this.showingStandaloneColorPicker=E,this._closeButton=null,this._domNode=t(".colorpicker-header"),I.append(p,this._domNode),this._pickedColorNode=I.append(this._domNode,t(".picked-color")),I.append(this._pickedColorNode,t("span.codicon.codicon-color-mode")),this._pickedColorPresentation=I.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const k=(0,s.localize)(0,null);this._pickedColorNode.setAttribute("title",k),this._originalColorNode=I.append(this._domNode,t(".original-color")),this._originalColorNode.style.backgroundColor=m.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=w.getColorTheme().getColor(i.editorHoverBackground)||m.Color.white,this._register(w.onDidColorThemeChange(M=>{this.backgroundColor=M.getColor(i.editorHoverBackground)||m.Color.white})),this._register(I.addDisposableListener(this._pickedColorNode,I.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(I.addDisposableListener(this._originalColorNode,I.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(b.onDidChangeColor(this.onDidChangeColor,this)),this._register(b.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(b.color)||"",this._pickedColorNode.classList.toggle("light",b.color.rgba.a<.5?this.backgroundColor.isLighter():b.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new u(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(p){this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(p)||"",this._pickedColorNode.classList.toggle("light",p.rgba.a<.5?this.backgroundColor.isLighter():p.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=r;class u extends v.Disposable{constructor(p){super(),this._onClicked=this._register(new _.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),I.append(p,this._button);const b=document.createElement("div");b.classList.add("close-button-inner-div"),I.append(this._button,b),I.append(b,t(".button"+C.ThemeIcon.asCSSSelector((0,n.registerIcon)("color-picker-close",S.Codicon.close,(0,s.localize)(1,null))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class f extends v.Disposable{constructor(p,b,w,E=!1){super(),this.model=b,this.pixelRatio=w,this._insertButton=null,this._domNode=t(".colorpicker-body"),I.append(p,this._domNode),this._saturationBox=new d(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new o(this._domNode,this.model,E),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new c(this._domNode,this.model,E),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),E&&(this._insertButton=this._register(new a(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:p,v:b}){const w=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(w.h,p,b,w.a))}onDidOpacityChange(p){const b=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(b.h,b.s,b.v,p))}onDidHueChange(p){const b=this.model.color.hsva,w=(1-p)*360;this.model.color=new m.Color(new m.HSVA(w===360?0:w,b.s,b.v,b.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=f;class d extends v.Disposable{constructor(p,b,w){super(),this.model=b,this.pixelRatio=w,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=t(".saturation-wrap"),I.append(p,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",I.append(this._domNode,this._canvas),this.selection=t(".saturation-selection"),I.append(this._domNode,this.selection),this.layout(),this._register(I.addDisposableListener(this._domNode,I.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(p){if(!p.target||!(p.target instanceof Element))return;this.monitor=this._register(new y.GlobalPointerMoveMonitor);const b=I.getDomNodePagePosition(this._domNode);p.target!==this.selection&&this.onDidChangePosition(p.offsetX,p.offsetY),this.monitor.startMonitoring(p.target,p.pointerId,p.buttons,E=>this.onDidChangePosition(E.pageX-b.left,E.pageY-b.top),()=>null);const w=I.addDisposableListener(p.target.ownerDocument,I.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),w.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(p,b){const w=Math.max(0,Math.min(1,p/this.width)),E=Math.max(0,Math.min(1,1-b/this.height));this.paintSelection(w,E),this._onDidChange.fire({s:w,v:E})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const p=this.model.color.hsva;this.paintSelection(p.s,p.v)}paint(){const p=this.model.color.hsva,b=new m.Color(new m.HSVA(p.h,1,1,1)),w=this._canvas.getContext("2d"),E=w.createLinearGradient(0,0,this._canvas.width,0);E.addColorStop(0,"rgba(255, 255, 255, 1)"),E.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),E.addColorStop(1,"rgba(255, 255, 255, 0)");const k=w.createLinearGradient(0,0,0,this._canvas.height);k.addColorStop(0,"rgba(0, 0, 0, 0)"),k.addColorStop(1,"rgba(0, 0, 0, 1)"),w.rect(0,0,this._canvas.width,this._canvas.height),w.fillStyle=m.Color.Format.CSS.format(b),w.fill(),w.fillStyle=E,w.fill(),w.fillStyle=k,w.fill()}paintSelection(p,b){this.selection.style.left=`${p*this.width}px`,this.selection.style.top=`${this.height-b*this.height}px`}onDidChangeColor(p){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const b=p.hsva;this.paintSelection(b.s,b.v)}}class l extends v.Disposable{constructor(p,b,w=!1){super(),this.model=b,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,w?(this.domNode=I.append(p,t(".standalone-strip")),this.overlay=I.append(this.domNode,t(".standalone-overlay"))):(this.domNode=I.append(p,t(".strip")),this.overlay=I.append(this.domNode,t(".overlay"))),this.slider=I.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(I.addDisposableListener(this.domNode,I.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(b.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const p=this.getValue(this.model.color);this.updateSliderPosition(p)}onDidChangeColor(p){const b=this.getValue(p);this.updateSliderPosition(b)}onPointerDown(p){if(!p.target||!(p.target instanceof Element))return;const b=this._register(new y.GlobalPointerMoveMonitor),w=I.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),p.target!==this.slider&&this.onDidChangeTop(p.offsetY),b.startMonitoring(p.target,p.pointerId,p.buttons,k=>this.onDidChangeTop(k.pageY-w.top),()=>null);const E=I.addDisposableListener(p.target.ownerDocument,I.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),E.dispose(),b.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(p){const b=Math.max(0,Math.min(1,1-p/this.height));this.updateSliderPosition(b),this._onDidChange.fire(b)}updateSliderPosition(p){this.slider.style.top=`${(1-p)*this.height}px`}}class o extends l{constructor(p,b,w=!1){super(p,b,w),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(p){super.onDidChangeColor(p);const{r:b,g:w,b:E}=p.rgba,k=new m.Color(new m.RGBA(b,w,E,1)),M=new m.Color(new m.RGBA(b,w,E,0));this.overlay.style.background=`linear-gradient(to bottom, ${k} 0%, ${M} 100%)`}getValue(p){return p.hsva.a}}class c extends l{constructor(p,b,w=!1){super(p,b,w),this.domNode.classList.add("hue-strip")}getValue(p){return 1-p.hsva.h/360}}class a extends v.Disposable{constructor(p){super(),this._onClicked=this._register(new _.Emitter),this.onClicked=this._onClicked.event,this._button=I.append(p,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=b=>{this._onClicked.fire()}}get button(){return this._button}}e.InsertButton=a;class g extends D.Widget{constructor(p,b,w,E,k=!1){super(),this.model=b,this.pixelRatio=w,this._register(L.PixelRatio.onDidChange(()=>this.layout()));const M=t(".colorpicker-widget");p.appendChild(M),this.header=this._register(new r(M,this.model,E,k)),this.body=this._register(new f(M,this.model,this.pixelRatio,k))}layout(){this.body.layout()}}e.ColorPickerWidget=g}),define(te[831],ie([1,0,7,45,84,26,6,2,10,20,42,116,236,690,15,55,31,77,27,461]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const o=L.$,c=(0,f.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,n.localize(0,null)),a=(0,f.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,n.localize(1,null));let g=l=class extends m.Disposable{constructor(p,b,w,E,k){super(),this.editor=p,this.model=b,this.renderDisposeables=this._register(new m.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new s.MarkdownRenderer({editor:p},k,E)),this.keyVisible=i.Context.Visible.bindTo(w),this.keyMultipleSignatures=i.Context.MultipleSignatures.bindTo(w)}createParameterHintDOMNodes(){const p=o(".editor-widget.parameter-hints-widget"),b=L.append(p,o(".phwrapper"));b.tabIndex=-1;const w=L.append(b,o(".controls")),E=L.append(w,o(".button"+d.ThemeIcon.asCSSSelector(a))),k=L.append(w,o(".overloads")),M=L.append(w,o(".button"+d.ThemeIcon.asCSSSelector(c)));this._register(L.addDisposableListener(E,"click",P=>{L.EventHelper.stop(P),this.previous()})),this._register(L.addDisposableListener(M,"click",P=>{L.EventHelper.stop(P),this.next()}));const R=o(".body"),B=new y.DomScrollableElement(R,{alwaysConsumeMouseWheel:!0});this._register(B),b.appendChild(B.getDomNode());const T=L.append(R,o(".signature")),N=L.append(R,o(".docs"));p.style.userSelect="text",this.domNodes={element:p,signature:T,overloads:k,docs:N,scrollbar:B},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(P=>{this.visible&&this.editor.layoutContentWidget(this)}));const A=()=>{if(!this.domNodes)return;const P=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${P.fontSize}px`,this.domNodes.element.style.lineHeight=`${P.lineHeight/P.fontSize}`};A(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),P=>P.filter(O=>O.hasChanged(50)))(A)),this._register(this.editor.onDidLayoutChange(P=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var p;(p=this.domNodes)===null||p===void 0||p.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var p;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(p=this.domNodes)===null||p===void 0||p.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(p){var b;if(this.renderDisposeables.clear(),!this.domNodes)return;const w=p.signatures.length>1;this.domNodes.element.classList.toggle("multiple",w),this.keyMultipleSignatures.set(w),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const E=p.signatures[p.activeSignature];if(!E)return;const k=L.append(this.domNodes.signature,o(".code")),M=this.editor.getOption(50);k.style.fontSize=`${M.fontSize}px`,k.style.fontFamily=M.fontFamily;const R=E.parameters.length>0,B=(b=E.activeParameter)!==null&&b!==void 0?b:p.activeParameter;if(R)this.renderParameters(k,E,B);else{const A=L.append(k,o("span"));A.textContent=E.label}const T=E.parameters[B];if(T?.documentation){const A=o("span.documentation");if(typeof T.documentation=="string")A.textContent=T.documentation;else{const P=this.renderMarkdownDocs(T.documentation);A.appendChild(P.element)}L.append(this.domNodes.docs,o("p",{},A))}if(E.documentation!==void 0)if(typeof E.documentation=="string")L.append(this.domNodes.docs,o("p",{},E.documentation));else{const A=this.renderMarkdownDocs(E.documentation);L.append(this.domNodes.docs,A.element)}const N=this.hasDocs(E,T);if(this.domNodes.signature.classList.toggle("has-docs",N),this.domNodes.docs.classList.toggle("empty",!N),this.domNodes.overloads.textContent=String(p.activeSignature+1).padStart(p.signatures.length.toString().length,"0")+"/"+p.signatures.length,T){let A="";const P=E.parameters[B];Array.isArray(P.label)?A=E.label.substring(P.label[0],P.label[1]):A=P.label,P.documentation&&(A+=typeof P.documentation=="string"?`, ${P.documentation}`:`, ${P.documentation.value}`),E.documentation&&(A+=typeof E.documentation=="string"?`, ${E.documentation}`:`, ${E.documentation.value}`),this.announcedLabel!==A&&(I.alert(n.localize(2,null,A)),this.announcedLabel=A)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(p){const b=this.renderDisposeables.add(this.markdownRenderer.render(p,{asyncRenderCallback:()=>{var w;(w=this.domNodes)===null||w===void 0||w.scrollbar.scanDomNode()}}));return b.element.classList.add("markdown-docs"),b}hasDocs(p,b){return!!(b&&typeof b.documentation=="string"&&(0,v.assertIsDefined)(b.documentation).length>0||b&&typeof b.documentation=="object"&&(0,v.assertIsDefined)(b.documentation).value.length>0||p.documentation&&typeof p.documentation=="string"&&(0,v.assertIsDefined)(p.documentation).length>0||p.documentation&&typeof p.documentation=="object"&&(0,v.assertIsDefined)(p.documentation.value).length>0)}renderParameters(p,b,w){const[E,k]=this.getParameterLabelOffsets(b,w),M=document.createElement("span");M.textContent=b.label.substring(0,E);const R=document.createElement("span");R.textContent=b.label.substring(E,k),R.className="parameter active";const B=document.createElement("span");B.textContent=b.label.substring(k),L.append(p,M,R,B)}getParameterLabelOffsets(p,b){const w=p.parameters[b];if(w){if(Array.isArray(w.label))return w.label;if(w.label.length){const E=new RegExp(`(\\W|^)${(0,_.escapeRegExpCharacters)(w.label)}(?=\\W|$)`,"g");E.test(p.label);const k=E.lastIndex-w.label.length;return k>=0?[k,E.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return l.ID}updateMaxHeight(){if(!this.domNodes)return;const b=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=b;const w=this.domNodes.element.getElementsByClassName("phwrapper");w.length&&(w[0].style.maxHeight=b)}};e.ParameterHintsWidget=g,g.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=g=l=Ie([ge(2,t.IContextKeyService),ge(3,r.IOpenerService),ge(4,C.ILanguageService)],g),(0,u.registerColor)("editorHoverWidget.highlightForeground",{dark:u.listHighlightForeground,light:u.listHighlightForeground,hcDark:u.listHighlightForeground,hcLight:u.listHighlightForeground},n.localize(3,null))}),define(te[832],ie([1,0,97,2,16,22,29,18,754,236,689,15,8,831]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let r=t=class extends I.Disposable{static get(o){return o.getContribution(t.ID)}constructor(o,c,a){super(),this.editor=o,this.model=this._register(new _.ParameterHintsModel(o,a.signatureHelpProvider)),this._register(this.model.onChangedHints(g=>{var h;g?(this.widget.value.show(),this.widget.value.render(g)):(h=this.widget.rawValue)===null||h===void 0||h.hide()})),this.widget=new L.Lazy(()=>this._register(c.createInstance(n.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var o;(o=this.widget.rawValue)===null||o===void 0||o.previous()}next(){var o;(o=this.widget.rawValue)===null||o===void 0||o.next()}trigger(o){this.model.trigger(o,0)}};e.ParameterHintsController=r,r.ID="editor.controller.parameterHints",e.ParameterHintsController=r=t=Ie([ge(1,i.IInstantiationService),ge(2,m.ILanguageFeaturesService)],r);class u extends y.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:C.localize(0,null),alias:"Trigger Parameter Hints",precondition:D.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(o,c){const a=r.get(c);a?.trigger({triggerKind:S.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=u,(0,y.registerEditorContribution)(r.ID,r,2),(0,y.registerEditorAction)(u);const f=100+75,d=y.EditorCommand.bindToContribution(r.get);(0,y.registerEditorCommand)(new d({id:"closeParameterHints",precondition:v.Context.Visible,handler:l=>l.cancel(),kbOpts:{weight:f,kbExpr:D.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new d({id:"showPrevParameterHint",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSignatures),handler:l=>l.previous(),kbOpts:{weight:f,kbExpr:D.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,y.registerEditorCommand)(new d({id:"showNextParameterHint",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSignatures),handler:l=>l.next(),kbOpts:{weight:f,kbExpr:D.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(te[833],ie([1,0,7,73,41,2,116,8,771,77,27,468]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const s=26;let i=class extends D.Disposable{constructor(r,u){super(),this._editor=r,this.instantiationService=u,this.banner=this._register(this.instantiationService.createInstance(n))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(r){this.banner.show(Object.assign(Object.assign({},r),{onClose:()=>{var u;this.hide(),(u=r.onClose)===null||u===void 0||u.call(r)}})),this._editor.setBanner(this.banner.element,s)}};e.BannerController=i,e.BannerController=i=Ie([ge(1,m.IInstantiationService)],i);let n=class extends D.Disposable{constructor(r){super(),this.instantiationService=r,this.markdownRenderer=this.instantiationService.createInstance(S.MarkdownRenderer,{}),this.element=(0,L.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(r){if(r.ariaLabel)return r.ariaLabel;if(typeof r.message=="string")return r.message}getBannerMessage(r){if(typeof r=="string"){const u=(0,L.$)("span");return u.innerText=r,u}return this.markdownRenderer.render(r).element}clear(){(0,L.clearNode)(this.element)}show(r){(0,L.clearNode)(this.element);const u=this.getAriaLabel(r);u&&this.element.setAttribute("aria-label",u);const f=(0,L.append)(this.element,(0,L.$)("div.icon-container"));f.setAttribute("aria-hidden","true"),r.icon&&f.appendChild((0,L.$)(`div${C.ThemeIcon.asCSSSelector(r.icon)}`));const d=(0,L.append)(this.element,(0,L.$)("div.message-container"));if(d.setAttribute("aria-hidden","true"),d.appendChild(this.getBannerMessage(r.message)),this.messageActionsContainer=(0,L.append)(this.element,(0,L.$)("div.message-actions-container")),r.actions)for(const o of r.actions)this._register(this.instantiationService.createInstance(_.Link,this.messageActionsContainer,Object.assign(Object.assign({},o),{tabIndex:-1}),{}));const l=(0,L.append)(this.element,(0,L.$)("div.action-container"));this.actionBar=this._register(new I.ActionBar(l)),this.actionBar.push(this._register(new y.Action("banner.close","Close Banner",C.ThemeIcon.asClassName(v.widgetClose),!0,()=>{typeof r.onClose=="function"&&r.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};n=Ie([ge(0,m.IInstantiationService)],n)}),define(te[834],ie([1,0,7,6,2,27,77]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function m(v){const C=new y.DisposableStore,s=C.add(new I.Emitter),i=(0,S.getIconRegistry)();return C.add(i.onDidChange(()=>s.fire())),v&&C.add(v.onDidProductIconThemeChange(()=>s.fire())),{dispose:()=>C.dispose(),onDidChange:s.event,getCSS(){const n=v?v.getProductIconTheme():new _,t={},r=f=>{const d=n.getIcon(f);if(!d)return;const l=d.font;return l?(t[l.id]=l.definition,`.codicon-${f.id}:before { content: '${d.fontCharacter}'; font-family: ${(0,L.asCSSPropertyValue)(l.id)}; }`):`.codicon-${f.id}:before { content: '${d.fontCharacter}'; }`},u=[];for(const f of i.getIcons()){const d=r(f);d&&u.push(d)}for(const f in t){const d=t[f],l=d.weight?`font-weight: ${d.weight};`:"",o=d.style?`font-style: ${d.style};`:"",c=d.src.map(a=>`${(0,L.asCSSUrl)(a.location)} format('${a.format}')`).join(", ");u.push(`@font-face { src: ${c}; font-family: ${(0,L.asCSSPropertyValue)(f)};${l}${o} font-display: block; }`)}return u.join(`
`)}}}e.getIconsStyleSheet=m;class _{getIcon(C){const s=(0,S.getIconRegistry)();let i=C.defaults;for(;D.ThemeIcon.isThemeIcon(i);){const n=s.getIcon(i.id);if(!n)return;i=n.defaults}return i}}e.UnthemedProductIconTheme=_}),define(te[86],ie([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var L;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(L||(e.ColorScheme=L={}));function I(D){return D===L.HIGH_CONTRAST_DARK||D===L.HIGH_CONTRAST_LIGHT}e.isHighContrast=I;function y(D){return D===L.DARK||D===L.HIGH_CONTRAST_DARK}e.isDark=y}),define(te[249],ie([1,0,51,38,17,482,142,149,114,86,39]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColumnOfNodeOffset=e.ViewLine=e.ViewLineOptions=void 0;const s=function(){return y.isNative?!0:!(y.isLinux||L.isFirefox||L.isSafari)}();let i=!0;class n{constructor(g,h){this.themeType=h;const p=g.options,b=p.get(50);p.get(38)==="off"?this.renderWhitespace=p.get(98):this.renderWhitespace="none",this.renderControlCharacters=p.get(93),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.useMonospaceOptimizations=b.isMonospace&&!p.get(33),this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=p.get(66),this.stopRenderingLineAfter=p.get(116),this.fontLigatures=p.get(51)}equals(g){return this.themeType===g.themeType&&this.renderWhitespace===g.renderWhitespace&&this.renderControlCharacters===g.renderControlCharacters&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.useMonospaceOptimizations===g.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.lineHeight===g.lineHeight&&this.stopRenderingLineAfter===g.stopRenderingLineAfter&&this.fontLigatures===g.fontLigatures}}e.ViewLineOptions=n;class t{constructor(g){this._options=g,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(g){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,I.createFastDomNode)(g);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(g){this._isMaybeInvalid=!0,this._options=g}onSelectionChanged(){return(0,v.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(g,h,p,b){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const w=p.getViewLineRenderingData(g),E=this._options,k=m.LineDecoration.filter(w.inlineDecorations,g,w.minColumn,w.maxColumn);let M=null;if((0,v.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const N=p.selections;for(const A of N){if(A.endLineNumber<g||A.startLineNumber>g)continue;const P=A.startLineNumber===g?A.startColumn:w.minColumn,O=A.endLineNumber===g?A.endColumn:w.maxColumn;P<O&&((0,v.isHighContrast)(E.themeType)&&k.push(new m.LineDecoration(P,O,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(M||(M=[]),M.push(new _.LineRange(P-1,O-1))))}}const R=new _.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,w.content,w.continuesWithWrappedLine,w.isBasicASCII,w.containsRTL,w.minColumn-1,w.tokens,k,w.tabSize,w.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==C.EditorFontLigatures.OFF,M);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;b.appendString('<div style="top:'),b.appendString(String(h)),b.appendString("px;height:"),b.appendString(String(this._options.lineHeight)),b.appendString('px;" class="'),b.appendString(t.CLASS_NAME),b.appendString('">');const B=(0,_.renderViewLine)(R,b);b.appendString("</div>");let T=null;return i&&s&&w.isBasicASCII&&E.useMonospaceOptimizations&&B.containsForeignElements===0&&(T=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,R,B.characterMapping)),T||(T=d(this._renderedViewLine?this._renderedViewLine.domNode:null,R,B.characterMapping,B.containsRTL,B.containsForeignElements)),this._renderedViewLine=T,!0}layoutLine(g,h){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(h),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(g){return this._renderedViewLine?this._renderedViewLine.getWidth(g):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof r:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():i}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(g,h,p,b){if(!this._renderedViewLine)return null;h=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,h)),p=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,p));const w=this._renderedViewLine.input.stopRenderingLineAfter;if(w!==-1&&h>w+1&&p>w+1)return new S.VisibleRanges(!0,[new S.FloatHorizontalRange(this.getWidth(b),0)]);w!==-1&&h>w+1&&(h=w+1),w!==-1&&p>w+1&&(p=w+1);const E=this._renderedViewLine.getVisibleRangesForRange(g,h,p,b);return E&&E.length>0?new S.VisibleRanges(!1,E):null}getColumnOfNodeOffset(g,h){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(g,h):1}}e.ViewLine=t,t.CLASS_NAME="view-line";class r{constructor(g,h,p){this._cachedWidth=-1,this.domNode=g,this.input=h;const b=Math.floor(h.lineContent.length/300);if(b>0){this._keyColumnPixelOffsetCache=new Float32Array(b);for(let w=0;w<b;w++)this._keyColumnPixelOffsetCache[w]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=p,this._charWidth=h.spaceWidth}getWidth(g){if(!this.domNode||this.input.lineContent.length<300){const h=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*h)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return i;if(this.input.lineContent.length<300){const g=this.getWidth(null),h=this.domNode.domNode.firstChild.offsetWidth;Math.abs(g-h)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),i=!1)}return i}toSlowRenderedLine(){return d(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(g,h,p,b){const w=this._getColumnPixelOffset(g,h,b),E=this._getColumnPixelOffset(g,p,b);return[new S.FloatHorizontalRange(w,E-w)]}_getColumnPixelOffset(g,h,p){if(h<=300){const R=this._characterMapping.getHorizontalOffset(h);return this._charWidth*R}const b=Math.floor((h-1)/300)-1,w=(b+1)*300+1;let E=-1;if(this._keyColumnPixelOffsetCache&&(E=this._keyColumnPixelOffsetCache[b],E===-1&&(E=this._actualReadPixelOffset(g,w,p),this._keyColumnPixelOffsetCache[b]=E)),E===-1){const R=this._characterMapping.getHorizontalOffset(h);return this._charWidth*R}const k=this._characterMapping.getHorizontalOffset(w),M=this._characterMapping.getHorizontalOffset(h);return E+this._charWidth*(M-k)}_getReadingTarget(g){return g.domNode.firstChild}_actualReadPixelOffset(g,h,p){if(!this.domNode)return-1;const b=this._characterMapping.getDomPosition(h),w=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),b.partIndex,b.charIndex,b.partIndex,b.charIndex,p);return!w||w.length===0?-1:w[0].left}getColumnOfNodeOffset(g,h){return c(this._characterMapping,g,h)}}class u{constructor(g,h,p,b,w){if(this.domNode=g,this.input=h,this._characterMapping=p,this._isWhitespaceOnly=/^\s*$/.test(h.lineContent),this._containsForeignElements=w,this._cachedWidth=-1,this._pixelOffsetCache=null,!b||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,k=this._characterMapping.length;E<=k;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(g){return g.domNode.firstChild}getWidth(g){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(g,h,p,b){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const w=this._readPixelOffset(this.domNode,g,h,b);if(w===-1)return null;const E=this._readPixelOffset(this.domNode,g,p,b);return E===-1?null:[new S.FloatHorizontalRange(w,E-w)]}return this._readVisibleRangesForRange(this.domNode,g,h,p,b)}_readVisibleRangesForRange(g,h,p,b,w){if(p===b){const E=this._readPixelOffset(g,h,p,w);return E===-1?null:[new S.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(g,p,b,w)}_readPixelOffset(g,h,p,b){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(b);const w=this._getReadingTarget(g);return w.firstChild?(b.markDidDomLayout(),w.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const w=this._pixelOffsetCache[p];if(w!==-1)return w;const E=this._actualReadPixelOffset(g,h,p,b);return this._pixelOffsetCache[p]=E,E}return this._actualReadPixelOffset(g,h,p,b)}_actualReadPixelOffset(g,h,p,b){if(this._characterMapping.length===0){const M=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),0,0,0,0,b);return!M||M.length===0?-1:M[0].left}if(p===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(b);const w=this._characterMapping.getDomPosition(p),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),w.partIndex,w.charIndex,w.partIndex,w.charIndex,b);if(!E||E.length===0)return-1;const k=E[0].left;if(this.input.isBasicASCII){const M=this._characterMapping.getHorizontalOffset(p),R=Math.round(this.input.spaceWidth*M);if(Math.abs(R-k)<=1)return R}return k}_readRawVisibleRangesForRange(g,h,p,b){if(h===1&&p===this._characterMapping.length)return[new S.FloatHorizontalRange(0,this.getWidth(b))];const w=this._characterMapping.getDomPosition(h),E=this._characterMapping.getDomPosition(p);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),w.partIndex,w.charIndex,E.partIndex,E.charIndex,b)}getColumnOfNodeOffset(g,h){return c(this._characterMapping,g,h)}}class f extends u{_readVisibleRangesForRange(g,h,p,b,w){const E=super._readVisibleRangesForRange(g,h,p,b,w);if(!E||E.length===0||p===b||p===1&&b===this._characterMapping.length)return E;if(!this.input.containsRTL){const k=this._readPixelOffset(g,h,b,w);if(k!==-1){const M=E[E.length-1];M.left<k&&(M.width=k-M.left)}}return E}}const d=function(){return L.isWebKit?l:o}();function l(a,g,h,p,b){return new f(a,g,h,p,b)}function o(a,g,h,p,b){return new u(a,g,h,p,b)}function c(a,g,h){const p=g.textContent.length;let b=-1;for(;g;)g=g.previousSibling,b++;return a.getColumn(new _.DomPosition(b,h),p)}e.getColumnOfNodeOffset=c}),define(te[358],ie([1,0,159,53,249,12,5,80,7,275]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class C{constructor(p=null){this.hitTarget=p,this.type=0}}class s{constructor(p,b,w){this.position=p,this.spanNode=b,this.injectedText=w,this.type=1}}var i;(function(h){function p(b,w,E){const k=b.getPositionFromDOMInfo(w,E);return k?new s(k,w,null):new C(w)}h.createFromDOMInfo=p})(i||(i={}));class n{constructor(p,b){this.lastViewCursorsRenderData=p,this.lastTextareaPosition=b}}e.PointerHandlerLastRenderData=n;class t{static _deduceRage(p,b=null){return!b&&p?new S.Range(p.lineNumber,p.column,p.lineNumber,p.column):b??null}static createUnknown(p,b,w){return{type:0,element:p,mouseColumn:b,position:w,range:this._deduceRage(w)}}static createTextarea(p,b){return{type:1,element:p,mouseColumn:b,position:null,range:null}}static createMargin(p,b,w,E,k,M){return{type:p,element:b,mouseColumn:w,position:E,range:k,detail:M}}static createViewZone(p,b,w,E,k){return{type:p,element:b,mouseColumn:w,position:E,range:this._deduceRage(E),detail:k}}static createContentText(p,b,w,E,k){return{type:6,element:p,mouseColumn:b,position:w,range:this._deduceRage(w,E),detail:k}}static createContentEmpty(p,b,w,E){return{type:7,element:p,mouseColumn:b,position:w,range:this._deduceRage(w),detail:E}}static createContentWidget(p,b,w){return{type:9,element:p,mouseColumn:b,position:null,range:null,detail:w}}static createScrollbar(p,b,w){return{type:11,element:p,mouseColumn:b,position:w,range:this._deduceRage(w)}}static createOverlayWidget(p,b,w){return{type:12,element:p,mouseColumn:b,position:null,range:null,detail:w}}static createOutsideEditor(p,b,w,E){return{type:13,element:null,mouseColumn:p,position:b,range:this._deduceRage(b),outsidePosition:w,outsideDistance:E}}static _typeToString(p){return p===1?"TEXTAREA":p===2?"GUTTER_GLYPH_MARGIN":p===3?"GUTTER_LINE_NUMBERS":p===4?"GUTTER_LINE_DECORATIONS":p===5?"GUTTER_VIEW_ZONE":p===6?"CONTENT_TEXT":p===7?"CONTENT_EMPTY":p===8?"CONTENT_VIEW_ZONE":p===9?"CONTENT_WIDGET":p===10?"OVERVIEW_RULER":p===11?"SCROLLBAR":p===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(p){return this._typeToString(p.type)+": "+p.position+" - "+p.range+" - "+JSON.stringify(p.detail)}}e.MouseTarget=t;class r{static isTextArea(p){return p.length===2&&p[0]===3&&p[1]===6}static isChildOfViewLines(p){return p.length>=4&&p[0]===3&&p[3]===7}static isStrictChildOfViewLines(p){return p.length>4&&p[0]===3&&p[3]===7}static isChildOfScrollableElement(p){return p.length>=2&&p[0]===3&&p[1]===5}static isChildOfMinimap(p){return p.length>=2&&p[0]===3&&p[1]===8}static isChildOfContentWidgets(p){return p.length>=4&&p[0]===3&&p[3]===1}static isChildOfOverflowGuard(p){return p.length>=1&&p[0]===3}static isChildOfOverflowingContentWidgets(p){return p.length>=1&&p[0]===2}static isChildOfOverlayWidgets(p){return p.length>=2&&p[0]===3&&p[1]===4}}class u{constructor(p,b,w){this.viewModel=p.viewModel;const E=p.configuration.options;this.layoutInfo=E.get(143),this.viewDomNode=b.viewDomNode,this.lineHeight=E.get(66),this.stickyTabStops=E.get(115),this.typicalHalfwidthCharacterWidth=E.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=w,this._context=p,this._viewHelper=b}getZoneAtCoord(p){return u.getZoneAtCoord(this._context,p)}static getZoneAtCoord(p,b){const w=p.viewLayout.getWhitespaceAtVerticalOffset(b);if(w){const E=w.verticalOffset+w.height/2,k=p.viewModel.getLineCount();let M=null,R,B=null;return w.afterLineNumber!==k&&(B=new D.Position(w.afterLineNumber+1,1)),w.afterLineNumber>0&&(M=new D.Position(w.afterLineNumber,p.viewModel.getLineMaxColumn(w.afterLineNumber))),B===null?R=M:M===null?R=B:b<E?R=M:R=B,{viewZoneId:w.id,afterLineNumber:w.afterLineNumber,positionBefore:M,positionAfter:B,position:R}}return null}getFullLineRangeAtCoord(p){if(this._context.viewLayout.isAfterLines(p)){const E=this._context.viewModel.getLineCount(),k=this._context.viewModel.getLineMaxColumn(E);return{range:new S.Range(E,k,E,k),isAfterLines:!0}}const b=this._context.viewLayout.getLineNumberAtVerticalOffset(p),w=this._context.viewModel.getLineMaxColumn(b);return{range:new S.Range(b,1,b,w),isAfterLines:!1}}getLineNumberAtVerticalOffset(p){return this._context.viewLayout.getLineNumberAtVerticalOffset(p)}isAfterLines(p){return this._context.viewLayout.isAfterLines(p)}isInTopPadding(p){return this._context.viewLayout.isInTopPadding(p)}isInBottomPadding(p){return this._context.viewLayout.isInBottomPadding(p)}getVerticalOffsetForLineNumber(p){return this._context.viewLayout.getVerticalOffsetForLineNumber(p)}findAttribute(p,b){return u._findAttribute(p,b,this._viewHelper.viewDomNode)}static _findAttribute(p,b,w){for(;p&&p!==p.ownerDocument.body;){if(p.hasAttribute&&p.hasAttribute(b))return p.getAttribute(b);if(p===w)return null;p=p.parentNode}return null}getLineWidth(p){return this._viewHelper.getLineWidth(p)}visibleRangeForPosition(p,b){return this._viewHelper.visibleRangeForPosition(p,b)}getPositionFromDOMInfo(p,b){return this._viewHelper.getPositionFromDOMInfo(p,b)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=u;class f{constructor(p,b,w,E){this.editorPos=b,this.pos=w,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,p.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=p.getCurrentScrollLeft()+this.relativePos.x-p.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<p.layoutInfo.contentLeft&&this.relativePos.x>=p.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,c._getMouseColumn(this.mouseContentHorizontalOffset,p.typicalHalfwidthCharacterWidth))}}class d extends f{constructor(p,b,w,E,k){super(p,b,w,E),this._ctx=p,k?(this.target=k,this.targetPath=I.PartFingerprints.collect(k,p.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(p=null){return p&&p.column<this._ctx.viewModel.getLineMaxColumn(p.lineNumber)?m.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(p.lineNumber),p.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(p=null){return t.createUnknown(this.target,this._getMouseColumn(p),p)}fulfillTextarea(){return t.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(p,b,w,E){return t.createMargin(p,this.target,this._getMouseColumn(b),b,w,E)}fulfillViewZone(p,b,w){return t.createViewZone(p,this.target,this._getMouseColumn(b),b,w)}fulfillContentText(p,b,w){return t.createContentText(this.target,this._getMouseColumn(p),p,b,w)}fulfillContentEmpty(p,b){return t.createContentEmpty(this.target,this._getMouseColumn(p),p,b)}fulfillContentWidget(p){return t.createContentWidget(this.target,this._getMouseColumn(),p)}fulfillScrollbar(p){return t.createScrollbar(this.target,this._getMouseColumn(p),p)}fulfillOverlayWidget(p){return t.createOverlayWidget(this.target,this._getMouseColumn(),p)}withTarget(p){return new d(this._ctx,this.editorPos,this.pos,this.relativePos,p)}}const l={isAfterLines:!0};function o(h){return{isAfterLines:!1,horizontalDistanceToText:h}}class c{constructor(p,b){this._context=p,this._viewHelper=b}mouseTargetIsWidget(p){const b=p.target,w=I.PartFingerprints.collect(b,this._viewHelper.viewDomNode);return!!(r.isChildOfContentWidgets(w)||r.isChildOfOverflowingContentWidgets(w)||r.isChildOfOverlayWidgets(w))}createMouseTarget(p,b,w,E,k){const M=new u(this._context,this._viewHelper,p),R=new d(M,b,w,E,k);try{const B=c._createMouseTarget(M,R,!1);if(B.type===6&&M.stickyTabStops&&B.position!==null){const T=c._snapToSoftTabBoundary(B.position,M.viewModel),N=S.Range.fromPositions(T,T).plusRange(B.range);return R.fulfillContentText(T,N,B.detail)}return B}catch{return R.fulfillUnknown()}}static _createMouseTarget(p,b,w){if(b.target===null){if(w)return b.fulfillUnknown();const M=c._doHitTest(p,b);return M.type===1?c.createMouseTargetFromHitTestPosition(p,b,M.spanNode,M.position,M.injectedText):this._createMouseTarget(p,b.withTarget(M.hitTarget),!0)}const E=b;let k=null;return!r.isChildOfOverflowGuard(b.targetPath)&&!r.isChildOfOverflowingContentWidgets(b.targetPath)&&(k=k||b.fulfillUnknown()),k=k||c._hitTestContentWidget(p,E),k=k||c._hitTestOverlayWidget(p,E),k=k||c._hitTestMinimap(p,E),k=k||c._hitTestScrollbarSlider(p,E),k=k||c._hitTestViewZone(p,E),k=k||c._hitTestMargin(p,E),k=k||c._hitTestViewCursor(p,E),k=k||c._hitTestTextArea(p,E),k=k||c._hitTestViewLines(p,E,w),k=k||c._hitTestScrollbar(p,E),k||b.fulfillUnknown()}static _hitTestContentWidget(p,b){if(r.isChildOfContentWidgets(b.targetPath)||r.isChildOfOverflowingContentWidgets(b.targetPath)){const w=p.findAttribute(b.target,"widgetId");return w?b.fulfillContentWidget(w):b.fulfillUnknown()}return null}static _hitTestOverlayWidget(p,b){if(r.isChildOfOverlayWidgets(b.targetPath)){const w=p.findAttribute(b.target,"widgetId");return w?b.fulfillOverlayWidget(w):b.fulfillUnknown()}return null}static _hitTestViewCursor(p,b){if(b.target){const w=p.lastRenderData.lastViewCursorsRenderData;for(const E of w)if(b.target===E.domNode)return b.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(b.isInContentArea){const w=p.lastRenderData.lastViewCursorsRenderData,E=b.mouseContentHorizontalOffset,k=b.mouseVerticalOffset;for(const M of w){if(E<M.contentLeft||E>M.contentLeft+M.width)continue;const R=p.getVerticalOffsetForLineNumber(M.position.lineNumber);if(R<=k&&k<=R+M.height)return b.fulfillContentText(M.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(p,b){const w=p.getZoneAtCoord(b.mouseVerticalOffset);if(w){const E=b.isInContentArea?8:5;return b.fulfillViewZone(E,w.position,w)}return null}static _hitTestTextArea(p,b){return r.isTextArea(b.targetPath)?p.lastRenderData.lastTextareaPosition?b.fulfillContentText(p.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):b.fulfillTextarea():null}static _hitTestMargin(p,b){if(b.isInMarginArea){const w=p.getFullLineRangeAtCoord(b.mouseVerticalOffset),E=w.range.getStartPosition();let k=Math.abs(b.relativePos.x);const M={isAfterLines:w.isAfterLines,glyphMarginLeft:p.layoutInfo.glyphMarginLeft,glyphMarginWidth:p.layoutInfo.glyphMarginWidth,lineNumbersWidth:p.layoutInfo.lineNumbersWidth,offsetX:k};return k-=p.layoutInfo.glyphMarginLeft,k<=p.layoutInfo.glyphMarginWidth?b.fulfillMargin(2,E,w.range,M):(k-=p.layoutInfo.glyphMarginWidth,k<=p.layoutInfo.lineNumbersWidth?b.fulfillMargin(3,E,w.range,M):(k-=p.layoutInfo.lineNumbersWidth,b.fulfillMargin(4,E,w.range,M)))}return null}static _hitTestViewLines(p,b,w){if(!r.isChildOfViewLines(b.targetPath))return null;if(p.isInTopPadding(b.mouseVerticalOffset))return b.fulfillContentEmpty(new D.Position(1,1),l);if(p.isAfterLines(b.mouseVerticalOffset)||p.isInBottomPadding(b.mouseVerticalOffset)){const k=p.viewModel.getLineCount(),M=p.viewModel.getLineMaxColumn(k);return b.fulfillContentEmpty(new D.Position(k,M),l)}if(w){if(r.isStrictChildOfViewLines(b.targetPath)){const k=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset);if(p.viewModel.getLineLength(k)===0){const R=p.getLineWidth(k),B=o(b.mouseContentHorizontalOffset-R);return b.fulfillContentEmpty(new D.Position(k,1),B)}const M=p.getLineWidth(k);if(b.mouseContentHorizontalOffset>=M){const R=o(b.mouseContentHorizontalOffset-M),B=new D.Position(k,p.viewModel.getLineMaxColumn(k));return b.fulfillContentEmpty(B,R)}}return b.fulfillUnknown()}const E=c._doHitTest(p,b);return E.type===1?c.createMouseTargetFromHitTestPosition(p,b,E.spanNode,E.position,E.injectedText):this._createMouseTarget(p,b.withTarget(E.hitTarget),!0)}static _hitTestMinimap(p,b){if(r.isChildOfMinimap(b.targetPath)){const w=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=p.viewModel.getLineMaxColumn(w);return b.fulfillScrollbar(new D.Position(w,E))}return null}static _hitTestScrollbarSlider(p,b){if(r.isChildOfScrollableElement(b.targetPath)&&b.target&&b.target.nodeType===1){const w=b.target.className;if(w&&/\b(slider|scrollbar)\b/.test(w)){const E=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),k=p.viewModel.getLineMaxColumn(E);return b.fulfillScrollbar(new D.Position(E,k))}}return null}static _hitTestScrollbar(p,b){if(r.isChildOfScrollableElement(b.targetPath)){const w=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=p.viewModel.getLineMaxColumn(w);return b.fulfillScrollbar(new D.Position(w,E))}return null}getMouseColumn(p){const b=this._context.configuration.options,w=b.get(143),E=this._context.viewLayout.getCurrentScrollLeft()+p.x-w.contentLeft;return c._getMouseColumn(E,b.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(p,b){return p<0?1:Math.round(p/b)+1}static createMouseTargetFromHitTestPosition(p,b,w,E,k){const M=E.lineNumber,R=E.column,B=p.getLineWidth(M);if(b.mouseContentHorizontalOffset>B){const F=o(b.mouseContentHorizontalOffset-B);return b.fulfillContentEmpty(E,F)}const T=p.visibleRangeForPosition(M,R);if(!T)return b.fulfillUnknown(E);const N=T.left;if(Math.abs(b.mouseContentHorizontalOffset-N)<1)return b.fulfillContentText(E,null,{mightBeForeignElement:!!k,injectedText:k});const A=[];if(A.push({offset:T.left,column:R}),R>1){const F=p.visibleRangeForPosition(M,R-1);F&&A.push({offset:F.left,column:R-1})}const P=p.viewModel.getLineMaxColumn(M);if(R<P){const F=p.visibleRangeForPosition(M,R+1);F&&A.push({offset:F.left,column:R+1})}A.sort((F,G)=>F.offset-G.offset);const O=b.pos.toClientCoordinates(),x=w.getBoundingClientRect(),W=x.left<=O.clientX&&O.clientX<=x.right;let U=null;for(let F=1;F<A.length;F++){const G=A[F-1],Y=A[F];if(G.offset<=b.mouseContentHorizontalOffset&&b.mouseContentHorizontalOffset<=Y.offset){U=new S.Range(M,G.column,M,Y.column);const ne=Math.abs(G.offset-b.mouseContentHorizontalOffset),se=Math.abs(Y.offset-b.mouseContentHorizontalOffset);E=ne<se?new D.Position(M,G.column):new D.Position(M,Y.column);break}}return b.fulfillContentText(E,U,{mightBeForeignElement:!W||!!k,injectedText:k})}static _doHitTestWithCaretRangeFromPoint(p,b){const w=p.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),E=p.getVerticalOffsetForLineNumber(w),k=E+p.lineHeight;if(!(w===p.viewModel.getLineCount()&&b.mouseVerticalOffset>k)){const R=Math.floor((E+k)/2);let B=b.pos.y+(R-b.mouseVerticalOffset);B<=b.editorPos.y&&(B=b.editorPos.y+1),B>=b.editorPos.y+b.editorPos.height&&(B=b.editorPos.y+b.editorPos.height-1);const T=new L.PageCoordinates(b.pos.x,B),N=this._actualDoHitTestWithCaretRangeFromPoint(p,T.toClientCoordinates());if(N.type===1)return N}return this._actualDoHitTestWithCaretRangeFromPoint(p,b.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(p,b){const w=_.getShadowRoot(p.viewDomNode);let E;if(w?typeof w.caretRangeFromPoint>"u"?E=a(w,b.clientX,b.clientY):E=w.caretRangeFromPoint(b.clientX,b.clientY):E=p.viewDomNode.ownerDocument.caretRangeFromPoint(b.clientX,b.clientY),!E||!E.startContainer)return new C;const k=E.startContainer;if(k.nodeType===k.TEXT_NODE){const M=k.parentNode,R=M?M.parentNode:null,B=R?R.parentNode:null;return(B&&B.nodeType===B.ELEMENT_NODE?B.className:null)===y.ViewLine.CLASS_NAME?i.createFromDOMInfo(p,M,E.startOffset):new C(k.parentNode)}else if(k.nodeType===k.ELEMENT_NODE){const M=k.parentNode,R=M?M.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===y.ViewLine.CLASS_NAME?i.createFromDOMInfo(p,k,k.textContent.length):new C(k)}return new C}static _doHitTestWithCaretPositionFromPoint(p,b){const w=p.viewDomNode.ownerDocument.caretPositionFromPoint(b.clientX,b.clientY);if(w.offsetNode.nodeType===w.offsetNode.TEXT_NODE){const E=w.offsetNode.parentNode,k=E?E.parentNode:null,M=k?k.parentNode:null;return(M&&M.nodeType===M.ELEMENT_NODE?M.className:null)===y.ViewLine.CLASS_NAME?i.createFromDOMInfo(p,w.offsetNode.parentNode,w.offset):new C(w.offsetNode.parentNode)}if(w.offsetNode.nodeType===w.offsetNode.ELEMENT_NODE){const E=w.offsetNode.parentNode,k=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,M=E?E.parentNode:null,R=M&&M.nodeType===M.ELEMENT_NODE?M.className:null;if(k===y.ViewLine.CLASS_NAME){const B=w.offsetNode.childNodes[Math.min(w.offset,w.offsetNode.childNodes.length-1)];if(B)return i.createFromDOMInfo(p,B,0)}else if(R===y.ViewLine.CLASS_NAME)return i.createFromDOMInfo(p,w.offsetNode,0)}return new C(w.offsetNode)}static _snapToSoftTabBoundary(p,b){const w=b.getLineContent(p.lineNumber),{tabSize:E}=b.model.getOptions(),k=v.AtomicTabMoveOperations.atomicPosition(w,p.column-1,E,2);return k!==-1?new D.Position(p.lineNumber,k+1):p}static _doHitTest(p,b){let w=new C;if(typeof p.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?w=this._doHitTestWithCaretRangeFromPoint(p,b):p.viewDomNode.ownerDocument.caretPositionFromPoint&&(w=this._doHitTestWithCaretPositionFromPoint(p,b.pos.toClientCoordinates())),w.type===1){const E=p.viewModel.getInjectedTextAt(w.position),k=p.viewModel.normalizePosition(w.position,2);(E||!k.equals(w.position))&&(w=new s(k,w.spanNode,E))}return w}}e.MouseTargetFactory=c;function a(h,p,b){const w=document.createRange();let E=h.elementFromPoint(p,b);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const k=E.getBoundingClientRect(),M=window.getComputedStyle(E,null).getPropertyValue("font-style"),R=window.getComputedStyle(E,null).getPropertyValue("font-variant"),B=window.getComputedStyle(E,null).getPropertyValue("font-weight"),T=window.getComputedStyle(E,null).getPropertyValue("font-size"),N=window.getComputedStyle(E,null).getPropertyValue("line-height"),A=window.getComputedStyle(E,null).getPropertyValue("font-family"),P=`${M} ${R} ${B} ${T}/${N} ${A}`,O=E.innerText;let x=k.left,W=0,U;if(p>k.left+k.width)W=O.length;else{const F=g.getInstance();for(let G=0;G<O.length+1;G++){if(U=F.getCharWidth(O.charAt(G),P)/2,x+=U,p<x){W=G;break}x+=U}}w.setStart(E.firstChild,W),w.setEnd(E.firstChild,W)}return w}class g{static getInstance(){return g._INSTANCE||(g._INSTANCE=new g),g._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(p,b){const w=p+b;if(this._cache[w])return this._cache[w];const E=this._canvas.getContext("2d");E.font=b;const M=E.measureText(p).width;return this._cache[w]=M,M}}g._INSTANCE=null}),define(te[835],ie([1,0,7,60,2,17,358,159,143,12,24,148,84]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class n extends s.ViewEventHandler{constructor(l,o,c){super(),this._mouseLeaveMonitor=null,this._context=l,this.viewController=o,this.viewHelper=c,this.mouseTargetFactory=new S.MouseTargetFactory(this._context,c),this._mouseDownOperation=this._register(new t(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(h,p)=>this._createMouseTarget(h,p),h=>this._getMouseColumn(h))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const a=new m.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(a.onContextMenu(this.viewHelper.viewDomNode,h=>this._onContextMenu(h,!0))),this._register(a.onMouseMove(this.viewHelper.viewDomNode,h=>{this._onMouseMove(h),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=L.addDisposableListener(this.viewHelper.viewDomNode.ownerDocument,"mousemove",p=>{this.viewHelper.viewDomNode.contains(p.target)||this._onMouseLeave(new m.EditorMouseEvent(p,!1,this.viewHelper.viewDomNode))}))})),this._register(a.onMouseUp(this.viewHelper.viewDomNode,h=>this._onMouseUp(h))),this._register(a.onMouseLeave(this.viewHelper.viewDomNode,h=>this._onMouseLeave(h)));let g=0;this._register(a.onPointerDown(this.viewHelper.viewDomNode,(h,p)=>{g=p})),this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.POINTER_UP,h=>{this._mouseDownOperation.onPointerUp()})),this._register(a.onMouseDown(this.viewHelper.viewDomNode,h=>this._onMouseDown(h,g))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const l=i.MouseWheelClassifier.INSTANCE;let o=0,c=_.EditorZoom.getZoomLevel(),a=!1,g=0;const h=b=>{if(this.viewController.emitMouseWheel(b),!this._context.configuration.options.get(75))return;const w=new I.StandardWheelEvent(b);if(l.acceptStandardWheelEvent(w),l.isPhysicalMouseWheel()){if(p(b)){const E=_.EditorZoom.getZoomLevel(),k=w.deltaY>0?1:-1;_.EditorZoom.setZoomLevel(E+k),w.preventDefault(),w.stopPropagation()}}else Date.now()-o>50&&(c=_.EditorZoom.getZoomLevel(),a=p(b),g=0),o=Date.now(),g+=w.deltaY,a&&(_.EditorZoom.setZoomLevel(c+g/5),w.preventDefault(),w.stopPropagation())};this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.MOUSE_WHEEL,h,{capture:!0,passive:!1}));function p(b){return D.isMacintosh?(b.metaKey||b.ctrlKey)&&!b.shiftKey&&!b.altKey:b.ctrlKey&&!b.metaKey&&!b.shiftKey&&!b.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(l){if(l.hasChanged(143)){const o=this._context.configuration.options.get(143).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(l){return this._mouseDownOperation.onCursorStateChanged(l),!1}onFocusChanged(l){return!1}getTargetAtClientPoint(l,o){const a=new m.ClientCoordinates(l,o).toPageCoordinates(),g=(0,m.createEditorPagePosition)(this.viewHelper.viewDomNode);if(a.y<g.y||a.y>g.y+g.height||a.x<g.x||a.x>g.x+g.width)return null;const h=(0,m.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,g,a);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,a,h,null)}_createMouseTarget(l,o){let c=l.target;if(!this.viewHelper.viewDomNode.contains(c)){const a=L.getShadowRoot(this.viewHelper.viewDomNode);a&&(c=a.elementsFromPoint(l.posx,l.posy).find(g=>this.viewHelper.viewDomNode.contains(g)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),l.editorPos,l.pos,l.relativePos,o?c:null)}_getMouseColumn(l){return this.mouseTargetFactory.getMouseColumn(l.relativePos)}_onContextMenu(l,o){this.viewController.emitContextMenu({event:l,target:this._createMouseTarget(l,o)})}_onMouseMove(l){this.mouseTargetFactory.mouseTargetIsWidget(l)||l.preventDefault(),!(this._mouseDownOperation.isActive()||l.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:l,target:this._createMouseTarget(l,!0)})}_onMouseLeave(l){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:l,target:null})}_onMouseUp(l){this.viewController.emitMouseUp({event:l,target:this._createMouseTarget(l,!0)})}_onMouseDown(l,o){const c=this._createMouseTarget(l,!0),a=c.type===6||c.type===7,g=c.type===2||c.type===3||c.type===4,h=c.type===3,p=this._context.configuration.options.get(108),b=c.type===8||c.type===5,w=c.type===9;let E=l.leftButton||l.middleButton;D.isMacintosh&&l.leftButton&&l.ctrlKey&&(E=!1);const k=()=>{l.preventDefault(),this.viewHelper.focusTextArea()};if(E&&(a||h&&p))k(),this._mouseDownOperation.start(c.type,l,o);else if(g)l.preventDefault();else if(b){const M=c.detail;E&&this.viewHelper.shouldSuppressMouseDownOnViewZone(M.viewZoneId)&&(k(),this._mouseDownOperation.start(c.type,l,o),l.preventDefault())}else w&&this.viewHelper.shouldSuppressMouseDownOnWidget(c.detail)&&(k(),l.preventDefault());this.viewController.emitMouseDown({event:l,target:c})}}e.MouseHandler=n;class t extends y.Disposable{constructor(l,o,c,a,g,h){super(),this._context=l,this._viewController=o,this._viewHelper=c,this._mouseTargetFactory=a,this._createMouseTarget=g,this._getMouseColumn=h,this._mouseMoveMonitor=this._register(new m.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new r(this._context,this._viewHelper,this._mouseTargetFactory,(p,b,w)=>this._dispatchMouse(p,b,w))),this._mouseState=new f,this._currentSelection=new C.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(l){this._lastMouseEvent=l,this._mouseState.setModifiers(l);const o=this._findMousePosition(l,!1);o&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:l,target:o}):o.type===13&&(o.outsidePosition==="above"||o.outsidePosition==="below")?this._topBottomDragScrolling.start(o,l):(this._topBottomDragScrolling.stop(),this._dispatchMouse(o,!0,1)))}start(l,o,c){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(l===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const a=this._findMousePosition(o,!0);if(!a||!a.position)return;this._mouseState.trySetCount(o.detail,a.position),o.detail=this._mouseState.count;const g=this._context.configuration.options;if(!g.get(90)&&g.get(35)&&!g.get(22)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&a.type===6&&a.position&&this._currentSelection.containsPosition(a.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,c,o.buttons,h=>this._onMouseDownThenMove(h),h=>{const p=this._findMousePosition(this._lastMouseEvent,!1);h&&h instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:p?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(a,o.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,c,o.buttons,h=>this._onMouseDownThenMove(h),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(l){this._currentSelection=l.selections[0]}_getPositionOutsideEditor(l){const o=l.editorPos,c=this._context.viewModel,a=this._context.viewLayout,g=this._getMouseColumn(l);if(l.posy<o.y){const p=o.y-l.posy,b=Math.max(a.getCurrentScrollTop()-p,0),w=S.HitTestContext.getZoneAtCoord(this._context,b);if(w){const k=this._helpPositionJumpOverViewZone(w);if(k)return S.MouseTarget.createOutsideEditor(g,k,"above",p)}const E=a.getLineNumberAtVerticalOffset(b);return S.MouseTarget.createOutsideEditor(g,new v.Position(E,1),"above",p)}if(l.posy>o.y+o.height){const p=l.posy-o.y-o.height,b=a.getCurrentScrollTop()+l.relativePos.y,w=S.HitTestContext.getZoneAtCoord(this._context,b);if(w){const k=this._helpPositionJumpOverViewZone(w);if(k)return S.MouseTarget.createOutsideEditor(g,k,"below",p)}const E=a.getLineNumberAtVerticalOffset(b);return S.MouseTarget.createOutsideEditor(g,new v.Position(E,c.getLineMaxColumn(E)),"below",p)}const h=a.getLineNumberAtVerticalOffset(a.getCurrentScrollTop()+l.relativePos.y);if(l.posx<o.x){const p=o.x-l.posx;return S.MouseTarget.createOutsideEditor(g,new v.Position(h,1),"left",p)}if(l.posx>o.x+o.width){const p=l.posx-o.x-o.width;return S.MouseTarget.createOutsideEditor(g,new v.Position(h,c.getLineMaxColumn(h)),"right",p)}return null}_findMousePosition(l,o){const c=this._getPositionOutsideEditor(l);if(c)return c;const a=this._createMouseTarget(l,o);if(!a.position)return null;if(a.type===8||a.type===5){const h=this._helpPositionJumpOverViewZone(a.detail);if(h)return S.MouseTarget.createViewZone(a.type,a.element,a.mouseColumn,h,a.detail)}return a}_helpPositionJumpOverViewZone(l){const o=new v.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),c=l.positionBefore,a=l.positionAfter;return c&&a?c.isBefore(o)?c:a:null}_dispatchMouse(l,o,c){l.position&&this._viewController.dispatchMouse({position:l.position,mouseColumn:l.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:c,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:l.type===6&&l.detail.injectedText!==null})}}class r extends y.Disposable{constructor(l,o,c,a){super(),this._context=l,this._viewHelper=o,this._mouseTargetFactory=c,this._dispatchMouse=a,this._operation=null}dispose(){super.dispose(),this.stop()}start(l,o){this._operation?this._operation.setPosition(l,o):this._operation=new u(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,l,o)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class u extends y.Disposable{constructor(l,o,c,a,g,h){super(),this._context=l,this._viewHelper=o,this._mouseTargetFactory=c,this._dispatchMouse=a,this._position=g,this._mouseEvent=h,this._lastTime=Date.now(),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(l,o){this._position=l,this._mouseEvent=o}_tick(){const l=Date.now(),o=l-this._lastTime;return this._lastTime=l,o}_getScrollSpeed(){const l=this._context.configuration.options.get(66),o=this._context.configuration.options.get(143).height/l,c=this._position.outsideDistance/l;return c<=1.5?Math.max(30,o*(1+c)):c<=3?Math.max(60,o*(2+c)):Math.max(200,o*(7+c))}_execute(){const l=this._context.configuration.options.get(66),o=this._getScrollSpeed(),c=this._tick(),a=o*(c/1e3)*l,g=this._position.outsidePosition==="above"?-a:a;this._context.viewModel.viewLayout.deltaScrollNow(0,g),this._viewHelper.renderNow();const h=this._context.viewLayout.getLinesViewportData(),p=this._position.outsidePosition==="above"?h.startLineNumber:h.endLineNumber;let b;{const w=(0,m.createEditorPagePosition)(this._viewHelper.viewDomNode),E=this._context.configuration.options.get(143).horizontalScrollbarHeight,k=new m.PageCoordinates(this._mouseEvent.pos.x,w.y+w.height-E-.1),M=(0,m.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,w,k);b=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),w,k,M,null)}(!b.position||b.position.lineNumber!==p)&&(this._position.outsidePosition==="above"?b=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new v.Position(p,1),"above",this._position.outsideDistance):b=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new v.Position(p,this._context.viewModel.getLineMaxColumn(p)),"below",this._position.outsideDistance)),this._dispatchMouse(b,!0,2),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(()=>this._execute())}}class f{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(l){this._altKey=l.altKey,this._ctrlKey=l.ctrlKey,this._metaKey=l.metaKey,this._shiftKey=l.shiftKey}setStartButtons(l){this._leftButton=l.leftButton,this._middleButton=l.middleButton}setStartedOnLineNumbers(l){this._startedOnLineNumbers=l}trySetCount(l,o){const c=new Date().getTime();c-this._lastSetMouseDownCountTime>f.CLEAR_MOUSE_DOWN_COUNT_TIME&&(l=1),this._lastSetMouseDownCountTime=c,l>this._lastMouseDownCount+1&&(l=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(l,this._lastMouseDownPositionEqualCount)}}f.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(te[836],ie([1,0,7,17,61,2,835,159,217,183]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class C extends S.MouseHandler{constructor(t,r,u){super(t,r,u),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,d=>this.onTap(d))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,d=>this.onChange(d))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,d=>this._onContextMenu(new m.EditorMouseEvent(d,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",d=>{const l=d.pointerType;if(l==="mouse"){this._lastPointerType="mouse";return}else l==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const f=new m.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(f.onPointerMove(this.viewHelper.viewDomNode,d=>this._onMouseMove(d))),this._register(f.onPointerUp(this.viewHelper.viewDomNode,d=>this._onMouseUp(d))),this._register(f.onPointerLeave(this.viewHelper.viewDomNode,d=>this._onMouseLeave(d))),this._register(f.onPointerDown(this.viewHelper.viewDomNode,(d,l)=>this._onMouseDown(d,l)))}onTap(t){if(!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget))return;t.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new m.EditorMouseEvent(t,!1,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.dispatchMouse({position:r.position,mouseColumn:r.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:t.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:r.type===6&&r.detail.injectedText!==null})}onChange(t){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}_onMouseDown(t,r){t.browserEvent.pointerType!=="touch"&&super._onMouseDown(t,r)}}e.PointerEventHandler=C;class s extends S.MouseHandler{constructor(t,r,u){super(t,r,u),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,f=>this.onTap(f))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,f=>this.onChange(f))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,f=>this._onContextMenu(new m.EditorMouseEvent(f,!1,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new m.EditorMouseEvent(t,!1,this.viewHelper.viewDomNode),!1);if(r.position){const u=document.createEvent("CustomEvent");u.initEvent(v.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(u),this.viewController.moveTo(r.position,1)}}onChange(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}}class i extends D.Disposable{constructor(t,r,u){super(),I.isIOS&&_.BrowserFeatures.pointerEvents?this.handler=this._register(new C(t,r,u)):window.TouchEvent?this.handler=this._register(new s(t,r,u)):this.handler=this._register(new S.MouseHandler(t,r,u))}getTargetAtClientPoint(t,r){return this.handler.getTargetAtClientPoint(t,r)}}e.PointerHandler=i}),define(te[837],ie([1,0,198,14,17,70,142,229,53,481,249,12,5,426]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class n{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(d){this._currentVisibleRange=d}}class t{constructor(d,l,o,c,a,g,h){this.minimalReveal=d,this.lineNumber=l,this.startColumn=o,this.endColumn=c,this.startScrollTop=a,this.stopScrollTop=g,this.scrollType=h,this.type="range",this.minLineNumber=l,this.maxLineNumber=l}}class r{constructor(d,l,o,c,a){this.minimalReveal=d,this.selections=l,this.startScrollTop=o,this.stopScrollTop=c,this.scrollType=a,this.type="selections";let g=l[0].startLineNumber,h=l[0].endLineNumber;for(let p=1,b=l.length;p<b;p++){const w=l[p];g=Math.min(g,w.startLineNumber),h=Math.max(h,w.endLineNumber)}this.minLineNumber=g,this.maxLineNumber=h}}class u extends _.ViewPart{constructor(d,l){super(d),this._linesContent=l,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new m.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const o=this._context.configuration,c=this._context.configuration.options,a=c.get(50),g=c.get(144);this._lineHeight=c.get(66),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._isViewportWrapping=g.isViewportWrapping,this._revealHorizontalRightPadding=c.get(99),this._cursorSurroundingLines=c.get(29),this._cursorSurroundingLinesStyle=c.get(30),this._canUseLayerHinting=!c.get(32),this._viewLineOptions=new C.ViewLineOptions(o,this._context.theme.type),_.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${L.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,D.applyFontInfo)(this.domNode,a),this._maxLineWidth=0,this._asyncUpdateLineWidths=new I.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new I.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new n,this._horizontalRevealRequest=null,this._stickyScrollEnabled=c.get(114).enabled,this._maxNumberStickyLines=c.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new C.ViewLine(this._viewLineOptions)}onConfigurationChanged(d){this._visibleLines.onConfigurationChanged(d),d.hasChanged(144)&&(this._maxLineWidth=0);const l=this._context.configuration.options,o=l.get(50),c=l.get(144);return this._lineHeight=l.get(66),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=c.isViewportWrapping,this._revealHorizontalRightPadding=l.get(99),this._cursorSurroundingLines=l.get(29),this._cursorSurroundingLinesStyle=l.get(30),this._canUseLayerHinting=!l.get(32),this._stickyScrollEnabled=l.get(114).enabled,this._maxNumberStickyLines=l.get(114).maxLineCount,(0,D.applyFontInfo)(this.domNode,o),this._onOptionsMaybeChanged(),d.hasChanged(143)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const d=this._context.configuration,l=new C.ViewLineOptions(d,this._context.theme.type);if(!this._viewLineOptions.equals(l)){this._viewLineOptions=l;const o=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let a=o;a<=c;a++)this._visibleLines.getVisibleLine(a).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(d){const l=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let c=!1;for(let a=l;a<=o;a++)c=this._visibleLines.getVisibleLine(a).onSelectionChanged()||c;return c}onDecorationsChanged(d){{const l=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let c=l;c<=o;c++)this._visibleLines.getVisibleLine(c).onDecorationsChanged()}return!0}onFlushed(d){const l=this._visibleLines.onFlushed(d);return this._maxLineWidth=0,l}onLinesChanged(d){return this._visibleLines.onLinesChanged(d)}onLinesDeleted(d){return this._visibleLines.onLinesDeleted(d)}onLinesInserted(d){return this._visibleLines.onLinesInserted(d)}onRevealRangeRequest(d){const l=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),d.source,d.minimalReveal,d.range,d.selections,d.verticalType);if(l===-1)return!1;let o=this._context.viewLayout.validateScrollPosition({scrollTop:l});d.revealHorizontal?d.range&&d.range.startLineNumber!==d.range.endLineNumber?o={scrollTop:o.scrollTop,scrollLeft:0}:d.range?this._horizontalRevealRequest=new t(d.minimalReveal,d.range.startLineNumber,d.range.startColumn,d.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,d.scrollType):d.selections&&d.selections.length>0&&(this._horizontalRevealRequest=new r(d.minimalReveal,d.selections,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,d.scrollType)):this._horizontalRevealRequest=null;const a=Math.abs(this._context.viewLayout.getCurrentScrollTop()-o.scrollTop)<=this._lineHeight?1:d.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(o,a),!0}onScrollChanged(d){if(this._horizontalRevealRequest&&d.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&d.scrollTopChanged){const l=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),o=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(d.scrollTop<l||d.scrollTop>o)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(d.scrollWidth),this._visibleLines.onScrollChanged(d)||!0}onTokensChanged(d){return this._visibleLines.onTokensChanged(d)}onZonesChanged(d){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(d)}onThemeChanged(d){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(d,l){const o=this._getViewLineDomNode(d);if(o===null)return null;const c=this._getLineNumberFor(o);if(c===-1||c<1||c>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(c)===1)return new s.Position(c,1);const a=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();if(c<a||c>g)return null;let h=this._visibleLines.getVisibleLine(c).getColumnOfNodeOffset(d,l);const p=this._context.viewModel.getLineMinColumn(c);return h<p&&(h=p),new s.Position(c,h)}_getViewLineDomNode(d){for(;d&&d.nodeType===1;){if(d.className===C.ViewLine.CLASS_NAME)return d;d=d.parentElement}return null}_getLineNumberFor(d){const l=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let c=l;c<=o;c++){const a=this._visibleLines.getVisibleLine(c);if(d===a.getDomNode())return c}return-1}getLineWidth(d){const l=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(d<l||d>o)return-1;const c=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),a=this._visibleLines.getVisibleLine(d).getWidth(c);return this._updateLineWidthsSlowIfDomDidLayout(c),a}linesVisibleRangesForRange(d,l){if(this.shouldRender())return null;const o=d.endLineNumber,c=i.Range.intersectRanges(d,this._lastRenderedData.getCurrentVisibleRange());if(!c)return null;const a=[];let g=0;const h=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let p=0;l&&(p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(c.startLineNumber,1)).lineNumber);const b=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let E=c.startLineNumber;E<=c.endLineNumber;E++){if(E<b||E>w)continue;const k=E===c.startLineNumber?c.startColumn:1,M=E!==c.endLineNumber,R=M?this._context.viewModel.getLineMaxColumn(E):c.endColumn,B=this._visibleLines.getVisibleLine(E).getVisibleRangesForRange(E,k,R,h);if(B){if(l&&E<o){const T=p;p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(E+1,1)).lineNumber,T!==p&&(B.ranges[B.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}a[g++]=new S.LineVisibleRanges(B.outsideRenderedLine,E,S.HorizontalRange.from(B.ranges),M)}}return this._updateLineWidthsSlowIfDomDidLayout(h),g===0?null:a}_visibleRangesForLineRange(d,l,o){if(this.shouldRender()||d<this._visibleLines.getStartLineNumber()||d>this._visibleLines.getEndLineNumber())return null;const c=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),a=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(d,l,o,c);return this._updateLineWidthsSlowIfDomDidLayout(c),a}visibleRangeForPosition(d){const l=this._visibleRangesForLineRange(d.lineNumber,d.column,d.column);return l?new S.HorizontalPosition(l.outsideRenderedLine,l.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(d){d.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(d){const l=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let c=1,a=!0;for(let g=l;g<=o;g++){const h=this._visibleLines.getVisibleLine(g);if(d&&!h.getWidthIsFast()){a=!1;continue}c=Math.max(c,h.getWidth(null))}return a&&l===1&&o===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(c),a}_checkMonospaceFontAssumptions(){let d=-1,l=-1;const o=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let a=o;a<=c;a++){const g=this._visibleLines.getVisibleLine(a);if(g.needsMonospaceFontCheck()){const h=g.getWidth(null);h>l&&(l=h,d=a)}}if(d!==-1&&!this._visibleLines.getVisibleLine(d).monospaceAssumptionsAreValid())for(let a=o;a<=c;a++)this._visibleLines.getVisibleLine(a).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(d){if(this._visibleLines.renderLines(d),this._lastRenderedData.setCurrentVisibleRange(d.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const o=this._horizontalRevealRequest;if(d.startLineNumber<=o.minLineNumber&&o.maxLineNumber<=d.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const c=this._computeScrollLeftToReveal(o);c&&(this._isViewportWrapping||this._ensureMaxLineWidth(c.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:c.scrollLeft},o.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const o=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let a=o;a<=c;a++)if(this._visibleLines.getVisibleLine(a).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const l=this._context.viewLayout.getCurrentScrollTop()-d.bigNumbersDelta;this._linesContent.setTop(-l),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(d){const l=Math.ceil(d);this._maxLineWidth<l&&(this._maxLineWidth=l,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(d,l,o,c,a,g){const h=d.top,p=d.height,b=h+p;let w,E,k;if(a&&a.length>0){let N=a[0].startLineNumber,A=a[0].endLineNumber;for(let P=1,O=a.length;P<O;P++){const x=a[P];N=Math.min(N,x.startLineNumber),A=Math.max(A,x.endLineNumber)}w=!1,E=this._context.viewLayout.getVerticalOffsetForLineNumber(N),k=this._context.viewLayout.getVerticalOffsetForLineNumber(A)+this._lineHeight}else if(c)w=!0,E=this._context.viewLayout.getVerticalOffsetForLineNumber(c.startLineNumber),k=this._context.viewLayout.getVerticalOffsetForLineNumber(c.endLineNumber)+this._lineHeight;else return-1;const M=(l==="mouse"||o)&&this._cursorSurroundingLinesStyle==="default";let R=0,B=0;if(M)o||(R=this._lineHeight);else{const N=Math.min(p/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?R=Math.max(N,this._maxNumberStickyLines)*this._lineHeight:R=N*this._lineHeight,B=Math.max(0,N-1)*this._lineHeight}o||(g===0||g===4)&&(B+=this._lineHeight),E-=R,k+=B;let T;if(k-E>p){if(!w)return-1;T=E}else if(g===5||g===6)if(g===6&&h<=E&&k<=b)T=h;else{const N=Math.max(5*this._lineHeight,p*.2),A=E-N,P=k-p;T=Math.max(P,A)}else if(g===1||g===2)if(g===2&&h<=E&&k<=b)T=h;else{const N=(E+k)/2;T=Math.max(0,N-p/2)}else T=this._computeMinimumScrolling(h,b,E,k,g===3,g===4);return T}_computeScrollLeftToReveal(d){const l=this._context.viewLayout.getCurrentViewport(),o=this._context.configuration.options.get(143),c=l.left,a=c+l.width-o.verticalScrollbarWidth;let g=1073741824,h=0;if(d.type==="range"){const b=this._visibleRangesForLineRange(d.lineNumber,d.startColumn,d.endColumn);if(!b)return null;for(const w of b.ranges)g=Math.min(g,Math.round(w.left)),h=Math.max(h,Math.round(w.left+w.width))}else for(const b of d.selections){if(b.startLineNumber!==b.endLineNumber)return null;const w=this._visibleRangesForLineRange(b.startLineNumber,b.startColumn,b.endColumn);if(!w)return null;for(const E of w.ranges)g=Math.min(g,Math.round(E.left)),h=Math.max(h,Math.round(E.left+E.width))}return d.minimalReveal||(g=Math.max(0,g-u.HORIZONTAL_EXTRA_PX),h+=this._revealHorizontalRightPadding),d.type==="selections"&&h-g>l.width?null:{scrollLeft:this._computeMinimumScrolling(c,a,g,h),maxHorizontalOffset:h}}_computeMinimumScrolling(d,l,o,c,a,g){d=d|0,l=l|0,o=o|0,c=c|0,a=!!a,g=!!g;const h=l-d;if(c-o<h){if(a)return o;if(g)return Math.max(0,c-h);if(o<d)return o;if(c>l)return Math.max(0,c-h)}else return o;return d}}e.ViewLines=u,u.HORIZONTAL_EXTRA_PX=30}),define(te[359],ie([1,0,7,44,73,226,222,13,14,388,105,9,6,119,2,17,10,735,343,97,21,86,172]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const a=L.$;class g{constructor(T,N,A,P,O,x,W){var U,F,G;this._checked=!1,this._hidden=!1,this.hasCheckbox=P,this.index=A,this.fireButtonTriggered=O,this.fireSeparatorButtonTriggered=x,this._onChecked=W,this.onChecked=P?i.Event.map(i.Event.filter(this._onChecked.event,Y=>Y.listElement===this),Y=>Y.checked):i.Event.None,T.type==="separator"?this._separator=T:(this.item=T,N&&N.type==="separator"&&!N.buttons&&(this._separator=N),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(U=this.item.highlights)===null||U===void 0?void 0:U.label,this._descriptionHighlights=(F=this.item.highlights)===null||F===void 0?void 0:F.description,this._detailHighlights=(G=this.item.highlights)===null||G===void 0?void 0:G.detail,this.saneTooltip=this.item.tooltip),this._init=new l.Lazy(()=>{var Y;const ne=(Y=T.label)!==null&&Y!==void 0?Y:"",se=(0,n.parseLabelWithIcons)(ne).text.trim(),J=T.ariaLabel||[ne,this.saneDescription,this.saneDetail].map(q=>(0,n.getCodiconAriaLabel)(q)).filter(q=>!!q).join(", ");return{saneLabel:ne,saneSortLabel:se,saneAriaLabel:J}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(T){this._element=T}get hidden(){return this._hidden}set hidden(T){this._hidden=T}get checked(){return this._checked}set checked(T){T!==this._checked&&(this._checked=T,this._onChecked.fire({listElement:this,checked:T}))}get separator(){return this._separator}set separator(T){this._separator=T}get labelHighlights(){return this._labelHighlights}set labelHighlights(T){this._labelHighlights=T}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(T){this._descriptionHighlights=T}get detailHighlights(){return this._detailHighlights}set detailHighlights(T){this._detailHighlights=T}}class h{constructor(T){this.themeService=T}get templateId(){return h.ID}renderTemplate(T){const N=Object.create(null);N.toDisposeElement=[],N.toDisposeTemplate=[],N.entry=L.append(T,a(".quick-input-list-entry"));const A=L.append(N.entry,a("label.quick-input-list-label"));N.toDisposeTemplate.push(L.addStandardDisposableListener(A,L.EventType.CLICK,F=>{N.checkbox.offsetParent||F.preventDefault()})),N.checkbox=L.append(A,a("input.quick-input-list-checkbox")),N.checkbox.type="checkbox",N.toDisposeTemplate.push(L.addStandardDisposableListener(N.checkbox,L.EventType.CHANGE,F=>{N.element.checked=N.checkbox.checked}));const P=L.append(A,a(".quick-input-list-rows")),O=L.append(P,a(".quick-input-list-row")),x=L.append(P,a(".quick-input-list-row"));N.label=new D.IconLabel(O,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),N.toDisposeTemplate.push(N.label),N.icon=L.prepend(N.label.element,a(".quick-input-list-icon"));const W=L.append(O,a(".quick-input-list-entry-keybinding"));N.keybinding=new S.KeybindingLabel(W,r.OS);const U=L.append(x,a(".quick-input-list-label-meta"));return N.detail=new D.IconLabel(U,{supportHighlights:!0,supportIcons:!0}),N.toDisposeTemplate.push(N.detail),N.separator=L.append(N.entry,a(".quick-input-list-separator")),N.actionBar=new y.ActionBar(N.entry),N.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),N.toDisposeTemplate.push(N.actionBar),N}renderElement(T,N,A){var P,O,x,W;A.element=T,T.element=(P=A.entry)!==null&&P!==void 0?P:void 0;const U=T.item?T.item:T.separator;A.checkbox.checked=T.checked,A.toDisposeElement.push(T.onChecked(J=>A.checkbox.checked=J));const{labelHighlights:F,descriptionHighlights:G,detailHighlights:Y}=T;if(!((O=T.item)===null||O===void 0)&&O.iconPath){const J=(0,c.isDark)(this.themeService.getColorTheme().type)?T.item.iconPath.dark:(x=T.item.iconPath.light)!==null&&x!==void 0?x:T.item.iconPath.dark,q=o.URI.revive(J);A.icon.className="quick-input-list-icon",A.icon.style.backgroundImage=L.asCSSUrl(q)}else A.icon.style.backgroundImage="",A.icon.className=!((W=T.item)===null||W===void 0)&&W.iconClass?`quick-input-list-icon ${T.item.iconClass}`:"";const ne={matches:F||[],descriptionTitle:T.saneDescription,descriptionMatches:G||[],labelEscapeNewLines:!0};U.type!=="separator"?(ne.extraClasses=U.iconClasses,ne.italic=U.italic,ne.strikethrough=U.strikethrough,A.entry.classList.remove("quick-input-list-separator-as-item")):A.entry.classList.add("quick-input-list-separator-as-item"),A.label.setLabel(T.saneLabel,T.saneDescription,ne),A.keybinding.set(U.type==="separator"?void 0:U.keybinding),T.saneDetail?(A.detail.element.style.display="",A.detail.setLabel(T.saneDetail,void 0,{matches:Y,title:T.saneDetail,labelEscapeNewLines:!0})):A.detail.element.style.display="none",T.item&&T.separator&&T.separator.label?(A.separator.textContent=T.separator.label,A.separator.style.display=""):A.separator.style.display="none",A.entry.classList.toggle("quick-input-list-separator-border",!!T.separator);const se=U.buttons;se&&se.length?(A.actionBar.push(se.map((J,q)=>{let H=J.iconClass||(J.iconPath?(0,d.getIconClass)(J.iconPath):void 0);return J.alwaysVisible&&(H=H?`${H} always-visible`:"always-visible"),{id:`id-${q}`,class:H,enabled:!0,label:"",tooltip:J.tooltip||"",run:()=>{U.type!=="separator"?T.fireButtonTriggered({button:J,item:U}):T.fireSeparatorButtonTriggered({button:J,separator:U})}}}),{icon:!0,label:!1}),A.entry.classList.add("has-actions")):A.entry.classList.remove("has-actions")}disposeElement(T,N,A){A.toDisposeElement=(0,t.dispose)(A.toDisposeElement),A.actionBar.clear()}disposeTemplate(T){T.toDisposeElement=(0,t.dispose)(T.toDisposeElement),T.toDisposeTemplate=(0,t.dispose)(T.toDisposeTemplate)}}h.ID="listelement";class p{getHeight(T){return T.item?T.saneDetail?44:22:24}getTemplateId(T){return h.ID}}var b;(function(B){B[B.First=1]="First",B[B.Second=2]="Second",B[B.Last=3]="Last",B[B.Next=4]="Next",B[B.Previous=5]="Previous",B[B.NextPage=6]="NextPage",B[B.PreviousPage=7]="PreviousPage"})(b||(e.QuickInputListFocus=b={}));class w{constructor(T,N,A,P){this.parent=T,this.options=A,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new i.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new i.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new i.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new i.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new i.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new i.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new i.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new i.Emitter,this.onLeave=this._onLeave.event,this._listElementChecked=new i.Emitter,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=N,this.container=L.append(this.parent,a(".quick-input-list"));const O=new p,x=new R;if(this.list=A.createList("QuickInput",this.container,O,[new h(P)],{identityProvider:{getId:W=>{var U,F,G,Y,ne,se,J,q;return(q=(se=(Y=(F=(U=W.item)===null||U===void 0?void 0:U.id)!==null&&F!==void 0?F:(G=W.item)===null||G===void 0?void 0:G.label)!==null&&Y!==void 0?Y:(ne=W.separator)===null||ne===void 0?void 0:ne.id)!==null&&se!==void 0?se:(J=W.separator)===null||J===void 0?void 0:J.label)!==null&&q!==void 0?q:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:x}),this.list.getHTMLElement().id=N,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(W=>{const U=new I.StandardKeyboardEvent(W);switch(U.keyCode){case 10:this.toggleCheckbox();break;case 31:(r.isMacintosh?W.metaKey:W.ctrlKey)&&this.list.setFocus((0,m.range)(this.list.length));break;case 16:{const F=this.list.getFocus();F.length===1&&F[0]===0&&this._onLeave.fire();break}case 18:{const F=this.list.getFocus();F.length===1&&F[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(U)})),this.disposables.push(this.list.onMouseDown(W=>{W.browserEvent.button!==2&&W.browserEvent.preventDefault()})),this.disposables.push(L.addDisposableListener(this.container,L.EventType.CLICK,W=>{(W.x||W.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(W=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(W=>{typeof W.index=="number"&&(W.browserEvent.preventDefault(),this.list.setSelection([W.index]))})),A.hoverDelegate){const W=new _.ThrottledDelayer(A.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(U=>be(this,void 0,void 0,function*(){var F;if(U.browserEvent.target instanceof HTMLAnchorElement){W.cancel();return}if(!(!(U.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&L.isAncestor(U.browserEvent.relatedTarget,(F=U.element)===null||F===void 0?void 0:F.element)))try{yield W.trigger(()=>be(this,void 0,void 0,function*(){U.element&&this.showHover(U.element)}))}catch(G){if(!(0,s.isCancellationError)(G))throw G}}))),this.disposables.push(this.list.onMouseOut(U=>{var F;L.isAncestor(U.browserEvent.relatedTarget,(F=U.element)===null||F===void 0?void 0:F.element)||W.cancel()})),this.disposables.push(W)}this.disposables.push(this._listElementChecked.event(W=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return i.Event.map(this.list.onDidChangeFocus,T=>T.elements.map(N=>N.item))}get onDidChangeSelection(){return i.Event.map(this.list.onDidChangeSelection,T=>({items:T.elements.map(N=>N.item),event:T.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(T){this.list.scrollTop=T}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(T){this.list.getHTMLElement().ariaLabel=T}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(T,N=!0){for(let A=0,P=T.length;A<P;A++){const O=T[A];if(!O.hidden)if(O.checked)N=!0;else return!1}return N}getCheckedCount(){let T=0;const N=this.elements;for(let A=0,P=N.length;A<P;A++)N[A].checked&&T++;return T}getVisibleCount(){let T=0;const N=this.elements;for(let A=0,P=N.length;A<P;A++)N[A].hidden||T++;return T}setAllVisibleChecked(T){try{this._fireCheckedEvents=!1,this.elements.forEach(N=>{N.hidden||(N.checked=T)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(T){this.elementDisposables=(0,t.dispose)(this.elementDisposables);const N=x=>this.fireButtonTriggered(x),A=x=>this.fireSeparatorButtonTriggered(x);this.inputElements=T;const P=new Map,O=this.parent.classList.contains("show-checkboxes");this.elements=T.reduce((x,W,U)=>{var F;const G=U>0?T[U-1]:void 0;if(W.type==="separator"&&!W.buttons)return x;const Y=new g(W,G,U,O,N,A,this._listElementChecked),ne=x.length;return x.push(Y),P.set((F=Y.item)!==null&&F!==void 0?F:Y.separator,ne),x},[]),this.elementsToIndexes=P,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(T=>T.item)}setFocusedElements(T){if(this.list.setFocus(T.filter(N=>this.elementsToIndexes.has(N)).map(N=>this.elementsToIndexes.get(N))),T.length>0){const N=this.list.getFocus()[0];typeof N=="number"&&this.list.reveal(N)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(T){this.list.setSelection(T.filter(N=>this.elementsToIndexes.has(N)).map(N=>this.elementsToIndexes.get(N)))}getCheckedElements(){return this.elements.filter(T=>T.checked).map(T=>T.item).filter(T=>!!T)}setCheckedElements(T){try{this._fireCheckedEvents=!1;const N=new Set;for(const A of T)N.add(A);for(const A of this.elements)A.checked=N.has(A.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(T){this.list.getHTMLElement().style.pointerEvents=T?"":"none"}focus(T){if(!this.list.length)return;switch(T===b.Second&&this.list.length<2&&(T=b.First),T){case b.First:this.list.scrollTop=0,this.list.focusFirst(void 0,A=>!!A.item);break;case b.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,A=>!!A.item);break;case b.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,A=>!!A.item);break;case b.Next:{this.list.focusNext(void 0,!0,void 0,P=>!!P.item);const A=this.list.getFocus()[0];A!==0&&!this.elements[A-1].item&&this.list.firstVisibleIndex>A-1&&this.list.reveal(A-1);break}case b.Previous:{this.list.focusPrevious(void 0,!0,void 0,P=>!!P.item);const A=this.list.getFocus()[0];A!==0&&!this.elements[A-1].item&&this.list.firstVisibleIndex>A-1&&this.list.reveal(A-1);break}case b.NextPage:this.list.focusNextPage(void 0,A=>!!A.item);break;case b.PreviousPage:this.list.focusPreviousPage(void 0,A=>!!A.item);break}const N=this.list.getFocus()[0];typeof N=="number"&&this.list.reveal(N)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(T){var N,A,P;this.options.hoverDelegate!==void 0&&(this._lastHover&&!this._lastHover.isDisposed&&((A=(N=this.options.hoverDelegate).onDidHideHover)===null||A===void 0||A.call(N),(P=this._lastHover)===null||P===void 0||P.dispose()),!(!T.element||!T.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:T.saneTooltip,target:T.element,linkHandler:O=>{this.options.linkOpenerDelegate(O)},showPointer:!0,container:this.container,hoverPosition:1},!1)))}layout(T){this.list.getHTMLElement().style.maxHeight=T?`${Math.floor(T/44)*44+6}px`:"",this.list.layout()}filter(T){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const N=T;if(T=T.trim(),!T||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(P=>{P.labelHighlights=void 0,P.descriptionHighlights=void 0,P.detailHighlights=void 0,P.hidden=!1;const O=P.index&&this.inputElements[P.index-1];P.item&&(P.separator=O&&O.type==="separator"&&!O.buttons?O:void 0)});else{let P;this.elements.forEach(O=>{var x,W,U,F;let G;this.matchOnLabelMode==="fuzzy"?G=this.matchOnLabel&&(x=(0,n.matchesFuzzyIconAware)(T,(0,n.parseLabelWithIcons)(O.saneLabel)))!==null&&x!==void 0?x:void 0:G=this.matchOnLabel&&(W=E(N,(0,n.parseLabelWithIcons)(O.saneLabel)))!==null&&W!==void 0?W:void 0;const Y=this.matchOnDescription&&(U=(0,n.matchesFuzzyIconAware)(T,(0,n.parseLabelWithIcons)(O.saneDescription||"")))!==null&&U!==void 0?U:void 0,ne=this.matchOnDetail&&(F=(0,n.matchesFuzzyIconAware)(T,(0,n.parseLabelWithIcons)(O.saneDetail||"")))!==null&&F!==void 0?F:void 0;if(G||Y||ne?(O.labelHighlights=G,O.descriptionHighlights=Y,O.detailHighlights=ne,O.hidden=!1):(O.labelHighlights=void 0,O.descriptionHighlights=void 0,O.detailHighlights=void 0,O.hidden=O.item?!O.item.alwaysShow:!0),O.item?O.separator=void 0:O.separator&&(O.hidden=!0),!this.sortByLabel){const se=O.index&&this.inputElements[O.index-1];P=se&&se.type==="separator"?se:P,P&&!O.hidden&&(O.separator=P,P=void 0)}})}const A=this.elements.filter(P=>!P.hidden);if(this.sortByLabel&&T){const P=T.toLowerCase();A.sort((O,x)=>M(O,x,P))}return this.elementsToIndexes=A.reduce((P,O,x)=>{var W;return P.set((W=O.item)!==null&&W!==void 0?W:O.separator,x),P},new Map),this.list.splice(0,this.list.length,A),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(A.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const T=this.list.getFocusedElements(),N=this.allVisibleChecked(T);for(const A of T)A.checked=!N}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(T){this.container.style.display=T?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,t.dispose)(this.elementDisposables),this.disposables=(0,t.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(T){this._onButtonTriggered.fire(T)}fireSeparatorButtonTriggered(T){this._onSeparatorButtonTriggered.fire(T)}style(T){this.list.style(T)}toggleHover(){const T=this.list.getFocusedElements()[0];if(!T?.saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const N=this.list.getFocusedElements()[0];if(!N)return;this.showHover(N);const A=new t.DisposableStore;A.add(this.list.onDidChangeFocus(P=>{P.indexes.length&&this.showHover(P.elements[0])})),this._lastHover&&A.add(this._lastHover),this._toggleHover=A,this.elementDisposables.push(this._toggleHover)}}e.QuickInputList=w,Ie([C.memoize],w.prototype,"onDidChangeFocus",null),Ie([C.memoize],w.prototype,"onDidChangeSelection",null);function E(B,T){const{text:N,iconOffsets:A}=T;if(!A||A.length===0)return k(B,N);const P=(0,u.ltrim)(N," "),O=N.length-P.length,x=k(B,P);if(x)for(const W of x){const U=A[W.start+O]+O;W.start+=U,W.end+=U}return x}function k(B,T){const N=T.toLowerCase().indexOf(B.toLowerCase());return N!==-1?[{start:N,end:N+B.length}]:null}function M(B,T,N){const A=B.labelHighlights||[],P=T.labelHighlights||[];return A.length&&!P.length?-1:!A.length&&P.length?1:A.length===0&&P.length===0?0:(0,v.compareAnything)(B.saneSortLabel,T.saneSortLabel,N)}class R{getWidgetAriaLabel(){return(0,f.localize)(0,null)}getAriaLabel(T){var N;return!((N=T.separator)===null||N===void 0)&&N.label?`${T.saneAriaLabel}, ${T.separator.label}`:T.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(T){return T.hasCheckbox?"checkbox":"option"}isChecked(T){if(T.hasCheckbox)return{value:T.checked,onDidChange:T.onChecked}}}}),define(te[838],ie([1,0,7,44,153,41,13,14,26,6,2,17,98,27,733,67,359,343,172]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputBox=e.QuickPick=e.backButton=void 0,e.backButton={iconClass:n.ThemeIcon.asClassName(_.Codicon.quickInputBack),tooltip:(0,t.localize)(0,null),handle:-1};class d extends C.Disposable{constructor(a){super(),this.ui=a,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=d.noPromptMessage,this._severity=i.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new v.Emitter),this.onDidHideEmitter=this._register(new v.Emitter),this.onDisposeEmitter=this._register(new v.Emitter),this.visibleDisposables=this._register(new C.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(a){this._title=a,this.update()}get description(){return this._description}set description(a){this._description=a,this.update()}get step(){return this._steps}set step(a){this._steps=a,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(a){this._totalSteps=a,this.update()}get enabled(){return this._enabled}set enabled(a){this._enabled=a,this.update()}get contextKey(){return this._contextKey}set contextKey(a){this._contextKey=a,this.update()}get busy(){return this._busy}set busy(a){this._busy=a,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(a){const g=this._ignoreFocusOut!==a&&!s.isIOS;this._ignoreFocusOut=a&&!s.isIOS,g&&this.update()}get buttons(){return this._buttons}set buttons(a){this._buttons=a,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(a){this._toggles=a??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(a){this._validationMessage=a,this.update()}get severity(){return this._severity}set severity(a){this._severity=a,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(a=>{this.buttons.indexOf(a)!==-1&&this.onDidTriggerButtonEmitter.fire(a)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(a=r.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:a})}update(){var a,g;if(!this.visible)return;const h=this.getTitle();h&&this.ui.title.textContent!==h?this.ui.title.textContent=h:!h&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const p=this.getDescription();if(this.ui.description1.textContent!==p&&(this.ui.description1.textContent=p),this.ui.description2.textContent!==p&&(this.ui.description2.textContent=p),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?L.reset(this.ui.widget,this._widget):L.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new m.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const w=this.buttons.filter(k=>k===e.backButton);this.ui.leftActionBar.push(w.map((k,M)=>{const R=new D.Action(`id-${M}`,"",k.iconClass||(0,f.getIconClass)(k.iconPath),!0,()=>be(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(k)}));return R.tooltip=k.tooltip||"",R}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const E=this.buttons.filter(k=>k!==e.backButton);this.ui.rightActionBar.push(E.map((k,M)=>{const R=new D.Action(`id-${M}`,"",k.iconClass||(0,f.getIconClass)(k.iconPath),!0,()=>be(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(k)}));return R.tooltip=k.tooltip||"",R}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const w=(g=(a=this.toggles)===null||a===void 0?void 0:a.filter(E=>E instanceof y.Toggle))!==null&&g!==void 0?g:[];this.ui.inputBox.toggles=w}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const b=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==b&&(this._lastValidationMessage=b,L.reset(this.ui.message),(0,f.renderQuickInputDescription)(b,this.ui.message,{callback:w=>{this.ui.linkOpenerDelegate(w)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,t.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(a){if(this.ui.inputBox.showDecoration(a),a!==i.default.Ignore){const g=this.ui.inputBox.stylesForType(a);this.ui.message.style.color=g.foreground?`${g.foreground}`:"",this.ui.message.style.backgroundColor=g.background?`${g.background}`:"",this.ui.message.style.border=g.border?`1px solid ${g.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}d.noPromptMessage=(0,t.localize)(1,null);class l extends d{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new v.Emitter),this.onWillAcceptEmitter=this._register(new v.Emitter),this.onDidAcceptEmitter=this._register(new v.Emitter),this.onDidCustomEmitter=this._register(new v.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=r.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new v.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new v.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new v.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new v.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=a=>a,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(a){this._quickNavigate=a,this.update()}get value(){return this._value}set value(a){this.doSetValue(a)}doSetValue(a,g){this._value!==a&&(this._value=a,g||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(a){this._ariaLabel=a,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(a){this._placeholder=a,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(a){this.ui.list.scrollTop=a}set items(a){this._items=a,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(a){this._canSelectMany=a,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(a){this._canAcceptInBackground=a}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(a){this._matchOnDescription=a,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(a){this._matchOnDetail=a,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(a){this._matchOnLabel=a,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(a){this._matchOnLabelMode=a,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(a){this._sortByLabel=a,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(a){this._autoFocusOnList=a,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(a){this._keepScrollPosition=a}get itemActivation(){return this._itemActivation}set itemActivation(a){this._itemActivation=a}get activeItems(){return this._activeItems}set activeItems(a){this._activeItems=a,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(a){this._selectedItems=a,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?r.NO_KEY_MODS:this.ui.keyMods}set valueSelection(a){this._valueSelection=a,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(a){this._customButton=a,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(a){this._customButtonLabel=a,this.update()}get customHover(){return this._customButtonHover}set customHover(a){this._customButtonHover=a,this.update()}get ok(){return this._ok}set ok(a){this._ok=a,this.update()}get hideInput(){return!!this._hideInput}set hideInput(a){this._hideInput=a,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(u.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(a=>{this.doSetValue(a,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(a=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(a=>{switch(a.keyCode){case 18:this.ui.list.focus(u.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(a,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(u.QuickInputListFocus.Previous):this.ui.list.focus(u.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(a,!0);break;case 12:this.ui.list.focus(u.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(a,!0);break;case 11:this.ui.list.focus(u.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(a,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(a.ctrlKey||a.metaKey)&&!a.shiftKey&&!a.altKey&&(this.ui.list.focus(u.QuickInputListFocus.First),L.EventHelper.stop(a,!0));break;case 13:(a.ctrlKey||a.metaKey)&&!a.shiftKey&&!a.altKey&&(this.ui.list.focus(u.QuickInputListFocus.Last),L.EventHelper.stop(a,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(a=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,S.equals)(a,this._activeItems,(g,h)=>g===h)||(this._activeItems=a,this.onDidChangeActiveEmitter.fire(a))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:a,event:g})=>{if(this.canSelectMany){a.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,S.equals)(a,this._selectedItems,(h,p)=>h===p)||(this._selectedItems=a,this.onDidChangeSelectionEmitter.fire(a),a.length&&this.handleAccept(g instanceof MouseEvent&&g.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(a=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,S.equals)(a,this._selectedItems,(g,h)=>g===h)||(this._selectedItems=a,this.onDidChangeSelectionEmitter.fire(a)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(a=>this.onDidTriggerItemButtonEmitter.fire(a))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(a=>this.onDidTriggerSeparatorButtonEmitter.fire(a))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(a){let g=!1;this.onWillAcceptEmitter.fire({veto:()=>g=!0}),g||this.onDidAcceptEmitter.fire({inBackground:a})}registerQuickNavigation(){return L.addDisposableListener(this.ui.container,L.EventType.KEY_UP,a=>{if(this.canSelectMany||!this._quickNavigate)return;const g=new I.StandardKeyboardEvent(a),h=g.keyCode;this._quickNavigate.keybindings.some(w=>{const E=w.getChords();return E.length>1?!1:E[0].shiftKey&&h===4?!(g.ctrlKey||g.altKey||g.metaKey):!!(E[0].altKey&&h===6||E[0].ctrlKey&&h===5||E[0].metaKey&&h===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const a=this.keepScrollPosition?this.scrollTop:0,g=!!this.description,h={title:!!this.title||!!this.step||!!this.buttons.length,description:g,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||g,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(h),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let p=this.ariaLabel;if(!p&&h.inputBox&&(p=this.placeholder||l.DEFAULT_ARIA_LABEL,this.title&&(p+=` - ${this.title}`)),this.ui.list.ariaLabel!==p&&(this.ui.list.ariaLabel=p??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case r.ItemActivation.NONE:this._itemActivation=r.ItemActivation.FIRST;break;case r.ItemActivation.SECOND:this.ui.list.focus(u.QuickInputListFocus.Second),this._itemActivation=r.ItemActivation.FIRST;break;case r.ItemActivation.LAST:this.ui.list.focus(u.QuickInputListFocus.Last),this._itemActivation=r.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",h.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(u.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=a)}}e.QuickPick=l,l.DEFAULT_ARIA_LABEL=(0,t.localize)(3,null);class o extends d{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new v.Emitter),this.onDidAcceptEmitter=this._register(new v.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(a){this._value=a||"",this.update()}get placeholder(){return this._placeholder}set placeholder(a){this._placeholder=a,this.update()}get password(){return this._password}set password(a){this._password=a,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(a=>{a!==this.value&&(this._value=a,this.onDidValueChangeEmitter.fire(a))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const a={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(a),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}e.InputBox=o}),define(te[839],ie([1,0,7,73,318,312,577,19,6,2,98,734,67,773,359,838]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const u=L.$;class f extends v.Disposable{constructor(l,o){super(),this.options=l,this.themeService=o,this.enabled=!0,this.onDidAcceptEmitter=this._register(new _.Emitter),this.onDidCustomEmitter=this._register(new _.Emitter),this.onDidTriggerButtonEmitter=this._register(new _.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new _.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new _.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=l.idPrefix,this.parentElement=l.container,this.styles=l.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const l=o=>{this.keyMods.ctrlCmd=o.ctrlKey||o.metaKey,this.keyMods.alt=o.altKey};this._register(L.addDisposableListener(window,L.EventType.KEY_DOWN,l,!0)),this._register(L.addDisposableListener(window,L.EventType.KEY_UP,l,!0)),this._register(L.addDisposableListener(window,L.EventType.MOUSE_DOWN,l,!0))}getUI(){if(this.ui)return this.ui;const l=L.append(this.parentElement,u(".quick-input-widget.show-file-icons"));l.tabIndex=-1,l.style.display="none";const o=L.createStyleSheet(l),c=L.append(l,u(".quick-input-titlebar")),a=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,g=this._register(new I.ActionBar(c,a));g.domNode.classList.add("quick-input-left-action-bar");const h=L.append(c,u(".quick-input-title")),p=this._register(new I.ActionBar(c,a));p.domNode.classList.add("quick-input-right-action-bar");const b=L.append(l,u(".quick-input-header")),w=L.append(b,u("input.quick-input-check-all"));w.type="checkbox",w.setAttribute("aria-label",(0,s.localize)(0,null)),this._register(L.addStandardDisposableListener(w,L.EventType.CHANGE,q=>{const H=w.checked;se.setAllVisibleChecked(H)})),this._register(L.addDisposableListener(w,L.EventType.CLICK,q=>{(q.x||q.y)&&R.setFocus()}));const E=L.append(b,u(".quick-input-description")),k=L.append(b,u(".quick-input-and-message")),M=L.append(k,u(".quick-input-filter")),R=this._register(new n.QuickInputBox(M,this.styles.inputBox,this.styles.toggle));R.setAttribute("aria-describedby",`${this.idPrefix}message`);const B=L.append(M,u(".quick-input-visible-count"));B.setAttribute("aria-live","polite"),B.setAttribute("aria-atomic","true");const T=new D.CountBadge(B,{countFormat:(0,s.localize)(1,null)},this.styles.countBadge),N=L.append(M,u(".quick-input-count"));N.setAttribute("aria-live","polite");const A=new D.CountBadge(N,{countFormat:(0,s.localize)(2,null)},this.styles.countBadge),P=L.append(b,u(".quick-input-action")),O=this._register(new y.Button(P,this.styles.button));O.label=(0,s.localize)(3,null),this._register(O.onDidClick(q=>{this.onDidAcceptEmitter.fire()}));const x=L.append(b,u(".quick-input-action")),W=this._register(new y.Button(x,this.styles.button));W.label=(0,s.localize)(4,null),this._register(W.onDidClick(q=>{this.onDidCustomEmitter.fire()}));const U=L.append(k,u(`#${this.idPrefix}message.quick-input-message`)),F=this._register(new S.ProgressBar(l,this.styles.progressBar));F.getContainer().classList.add("quick-input-progress");const G=L.append(l,u(".quick-input-html-widget"));G.tabIndex=-1;const Y=L.append(l,u(".quick-input-description")),ne=this.idPrefix+"list",se=this._register(new t.QuickInputList(l,ne,this.options,this.themeService));R.setAttribute("aria-controls",ne),this._register(se.onDidChangeFocus(()=>{var q;R.setAttribute("aria-activedescendant",(q=se.getActiveDescendant())!==null&&q!==void 0?q:"")})),this._register(se.onChangedAllVisibleChecked(q=>{w.checked=q})),this._register(se.onChangedVisibleCount(q=>{T.setCount(q)})),this._register(se.onChangedCheckedCount(q=>{A.setCount(q)})),this._register(se.onLeave(()=>{setTimeout(()=>{R.setFocus(),this.controller instanceof r.QuickPick&&this.controller.canSelectMany&&se.clearFocus()},0)}));const J=L.trackFocus(l);return this._register(J),this._register(L.addDisposableListener(l,L.EventType.FOCUS,q=>{L.isAncestor(q.relatedTarget,l)||(this.previousFocusElement=q.relatedTarget instanceof HTMLElement?q.relatedTarget:void 0)},!0)),this._register(J.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(i.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(L.addDisposableListener(l,L.EventType.FOCUS,q=>{R.setFocus()})),this._register(L.addStandardDisposableListener(l,L.EventType.KEY_DOWN,q=>{if(!L.isAncestor(q.target,G))switch(q.keyCode){case 3:L.EventHelper.stop(q,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:L.EventHelper.stop(q,!0),this.hide(i.QuickInputHideReason.Gesture);break;case 2:if(!q.altKey&&!q.ctrlKey&&!q.metaKey){const H=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(l.classList.contains("show-checkboxes")?H.push("input"):H.push("input[type=text]"),this.getUI().list.isDisplayed()&&H.push(".monaco-list"),this.getUI().message&&H.push(".quick-input-message a"),this.getUI().widget){if(L.isAncestor(q.target,this.getUI().widget))break;H.push(".quick-input-html-widget")}const V=l.querySelectorAll(H.join(", "));q.shiftKey&&q.target===V[0]?(L.EventHelper.stop(q,!0),se.clearFocus()):!q.shiftKey&&L.isAncestor(q.target,V[V.length-1])&&(L.EventHelper.stop(q,!0),V[0].focus())}break;case 10:q.ctrlKey&&(L.EventHelper.stop(q,!0),this.getUI().list.toggleHover());break}})),this.ui={container:l,styleSheet:o,leftActionBar:g,titleBar:c,title:h,description1:Y,description2:E,widget:G,rightActionBar:p,checkAll:w,inputContainer:k,filterContainer:M,inputBox:R,visibleCountContainer:B,visibleCount:T,countContainer:N,count:A,okContainer:P,ok:O,message:U,customButtonContainer:x,customButton:W,list:se,progressBar:F,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:q=>this.show(q),hide:()=>this.hide(),setVisibilities:q=>this.setVisibilities(q),setEnabled:q=>this.setEnabled(q),setContextKey:q=>this.options.setContextKey(q),linkOpenerDelegate:q=>this.options.linkOpenerDelegate(q)},this.updateStyles(),this.ui}pick(l,o={},c=m.CancellationToken.None){return new Promise((a,g)=>{let h=E=>{var k;h=a,(k=o.onKeyMods)===null||k===void 0||k.call(o,p.keyMods),a(E)};if(c.isCancellationRequested){h(void 0);return}const p=this.createQuickPick();let b;const w=[p,p.onDidAccept(()=>{if(p.canSelectMany)h(p.selectedItems.slice()),p.hide();else{const E=p.activeItems[0];E&&(h(E),p.hide())}}),p.onDidChangeActive(E=>{const k=E[0];k&&o.onDidFocus&&o.onDidFocus(k)}),p.onDidChangeSelection(E=>{if(!p.canSelectMany){const k=E[0];k&&(h(k),p.hide())}}),p.onDidTriggerItemButton(E=>o.onDidTriggerItemButton&&o.onDidTriggerItemButton(Object.assign(Object.assign({},E),{removeItem:()=>{const k=p.items.indexOf(E.item);if(k!==-1){const M=p.items.slice(),R=M.splice(k,1),B=p.activeItems.filter(N=>N!==R[0]),T=p.keepScrollPosition;p.keepScrollPosition=!0,p.items=M,B&&(p.activeItems=B),p.keepScrollPosition=T}}}))),p.onDidTriggerSeparatorButton(E=>{var k;return(k=o.onDidTriggerSeparatorButton)===null||k===void 0?void 0:k.call(o,E)}),p.onDidChangeValue(E=>{b&&!E&&(p.activeItems.length!==1||p.activeItems[0]!==b)&&(p.activeItems=[b])}),c.onCancellationRequested(()=>{p.hide()}),p.onDidHide(()=>{(0,v.dispose)(w),h(void 0)})];p.title=o.title,p.canSelectMany=!!o.canPickMany,p.placeholder=o.placeHolder,p.ignoreFocusOut=!!o.ignoreFocusLost,p.matchOnDescription=!!o.matchOnDescription,p.matchOnDetail=!!o.matchOnDetail,p.matchOnLabel=o.matchOnLabel===void 0||o.matchOnLabel,p.autoFocusOnList=o.autoFocusOnList===void 0||o.autoFocusOnList,p.quickNavigate=o.quickNavigate,p.hideInput=!!o.hideInput,p.contextKey=o.contextKey,p.busy=!0,Promise.all([l,o.activeItem]).then(([E,k])=>{b=k,p.busy=!1,p.items=E,p.canSelectMany&&(p.selectedItems=E.filter(M=>M.type!=="separator"&&M.picked)),b&&(p.activeItems=[b])}),p.show(),Promise.resolve(l).then(void 0,E=>{g(E),p.hide()})})}createQuickPick(){const l=this.getUI();return new r.QuickPick(l)}createInputBox(){const l=this.getUI();return new r.InputBox(l)}show(l){const o=this.getUI();this.onShowEmitter.fire();const c=this.controller;this.controller=l,c?.didHide(),this.setEnabled(!0),o.leftActionBar.clear(),o.title.textContent="",o.description1.textContent="",o.description2.textContent="",L.reset(o.widget),o.rightActionBar.clear(),o.checkAll.checked=!1,o.inputBox.placeholder="",o.inputBox.password=!1,o.inputBox.showDecoration(C.default.Ignore),o.visibleCount.setCount(0),o.count.setCount(0),L.reset(o.message),o.progressBar.stop(),o.list.setElements([]),o.list.matchOnDescription=!1,o.list.matchOnDetail=!1,o.list.matchOnLabel=!0,o.list.sortByLabel=!0,o.ignoreFocusOut=!1,o.inputBox.toggles=void 0;const a=this.options.backKeybindingLabel();r.backButton.tooltip=a?(0,s.localize)(5,null,a):(0,s.localize)(6,null),o.container.style.display="",this.updateLayout(),o.inputBox.setFocus()}setVisibilities(l){const o=this.getUI();o.title.style.display=l.title?"":"none",o.description1.style.display=l.description&&(l.inputBox||l.checkAll)?"":"none",o.description2.style.display=l.description&&!(l.inputBox||l.checkAll)?"":"none",o.checkAll.style.display=l.checkAll?"":"none",o.inputContainer.style.display=l.inputBox?"":"none",o.filterContainer.style.display=l.inputBox?"":"none",o.visibleCountContainer.style.display=l.visibleCount?"":"none",o.countContainer.style.display=l.count?"":"none",o.okContainer.style.display=l.ok?"":"none",o.customButtonContainer.style.display=l.customButton?"":"none",o.message.style.display=l.message?"":"none",o.progressBar.getContainer().style.display=l.progressBar?"":"none",o.list.display(!!l.list),o.container.classList.toggle("show-checkboxes",!!l.checkBox),o.container.classList.toggle("hidden-input",!l.inputBox&&!l.description),this.updateLayout()}setEnabled(l){if(l!==this.enabled){this.enabled=l;for(const o of this.getUI().leftActionBar.viewItems)o.action.enabled=l;for(const o of this.getUI().rightActionBar.viewItems)o.action.enabled=l;this.getUI().checkAll.disabled=!l,this.getUI().inputBox.enabled=l,this.getUI().ok.enabled=l,this.getUI().list.enabled=l}}hide(l){var o,c,a;const g=this.controller;if(!g)return;const h=!L.isAncestor(document.activeElement,(c=(o=this.ui)===null||o===void 0?void 0:o.container)!==null&&c!==void 0?c:null);if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!h){let p=this.previousFocusElement;for(;p&&!p.offsetParent;)p=(a=p.parentElement)!==null&&a!==void 0?a:void 0;p?.offsetParent?(p.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}g.didHide(l)}layout(l,o){this.dimension=l,this.titleBarOffset=o,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const l=this.ui.container.style,o=Math.min(this.dimension.width*.62,f.MAX_WIDTH);l.width=o+"px",l.marginLeft="-"+o/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(l){this.styles=l,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:l,quickInputBackground:o,quickInputForeground:c,widgetBorder:a,widgetShadow:g}=this.styles.widget;this.ui.titleBar.style.backgroundColor=l??"",this.ui.container.style.backgroundColor=o??"",this.ui.container.style.color=c??"",this.ui.container.style.border=a?`1px solid ${a}`:"",this.ui.container.style.boxShadow=g?`0 0 8px 2px ${g}`:"",this.ui.list.style(this.styles.list);const h=[];this.styles.pickerGroup.pickerGroupBorder&&h.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&h.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&h.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(h.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&h.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&h.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&h.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&h.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&h.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),h.push("}"));const p=h.join(`
`);p!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=p)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}e.QuickInputController=f,f.MAX_WIDTH=600}),define(te[23],ie([1,0,6,2,8,35,86]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.themeColorFromId=e.IThemeService=void 0,e.IThemeService=(0,y.createDecorator)("themeService");function m(n){return{id:n}}e.themeColorFromId=m;function _(n){switch(n){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case S.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=_,e.Extensions={ThemingContribution:"base.contributions.theming"};class v{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new L.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),(0,I.toDisposable)(()=>{const r=this.themingParticipants.indexOf(t);this.themingParticipants.splice(r,1)})}getThemingParticipants(){return this.themingParticipants}}const C=new v;D.Registry.add(e.Extensions.ThemingContribution,C);function s(n){return C.onColorThemeChange(n)}e.registerThemingParticipant=s;class i extends I.Disposable{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(r=>this.onThemeChange(r)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}e.Themable=i}),define(te[840],ie([1,0,6,2,63,23]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let S=class extends I.Disposable{constructor(v){super(),this._themeService=v,this._onWillCreateCodeEditor=this._register(new L.Emitter),this._onCodeEditorAdd=this._register(new L.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new L.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new L.Emitter),this._onDiffEditorAdd=this._register(new L.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new L.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new y.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(v){this._codeEditors[v.getId()]=v,this._onCodeEditorAdd.fire(v)}removeCodeEditor(v){delete this._codeEditors[v.getId()]&&this._onCodeEditorRemove.fire(v)}listCodeEditors(){return Object.keys(this._codeEditors).map(v=>this._codeEditors[v])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(v){this._diffEditors[v.getId()]=v,this._onDiffEditorAdd.fire(v)}listDiffEditors(){return Object.keys(this._diffEditors).map(v=>this._diffEditors[v])}getFocusedCodeEditor(){let v=null;const C=this.listCodeEditors();for(const s of C){if(s.hasTextFocus())return s;s.hasWidgetFocus()&&(v=s)}return v}removeDecorationType(v){const C=this._decorationOptionProviders.get(v);C&&(C.refCount--,C.refCount<=0&&(this._decorationOptionProviders.delete(v),C.dispose(),this.listCodeEditors().forEach(s=>s.removeDecorationsByType(v))))}setModelProperty(v,C,s){const i=v.toString();let n;this._modelProperties.has(i)?n=this._modelProperties.get(i):(n=new Map,this._modelProperties.set(i,n)),n.set(C,s)}getModelProperty(v,C){const s=v.toString();if(this._modelProperties.has(s))return this._modelProperties.get(s).get(C)}openCodeEditor(v,C,s){return be(this,void 0,void 0,function*(){for(const i of this._codeEditorOpenHandlers){const n=yield i(v,C,s);if(n!==null)return n}return null})}registerCodeEditorOpenHandler(v){const C=this._codeEditorOpenHandlers.unshift(v);return(0,I.toDisposable)(C)}};e.AbstractCodeEditorService=S,e.AbstractCodeEditorService=S=Ie([ge(0,D.IThemeService)],S);class m{constructor(v){this._styleSheet=v}}e.GlobalStyleSheet=m}),define(te[841],ie([1,0,7,38,84,53,23]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class m extends D.ViewPart{constructor(v,C,s,i){super(v);const n=this._context.configuration.options,t=n.get(102),r=n.get(74),u=n.get(40),f=n.get(105),d={listenOnDomNode:s.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(v.theme.type),useShadows:!1,lazyRender:!0,vertical:t.vertical,horizontal:t.horizontal,verticalHasArrows:t.verticalHasArrows,horizontalHasArrows:t.horizontalHasArrows,verticalScrollbarSize:t.verticalScrollbarSize,verticalSliderSize:t.verticalSliderSize,horizontalScrollbarSize:t.horizontalScrollbarSize,horizontalSliderSize:t.horizontalSliderSize,handleMouseWheel:t.handleMouseWheel,alwaysConsumeMouseWheel:t.alwaysConsumeMouseWheel,arrowSize:t.arrowSize,mouseWheelScrollSensitivity:r,fastScrollSensitivity:u,scrollPredominantAxis:f,scrollByPage:t.scrollByPage};this.scrollbar=this._register(new y.SmoothScrollableElement(C.domNode,d,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,I.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const l=(o,c,a)=>{const g={};if(c){const h=o.scrollTop;h&&(g.scrollTop=this._context.viewLayout.getCurrentScrollTop()+h,o.scrollTop=0)}if(a){const h=o.scrollLeft;h&&(g.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+h,o.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(g,1)};this._register(L.addDisposableListener(s.domNode,"scroll",o=>l(s.domNode,!0,!0))),this._register(L.addDisposableListener(C.domNode,"scroll",o=>l(C.domNode,!0,!1))),this._register(L.addDisposableListener(i.domNode,"scroll",o=>l(i.domNode,!0,!1))),this._register(L.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",o=>l(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const v=this._context.configuration.options,C=v.get(143);this.scrollbarDomNode.setLeft(C.contentLeft),v.get(72).side==="right"?this.scrollbarDomNode.setWidth(C.contentWidth+C.minimap.minimapWidth):this.scrollbarDomNode.setWidth(C.contentWidth),this.scrollbarDomNode.setHeight(C.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(v){this.scrollbar.delegateVerticalScrollbarPointerDown(v)}delegateScrollFromMouseWheelEvent(v){this.scrollbar.delegateScrollFromMouseWheelEvent(v)}onConfigurationChanged(v){if(v.hasChanged(102)||v.hasChanged(74)||v.hasChanged(40)){const C=this._context.configuration.options,s=C.get(102),i=C.get(74),n=C.get(40),t=C.get(105),r={vertical:s.vertical,horizontal:s.horizontal,verticalScrollbarSize:s.verticalScrollbarSize,horizontalScrollbarSize:s.horizontalScrollbarSize,scrollByPage:s.scrollByPage,handleMouseWheel:s.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:t};this.scrollbar.updateOptions(r)}return v.hasChanged(143)&&this._setLayout(),!0}onScrollChanged(v){return!0}onThemeChanged(v){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(v){}render(v){this.scrollbar.renderNow()}}e.EditorScrollbar=m}),define(te[842],ie([1,0,111,31,23,434]),function($,e,L,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class S{constructor(i,n){this.lineNumber=i,this.ranges=n}}function m(s){return new D(s)}function _(s){return new S(s.lineNumber,s.ranges.map(m))}class v extends L.DynamicViewOverlay{constructor(i){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=i;const n=this._context.configuration.options;this._lineHeight=n.get(66),this._roundedSelection=n.get(100),this._typicalHalfwidthCharacterWidth=n.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const n=this._context.configuration.options;return this._lineHeight=n.get(66),this._roundedSelection=n.get(100),this._typicalHalfwidthCharacterWidth=n.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let n=0,t=i.length;n<t;n++)if(i[n].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,n,t){const r=this._typicalHalfwidthCharacterWidth/4;let u=null,f=null;if(t&&t.length>0&&n.length>0){const d=n[0].lineNumber;if(d===i.startLineNumber)for(let o=0;!u&&o<t.length;o++)t[o].lineNumber===d&&(u=t[o].ranges[0]);const l=n[n.length-1].lineNumber;if(l===i.endLineNumber)for(let o=t.length-1;!f&&o>=0;o--)t[o].lineNumber===l&&(f=t[o].ranges[0]);u&&!u.startStyle&&(u=null),f&&!f.startStyle&&(f=null)}for(let d=0,l=n.length;d<l;d++){const o=n[d].ranges[0],c=o.left,a=o.left+o.width,g={top:0,bottom:0},h={top:0,bottom:0};if(d>0){const p=n[d-1].ranges[0].left,b=n[d-1].ranges[0].left+n[d-1].ranges[0].width;C(c-p)<r?g.top=2:c>p&&(g.top=1),C(a-b)<r?h.top=2:p<a&&a<b&&(h.top=1)}else u&&(g.top=u.startStyle.top,h.top=u.endStyle.top);if(d+1<l){const p=n[d+1].ranges[0].left,b=n[d+1].ranges[0].left+n[d+1].ranges[0].width;C(c-p)<r?g.bottom=2:p<c&&c<b&&(g.bottom=1),C(a-b)<r?h.bottom=2:a<b&&(h.bottom=1)}else f&&(g.bottom=f.startStyle.bottom,h.bottom=f.endStyle.bottom);o.startStyle=g,o.endStyle=h}}_getVisibleRangesWithStyle(i,n,t){const u=(n.linesVisibleRangesForRange(i,!0)||[]).map(_);return!this._visibleRangesHaveGaps(u)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(n.visibleRange,u,t),u}_createSelectionPiece(i,n,t,r,u){return'<div class="cslr '+t+'" style="top:'+i.toString()+"px;left:"+r.toString()+"px;width:"+u.toString()+"px;height:"+n+'px;"></div>'}_actualRenderOneSelection(i,n,t,r){if(r.length===0)return;const u=!!r[0].ranges[0].startStyle,f=this._lineHeight.toString(),d=(this._lineHeight-1).toString(),l=r[0].lineNumber,o=r[r.length-1].lineNumber;for(let c=0,a=r.length;c<a;c++){const g=r[c],h=g.lineNumber,p=h-n,b=t&&(h===o||h===l)?d:f,w=t&&h===l?1:0;let E="",k="";for(let M=0,R=g.ranges.length;M<R;M++){const B=g.ranges[M];if(u){const N=B.startStyle,A=B.endStyle;if(N.top===1||N.bottom===1){E+=this._createSelectionPiece(w,b,v.SELECTION_CLASS_NAME,B.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH);let P=v.EDITOR_BACKGROUND_CLASS_NAME;N.top===1&&(P+=" "+v.SELECTION_TOP_RIGHT),N.bottom===1&&(P+=" "+v.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(w,b,P,B.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){E+=this._createSelectionPiece(w,b,v.SELECTION_CLASS_NAME,B.left+B.width,v.ROUNDED_PIECE_WIDTH);let P=v.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(P+=" "+v.SELECTION_TOP_LEFT),A.bottom===1&&(P+=" "+v.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(w,b,P,B.left+B.width,v.ROUNDED_PIECE_WIDTH)}}let T=v.SELECTION_CLASS_NAME;if(u){const N=B.startStyle,A=B.endStyle;N.top===0&&(T+=" "+v.SELECTION_TOP_LEFT),N.bottom===0&&(T+=" "+v.SELECTION_BOTTOM_LEFT),A.top===0&&(T+=" "+v.SELECTION_TOP_RIGHT),A.bottom===0&&(T+=" "+v.SELECTION_BOTTOM_RIGHT)}k+=this._createSelectionPiece(w,b,T,B.left,B.width)}i[p][0]+=E,i[p][1]+=k}}prepareRender(i){const n=[],t=i.visibleRange.startLineNumber,r=i.visibleRange.endLineNumber;for(let f=t;f<=r;f++){const d=f-t;n[d]=["",""]}const u=[];for(let f=0,d=this._selections.length;f<d;f++){const l=this._selections[f];if(l.isEmpty()){u[f]=null;continue}const o=this._getVisibleRangesWithStyle(l,i,this._previousFrameVisibleRangesWithStyle[f]);u[f]=o,this._actualRenderOneSelection(n,t,this._selections.length>1,o)}this._previousFrameVisibleRangesWithStyle=u,this._renderResult=n.map(([f,d])=>f+d)}render(i,n){if(!this._renderResult)return"";const t=n-i;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.SelectionsOverlay=v,v.SELECTION_CLASS_NAME="selected-text",v.SELECTION_TOP_LEFT="top-left-radius",v.SELECTION_BOTTOM_LEFT="bottom-left-radius",v.SELECTION_TOP_RIGHT="top-right-radius",v.SELECTION_BOTTOM_RIGHT="bottom-right-radius",v.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",v.ROUNDED_PIECE_WIDTH=10,(0,y.registerThemingParticipant)((s,i)=>{const n=s.getColor(I.editorSelectionForeground);n&&!n.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${n}; }`)});function C(s){return s<0?-s:s}}),define(te[360],ie([1,0,7,38,195,2,40,100,12,293,31,23]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerPart=void 0;let n=i=class extends D.Disposable{constructor(r,u,f,d,l,o,c,a){super(),this._editors=r,this._rootElement=u,this._diffModel=f,this._rootWidth=d,this._rootHeight=l,this._modifiedEditorLayoutInfo=o,this._options=c,this._themeService=a;const g=(0,S.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),h=(0,S.derived)(w=>{const E=g.read(w),k=E.getColor(C.diffOverviewRulerInserted)||(E.getColor(C.diffInserted)||C.defaultInsertColor).transparent(2),M=E.getColor(C.diffOverviewRulerRemoved)||(E.getColor(C.diffRemoved)||C.defaultRemoveColor).transparent(2);return{insertColor:k,removeColor:M}}),p=(0,S.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),b=(0,S.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollHeight());this._register((0,S.autorunWithStore)((w,E)=>{if(!this._options.renderOverviewRuler.read(w))return;const k=(0,I.createFastDomNode)(document.createElement("div"));k.setClassName("diffViewport"),k.setPosition("absolute");const M=(0,L.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:i.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;E.add((0,m.appendRemoveOnDispose)(M,k.domNode)),E.add((0,L.addStandardDisposableListener)(M,L.EventType.POINTER_DOWN,R=>{this._editors.modified.delegateVerticalScrollbarPointerDown(R)})),E.add((0,L.addDisposableListener)(M,L.EventType.MOUSE_WHEEL,R=>{this._editors.modified.delegateScrollFromMouseWheelEvent(R)},{passive:!1})),E.add((0,m.appendRemoveOnDispose)(this._rootElement,M)),E.add((0,S.autorunWithStore)((R,B)=>{const T=this._diffModel.read(R),N=this._editors.original.createOverviewRuler("original diffOverviewRuler");N&&(B.add(N),B.add((0,m.appendRemoveOnDispose)(M,N.getDomNode())));const A=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(A&&(B.add(A),B.add((0,m.appendRemoveOnDispose)(M,A.getDomNode()))),!N||!A)return;const P=(0,S.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),O=(0,S.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),x=(0,S.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),W=(0,S.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);B.add((0,S.autorun)(U=>{var F;P.read(U),O.read(U),x.read(U),W.read(U);const G=h.read(U),Y=(F=T?.diff.read(U))===null||F===void 0?void 0:F.mappings;function ne(q,H,V){const Z=V._getViewModel();return Z?q.filter(ee=>ee.length>0).map(ee=>{const le=Z.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(ee.startLineNumber,1)),ue=Z.coordinatesConverter.convertModelPositionToViewPosition(new _.Position(ee.endLineNumberExclusive,1)),de=ue.lineNumber-le.lineNumber;return new v.OverviewRulerZone(le.lineNumber,ue.lineNumber,de,H.toString())}):[]}const se=ne((Y||[]).map(q=>q.lineRangeMapping.original),G.removeColor,this._editors.original),J=ne((Y||[]).map(q=>q.lineRangeMapping.modified),G.insertColor,this._editors.modified);N?.setZones(se),A?.setZones(J)})),B.add((0,S.autorun)(U=>{const F=this._rootHeight.read(U),G=this._rootWidth.read(U),Y=this._modifiedEditorLayoutInfo.read(U);if(Y){const ne=i.ENTIRE_DIFF_OVERVIEW_WIDTH-2*i.ONE_OVERVIEW_WIDTH;N.setLayout({top:0,height:F,right:ne+i.ONE_OVERVIEW_WIDTH,width:i.ONE_OVERVIEW_WIDTH}),A.setLayout({top:0,height:F,right:0,width:i.ONE_OVERVIEW_WIDTH});const se=p.read(U),J=b.read(U),q=this._editors.modified.getOption(102),H=new y.ScrollbarState(q.verticalHasArrows?q.arrowSize:0,q.verticalScrollbarSize,0,Y.height,J,se);k.setTop(H.getSliderPosition()),k.setHeight(H.getSliderSize())}else k.setTop(0),k.setHeight(0);M.style.height=F+"px",M.style.left=G-i.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",k.setWidth(i.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}))}};e.OverviewRulerPart=n,n.ONE_OVERVIEW_WIDTH=15,n.ENTIRE_DIFF_OVERVIEW_WIDTH=i.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerPart=n=i=Ie([ge(7,s.IThemeService)],n)}),define(te[843],ie([1,0,6,2,40,360,39,613,8,34]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let C=class extends I.Disposable{constructor(i,n,t,r,u,f,d){super(),this.originalEditorElement=i,this.modifiedEditorElement=n,this._options=t,this._createInnerEditor=u,this._instantiationService=f,this._keybindingService=d,this._onDidContentSizeChange=this._register(new L.Emitter),this.original=this._register(this._createLeftHandSideEditor(t.editorOptions.get(),r.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(t.editorOptions.get(),r.modifiedEditor||{})),this.modifiedModel=(0,y.observableFromEvent)(this.modified.onDidChangeModel,()=>this.modified.getModel()),this._register((0,y.autorunHandleChanges)({createEmptyChangeSummary:()=>({}),handleChange:(l,o)=>(l.didChange(t.editorOptions)&&Object.assign(o,l.change.changedOptions),!0)},(l,o)=>{t.editorOptions.read(l),this._options.renderSideBySide.read(l),this.modified.updateOptions(this._adjustOptionsForRightHandSide(l,o)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(l,o))}))}_createLeftHandSideEditor(i,n){const t=this._adjustOptionsForLeftHandSide(void 0,i),r=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,t,n);return r.setContextValue("isInDiffLeftEditor",!0),r}_createRightHandSideEditor(i,n){const t=this._adjustOptionsForRightHandSide(void 0,i),r=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,t,n);return r.setContextValue("isInDiffRightEditor",!0),r}_constructInnerEditor(i,n,t,r){const u=this._createInnerEditor(i,n,t,r);return this._register(u.onDidContentSizeChange(f=>{const d=this.original.getContentWidth()+this.modified.getContentWidth()+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,l=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:l,contentWidth:d,contentHeightChanged:f.contentHeightChanged,contentWidthChanged:f.contentWidthChanged})})),u}_adjustOptionsForLeftHandSide(i,n){const t=this._adjustOptionsForSubEditor(n);return this._options.renderSideBySide.get()?(t.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},t.wordWrapOverride1=this._options.diffWordWrap.get()):(t.wordWrapOverride1="off",t.wordWrapOverride2="off",t.stickyScroll={enabled:!1},t.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),n.originalAriaLabel&&(t.ariaLabel=n.originalAriaLabel),t.ariaLabel=this._updateAriaLabel(t.ariaLabel),t.readOnly=!this._options.originalEditable.get(),t.dropIntoEditor={enabled:!t.readOnly},t.extraEditorClassName="original-in-monaco-diff-editor",t}_adjustOptionsForRightHandSide(i,n){const t=this._adjustOptionsForSubEditor(n);return n.modifiedAriaLabel&&(t.ariaLabel=n.modifiedAriaLabel),t.ariaLabel=this._updateAriaLabel(t.ariaLabel),t.wordWrapOverride1=this._options.diffWordWrap.get(),t.revealHorizontalRightPadding=S.EditorOptions.revealHorizontalRightPadding.defaultValue+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",t}_adjustOptionsForSubEditor(i){const n=Object.assign(Object.assign({},i),{dimension:{height:0,width:0}});return n.inDiffEditor=!0,n.automaticLayout=!1,n.scrollbar=Object.assign({},n.scrollbar||{}),n.scrollbar.vertical="visible",n.folding=!1,n.codeLens=this._options.diffCodeLens.get(),n.fixedOverflowWidgets=!0,n.minimap=Object.assign({},n.minimap||{}),n.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?n.stickyScroll={enabled:!1}:n.stickyScroll=this._options.editorOptions.get().stickyScroll,n}_updateAriaLabel(i){var n;i||(i="");const t=(0,m.localize)(0,null,(n=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||n===void 0?void 0:n.getAriaLabel());return this._options.accessibilityVerbose.get()?i+t:i?i.replaceAll(t,""):""}};e.DiffEditorEditors=C,e.DiffEditorEditors=C=Ie([ge(5,_.IInstantiationService),ge(6,v.IKeybindingService)],C)}),define(te[78],ie([1,0,622,36,31,23]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,y.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(0,null)),e.editorLineHighlightBorder=(0,y.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:y.contrastBorder},L.localize(1,null)),e.editorRangeHighlight=(0,y.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},L.localize(2,null),!0),e.editorRangeHighlightBorder=(0,y.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(3,null),!0),e.editorSymbolHighlight=(0,y.registerColor)("editor.symbolHighlightBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,y.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(5,null),!0),e.editorCursorForeground=(0,y.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:I.Color.black,hcDark:I.Color.white,hcLight:"#0F4A85"},L.localize(6,null)),e.editorCursorBackground=(0,y.registerColor)("editorCursor.background",null,L.localize(7,null)),e.editorWhitespaces=(0,y.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},L.localize(8,null)),e.editorLineNumbers=(0,y.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:I.Color.white,hcLight:"#292929"},L.localize(9,null)),e.deprecatedEditorIndentGuides=(0,y.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(10,null),!1,L.localize(11,null)),e.deprecatedEditorActiveIndentGuides=(0,y.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(12,null),!1,L.localize(13,null)),e.editorIndentGuide1=(0,y.registerColor)("editorIndentGuide.background1",{dark:e.deprecatedEditorIndentGuides,light:e.deprecatedEditorIndentGuides,hcDark:e.deprecatedEditorIndentGuides,hcLight:e.deprecatedEditorIndentGuides},L.localize(14,null)),e.editorIndentGuide2=(0,y.registerColor)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(15,null)),e.editorIndentGuide3=(0,y.registerColor)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(16,null)),e.editorIndentGuide4=(0,y.registerColor)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(17,null)),e.editorIndentGuide5=(0,y.registerColor)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(18,null)),e.editorIndentGuide6=(0,y.registerColor)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(19,null)),e.editorActiveIndentGuide1=(0,y.registerColor)("editorIndentGuide.activeBackground1",{dark:e.deprecatedEditorActiveIndentGuides,light:e.deprecatedEditorActiveIndentGuides,hcDark:e.deprecatedEditorActiveIndentGuides,hcLight:e.deprecatedEditorActiveIndentGuides},L.localize(20,null)),e.editorActiveIndentGuide2=(0,y.registerColor)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(21,null)),e.editorActiveIndentGuide3=(0,y.registerColor)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(22,null)),e.editorActiveIndentGuide4=(0,y.registerColor)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(23,null)),e.editorActiveIndentGuide5=(0,y.registerColor)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(24,null)),e.editorActiveIndentGuide6=(0,y.registerColor)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(25,null));const S=(0,y.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(26,null),!1,L.localize(27,null));e.editorActiveLineNumber=(0,y.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hcDark:S,hcLight:S},L.localize(28,null)),e.editorDimmedLineNumber=(0,y.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(29,null)),e.editorRuler=(0,y.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:I.Color.lightgrey,hcDark:I.Color.white,hcLight:"#292929"},L.localize(30,null)),e.editorCodeLensForeground=(0,y.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},L.localize(31,null)),e.editorBracketMatchBackground=(0,y.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},L.localize(32,null)),e.editorBracketMatchBorder=(0,y.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:y.contrastBorder,hcLight:y.contrastBorder},L.localize(33,null)),e.editorOverviewRulerBorder=(0,y.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},L.localize(34,null)),e.editorOverviewRulerBackground=(0,y.registerColor)("editorOverviewRuler.background",null,L.localize(35,null)),e.editorGutter=(0,y.registerColor)("editorGutter.background",{dark:y.editorBackground,light:y.editorBackground,hcDark:y.editorBackground,hcLight:y.editorBackground},L.localize(36,null)),e.editorUnnecessaryCodeBorder=(0,y.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:I.Color.fromHex("#fff").transparent(.8),hcLight:y.contrastBorder},L.localize(37,null)),e.editorUnnecessaryCodeOpacity=(0,y.registerColor)("editorUnnecessaryCode.opacity",{dark:I.Color.fromHex("#000a"),light:I.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(38,null)),e.ghostTextBorder=(0,y.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:I.Color.fromHex("#fff").transparent(.8),hcLight:I.Color.fromHex("#292929").transparent(.8)},L.localize(39,null)),e.ghostTextForeground=(0,y.registerColor)("editorGhostText.foreground",{dark:I.Color.fromHex("#ffffff56"),light:I.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(40,null)),e.ghostTextBackground=(0,y.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(41,null));const m=new I.Color(new I.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,y.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:m,light:m,hcDark:m,hcLight:m},L.localize(42,null),!0),e.overviewRulerError=(0,y.registerColor)("editorOverviewRuler.errorForeground",{dark:new I.Color(new I.RGBA(255,18,18,.7)),light:new I.Color(new I.RGBA(255,18,18,.7)),hcDark:new I.Color(new I.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(43,null)),e.overviewRulerWarning=(0,y.registerColor)("editorOverviewRuler.warningForeground",{dark:y.editorWarningForeground,light:y.editorWarningForeground,hcDark:y.editorWarningBorder,hcLight:y.editorWarningBorder},L.localize(44,null)),e.overviewRulerInfo=(0,y.registerColor)("editorOverviewRuler.infoForeground",{dark:y.editorInfoForeground,light:y.editorInfoForeground,hcDark:y.editorInfoBorder,hcLight:y.editorInfoBorder},L.localize(45,null)),e.editorBracketHighlightingForeground1=(0,y.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},L.localize(46,null)),e.editorBracketHighlightingForeground2=(0,y.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},L.localize(47,null)),e.editorBracketHighlightingForeground3=(0,y.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},L.localize(48,null)),e.editorBracketHighlightingForeground4=(0,y.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(49,null)),e.editorBracketHighlightingForeground5=(0,y.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(50,null)),e.editorBracketHighlightingForeground6=(0,y.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(51,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,y.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new I.Color(new I.RGBA(255,18,18,.8)),light:new I.Color(new I.RGBA(255,18,18,.8)),hcDark:new I.Color(new I.RGBA(255,50,50,1)),hcLight:""},L.localize(52,null)),e.editorBracketPairGuideBackground1=(0,y.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(53,null)),e.editorBracketPairGuideBackground2=(0,y.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(54,null)),e.editorBracketPairGuideBackground3=(0,y.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(55,null)),e.editorBracketPairGuideBackground4=(0,y.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(56,null)),e.editorBracketPairGuideBackground5=(0,y.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(57,null)),e.editorBracketPairGuideBackground6=(0,y.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(58,null)),e.editorBracketPairGuideActiveBackground1=(0,y.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(59,null)),e.editorBracketPairGuideActiveBackground2=(0,y.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(60,null)),e.editorBracketPairGuideActiveBackground3=(0,y.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(61,null)),e.editorBracketPairGuideActiveBackground4=(0,y.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(62,null)),e.editorBracketPairGuideActiveBackground5=(0,y.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(63,null)),e.editorBracketPairGuideActiveBackground6=(0,y.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(64,null)),e.editorUnicodeHighlightBorder=(0,y.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},L.localize(65,null)),e.editorUnicodeHighlightBackground=(0,y.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},L.localize(66,null)),(0,D.registerThemingParticipant)((_,v)=>{const C=_.getColor(y.editorBackground),s=_.getColor(e.editorLineHighlight),i=s&&!s.isTransparent()?s:C;i&&v.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${i}; }`)})}),define(te[844],ie([1,0,111,78,13,23,24,86,421]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class _ extends L.DynamicViewOverlay{constructor(i){super(),this._context=i;const n=this._context.configuration.options,t=n.get(143);this._lineHeight=n.get(66),this._renderLineHighlight=n.get(95),this._renderLineHighlightOnlyWhenFocus=n.get(96),this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const n=this._selections.map(r=>r.positionLineNumber);n.sort((r,u)=>r-u),y.equals(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,i=!0);const t=this._selections.every(r=>r.isEmpty());return this._selectionIsEmpty!==t&&(this._selectionIsEmpty=t,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const n=this._context.configuration.options,t=n.get(143);return this._lineHeight=n.get(66),this._renderLineHighlight=n.get(95),this._renderLineHighlightOnlyWhenFocus=n.get(96),this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const n=this._renderOne(i),t=i.visibleRange.startLineNumber,r=i.visibleRange.endLineNumber,u=this._cursorLineNumbers.length;let f=0;const d=[];for(let l=t;l<=r;l++){const o=l-t;for(;f<u&&this._cursorLineNumbers[f]<l;)f++;f<u&&this._cursorLineNumbers[f]===l?d[o]=n:d[o]=""}this._renderData=d}render(i,n){if(!this._renderData)return"";const t=n-i;return t>=this._renderData.length?"":this._renderData[t]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=_;class v extends _{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=v;class C extends _{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=C,(0,D.registerThemingParticipant)((s,i)=>{const n=s.getColor(I.editorLineHighlight);if(n&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||s.defines(I.editorLineHighlightBorder)){const t=s.getColor(I.editorLineHighlightBorder);t&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${t}; }`),(0,m.isHighContrast)(s.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(te[845],ie([1,0,111,78,23,12,13,20,290,210,424]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class C extends L.DynamicViewOverlay{constructor(n){super(),this._context=n,this._primaryPosition=null;const t=this._context.configuration.options,r=t.get(144),u=t.get(50);this._lineHeight=t.get(66),this._spaceWidth=u.spaceWidth,this._maxIndentLeft=r.wrappingColumn===-1?-1:r.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const t=this._context.configuration.options,r=t.get(144),u=t.get(50);return this._lineHeight=t.get(66),this._spaceWidth=u.spaceWidth,this._maxIndentLeft=r.wrappingColumn===-1?-1:r.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(n){var t;const u=n.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(u)?!1:(this._primaryPosition=u,!0)}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}onLanguageConfigurationChanged(n){return!0}prepareRender(n){var t,r,u,f;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const d=n.visibleRange.startLineNumber,l=n.visibleRange.endLineNumber,o=n.scrollWidth,c=this._lineHeight,a=this._primaryPosition,g=this.getGuidesByLine(d,Math.min(l+1,this._context.viewModel.getLineCount()),a),h=[];for(let p=d;p<=l;p++){const b=p-d,w=g[b];let E="";const k=(r=(t=n.visibleRangeForPosition(new D.Position(p,1)))===null||t===void 0?void 0:t.left)!==null&&r!==void 0?r:0;for(const M of w){const R=M.column===-1?k+(M.visibleColumn-1)*this._spaceWidth:n.visibleRangeForPosition(new D.Position(p,M.column)).left;if(R>o||this._maxIndentLeft>0&&R>this._maxIndentLeft)break;const B=M.horizontalLine?M.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",T=M.horizontalLine?((f=(u=n.visibleRangeForPosition(new D.Position(p,M.horizontalLine.endColumn)))===null||u===void 0?void 0:u.left)!==null&&f!==void 0?f:R+this._spaceWidth)-R:this._spaceWidth;E+=`<div class="core-guide ${M.className} ${B}" style="left:${R}px;height:${c}px;width:${T}px"></div>`}h[b]=E}this._renderResult=h}getGuidesByLine(n,t,r){const u=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(n,t,r,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?v.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?v.HorizontalGuidesState.EnabledForActive:v.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,f=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(n,t):null;let d=0,l=0,o=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&r){const g=this._context.viewModel.getActiveIndentGuide(r.lineNumber,n,t);d=g.startLineNumber,l=g.endLineNumber,o=g.indent}const{indentSize:c}=this._context.viewModel.model.getOptions(),a=[];for(let g=n;g<=t;g++){const h=new Array;a.push(h);const p=u?u[g-n]:[],b=new S.ArrayQueue(p),w=f?f[g-n]:0;for(let E=1;E<=w;E++){const k=(E-1)*c+1,M=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||p.length===0)&&d<=g&&g<=l&&E===o;h.push(...b.takeWhile(B=>B.visibleColumn<k)||[]);const R=b.peek();(!R||R.visibleColumn!==k||R.horizontalLine)&&h.push(new v.IndentGuide(k,-1,`core-guide-indent lvl-${(E-1)%30}`+(M?" indent-active":""),null,-1,-1))}h.push(...b.takeWhile(E=>!0)||[])}return a}render(n,t){if(!this._renderResult)return"";const r=t-n;return r<0||r>=this._renderResult.length?"":this._renderResult[r]}}e.IndentGuidesOverlay=C;function s(i){if(!(i&&i.isTransparent()))return i}(0,y.registerThemingParticipant)((i,n)=>{const t=[{bracketColor:I.editorBracketHighlightingForeground1,guideColor:I.editorBracketPairGuideBackground1,guideColorActive:I.editorBracketPairGuideActiveBackground1},{bracketColor:I.editorBracketHighlightingForeground2,guideColor:I.editorBracketPairGuideBackground2,guideColorActive:I.editorBracketPairGuideActiveBackground2},{bracketColor:I.editorBracketHighlightingForeground3,guideColor:I.editorBracketPairGuideBackground3,guideColorActive:I.editorBracketPairGuideActiveBackground3},{bracketColor:I.editorBracketHighlightingForeground4,guideColor:I.editorBracketPairGuideBackground4,guideColorActive:I.editorBracketPairGuideActiveBackground4},{bracketColor:I.editorBracketHighlightingForeground5,guideColor:I.editorBracketPairGuideBackground5,guideColorActive:I.editorBracketPairGuideActiveBackground5},{bracketColor:I.editorBracketHighlightingForeground6,guideColor:I.editorBracketPairGuideBackground6,guideColorActive:I.editorBracketPairGuideActiveBackground6}],r=new _.BracketPairGuidesClassNames,u=[{indentColor:I.editorIndentGuide1,indentColorActive:I.editorActiveIndentGuide1},{indentColor:I.editorIndentGuide2,indentColorActive:I.editorActiveIndentGuide2},{indentColor:I.editorIndentGuide3,indentColorActive:I.editorActiveIndentGuide3},{indentColor:I.editorIndentGuide4,indentColorActive:I.editorActiveIndentGuide4},{indentColor:I.editorIndentGuide5,indentColorActive:I.editorActiveIndentGuide5},{indentColor:I.editorIndentGuide6,indentColorActive:I.editorActiveIndentGuide6}],f=t.map(l=>{var o,c;const a=i.getColor(l.bracketColor),g=i.getColor(l.guideColor),h=i.getColor(l.guideColorActive),p=s((o=s(g))!==null&&o!==void 0?o:a?.transparent(.3)),b=s((c=s(h))!==null&&c!==void 0?c:a);if(!(!p||!b))return{guideColor:p,guideColorActive:b}}).filter(m.isDefined),d=u.map(l=>{const o=i.getColor(l.indentColor),c=i.getColor(l.indentColorActive),a=s(o),g=s(c);if(!(!a||!g))return{indentColor:a,indentColorActive:g}}).filter(m.isDefined);if(f.length>0){for(let l=0;l<30;l++){const o=f[l%f.length];n.addRule(`.monaco-editor .${r.getInlineClassNameOfLevel(l).replace(/ /g,".")} { --guide-color: ${o.guideColor}; --guide-color-active: ${o.guideColorActive}; }`)}n.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),n.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),n.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),n.addRule(`.monaco-editor .vertical.${r.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),n.addRule(`.monaco-editor .horizontal-top.${r.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),n.addRule(`.monaco-editor .horizontal-bottom.${r.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(d.length>0){for(let l=0;l<30;l++){const o=d[l%d.length];n.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${l} { --indent-color: ${o.indentColor}; --indent-color-active: ${o.indentColorActive}; }`)}n.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),n.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(te[361],ie([1,0,17,111,12,23,78,425]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class m extends I.DynamicViewOverlay{constructor(v){super(),this._context=v,this._readConfig(),this._lastCursorModelPosition=new y.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const v=this._context.configuration.options;this._lineHeight=v.get(66);const C=v.get(67);this._renderLineNumbers=C.renderType,this._renderCustomLineNumbers=C.renderFn,this._renderFinalNewline=v.get(94);const s=v.get(143);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){return this._readConfig(),!0}onCursorStateChanged(v){const C=v.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(C);let s=!1;return this._activeLineNumber!==C.lineNumber&&(this._activeLineNumber=C.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}_getLineRenderLineNumber(v){const C=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(v,1));if(C.column!==1)return"";const s=C.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-s);return i===0?'<span class="relative-current-line-number">'+s+"</span>":String(i)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===s||s%10===0?String(s):"":String(s)}prepareRender(v){if(this._renderLineNumbers===0){this._renderResult=null;return}const C=L.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",s=v.visibleRange.startLineNumber,i=v.visibleRange.endLineNumber,n=this._context.viewModel.getLineCount(),t=[];for(let r=s;r<=i;r++){const u=r-s,f=this._getLineRenderLineNumber(r);if(!f){t[u]="";continue}let d="";if(r===n&&this._context.viewModel.getLineLength(r)===0){if(this._renderFinalNewline==="off"){t[u]="";continue}this._renderFinalNewline==="dimmed"&&(d=" dimmed-line-number")}r===this._activeLineNumber&&(d=" active-line-number"),t[u]=`<div class="${m.CLASS_NAME}${C}${d}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${f}</div>`}this._renderResult=t}render(v,C){if(!this._renderResult)return"";const s=C-v;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=m,m.CLASS_NAME="line-numbers",(0,D.registerThemingParticipant)((_,v)=>{const C=_.getColor(S.editorLineNumbers),s=_.getColor(S.editorDimmedLineNumber);s?v.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${s}; }`):C&&v.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${C.transparent(.4)}; }`)})}),define(te[846],ie([1,0,605,51,38,17,10,70,183,273,53,361,292,39,144,12,5,24,198,29,36,262,34,419]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class g{constructor(E,k,M,R,B){this._context=E,this.modelLineNumber=k,this.distanceToModelLineStart=M,this.widthOfHiddenLineTextBefore=R,this.distanceToModelLineEnd=B,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(E){const k=new r.Position(this.modelLineNumber,this.distanceToModelLineStart+1),M=new r.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(k),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(M),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=E.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=E.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(E){return this._previousPresentation||(E?this._previousPresentation=E:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const h=I.isFirefox;let p=class extends C.ViewPart{constructor(E,k,M,R){super(E),this._keybindingService=R,this._primaryCursorPosition=new r.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=k,this._visibleRangeProvider=M,this._scrollLeft=0,this._scrollTop=0;const B=this._context.configuration.options,T=B.get(143);this._setAccessibilityOptions(B),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._contentHeight=T.height,this._fontInfo=B.get(50),this._lineHeight=B.get(66),this._emptySelectionClipboard=B.get(37),this._copyWithSyntaxHighlighting=B.get(25),this._visibleTextArea=null,this._selections=[new f.Selection(1,1,1,1)],this._modelSelections=[new f.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,y.createFastDomNode)(document.createElement("textarea")),C.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${d.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:N}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${N*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(B)),this.textArea.setAttribute("aria-required",B.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(B.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",L.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",B.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,y.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const A={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:x=>this._context.viewModel.getLineMaxColumn(x),getValueInRange:(x,W)=>this._context.viewModel.getValueInRange(x,W),getValueLengthInRange:(x,W)=>this._context.viewModel.getValueLengthInRange(x,W),modifyPosition:(x,W)=>this._context.viewModel.modifyPosition(x,W)},P={getDataToCopy:()=>{const x=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),W=this._context.viewModel.model.getEOL(),U=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),F=Array.isArray(x)?x:null,G=Array.isArray(x)?x.join(W):x;let Y,ne=null;if(_.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&G.length<65536){const se=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);se&&(Y=se.html,ne=se.mode)}return{isFromEmptySelection:U,multicursorText:F,text:G,html:Y,mode:ne}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const x=this._selections[0];if(D.isMacintosh&&x.isEmpty()){const U=x.getStartPosition();let F=this._getWordBeforePosition(U);if(F.length===0&&(F=this._getCharacterBeforePosition(U)),F.length>0)return new v.TextAreaState(F,F.length,F.length,u.Range.fromPositions(U),0)}const W=500;if(D.isMacintosh&&!x.isEmpty()&&A.getValueLengthInRange(x,0)<W){const U=A.getValueInRange(x,0);return new v.TextAreaState(U,0,U.length,x,0)}if(I.isSafari&&!x.isEmpty()){const U="vscode-placeholder";return new v.TextAreaState(U,0,U.length,null,void 0)}return v.TextAreaState.EMPTY}if(I.isAndroid){const x=this._selections[0];if(x.isEmpty()){const W=x.getStartPosition(),[U,F]=this._getAndroidWordAtPosition(W);if(U.length>0)return new v.TextAreaState(U,F,F,u.Range.fromPositions(W),0)}return v.TextAreaState.EMPTY}return v.PagedScreenReaderStrategy.fromEditorSelection(A,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(x,W,U)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(x,W,U)},O=this._register(new _.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new _.TextAreaInput(P,O,D.OS,{isAndroid:I.isAndroid,isChrome:I.isChrome,isFirefox:I.isFirefox,isSafari:I.isSafari})),this._register(this._textAreaInput.onKeyDown(x=>{this._viewController.emitKeyDown(x)})),this._register(this._textAreaInput.onKeyUp(x=>{this._viewController.emitKeyUp(x)})),this._register(this._textAreaInput.onPaste(x=>{let W=!1,U=null,F=null;x.metadata&&(W=this._emptySelectionClipboard&&!!x.metadata.isFromEmptySelection,U=typeof x.metadata.multicursorText<"u"?x.metadata.multicursorText:null,F=x.metadata.mode),this._viewController.paste(x.text,W,U,F)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(x=>{x.replacePrevCharCnt||x.replaceNextCharCnt||x.positionDelta?(v._debugComposition&&console.log(` => compositionType: <<${x.text}>>, ${x.replacePrevCharCnt}, ${x.replaceNextCharCnt}, ${x.positionDelta}`),this._viewController.compositionType(x.text,x.replacePrevCharCnt,x.replaceNextCharCnt,x.positionDelta)):(v._debugComposition&&console.log(` => type: <<${x.text}>>`),this._viewController.type(x.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(x=>{this._viewController.setSelection(x)})),this._register(this._textAreaInput.onCompositionStart(x=>{const W=this.textArea.domNode,U=this._modelSelections[0],{distanceToModelLineStart:F,widthOfHiddenTextBefore:G}=(()=>{const ne=W.value.substring(0,Math.min(W.selectionStart,W.selectionEnd)),se=ne.lastIndexOf(`
`),J=ne.substring(se+1),q=J.lastIndexOf("	"),H=J.length-q-1,V=U.getStartPosition(),Z=Math.min(V.column-1,H),ee=V.column-1-Z,le=J.substring(0,J.length-Z),{tabSize:ue}=this._context.viewModel.model.getOptions(),de=b(this.textArea.domNode.ownerDocument,le,this._fontInfo,ue);return{distanceToModelLineStart:ee,widthOfHiddenTextBefore:de}})(),{distanceToModelLineEnd:Y}=(()=>{const ne=W.value.substring(Math.max(W.selectionStart,W.selectionEnd)),se=ne.indexOf(`
`),J=se===-1?ne:ne.substring(0,se),q=J.indexOf("	"),H=q===-1?J.length:J.length-q-1,V=U.getEndPosition(),Z=Math.min(this._context.viewModel.model.getLineMaxColumn(V.lineNumber)-V.column,H);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(V.lineNumber)-V.column-Z}})();this._context.viewModel.revealRange("keyboard",!0,u.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new g(this._context,U.startLineNumber,F,G,Y),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${d.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(x=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${d.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(c.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(E){this._textAreaInput.writeScreenReaderContent(E)}dispose(){super.dispose()}_getAndroidWordAtPosition(E){const k='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',M=this._context.viewModel.getLineContent(E.lineNumber),R=(0,t.getMapForWordSeparators)(k);let B=!0,T=E.column,N=!0,A=E.column,P=0;for(;P<50&&(B||N);){if(B&&T<=1&&(B=!1),B){const O=M.charCodeAt(T-2);R.get(O)!==0?B=!1:T--}if(N&&A>M.length&&(N=!1),N){const O=M.charCodeAt(A-1);R.get(O)!==0?N=!1:A++}P++}return[M.substring(T-1,A-1),E.column-T]}_getWordBeforePosition(E){const k=this._context.viewModel.getLineContent(E.lineNumber),M=(0,t.getMapForWordSeparators)(this._context.configuration.options.get(129));let R=E.column,B=0;for(;R>1;){const T=k.charCodeAt(R-2);if(M.get(T)!==0||B>50)return k.substring(R-1,E.column-1);B++,R--}return k.substring(0,E.column-1)}_getCharacterBeforePosition(E){if(E.column>1){const M=this._context.viewModel.getLineContent(E.lineNumber).charAt(E.column-2);if(!S.isHighSurrogate(M.charCodeAt(0)))return M}return""}_getAriaLabel(E){var k,M,R;if(E.get(2)===1){const T=(k=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||k===void 0?void 0:k.getAriaLabel(),N=(M=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||M===void 0?void 0:M.getAriaLabel(),A=(R=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||R===void 0?void 0:R.getAriaLabel(),P=L.localize(1,null);return T?L.localize(2,null,P,T):N?L.localize(3,null,P,N):A?L.localize(4,null,P,A):P}return E.get(4)}_setAccessibilityOptions(E){this._accessibilitySupport=E.get(2);const k=E.get(3);this._accessibilitySupport===2&&k===n.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=k;const R=E.get(143).wrappingColumn;if(R!==-1&&this._accessibilitySupport!==1){const B=E.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(R*B.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=h?0:1}onConfigurationChanged(E){const k=this._context.configuration.options,M=k.get(143);this._setAccessibilityOptions(k),this._contentLeft=M.contentLeft,this._contentWidth=M.contentWidth,this._contentHeight=M.height,this._fontInfo=k.get(50),this._lineHeight=k.get(66),this._emptySelectionClipboard=k.get(37),this._copyWithSyntaxHighlighting=k.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:R}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${R*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(k)),this.textArea.setAttribute("aria-required",k.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(k.get(123))),(E.hasChanged(34)||E.hasChanged(90))&&this._ensureReadOnlyAttribute(),E.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(E){return this._selections=E.selections.slice(0),this._modelSelections=E.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(E){return!0}onFlushed(E){return!0}onLinesChanged(E){return!0}onLinesDeleted(E){return!0}onLinesInserted(E){return!0}onScrollChanged(E){return this._scrollLeft=E.scrollLeft,this._scrollTop=E.scrollTop,!0}onZonesChanged(E){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(E){E.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",E.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),E.role&&this.textArea.setAttribute("role",E.role)}_ensureReadOnlyAttribute(){const E=this._context.configuration.options;!c.IME.enabled||E.get(34)&&E.get(90)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(E){var k;this._primaryCursorPosition=new r.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=E.visibleRangeForPosition(this._primaryCursorPosition),(k=this._visibleTextArea)===null||k===void 0||k.prepareRender(E)}render(E){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var E;if(this._visibleTextArea){const R=this._visibleTextArea.visibleTextareaStart,B=this._visibleTextArea.visibleTextareaEnd,T=this._visibleTextArea.startPosition,N=this._visibleTextArea.endPosition;if(T&&N&&R&&B&&B.left>=this._scrollLeft&&R.left<=this._scrollLeft+this._contentWidth){const A=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,P=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let O=this._visibleTextArea.widthOfHiddenLineTextBefore,x=this._contentLeft+R.left-this._scrollLeft,W=B.left-R.left+1;if(x<this._contentLeft){const se=this._contentLeft-x;x+=se,O+=se,W-=se}W>this._contentWidth&&(W=this._contentWidth);const U=this._context.viewModel.getViewLineData(T.lineNumber),F=U.tokens.findTokenIndexAtOffset(T.column-1),G=U.tokens.findTokenIndexAtOffset(N.column-1),Y=F===G,ne=this._visibleTextArea.definePresentation(Y?U.tokens.getPresentation(F):null);this.textArea.domNode.scrollTop=P*this._lineHeight,this.textArea.domNode.scrollLeft=O,this._doRender({lastRenderPosition:null,top:A,left:x,width:W,height:this._lineHeight,useCover:!1,color:(l.TokenizationRegistry.getColorMap()||[])[ne.foreground],italic:ne.italic,bold:ne.bold,underline:ne.underline,strikethrough:ne.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const k=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(k<this._contentLeft||k>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const M=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(M<0||M>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:M,left:this._textAreaWrapping?this._contentLeft:k,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const R=(E=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&E!==void 0?E:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=R*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:M,left:this._textAreaWrapping?this._contentLeft:k,width:this._textAreaWidth,height:h?0:1,useCover:!1})}_newlinecount(E){let k=0,M=-1;do{if(M=E.indexOf(`
`,M+1),M===-1)break;k++}while(!0);return k}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:h?0:1,useCover:!0})}_doRender(E){this._lastRenderPosition=E.lastRenderPosition;const k=this.textArea,M=this.textAreaCover;(0,m.applyFontInfo)(k,this._fontInfo),k.setTop(E.top),k.setLeft(E.left),k.setWidth(E.width),k.setHeight(E.height),k.setColor(E.color?o.Color.Format.CSS.formatHex(E.color):""),k.setFontStyle(E.italic?"italic":""),E.bold&&k.setFontWeight("bold"),k.setTextDecoration(`${E.underline?" underline":""}${E.strikethrough?" line-through":""}`),M.setTop(E.useCover?E.top:0),M.setLeft(E.useCover?E.left:0),M.setWidth(E.useCover?E.width:0),M.setHeight(E.useCover?E.height:0);const R=this._context.configuration.options;R.get(57)?M.setClassName("monaco-editor-background textAreaCover "+i.Margin.OUTER_CLASS_NAME):R.get(67).renderType!==0?M.setClassName("monaco-editor-background textAreaCover "+s.LineNumbersOverlay.CLASS_NAME):M.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=p,e.TextAreaHandler=p=Ie([ge(3,a.IKeybindingService)],p);function b(w,E,k,M){if(E.length===0)return 0;const R=w.createElement("div");R.style.position="absolute",R.style.top="-50000px",R.style.width="50000px";const B=w.createElement("span");(0,m.applyFontInfo)(B,k),B.style.whiteSpace="pre",B.style.tabSize=`${M*k.spaceWidth}px`,B.append(E),R.appendChild(B),w.body.appendChild(R);const T=B.offsetWidth;return w.body.removeChild(R),T}}),define(te[847],ie([1,0,38,36,53,12,29,78,82,13]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class C{constructor(n,t){const r=n.options;this.lineHeight=r.get(66),this.pixelRatio=r.get(141),this.overviewRulerLanes=r.get(82),this.renderBorder=r.get(81);const u=t.getColor(m.editorOverviewRulerBorder);this.borderColor=u?u.toString():null,this.hideCursor=r.get(59);const f=t.getColor(m.editorCursorForeground);this.cursorColor=f?f.transparent(.7).toString():null,this.themeType=t.type;const d=r.get(72),l=d.enabled,o=d.side,c=t.getColor(m.editorOverviewRulerBackground),a=S.TokenizationRegistry.getDefaultBackground();c?this.backgroundColor=c:l&&o==="right"?this.backgroundColor=a:this.backgroundColor=null;const h=r.get(143).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[p,b]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=p,this.w=b}_initLanes(n,t,r){const u=t-n;if(r>=3){const f=Math.floor(u/3),d=Math.floor(u/3),l=u-f-d,o=n,c=o+f,a=o+f+l;return[[0,o,c,o,a,o,c,o],[0,f,l,f+l,d,f+l+d,l+d,f+l+d]]}else if(r===2){const f=Math.floor(u/2),d=u-f,l=n,o=l+f;return[[0,l,l,l,o,l,l,l],[0,f,f,f,d,f+d,f+d,f+d]]}else{const f=n,d=u;return[[0,f,f,f,f,f,f,f],[0,d,d,d,d,d,d,d]]}}equals(n){return this.lineHeight===n.lineHeight&&this.pixelRatio===n.pixelRatio&&this.overviewRulerLanes===n.overviewRulerLanes&&this.renderBorder===n.renderBorder&&this.borderColor===n.borderColor&&this.hideCursor===n.hideCursor&&this.cursorColor===n.cursorColor&&this.themeType===n.themeType&&I.Color.equals(this.backgroundColor,n.backgroundColor)&&this.top===n.top&&this.right===n.right&&this.domWidth===n.domWidth&&this.domHeight===n.domHeight&&this.canvasWidth===n.canvasWidth&&this.canvasHeight===n.canvasHeight}}class s extends y.ViewPart{constructor(n){super(n),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(n){const t=new C(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,n&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(n){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(n){this._cursorPositions=[];for(let t=0,r=n.selections.length;t<r;t++)this._cursorPositions[t]=n.selections[t].getPosition();return this._cursorPositions.sort(D.Position.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(n){return n.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(n){return this._markRenderingIsNeeded()}onScrollChanged(n){return n.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(n){return this._markRenderingIsNeeded()}onThemeChanged(n){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(n){}render(n){this._render(),this._actualShouldRender=0}_render(){const n=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(n?I.Color.Format.CSS.formatHexA(n):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(_.OverviewRulerDecorationsGroup.compareByRenderingProps),this._actualShouldRender===1&&!_.OverviewRulerDecorationsGroup.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,v.equals)(this._renderedCursorPositions,this._cursorPositions,(b,w)=>b.lineNumber===w.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const r=this._settings.canvasWidth,u=this._settings.canvasHeight,f=this._settings.lineHeight,d=this._context.viewLayout,l=this._context.viewLayout.getScrollHeight(),o=u/l,c=6*this._settings.pixelRatio|0,a=c/2|0,g=this._domNode.domNode.getContext("2d");n?n.isOpaque()?(g.fillStyle=I.Color.Format.CSS.formatHexA(n),g.fillRect(0,0,r,u)):(g.clearRect(0,0,r,u),g.fillStyle=I.Color.Format.CSS.formatHexA(n),g.fillRect(0,0,r,u)):g.clearRect(0,0,r,u);const h=this._settings.x,p=this._settings.w;for(const b of t){const w=b.color,E=b.data;g.fillStyle=w;let k=0,M=0,R=0;for(let B=0,T=E.length/3;B<T;B++){const N=E[3*B],A=E[3*B+1],P=E[3*B+2];let O=d.getVerticalOffsetForLineNumber(A)*o|0,x=(d.getVerticalOffsetForLineNumber(P)+f)*o|0;if(x-O<c){let U=(O+x)/2|0;U<a?U=a:U+a>u&&(U=u-a),O=U-a,x=U+a}O>R+1||N!==k?(B!==0&&g.fillRect(h[k],M,p[k],R-M),k=N,M=O,R=x):x>R&&(R=x)}g.fillRect(h[k],M,p[k],R-M)}if(!this._settings.hideCursor&&this._settings.cursorColor){const b=2*this._settings.pixelRatio|0,w=b/2|0,E=this._settings.x[7],k=this._settings.w[7];g.fillStyle=this._settings.cursorColor;let M=-100,R=-100;for(let B=0,T=this._cursorPositions.length;B<T;B++){const N=this._cursorPositions[B];let A=d.getVerticalOffsetForLineNumber(N.lineNumber)*o|0;A<w?A=w:A+w>u&&(A=u-w);const P=A-w,O=P+b;P>R+1?(B!==0&&g.fillRect(E,M,k,R-M),M=P,R=O):O>R&&(R=O)}g.fillRect(E,M,k,R-M)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(g.beginPath(),g.lineWidth=1,g.strokeStyle=this._settings.borderColor,g.moveTo(0,0),g.lineTo(0,u),g.stroke(),g.moveTo(0,0),g.lineTo(r,0),g.stroke())}}e.DecorationsOverviewRuler=s}),define(te[848],ie([1,0,38,14,53,620,39,78,23,86,435]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class C extends y.ViewPart{constructor(i){super(i);const n=this._context.configuration.options;this._readOnly=n.get(90),this._cursorBlinking=n.get(26),this._cursorStyle=n.get(28),this._cursorSmoothCaretAnimation=n.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new I.TimeoutTimer,this._cursorFlatBlinkInterval=new I.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const n=this._context.configuration.options;this._readOnly=n.get(90),this._cursorBlinking=n.get(26),this._cursorStyle=n.get(28),this._cursorSmoothCaretAnimation=n.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let t=0,r=this._secondaryCursors.length;t<r;t++)this._secondaryCursors[t].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,n,t){const r=this._secondaryCursors.length!==n.length||this._cursorSmoothCaretAnimation==="explicit"&&t!==3;if(this._primaryCursor.onCursorPositionChanged(i,r),this._updateBlinking(),this._secondaryCursors.length<n.length){const u=n.length-this._secondaryCursors.length;for(let f=0;f<u;f++){const d=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>n.length){const u=this._secondaryCursors.length-n.length;for(let f=0;f<u;f++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let u=0;u<n.length;u++)this._secondaryCursors[u].onCursorPositionChanged(n[u],r)}onCursorStateChanged(i){const n=[];for(let r=0,u=i.selections.length;r<u;r++)n[r]=i.selections[r].getPosition();this._onCursorPositionChanged(n[0],n.slice(1),i.reason);const t=i.selections[0].isEmpty();return this._selectionIsEmpty!==t&&(this._selectionIsEmpty=t,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const n=t=>{for(let r=0,u=i.ranges.length;r<u;r++)if(i.ranges[r].fromLineNumber<=t.lineNumber&&t.lineNumber<=i.ranges[r].toLineNumber)return!0;return!1};if(n(this._primaryCursor.getPosition()))return!0;for(const t of this._secondaryCursors)if(n(t.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),n=i===0,t=i===5;n?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!n&&!t&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},C.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},C.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let n=0,t=this._secondaryCursors.length;n<t;n++)this._secondaryCursors[n].prepareRender(i)}render(i){const n=[];let t=0;const r=this._primaryCursor.render(i);r&&(n[t++]=r);for(let u=0,f=this._secondaryCursors.length;u<f;u++){const d=this._secondaryCursors[u].render(i);d&&(n[t++]=d)}this._renderData=n}getLastRenderData(){return this._renderData}}e.ViewCursors=C,C.BLINK_INTERVAL=500,(0,_.registerThemingParticipant)((s,i)=>{const n=s.getColor(m.editorCursorForeground);if(n){let t=s.getColor(m.editorCursorBackground);t||(t=n.opposite()),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${t}; }`),(0,v.isHighContrast)(s.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${t}; border-right: 1px solid ${t}; }`)}})}),define(te[849],ie([1,0,111,10,114,12,78,436]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class m extends L.DynamicViewOverlay{constructor(C){super(),this._context=C,this._options=new _(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const s=new _(this._context.configuration);return this._options.equals(s)?C.hasChanged(143):(this._options=s,!0)}onCursorStateChanged(C){return this._selection=C.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}prepareRender(C){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const s=C.visibleRange.startLineNumber,n=C.visibleRange.endLineNumber-s+1,t=new Array(n);for(let u=0;u<n;u++)t[u]=!0;const r=this._context.viewModel.getMinimapLinesRenderingData(C.viewportData.startLineNumber,C.viewportData.endLineNumber,t);this._renderResult=[];for(let u=C.viewportData.startLineNumber;u<=C.viewportData.endLineNumber;u++){const f=u-C.viewportData.startLineNumber,d=r.data[f];let l=null;if(this._options.renderWhitespace==="selection"){const o=this._selection;for(const c of o){if(c.endLineNumber<u||c.startLineNumber>u)continue;const a=c.startLineNumber===u?c.startColumn:d.minColumn,g=c.endLineNumber===u?c.endColumn:d.maxColumn;a<g&&(l||(l=[]),l.push(new y.LineRange(a-1,g-1)))}}this._renderResult[f]=this._applyRenderWhitespace(C,u,l,d)}}_applyRenderWhitespace(C,s,i,n){if(this._options.renderWhitespace==="selection"&&!i||this._options.renderWhitespace==="trailing"&&n.continuesWithWrappedLine)return"";const t=this._context.theme.getColor(S.editorWhitespaces),r=this._options.renderWithSVG,u=n.content,f=this._options.stopRenderingLineAfter===-1?u.length:Math.min(this._options.stopRenderingLineAfter,u.length),d=n.continuesWithWrappedLine,l=n.minColumn-1,o=this._options.renderWhitespace==="boundary",c=this._options.renderWhitespace==="trailing",a=this._options.lineHeight,g=this._options.middotWidth,h=this._options.wsmiddotWidth,p=this._options.spaceWidth,b=Math.abs(h-p),w=Math.abs(g-p),E=b<w?11825:183,k=this._options.canUseHalfwidthRightwardsArrow;let M="",R=!1,B=I.firstNonWhitespaceIndex(u),T;B===-1?(R=!0,B=f,T=f):T=I.lastNonWhitespaceIndex(u);let N=0,A=i&&i[N],P=0;for(let O=l;O<f;O++){const x=u.charCodeAt(O);if(A&&O>=A.endOffset&&(N++,A=i&&i[N]),x!==9&&x!==32||c&&!R&&O<=T)continue;if(o&&O>=B&&O<=T&&x===32){const U=O-1>=0?u.charCodeAt(O-1):0,F=O+1<f?u.charCodeAt(O+1):0;if(U!==32&&F!==32)continue}if(o&&d&&O===f-1){const U=O-1>=0?u.charCodeAt(O-1):0;if(x===32&&U!==32&&U!==9)continue}if(i&&(!A||A.startOffset>O||A.endOffset<=O))continue;const W=C.visibleRangeForPosition(new D.Position(s,O+1));W&&(r?(P=Math.max(P,W.left),x===9?M+=this._renderArrow(a,p,W.left):M+=`<circle cx="${(W.left+p/2).toFixed(2)}" cy="${(a/2).toFixed(2)}" r="${(p/7).toFixed(2)}" />`):x===9?M+=`<div class="mwh" style="left:${W.left}px;height:${a}px;">${k?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:M+=`<div class="mwh" style="left:${W.left}px;height:${a}px;">${String.fromCharCode(E)}</div>`)}return r?(P=Math.round(P+p),`<svg style="position:absolute;width:${P}px;height:${a}px" viewBox="0 0 ${P} ${a}" xmlns="http://www.w3.org/2000/svg" fill="${t}">`+M+"</svg>"):M}_renderArrow(C,s,i){const n=s/7,t=s,r=C/2,u=i,f={x:0,y:n/2},d={x:100/125*t,y:f.y},l={x:d.x-.2*d.x,y:d.y+.2*d.x},o={x:l.x+.1*d.x,y:l.y+.1*d.x},c={x:o.x+.35*d.x,y:o.y-.35*d.x},a={x:c.x,y:-c.y},g={x:o.x,y:-o.y},h={x:l.x,y:-l.y},p={x:d.x,y:-d.y},b={x:f.x,y:-f.y};return`<path d="M ${[f,d,l,o,c,a,g,h,p,b].map(k=>`${(u+k.x).toFixed(2)} ${(r+k.y).toFixed(2)}`).join(" L ")}" />`}render(C,s){if(!this._renderResult)return"";const i=s-C;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.WhitespaceOverlay=m;class _{constructor(C){const s=C.options,i=s.get(50),n=s.get(38);n==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):n==="svg"?(this.renderWhitespace=s.get(98),this.renderWithSVG=!0):(this.renderWhitespace=s.get(98),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=s.get(66),this.stopRenderingLineAfter=s.get(116)}equals(C){return this.renderWhitespace===C.renderWhitespace&&this.renderWithSVG===C.renderWithSVG&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineHeight===C.lineHeight&&this.stopRenderingLineAfter===C.stopRenderingLineAfter}}}),define(te[850],ie([1,0,7,24,5,38,9,836,846,792,272,596,53,592,844,525,841,845,361,837,526,292,527,822,528,847,537,529,530,842,848,531,12,142,538,534,148,23,358,524,258,849,211,49,8]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M,R,B,T,N,A,P,O,x,W,U,F,G,Y,ne){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let se=class extends P.ViewEventHandler{constructor(H,V,Z,ee,le,ue,de){super(),this._instantiationService=de,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new I.Selection(1,1,1,1)],this._renderAnimationFrame=null;const ce=new v.ViewController(V,ee,le,H);this._context=new N.ViewContext(V,Z,ee),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(_.TextAreaHandler,this._context,ce,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,D.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,D.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,D.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new u.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new l.ViewLines(this._context,this._linesContent),this._viewZones=new R.ViewZones(this._context),this._viewParts.push(this._viewZones);const ae=new p.DecorationsOverviewRuler(this._context);this._viewParts.push(ae);const X=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(X);const K=new s.ContentViewOverlays(this._context);this._viewParts.push(K),K.addDynamicOverlay(new t.CurrentLineHighlightOverlay(this._context)),K.addDynamicOverlay(new k.SelectionsOverlay(this._context)),K.addDynamicOverlay(new f.IndentGuidesOverlay(this._context)),K.addDynamicOverlay(new r.DecorationsOverlay(this._context)),K.addDynamicOverlay(new F.WhitespaceOverlay(this._context));const z=new s.MarginViewOverlays(this._context);this._viewParts.push(z),z.addDynamicOverlay(new t.CurrentLineMarginHighlightOverlay(this._context)),z.addDynamicOverlay(new a.MarginViewLineDecorationsOverlay(this._context)),z.addDynamicOverlay(new o.LinesDecorationsOverlay(this._context)),z.addDynamicOverlay(new d.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new G.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const Q=new c.Margin(this._context);Q.getDomNode().appendChild(this._viewZones.marginDomNode),Q.getDomNode().appendChild(z.getDomNode()),Q.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(Q),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new M.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new h.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const j=new w.Rulers(this._context);this._viewParts.push(j);const re=new W.BlockDecorations(this._context);this._viewParts.push(re);const oe=new g.Minimap(this._context);if(this._viewParts.push(oe),ae){const he=this._scrollbar.getOverviewRulerLayoutInfo();he.parent.insertBefore(ae.getDomNode(),he.insertBefore)}this._linesContent.appendChild(K.getDomNode()),this._linesContent.appendChild(j.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Q.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(X.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(oe.getDomNode()),this._overflowGuardContainer.appendChild(re.domNode),this.domNode.appendChild(this._overflowGuardContainer),ue?ue.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new m.PointerHandler(this._context,ce,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),U.inputLatency.onRenderStart(),this._renderNow()}_computeGlyphMarginLaneCount(){const H=this._context.viewModel.model;let V=[];V=V.concat(H.getAllMarginDecorations().map(le=>{var ue,de;const ce=(de=(ue=le.options.glyphMargin)===null||ue===void 0?void 0:ue.position)!==null&&de!==void 0?de:Y.GlyphMarginLane.Left;return{range:le.range,lane:ce}})),V=V.concat(this._glyphMarginWidgets.getWidgets().map(le=>({range:H.validateRange(le.preference.range),lane:le.preference.lane}))),V.sort((le,ue)=>y.Range.compareRangesUsingStarts(le.range,ue.range));let Z=null,ee=null;for(const le of V)if(le.lane===Y.GlyphMarginLane.Left&&(!Z||y.Range.compareRangesUsingEnds(Z,le.range)<0)&&(Z=le.range),le.lane===Y.GlyphMarginLane.Right&&(!ee||y.Range.compareRangesUsingEnds(ee,le.range)<0)&&(ee=le.range),Z&&ee){if(Z.endLineNumber<ee.startLineNumber){Z=null;continue}if(ee.endLineNumber<Z.startLineNumber){ee=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:H=>{this._textAreaHandler.textArea.domNode.dispatchEvent(H)},getLastRenderData:()=>{const H=this._viewCursors.getLastRenderData()||[],V=this._textAreaHandler.getLastRenderData();return new x.PointerHandlerLastRenderData(H,V)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:H=>this._viewZones.shouldSuppressMouseDownOnViewZone(H),shouldSuppressMouseDownOnWidget:H=>this._contentWidgets.shouldSuppressMouseDownOnWidget(H),getPositionFromDOMInfo:(H,V)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(H,V)),visibleRangeForPosition:(H,V)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new B.Position(H,V))),getLineWidth:H=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(H))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:H=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(H))}}_applyLayout(){const V=this._context.configuration.options.get(143);this.domNode.setWidth(V.width),this.domNode.setHeight(V.height),this._overflowGuardContainer.setWidth(V.width),this._overflowGuardContainer.setHeight(V.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const H=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+(0,O.getThemeTypeSelector)(this._context.theme.type)+H}handleEvents(H){super.handleEvents(H),this._scheduleRender()}onConfigurationChanged(H){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(H){return this._selections=H.selections,!1}onDecorationsChanged(H){return H.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(H){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(H){return this._context.theme.update(H.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const H of this._viewParts)H.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=L.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){J(()=>this._actualRender())}_getViewPartsToRender(){const H=[];let V=0;for(const Z of this._viewParts)Z.shouldRender()&&(H[V++]=Z);return H}_actualRender(){if(!L.isInDOM(this.domNode.domNode))return;let H=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&H.length===0)return;const V=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(V.startLineNumber,V.endLineNumber,V.centeredLineNumber);const Z=new A.ViewportData(this._selections,V,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(Z),this._viewLines.shouldRender()&&(this._viewLines.renderText(Z),this._viewLines.onDidRender(),H=this._getViewPartsToRender());const ee=new T.RenderingContext(this._context.viewLayout,Z,this._viewLines);for(const le of H)le.prepareRender(ee);for(const le of H)le.render(ee),le.onDidRender()}delegateVerticalScrollbarPointerDown(H){this._scrollbar.delegateVerticalScrollbarPointerDown(H)}delegateScrollFromMouseWheelEvent(H){this._scrollbar.delegateScrollFromMouseWheelEvent(H)}restoreState(H){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:H.scrollTop,scrollLeft:H.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(H,V){const Z=this._context.viewModel.model.validatePosition({lineNumber:H,column:V}),ee=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);this._flushAccumulatedAndRenderNow();const le=this._viewLines.visibleRangeForPosition(new B.Position(ee.lineNumber,ee.column));return le?le.left:-1}getTargetAtClientPoint(H,V){const Z=this._pointerHandler.getTargetAtClientPoint(H,V);return Z?C.ViewUserInputEvents.convertViewToModelMouseTarget(Z,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(H){return new b.OverviewRuler(this._context,H)}change(H){this._viewZones.changeViewZones(H),this._scheduleRender()}render(H,V){if(V){this._viewLines.forceShouldRender();for(const Z of this._viewParts)Z.forceShouldRender()}H?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(H){this._textAreaHandler.writeScreenReaderContent(H)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(H){this._textAreaHandler.setAriaOptions(H)}addContentWidget(H){this._contentWidgets.addWidget(H.widget),this.layoutContentWidget(H),this._scheduleRender()}layoutContentWidget(H){var V,Z,ee,le,ue,de,ce,ae;this._contentWidgets.setWidgetPosition(H.widget,(Z=(V=H.position)===null||V===void 0?void 0:V.position)!==null&&Z!==void 0?Z:null,(le=(ee=H.position)===null||ee===void 0?void 0:ee.secondaryPosition)!==null&&le!==void 0?le:null,(de=(ue=H.position)===null||ue===void 0?void 0:ue.preference)!==null&&de!==void 0?de:null,(ae=(ce=H.position)===null||ce===void 0?void 0:ce.positionAffinity)!==null&&ae!==void 0?ae:null),this._scheduleRender()}removeContentWidget(H){this._contentWidgets.removeWidget(H.widget),this._scheduleRender()}addOverlayWidget(H){this._overlayWidgets.addWidget(H.widget),this.layoutOverlayWidget(H),this._scheduleRender()}layoutOverlayWidget(H){const V=H.position?H.position.preference:null;this._overlayWidgets.setWidgetPosition(H.widget,V)&&this._scheduleRender()}removeOverlayWidget(H){this._overlayWidgets.removeWidget(H.widget),this._scheduleRender()}addGlyphMarginWidget(H){this._glyphMarginWidgets.addWidget(H.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(H){const V=H.position;this._glyphMarginWidgets.setWidgetPosition(H.widget,V)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(H){this._glyphMarginWidgets.removeWidget(H.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=se,e.View=se=Ie([ge(6,ne.IInstantiationService)],se);function J(q){try{return q()}catch(H){(0,S.onUnexpectedError)(H)}}}),define(te[851],ie([1,0,6,2,5,78,23]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class m extends I.Disposable{constructor(C){super(),this.textModel=C,this.colorProvider=new _,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=C.getOptions().bracketPairColorizationOptions,this._register(C.bracketPairs.onDidChange(s=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(C){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(C,s,i,n){return n?[]:s===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(C,!0).map(r=>({id:`bracket${r.range.toString()}-${r.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(r,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:r.range})).toArray():[]}getAllDecorations(C,s){return C===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new y.Range(1,1,this.textModel.getLineCount(),1),C,s):[]}}e.ColorizedBracketPairsDecorationProvider=m;class _{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(C,s){return C.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(s?C.nestingLevelOfEqualBracketType:C.nestingLevel)}getInlineClassNameOfLevel(C){return`bracket-highlighting-${C%30}`}}(0,S.registerThemingParticipant)((v,C)=>{const s=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],i=new _;C.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${v.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const n=s.map(t=>v.getColor(t)).filter(t=>!!t).filter(t=>!t.isTransparent());for(let t=0;t<30;t++){const r=n[t%n.length];C.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(t)} { color: ${r}; }`)}})}),define(te[852],ie([1,0,94,2,49,23,78,50,5,54,6,31,56,260]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;let t=class extends I.Disposable{constructor(f,d){super(),this._markerService=d,this._onDidChangeMarker=this._register(new C.Emitter),this._markerDecorations=new i.ResourceMap,f.getModels().forEach(l=>this._onModelAdded(l)),this._register(f.onModelAdded(this._onModelAdded,this)),this._register(f.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(f=>f.dispose()),this._markerDecorations.clear()}getMarker(f,d){const l=this._markerDecorations.get(f);return l&&l.getMarker(d)||null}_handleMarkerChange(f){f.forEach(d=>{const l=this._markerDecorations.get(d);l&&this._updateDecorations(l)})}_onModelAdded(f){const d=new r(f);this._markerDecorations.set(f.uri,d),this._updateDecorations(d)}_onModelRemoved(f){var d;const l=this._markerDecorations.get(f.uri);l&&(l.dispose(),this._markerDecorations.delete(f.uri)),(f.uri.scheme===v.Schemas.inMemory||f.uri.scheme===v.Schemas.internal||f.uri.scheme===v.Schemas.vscode)&&((d=this._markerService)===null||d===void 0||d.read({resource:f.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[f.uri])))}_updateDecorations(f){const d=this._markerService.read({resource:f.model.uri,take:500});f.update(d)&&this._onDidChangeMarker.fire(f.model)}};e.MarkerDecorationsService=t,e.MarkerDecorationsService=t=Ie([ge(0,m.IModelService),ge(1,L.IMarkerService)],t);class r extends I.Disposable{constructor(f){super(),this.model=f,this._map=new i.BidirectionalMap,this._register((0,I.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(f){const{added:d,removed:l}=(0,n.diffSets)(new Set(this._map.keys()),new Set(f));if(d.length===0&&l.length===0)return!1;const o=l.map(g=>this._map.get(g)),c=d.map(g=>({range:this._createDecorationRange(this.model,g),options:this._createDecorationOption(g)})),a=this.model.deltaDecorations(o,c);for(const g of l)this._map.delete(g);for(let g=0;g<a.length;g++)this._map.set(d[g],a[g]);return!0}getMarker(f){return this._map.getKey(f.id)}_createDecorationRange(f,d){let l=_.Range.lift(d);if(d.severity===L.MarkerSeverity.Hint&&!this._hasMarkerTag(d,1)&&!this._hasMarkerTag(d,2)&&(l=l.setEndPosition(l.startLineNumber,l.startColumn+2)),l=f.validateRange(l),l.isEmpty()){const o=f.getLineLastNonWhitespaceColumn(l.startLineNumber)||f.getLineMaxColumn(l.startLineNumber);if(o===1||l.endColumn>=o)return l;const c=f.getWordAtPosition(l.getStartPosition());c&&(l=new _.Range(l.startLineNumber,c.startColumn,l.endLineNumber,c.endColumn))}else if(d.endColumn===Number.MAX_VALUE&&d.startColumn===1&&l.startLineNumber===l.endLineNumber){const o=f.getLineFirstNonWhitespaceColumn(d.startLineNumber);o<l.endColumn&&(l=new _.Range(l.startLineNumber,o,l.endLineNumber,l.endColumn),d.startColumn=o)}return l}_createDecorationOption(f){let d,l,o,c,a;switch(f.severity){case L.MarkerSeverity.Hint:this._hasMarkerTag(f,2)?d=void 0:this._hasMarkerTag(f,1)?d="squiggly-unnecessary":d="squiggly-hint",o=0;break;case L.MarkerSeverity.Info:d="squiggly-info",l=(0,D.themeColorFromId)(S.overviewRulerInfo),o=10,a={color:(0,D.themeColorFromId)(s.minimapInfo),position:y.MinimapPosition.Inline};break;case L.MarkerSeverity.Warning:d="squiggly-warning",l=(0,D.themeColorFromId)(S.overviewRulerWarning),o=20,a={color:(0,D.themeColorFromId)(s.minimapWarning),position:y.MinimapPosition.Inline};break;case L.MarkerSeverity.Error:default:d="squiggly-error",l=(0,D.themeColorFromId)(S.overviewRulerError),o=30,a={color:(0,D.themeColorFromId)(s.minimapError),position:y.MinimapPosition.Inline};break}return f.tags&&(f.tags.indexOf(1)!==-1&&(c="squiggly-inline-unnecessary"),f.tags.indexOf(2)!==-1&&(c="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:d,showIfCollapsed:!0,overviewRuler:{color:l,position:y.OverviewRulerLane.Right},minimap:a,zIndex:o,inlineClassName:c}}_hasMarkerTag(f,d){return f.tags?f.tags.indexOf(d)>=0:!1}}}),define(te[250],ie([1,0,124,23,66,522,42]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let m=class{constructor(i,n,t,r){this._legend=i,this._themeService=n,this._languageService=t,this._logService=r,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new C}getMetadata(i,n,t){const r=this._languageService.languageIdCodec.encodeLanguageId(t),u=this._hashTable.get(i,n,r);let f;if(u)f=u.metadata,this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${i} / ${n}: foreground ${L.TokenMetadata.getForeground(f)}, fontStyle ${L.TokenMetadata.getFontStyle(f).toString(2)}`);else{let d=this._legend.tokenTypes[i];const l=[];if(d){let o=n;for(let a=0;o>0&&a<this._legend.tokenModifiers.length;a++)o&1&&l.push(this._legend.tokenModifiers[a]),o=o>>1;o>0&&this._logService.getLevel()===y.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${n.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const c=this._themeService.getColorTheme().getTokenStyleMetadata(d,l,t);if(typeof c>"u")f=2147483647;else{if(f=0,typeof c.italic<"u"){const a=(c.italic?1:0)<<11;f|=a|1}if(typeof c.bold<"u"){const a=(c.bold?2:0)<<11;f|=a|2}if(typeof c.underline<"u"){const a=(c.underline?4:0)<<11;f|=a|4}if(typeof c.strikethrough<"u"){const a=(c.strikethrough?8:0)<<11;f|=a|8}if(c.foreground){const a=c.foreground<<15;f|=a|16}f===0&&(f=2147483647)}}else this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${i} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),f=2147483647,d="not-in-legend";this._hashTable.add(i,n,r,f),this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${i} (${d}) / ${n} (${l.join(" ")}): foreground ${L.TokenMetadata.getForeground(f)}, fontStyle ${L.TokenMetadata.getFontStyle(f).toString(2)}`)}return f}warnOverlappingSemanticTokens(i,n){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${i}, column ${n}`))}warnInvalidLengthSemanticTokens(i,n){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${i}, column ${n}`))}warnInvalidEditStart(i,n,t,r,u){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${i}, resultId: ${n}) at edit #${t}: The provided start offset ${r} is outside the previous data (length ${u}).`))}};e.SemanticTokensProviderStyling=m,e.SemanticTokensProviderStyling=m=Ie([ge(1,I.IThemeService),ge(2,S.ILanguageService),ge(3,y.ILogService)],m);function _(s,i,n){const t=s.data,r=s.data.length/5|0,u=Math.max(Math.ceil(r/1024),400),f=[];let d=0,l=1,o=0;for(;d<r;){const c=d;let a=Math.min(c+u,r);if(a<r){let k=a;for(;k-1>c&&t[5*k]===0;)k--;if(k-1===c){let M=a;for(;M+1<r&&t[5*M]===0;)M++;a=M}else a=k}let g=new Uint32Array((a-c)*4),h=0,p=0,b=0,w=0;for(;d<a;){const k=5*d,M=t[k],R=t[k+1],B=l+M|0,T=M===0?o+R|0:R,N=t[k+2],A=T+N|0,P=t[k+3],O=t[k+4];if(A<=T)i.warnInvalidLengthSemanticTokens(B,T+1);else if(b===B&&w>T)i.warnOverlappingSemanticTokens(B,T+1);else{const x=i.getMetadata(P,O,n);x!==2147483647&&(p===0&&(p=B),g[h]=B-p,g[h+1]=T,g[h+2]=A,g[h+3]=x,h+=4,b=B,w=A)}l=B,o=T,d++}h!==g.length&&(g=g.subarray(0,h));const E=D.SparseMultilineTokens.create(p,g);f.push(E)}return f}e.toMultilineTokens2=_;class v{constructor(i,n,t,r){this.tokenTypeIndex=i,this.tokenModifierSet=n,this.languageId=t,this.metadata=r,this.next=null}}class C{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(i,n){for(let t=0;t<n;t++)i[t]=null}_hash2(i,n){return(i<<5)-i+n|0}_hashFunc(i,n,t){return this._hash2(this._hash2(i,n),t)%this._currentLength}get(i,n,t){const r=this._hashFunc(i,n,t);let u=this._elements[r];for(;u;){if(u.tokenTypeIndex===i&&u.tokenModifierSet===n&&u.languageId===t)return u;u=u.next}return null}add(i,n,t,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const u=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);for(const f of u){let d=f;for(;d;){const l=d.next;d.next=null,this._add(d),d=l}}}this._add(new v(i,n,t,r))}_add(i){const n=this._hashFunc(i.tokenTypeIndex,i.tokenModifierSet,i.languageId);i.next=this._elements[n],this._elements[n]=i}}C._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(te[853],ie([1,0,2,42,23,66,250,234,47]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let v=class extends L.Disposable{constructor(s,i,n){super(),this._themeService=s,this._logService=i,this._languageService=n,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(s){return this._caches.has(s)||this._caches.set(s,new S.SemanticTokensProviderStyling(s.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(s)}};e.SemanticTokensStylingService=v,e.SemanticTokensStylingService=v=Ie([ge(0,y.IThemeService),ge(1,D.ILogService),ge(2,I.ILanguageService)],v),(0,_.registerSingleton)(m.ISemanticTokensStylingService,v,1)}),define(te[362],ie([1,0,106,2,175,49,78,23,45]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class v{constructor(s){this.options=s,this.rangeHighlightDecorationId=void 0}provide(s,i){var n;const t=new I.DisposableStore;s.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;const r=t.add(new I.MutableDisposable);return r.value=this.doProvide(s,i),t.add(this.onDidActiveTextEditorControlChange(()=>{r.value=void 0,r.value=this.doProvide(s,i)})),t}doProvide(s,i){var n;const t=new I.DisposableStore,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){const u={editor:r},f=(0,y.getCodeEditor)(r);if(f){let d=(n=r.saveViewState())!==null&&n!==void 0?n:void 0;t.add(f.onDidChangeCursorPosition(()=>{var l;d=(l=r.saveViewState())!==null&&l!==void 0?l:void 0})),u.restoreViewState=()=>{d&&r===this.activeTextEditorControl&&r.restoreViewState(d)},t.add((0,L.createSingleCallFunction)(i.onCancellationRequested)(()=>{var l;return(l=u.restoreViewState)===null||l===void 0?void 0:l.call(u)}))}t.add((0,I.toDisposable)(()=>this.clearDecorations(r))),t.add(this.provideWithTextEditor(u,s,i))}else t.add(this.provideWithoutTextEditor(s,i));return t}canProvideWithTextEditor(s){return!0}gotoLocation({editor:s},i){s.setSelection(i.range),s.revealRangeInCenter(i.range,0),i.preserveFocus||s.focus();const n=s.getModel();n&&"getLineContent"in n&&(0,_.status)(`${n.getLineContent(i.range.startLineNumber)}`)}getModel(s){var i;return(0,y.isDiffEditor)(s)?(i=s.getModel())===null||i===void 0?void 0:i.modified:s.getModel()}addDecorations(s,i){s.changeDecorations(n=>{const t=[];this.rangeHighlightDecorationId&&(t.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),t.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const r=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,m.themeColorFromId)(S.overviewRulerRangeHighlight),position:D.OverviewRulerLane.Full}}}],[u,f]=n.deltaDecorations(t,r);this.rangeHighlightDecorationId={rangeHighlightId:u,overviewRulerDecorationId:f}})}clearDecorations(s){const i=this.rangeHighlightDecorationId;i&&(s.changeDecorations(n=>{n.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=v}),define(te[854],ie([1,0,2,175,362,692]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends y.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(_){const v=(0,D.localize)(0,null);return _.items=[{label:v}],_.ariaLabel=v,L.Disposable.None}provideWithTextEditor(_,v,C){const s=_.editor,i=new L.DisposableStore;i.add(v.onDidAccept(r=>{const[u]=v.selectedItems;if(u){if(!this.isValidLineNumber(s,u.lineNumber))return;this.gotoLocation(_,{range:this.toRange(u.lineNumber,u.column),keyMods:v.keyMods,preserveFocus:r.inBackground}),r.inBackground||v.hide()}}));const n=()=>{const r=this.parsePosition(s,v.value.trim().substr(S.PREFIX.length)),u=this.getPickLabel(s,r.lineNumber,r.column);if(v.items=[{lineNumber:r.lineNumber,column:r.column,label:u}],v.ariaLabel=u,!this.isValidLineNumber(s,r.lineNumber)){this.clearDecorations(s);return}const f=this.toRange(r.lineNumber,r.column);s.revealRangeInCenter(f,0),this.addDecorations(s,f)};n(),i.add(v.onDidChangeValue(()=>n()));const t=(0,I.getCodeEditor)(s);return t&&t.getOptions().get(67).renderType===2&&(t.updateOptions({lineNumbers:"on"}),i.add((0,L.toDisposable)(()=>t.updateOptions({lineNumbers:"relative"})))),i}toRange(_=1,v=1){return{startLineNumber:_,startColumn:v,endLineNumber:_,endColumn:v}}parsePosition(_,v){const C=v.split(/,|:|#/).map(i=>parseInt(i,10)).filter(i=>!isNaN(i)),s=this.lineCount(_)+1;return{lineNumber:C[0]>0?C[0]:s+C[0],column:C[1]}}getPickLabel(_,v,C){if(this.isValidLineNumber(_,v))return this.isValidColumn(_,v,C)?(0,D.localize)(1,null,v,C):(0,D.localize)(2,null,v);const s=_.getPosition()||{lineNumber:1,column:1},i=this.lineCount(_);return i>1?(0,D.localize)(3,null,s.lineNumber,s.column,i):(0,D.localize)(4,null,s.lineNumber,s.column)}isValidLineNumber(_,v){return!v||typeof v!="number"?!1:v>0&&v<=this.lineCount(_)}isValidColumn(_,v,C){if(!C||typeof C!="number")return!1;const s=this.getModel(_);if(!s)return!1;const i={lineNumber:v,column:C};return s.validatePosition(i).equals(i)}lineCount(_){var v,C;return(C=(v=this.getModel(_))===null||v===void 0?void 0:v.getLineCount())!==null&&C!==void 0?C:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(te[855],ie([1,0,14,19,26,27,573,2,10,5,29,187,362,693,18,68]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let f=u=class extends i.AbstractEditorNavigationQuickAccessProvider{constructor(c,a,g=Object.create(null)){super(g),this._languageFeaturesService=c,this._outlineModelService=a,this.options=g,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(c){return this.provideLabelPick(c,(0,n.localize)(0,null)),m.Disposable.None}provideWithTextEditor(c,a,g){const h=c.editor,p=this.getModel(h);return p?this._languageFeaturesService.documentSymbolProvider.has(p)?this.doProvideWithEditorSymbols(c,p,a,g):this.doProvideWithoutEditorSymbols(c,p,a,g):m.Disposable.None}doProvideWithoutEditorSymbols(c,a,g,h){const p=new m.DisposableStore;return this.provideLabelPick(g,(0,n.localize)(1,null)),be(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(a,p))||h.isCancellationRequested||p.add(this.doProvideWithEditorSymbols(c,a,g,h))}),p}provideLabelPick(c,a){c.items=[{label:a,index:0,kind:14}],c.ariaLabel=a}waitForLanguageSymbolRegistry(c,a){return be(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(c))return!0;const g=new L.DeferredPromise,h=a.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(c)&&(h.dispose(),g.complete(!0))}));return a.add((0,m.toDisposable)(()=>g.complete(!1))),g.p})}doProvideWithEditorSymbols(c,a,g,h){var p;const b=c.editor,w=new m.DisposableStore;w.add(g.onDidAccept(R=>{const[B]=g.selectedItems;B&&B.range&&(this.gotoLocation(c,{range:B.range.selection,keyMods:g.keyMods,preserveFocus:R.inBackground}),R.inBackground||g.hide())})),w.add(g.onDidTriggerItemButton(({item:R})=>{R&&R.range&&(this.gotoLocation(c,{range:R.range.selection,keyMods:g.keyMods,forceSideBySide:!0}),g.hide())}));const E=this.getDocumentSymbols(a,h);let k;const M=R=>be(this,void 0,void 0,function*(){k?.dispose(!0),g.busy=!1,k=new I.CancellationTokenSource(h),g.busy=!0;try{const B=(0,S.prepareQuery)(g.value.substr(u.PREFIX.length).trim()),T=yield this.doGetSymbolPicks(E,B,void 0,k.token);if(h.isCancellationRequested)return;if(T.length>0){if(g.items=T,R&&B.original.length===0){const N=(0,r.findLast)(T,A=>!!(A.type!=="separator"&&A.range&&v.Range.containsPosition(A.range.decoration,R)));N&&(g.activeItems=[N])}}else B.original.length>0?this.provideLabelPick(g,(0,n.localize)(2,null)):this.provideLabelPick(g,(0,n.localize)(3,null))}finally{h.isCancellationRequested||(g.busy=!1)}});return w.add(g.onDidChangeValue(()=>M(void 0))),M((p=b.getSelection())===null||p===void 0?void 0:p.getPosition()),w.add(g.onDidChangeActive(()=>{const[R]=g.activeItems;R&&R.range&&(b.revealRangeInCenter(R.range.selection,0),this.addDecorations(b,R.range.decoration))})),w}doGetSymbolPicks(c,a,g,h){var p,b;return be(this,void 0,void 0,function*(){const w=yield c;if(h.isCancellationRequested)return[];const E=a.original.indexOf(u.SCOPE_PREFIX)===0,k=E?1:0;let M,R;a.values&&a.values.length>1?(M=(0,S.pieceToQuery)(a.values[0]),R=(0,S.pieceToQuery)(a.values.slice(1))):M=a;let B;const T=(b=(p=this.options)===null||p===void 0?void 0:p.openSideBySideDirection)===null||b===void 0?void 0:b.call(p);T&&(B=[{iconClass:T==="right"?D.ThemeIcon.asClassName(y.Codicon.splitHorizontal):D.ThemeIcon.asClassName(y.Codicon.splitVertical),tooltip:T==="right"?(0,n.localize)(4,null):(0,n.localize)(5,null)}]);const N=[];for(let O=0;O<w.length;O++){const x=w[O],W=(0,_.trim)(x.name),U=`$(${C.SymbolKinds.toIcon(x.kind).id}) ${W}`,F=U.length-W.length;let G=x.containerName;g?.extraContainerLabel&&(G?G=`${g.extraContainerLabel} \u2022 ${G}`:G=g.extraContainerLabel);let Y,ne,se,J;if(a.original.length>k){let H=!1;if(M!==a&&([Y,ne]=(0,S.scoreFuzzy2)(U,Object.assign(Object.assign({},a),{values:void 0}),k,F),typeof Y=="number"&&(H=!0)),typeof Y!="number"&&([Y,ne]=(0,S.scoreFuzzy2)(U,M,k,F),typeof Y!="number"))continue;if(!H&&R){if(G&&R.original.length>0&&([se,J]=(0,S.scoreFuzzy2)(G,R)),typeof se!="number")continue;typeof Y=="number"&&(Y+=se)}}const q=x.tags&&x.tags.indexOf(1)>=0;N.push({index:O,kind:x.kind,score:Y,label:U,ariaLabel:(0,C.getAriaLabelForSymbol)(x.name,x.kind),description:G,highlights:q?void 0:{label:ne,description:J},range:{selection:v.Range.collapseToStart(x.selectionRange),decoration:x.range},strikethrough:q,buttons:B})}const A=N.sort((O,x)=>E?this.compareByKindAndScore(O,x):this.compareByScore(O,x));let P=[];if(E){let U=function(){x&&typeof O=="number"&&W>0&&(x.label=(0,_.format)(l[O]||d,W))},O,x,W=0;for(const F of A)O!==F.kind?(U(),O=F.kind,W=1,x={type:"separator"},P.push(x)):W++,P.push(F);U()}else A.length>0&&(P=[{label:(0,n.localize)(6,null,N.length),type:"separator"},...A]);return P})}compareByScore(c,a){if(typeof c.score!="number"&&typeof a.score=="number")return 1;if(typeof c.score=="number"&&typeof a.score!="number")return-1;if(typeof c.score=="number"&&typeof a.score=="number"){if(c.score>a.score)return-1;if(c.score<a.score)return 1}return c.index<a.index?-1:c.index>a.index?1:0}compareByKindAndScore(c,a){const g=l[c.kind]||d,h=l[a.kind]||d,p=g.localeCompare(h);return p===0?this.compareByScore(c,a):p}getDocumentSymbols(c,a){return be(this,void 0,void 0,function*(){const g=yield this._outlineModelService.getOrCreate(c,a);return a.isCancellationRequested?[]:g.asListOfDocumentSymbols()})}};e.AbstractGotoSymbolQuickAccessProvider=f,f.PREFIX="@",f.SCOPE_PREFIX=":",f.PREFIX_BY_CATEGORY=`${u.PREFIX}${u.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=f=u=Ie([ge(0,t.ILanguageFeaturesService),ge(1,s.IOutlineModelService)],f);const d=(0,n.localize)(7,null),l={[5]:(0,n.localize)(8,null),[11]:(0,n.localize)(9,null),[8]:(0,n.localize)(10,null),[12]:(0,n.localize)(11,null),[4]:(0,n.localize)(12,null),[22]:(0,n.localize)(13,null),[23]:(0,n.localize)(14,null),[24]:(0,n.localize)(15,null),[10]:(0,n.localize)(16,null),[2]:(0,n.localize)(17,null),[3]:(0,n.localize)(18,null),[25]:(0,n.localize)(19,null),[1]:(0,n.localize)(20,null),[6]:(0,n.localize)(21,null),[9]:(0,n.localize)(22,null),[21]:(0,n.localize)(23,null),[14]:(0,n.localize)(24,null),[0]:(0,n.localize)(25,null),[17]:(0,n.localize)(26,null),[15]:(0,n.localize)(27,null),[16]:(0,n.localize)(28,null),[18]:(0,n.localize)(29,null),[19]:(0,n.localize)(30,null),[7]:(0,n.localize)(31,null),[13]:(0,n.localize)(32,null)}}),define(te[856],ie([1,0,2,12,696,15,34,31,23,463]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,y.localize)(0,null));let v=class{constructor(s,i,n,t,r){this._editor=s,this._acceptKeybindings=i,this._themeService=n,this._keybindingService=t,this._disposables=new L.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(r),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(50)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,y.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(s){var i,n,t,r;if(!this._input||!this._domNode)return;const u=s.getColor(m.widgetShadow),f=s.getColor(m.widgetBorder);this._domNode.style.backgroundColor=String((i=s.getColor(m.editorWidgetBackground))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=u?` 0 0 8px 2px ${u}`:"",this._domNode.style.border=f?`1px solid ${f}`:"",this._domNode.style.color=String((n=s.getColor(m.inputForeground))!==null&&n!==void 0?n:""),this._input.style.backgroundColor=String((t=s.getColor(m.inputBackground))!==null&&t!==void 0?t:"");const d=s.getColor(m.inputBorder);this._input.style.borderWidth=d?"1px":"0px",this._input.style.borderStyle=d?"solid":"none",this._input.style.borderColor=(r=d?.toString())!==null&&r!==void 0?r:"none"}_updateFont(){if(!this._input||!this._label)return;const s=this._editor.getOption(50);this._input.style.fontFamily=s.fontFamily,this._input.style.fontWeight=s.fontWeight,this._input.style.fontSize=`${s.fontSize}px`,this._label.style.fontSize=`${s.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var s,i;const[n,t]=this._acceptKeybindings;return this._label.innerText=(0,y.localize)(2,null,(s=this._keybindingService.lookupKeybinding(n))===null||s===void 0?void 0:s.getLabel(),(i=this._keybindingService.lookupKeybinding(t))===null||i===void 0?void 0:i.getLabel()),null}afterRender(s){s||this.cancelInput(!0)}acceptInput(s){var i;(i=this._currentAcceptInput)===null||i===void 0||i.call(this,s)}cancelInput(s){var i;(i=this._currentCancelInput)===null||i===void 0||i.call(this,s)}getInput(s,i,n,t,r,u){this._domNode.classList.toggle("preview",r),this._position=new I.Position(s.startLineNumber,s.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",t.toString()),this._input.size=Math.max((s.endColumn-s.startColumn)*1.1,20);const f=new L.DisposableStore;return new Promise(d=>{this._currentCancelInput=l=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,d(l),!0),this._currentAcceptInput=l=>{if(this._input.value.trim().length===0||this._input.value===i){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,d({newName:this._input.value,wantsPreview:r&&l})},f.add(u.onCancellationRequested(()=>this.cancelInput(!0))),f.add(this._editor.onDidBlurEditorWidget(()=>{var l;return this.cancelInput(!(!((l=this._domNode)===null||l===void 0)&&l.ownerDocument.hasFocus()))})),this._show()}).finally(()=>{f.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};e.RenameInputField=v,e.RenameInputField=v=Ie([ge(2,_.IThemeService),ge(3,S.IKeybindingService),ge(4,D.IContextKeyService)],v)}),define(te[857],ie([1,0,45,14,19,9,2,20,21,103,16,130,33,12,5,22,185,189,695,95,15,8,66,48,85,35,856,18]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class k{constructor(A,P,O){this.model=A,this.position=P,this._providerRenameIdx=0,this._providers=O.ordered(A)}hasProvider(){return this._providers.length>0}resolveRenameLocation(A){return be(this,void 0,void 0,function*(){const P=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const x=this._providers[this._providerRenameIdx];if(!x.resolveRenameLocation)break;const W=yield x.resolveRenameLocation(this.model,this.position,A);if(W){if(W.rejectReason){P.push(W.rejectReason);continue}return W}}const O=this.model.getWordAtPosition(this.position);return O?{range:new t.Range(this.position.lineNumber,O.startColumn,this.position.lineNumber,O.endColumn),text:O.word,rejectReason:P.length>0?P.join(`
`):void 0}:{range:t.Range.fromPositions(this.position),text:"",rejectReason:P.length>0?P.join(`
`):void 0}})}provideRenameEdits(A,P){return be(this,void 0,void 0,function*(){return this._provideRenameEdits(A,this._providerRenameIdx,[],P)})}_provideRenameEdits(A,P,O,x){return be(this,void 0,void 0,function*(){const W=this._providers[P];if(!W)return{edits:[],rejectReason:O.join(`
`)};const U=yield W.provideRenameEdits(this.model,this.position,A,x);if(U){if(U.rejectReason)return this._provideRenameEdits(A,P+1,O.concat(U.rejectReason),x)}else return this._provideRenameEdits(A,P+1,O.concat(d.localize(0,null)),x);return U})}}function M(N,A,P,O){return be(this,void 0,void 0,function*(){const x=new k(A,P,N),W=yield x.resolveRenameLocation(y.CancellationToken.None);return W?.rejectReason?{edits:[],rejectReason:W.rejectReason}:x.provideRenameEdits(O,y.CancellationToken.None)})}e.rename=M;let R=E=class{static get(A){return A.getContribution(E.ID)}constructor(A,P,O,x,W,U,F,G){this.editor=A,this._instaService=P,this._notificationService=O,this._bulkEditService=x,this._progressService=W,this._logService=U,this._configService=F,this._languageFeaturesService=G,this._disposableStore=new S.DisposableStore,this._cts=new y.CancellationTokenSource,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(b.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var A,P;return be(this,void 0,void 0,function*(){if(this._cts.dispose(!0),this._cts=new y.CancellationTokenSource,!this.editor.hasModel())return;const O=this.editor.getPosition(),x=new k(this.editor.getModel(),O,this._languageFeaturesService.renameProvider);if(!x.hasProvider())return;const W=new v.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let U;try{const H=x.resolveRenameLocation(W.token);this._progressService.showWhile(H,250),U=yield H}catch(H){(A=f.MessageController.get(this.editor))===null||A===void 0||A.showMessage(H||d.localize(1,null),O);return}finally{W.dispose()}if(!U)return;if(U.rejectReason){(P=f.MessageController.get(this.editor))===null||P===void 0||P.showMessage(U.rejectReason,O);return}if(W.token.isCancellationRequested)return;const F=new v.EditorStateCancellationTokenSource(this.editor,5,U.range,this._cts.token),G=this.editor.getSelection();let Y=0,ne=U.text.length;!t.Range.isEmpty(G)&&!t.Range.spansMultipleLines(G)&&t.Range.containsRange(U.range,G)&&(Y=Math.max(0,G.startColumn-U.range.startColumn),ne=Math.min(U.range.endColumn,G.endColumn)-U.range.startColumn);const se=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),J=yield this._renameInputField.getInput(U.range,U.text,Y,ne,se,F.token);if(typeof J=="boolean"){J&&this.editor.focus(),F.dispose();return}this.editor.focus();const q=(0,I.raceCancellation)(x.provideRenameEdits(J.newName,F.token),F.token).then(H=>be(this,void 0,void 0,function*(){if(!(!H||!this.editor.hasModel())){if(H.rejectReason){this._notificationService.info(H.rejectReason);return}this.editor.setSelection(t.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(H,{editor:this.editor,showPreview:J.wantsPreview,label:d.localize(2,null,U?.text,J.newName),code:"undoredo.rename",quotableLabel:d.localize(3,null,U?.text,J.newName),respectAutoSaveConfig:!0}).then(V=>{V.ariaSummary&&(0,L.alert)(d.localize(4,null,U.text,J.newName,V.ariaSummary))}).catch(V=>{this._notificationService.error(d.localize(5,null)),this._logService.error(V)})}}),H=>{this._notificationService.error(d.localize(6,null)),this._logService.error(H)}).finally(()=>{F.dispose()});return this._progressService.showWhile(q,250),q})}acceptRenameInput(A){this._renameInputField.acceptInput(A)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};R.ID="editor.contrib.renameController",R=E=Ie([ge(1,c.IInstantiationService),ge(2,g.INotificationService),ge(3,s.IBulkEditService),ge(4,h.IEditorProgressService),ge(5,a.ILogService),ge(6,u.ITextResourceConfigurationService),ge(7,w.ILanguageFeaturesService)],R);class B extends C.EditorAction{constructor(){super({id:"editor.action.rename",label:d.localize(7,null),alias:"Rename Symbol",precondition:o.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(A,P){const O=A.get(i.ICodeEditorService),[x,W]=Array.isArray(P)&&P||[void 0,void 0];return _.URI.isUri(x)&&n.Position.isIPosition(W)?O.openCodeEditor({resource:x},O.getActiveCodeEditor()).then(U=>{U&&(U.setPosition(W),U.invokeWithinContext(F=>(this.reportTelemetry(F,U),this.run(F,U))))},D.onUnexpectedError):super.runCommand(A,P)}run(A,P){const O=R.get(P);return O?O.run():Promise.resolve()}}e.RenameAction=B,(0,C.registerEditorContribution)(R.ID,R,4),(0,C.registerEditorAction)(B);const T=C.EditorCommand.bindToContribution(R.get);(0,C.registerEditorCommand)(new T({id:"acceptRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:N=>N.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:o.ContextKeyExpr.and(r.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:3}})),(0,C.registerEditorCommand)(new T({id:"acceptRenameInputWithPreview",precondition:o.ContextKeyExpr.and(b.CONTEXT_RENAME_INPUT_VISIBLE,o.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:N=>N.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:o.ContextKeyExpr.and(r.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:1024+3}})),(0,C.registerEditorCommand)(new T({id:"cancelRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:N=>N.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:r.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,C.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(N,A,P,...O){const[x]=O;(0,m.assertType)(typeof x=="string");const{renameProvider:W}=N.get(w.ILanguageFeaturesService);return M(W,A,P,x)}),(0,C.registerModelAndPositionCommand)("_executePrepareRename",function(N,A,P){return be(this,void 0,void 0,function*(){const{renameProvider:O}=N.get(w.ILanguageFeaturesService),W=yield new k(A,P,O).resolveRenameLocation(y.CancellationToken.None);if(W?.rejectReason)throw new Error(W.rejectReason);return W})}),p.Registry.as(l.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:d.localize(8,null),default:!0,type:"boolean"}}})}),define(te[858],ie([1,0,2,9,50,28,14,19,23,250,337,74,59,18,234,147,301]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let d=class extends L.Disposable{constructor(a,g,h,p,b,w){super(),this._watchers=Object.create(null);const E=R=>{this._watchers[R.uri.toString()]=new l(R,a,h,b,w)},k=(R,B)=>{B.dispose(),delete this._watchers[R.uri.toString()]},M=()=>{for(const R of g.getModels()){const B=this._watchers[R.uri.toString()];(0,u.isSemanticColoringEnabled)(R,h,p)?B||E(R):B&&k(R,B)}};this._register(g.onModelAdded(R=>{(0,u.isSemanticColoringEnabled)(R,h,p)&&E(R)})),this._register(g.onModelRemoved(R=>{const B=this._watchers[R.uri.toString()];B&&k(R,B)})),this._register(p.onDidChangeConfiguration(R=>{R.affectsConfiguration(u.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&M()})),this._register(h.onDidColorThemeChange(M))}dispose(){for(const a of Object.values(this._watchers))a.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=d,e.DocumentSemanticTokensFeature=d=Ie([ge(0,t.ISemanticTokensStylingService),ge(1,y.IModelService),ge(2,_.IThemeService),ge(3,D.IConfigurationService),ge(4,s.ILanguageFeatureDebounceService),ge(5,n.ILanguageFeaturesService)],d);let l=f=class extends L.Disposable{constructor(a,g,h,p,b){super(),this._semanticTokensStylingService=g,this._isDisposed=!1,this._model=a,this._provider=b.documentSemanticTokensProvider,this._debounceInformation=p.for(this._provider,"DocumentSemanticTokens",{min:f.REQUEST_MIN_DELAY,max:f.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new S.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),f.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const w=()=>{(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const E of this._provider.all(a))typeof E.onDidChange=="function"&&this._documentProvidersChangeListeners.push(E.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};w(),this._register(this._provider.onDidChange(()=>{w(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(h.onDidColorThemeChange(E=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,C.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const a=new m.CancellationTokenSource,g=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,h=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,p=(0,C.getDocumentSemanticTokens)(this._provider,this._model,g,h,a.token);this._currentDocumentRequestCancellationTokenSource=a,this._providersChangedDuringRequest=!1;const b=[],w=this._model.onDidChangeContent(k=>{b.push(k)}),E=new i.StopWatch(!1);p.then(k=>{if(this._debounceInformation.update(this._model,E.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,w.dispose(),!k)this._setDocumentSemanticTokens(null,null,null,b);else{const{provider:M,tokens:R}=k,B=this._semanticTokensStylingService.getStyling(M);this._setDocumentSemanticTokens(M,R||null,B,b)}},k=>{k&&(I.isCancellationError(k)||typeof k.message=="string"&&k.message.indexOf("busy")!==-1)||I.onUnexpectedError(k),this._currentDocumentRequestCancellationTokenSource=null,w.dispose(),(b.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(a,g,h,p,b){b=Math.min(b,h.length-p,a.length-g);for(let w=0;w<b;w++)h[p+w]=a[g+w]}_setDocumentSemanticTokens(a,g,h,p){const b=this._currentDocumentResponse,w=()=>{(p.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){a&&g&&a.releaseDocumentSemanticTokens(g.resultId);return}if(!a||!h){this._model.tokenization.setSemanticTokens(null,!1);return}if(!g){this._model.tokenization.setSemanticTokens(null,!0),w();return}if((0,C.isSemanticTokensEdits)(g)){if(!b){this._model.tokenization.setSemanticTokens(null,!0);return}if(g.edits.length===0)g={resultId:g.resultId,data:b.data};else{let E=0;for(const T of g.edits)E+=(T.data?T.data.length:0)-T.deleteCount;const k=b.data,M=new Uint32Array(k.length+E);let R=k.length,B=M.length;for(let T=g.edits.length-1;T>=0;T--){const N=g.edits[T];if(N.start>k.length){h.warnInvalidEditStart(b.resultId,g.resultId,T,N.start,k.length),this._model.tokenization.setSemanticTokens(null,!0);return}const A=R-(N.start+N.deleteCount);A>0&&(f._copy(k,R-A,M,B-A,A),B-=A),N.data&&(f._copy(N.data,0,M,B-N.data.length,N.data.length),B-=N.data.length),R=N.start}R>0&&f._copy(k,0,M,0,R),g={resultId:g.resultId,data:M}}}if((0,C.isSemanticTokens)(g)){this._currentDocumentResponse=new o(a,g.resultId,g.data);const E=(0,v.toMultilineTokens2)(g,h,this._model.getLanguageId());if(p.length>0)for(const k of p)for(const M of E)for(const R of k.changes)M.applyEdit(R.range,R.text);this._model.tokenization.setSemanticTokens(E,!0)}else this._model.tokenization.setSemanticTokens(null,!0);w()}};l.REQUEST_MIN_DELAY=300,l.REQUEST_MAX_DELAY=2e3,l=f=Ie([ge(1,t.ISemanticTokensStylingService),ge(2,_.IThemeService),ge(3,s.ILanguageFeatureDebounceService),ge(4,n.ILanguageFeaturesService)],l);class o{constructor(a,g,h){this.provider=a,this.resultId=g,this.data=h}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,r.registerEditorFeature)(d)}),define(te[859],ie([1,0,14,2,16,337,301,250,28,23,74,59,18,234]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let t=class extends I.Disposable{constructor(u,f,d,l,o,c){super(),this._semanticTokensStylingService=f,this._themeService=d,this._configurationService=l,this._editor=u,this._provider=c.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new L.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(g=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(g=>{g.affectsConfiguration(S.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()})),a()}_cancelAll(){for(const u of this._outstandingRequests)u.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(u){for(let f=0,d=this._outstandingRequests.length;f<d;f++)if(this._outstandingRequests[f]===u){this._outstandingRequests.splice(f,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const u=this._editor.getModel();if(u.tokenization.hasCompleteSemanticTokens())return;if(!(0,S.isSemanticColoringEnabled)(u,this._themeService,this._configurationService)){u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,u)){u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1);return}const f=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(f.map(d=>this._requestRange(u,d)))}_requestRange(u,f){const d=u.getVersionId(),l=(0,L.createCancelablePromise)(c=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,u,f,c))),o=new s.StopWatch(!1);return l.then(c=>{if(this._debounceInformation.update(u,o.elapsed()),!c||!c.tokens||u.isDisposed()||u.getVersionId()!==d)return;const{provider:a,tokens:g}=c,h=this._semanticTokensStylingService.getStyling(a);u.tokenization.setPartialSemanticTokens(f,(0,m.toMultilineTokens2)(g,h,u.getLanguageId()))}).then(()=>this._removeOutstandingRequest(l),()=>this._removeOutstandingRequest(l)),l}};e.ViewportSemanticTokensContribution=t,t.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=t=Ie([ge(1,n.ISemanticTokensStylingService),ge(2,v.IThemeService),ge(3,_.IConfigurationService),ge(4,C.ILanguageFeatureDebounceService),ge(5,i.ILanguageFeaturesService)],t),(0,y.registerEditorContribution)(t.ID,t,1)}),define(te[860],ie([1,0,7,226,26,27,6,69,2,21,29,776,50,42,705,334,77,23,348]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.getAriaId=void 0;function o(p){return`suggest-aria-id:${p}`}e.getAriaId=o;const c=(0,u.registerIcon)("suggest-more-info",y.Codicon.chevronRight,t.localize(0,null)),a=new(l=class{extract(b,w){if(b.textLabel.match(l._regexStrict))return w[0]=b.textLabel,!0;if(b.completion.detail&&b.completion.detail.match(l._regexStrict))return w[0]=b.completion.detail,!0;if(typeof b.completion.documentation=="string"){const E=l._regexRelaxed.exec(b.completion.documentation);if(E&&(E.index===0||E.index+E[0].length===b.completion.documentation.length))return w[0]=E[0],!0}return!1}},l._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,l._regexStrict=new RegExp(`^${l._regexRelaxed.source}$`,"i"),l);let g=class{constructor(b,w,E,k){this._editor=b,this._modelService=w,this._languageService=E,this._themeService=k,this._onDidToggleDetails=new S.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(b){const w=new _.DisposableStore,E=b;E.classList.add("show-file-icons");const k=(0,L.append)(b,(0,L.$)(".icon")),M=(0,L.append)(k,(0,L.$)("span.colorspan")),R=(0,L.append)(b,(0,L.$)(".contents")),B=(0,L.append)(R,(0,L.$)(".main")),T=(0,L.append)(B,(0,L.$)(".icon-label.codicon")),N=(0,L.append)(B,(0,L.$)("span.left")),A=(0,L.append)(B,(0,L.$)("span.right")),P=new I.IconLabel(N,{supportHighlights:!0,supportIcons:!0});w.add(P);const O=(0,L.append)(N,(0,L.$)("span.signature-label")),x=(0,L.append)(N,(0,L.$)("span.qualifier-label")),W=(0,L.append)(A,(0,L.$)("span.details-label")),U=(0,L.append)(A,(0,L.$)("span.readMore"+D.ThemeIcon.asCSSSelector(c)));U.title=t.localize(1,null);const F=()=>{const G=this._editor.getOptions(),Y=G.get(50),ne=Y.getMassagedFontFamily(),se=Y.fontFeatureSettings,J=G.get(118)||Y.fontSize,q=G.get(119)||Y.lineHeight,H=Y.fontWeight,V=Y.letterSpacing,Z=`${J}px`,ee=`${q}px`,le=`${V}px`;E.style.fontSize=Z,E.style.fontWeight=H,E.style.letterSpacing=le,B.style.fontFamily=ne,B.style.fontFeatureSettings=se,B.style.lineHeight=ee,k.style.height=ee,k.style.width=ee,U.style.height=ee,U.style.width=ee};return F(),w.add(this._editor.onDidChangeConfiguration(G=>{(G.hasChanged(50)||G.hasChanged(118)||G.hasChanged(119))&&F()})),{root:E,left:N,right:A,icon:k,colorspan:M,iconLabel:P,iconContainer:T,parametersLabel:O,qualifierLabel:x,detailsLabel:W,readMore:U,disposables:w}}renderElement(b,w,E){const{completion:k}=b;E.root.id=o(w),E.colorspan.style.backgroundColor="";const M={labelEscapeNewLines:!0,matches:(0,m.createMatches)(b.score)},R=[];if(k.kind===19&&a.extract(b,R))E.icon.className="icon customcolor",E.iconContainer.className="icon hide",E.colorspan.style.backgroundColor=R[0];else if(k.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){E.icon.className="icon hide",E.iconContainer.className="icon hide";const B=(0,s.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:b.textLabel}),r.FileKind.FILE),T=(0,s.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:k.detail}),r.FileKind.FILE);M.extraClasses=B.length>T.length?B:T}else k.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(E.icon.className="icon hide",E.iconContainer.className="icon hide",M.extraClasses=[(0,s.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:b.textLabel}),r.FileKind.FOLDER),(0,s.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:k.detail}),r.FileKind.FOLDER)].flat()):(E.icon.className="icon hide",E.iconContainer.className="",E.iconContainer.classList.add("suggest-icon",...D.ThemeIcon.asClassNameArray(C.CompletionItemKinds.toIcon(k.kind))));k.tags&&k.tags.indexOf(1)>=0&&(M.extraClasses=(M.extraClasses||[]).concat(["deprecated"]),M.matches=[]),E.iconLabel.setLabel(b.textLabel,void 0,M),typeof k.label=="string"?(E.parametersLabel.textContent="",E.detailsLabel.textContent=h(k.detail||""),E.root.classList.add("string-label")):(E.parametersLabel.textContent=h(k.label.detail||""),E.detailsLabel.textContent=h(k.label.description||""),E.root.classList.remove("string-label")),this._editor.getOption(117).showInlineDetails?(0,L.show)(E.detailsLabel):(0,L.hide)(E.detailsLabel),(0,d.canExpandCompletionItem)(b)?(E.right.classList.add("can-expand-details"),(0,L.show)(E.readMore),E.readMore.onmousedown=B=>{B.stopPropagation(),B.preventDefault()},E.readMore.onclick=B=>{B.stopPropagation(),B.preventDefault(),this._onDidToggleDetails.fire()}):(E.right.classList.remove("can-expand-details"),(0,L.hide)(E.readMore),E.readMore.onmousedown=null,E.readMore.onclick=null)}disposeTemplate(b){b.disposables.dispose()}};e.ItemRenderer=g,e.ItemRenderer=g=Ie([ge(1,i.IModelService),ge(2,n.ILanguageService),ge(3,f.IThemeService)],g);function h(p){return p.replace(/\r\n|\r|\n/g,"")}}),define(te[861],ie([1,0,854,35,134,33,93,6,16,22,67]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let s=class extends L.AbstractGotoLineQuickAccessProvider{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=m.Event.None}get activeTextEditorControl(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0}};e.StandaloneGotoLineQuickAccessProvider=s,e.StandaloneGotoLineQuickAccessProvider=s=Ie([ge(0,D.ICodeEditorService)],s);class i extends _.EditorAction{constructor(){super({id:i.ID,label:S.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(C.IQuickInputService).quickAccess.show(s.PREFIX)}}e.GotoLineAction=i,i.ID="editor.action.gotoLine",(0,_.registerEditorAction)(i),I.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:s.PREFIX,helpEntries:[{description:S.GoToLineNLS.gotoLineActionLabel,commandId:i.ID}]})}),define(te[862],ie([1,0,855,35,134,33,93,6,16,22,67,187,18,171,248]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let n=class extends L.AbstractGotoSymbolQuickAccessProvider{constructor(u,f,d){super(f,d),this.editorService=u,this.onDidActiveTextEditorControlChange=m.Event.None}get activeTextEditorControl(){var u;return(u=this.editorService.getFocusedCodeEditor())!==null&&u!==void 0?u:void 0}};e.StandaloneGotoSymbolQuickAccessProvider=n,e.StandaloneGotoSymbolQuickAccessProvider=n=Ie([ge(0,D.ICodeEditorService),ge(1,i.ILanguageFeaturesService),ge(2,s.IOutlineModelService)],n);class t extends _.EditorAction{constructor(){super({id:t.ID,label:S.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:v.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(u){u.get(C.IQuickInputService).quickAccess.show(L.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:C.ItemActivation.NONE})}}e.GotoSymbolAction=t,t.ID="editor.action.quickOutline",(0,_.registerEditorAction)(t),I.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:S.QuickOutlineNLS.quickOutlineActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:t.ID},{description:S.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(te[363],ie([1,0,7,54,840,33,15,47,23]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let v=class extends y.AbstractCodeEditorService{constructor(s,i){super(i),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=s.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler((n,t,r)=>be(this,void 0,void 0,function*(){return t?this.doOpenEditor(t,n):null})))}_checkContextKey(){let s=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){s=!0;break}this._editorIsOpen.set(s)}setActiveCodeEditor(s){this._activeCodeEditor=s}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(s,i){if(!this.findModel(s,i.resource)){if(i.resource){const r=i.resource.scheme;if(r===I.Schemas.http||r===I.Schemas.https)return(0,L.windowOpenNoOpener)(i.resource.toString()),s}return null}const t=i.options?i.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")s.setSelection(t),s.revealRangeInCenter(t,1);else{const r={lineNumber:t.startLineNumber,column:t.startColumn};s.setPosition(r),s.revealPositionInCenter(r,1)}return s}findModel(s,i){const n=s.getModel();return n&&n.uri.toString()!==i.toString()?null:n}};e.StandaloneCodeEditorService=v,e.StandaloneCodeEditorService=v=Ie([ge(0,S.IContextKeyService),ge(1,_.IThemeService)],v),(0,m.registerSingleton)(D.ICodeEditorService,v,0)}),define(te[863],ie([1,0,78,31]),function($,e,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[I.editorBackground]:"#FFFFFE",[I.editorForeground]:"#000000",[I.editorInactiveSelection]:"#E5EBF1",[L.editorIndentGuide1]:"#D3D3D3",[L.editorActiveIndentGuide1]:"#939393",[I.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[I.editorBackground]:"#1E1E1E",[I.editorForeground]:"#D4D4D4",[I.editorInactiveSelection]:"#3A3D41",[L.editorIndentGuide1]:"#404040",[L.editorActiveIndentGuide1]:"#707070",[I.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[I.editorBackground]:"#000000",[I.editorForeground]:"#FFFFFF",[L.editorIndentGuide1]:"#FFFFFF",[L.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[I.editorBackground]:"#FFFFFF",[I.editorForeground]:"#292929",[L.editorIndentGuide1]:"#292929",[L.editorActiveIndentGuide1]:"#292929"}}}),define(te[364],ie([1,0,7,51,36,6,29,124,507,863,35,31,23,2,86,834]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const u=C.Registry.as(s.Extensions.ColorContribution),f=C.Registry.as(i.Extensions.ThemingContribution);class d{constructor(h,p){this.semanticHighlighting=!1,this.themeData=p;const b=p.base;h.length>0?(l(h)?this.id=h:this.id=b+" "+h,this.themeName=h):(this.id=b,this.themeName=b),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const h=new Map;for(const p in this.themeData.colors)h.set(p,y.Color.fromHex(this.themeData.colors[p]));if(this.themeData.inherit){const p=o(this.themeData.base);for(const b in p.colors)h.has(b)||h.set(b,y.Color.fromHex(p.colors[b]))}this.colors=h}return this.colors}getColor(h,p){const b=this.getColors().get(h);if(b)return b;if(p!==!1)return this.getDefault(h)}getDefault(h){let p=this.defaultColors[h];return p||(p=u.resolveDefaultColor(h,this),this.defaultColors[h]=p,p)}defines(h){return this.getColors().has(h)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return t.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let h=[],p=[];if(this.themeData.inherit){const E=o(this.themeData.base);h=E.rules,E.encodedTokensColors&&(p=E.encodedTokensColors)}const b=this.themeData.colors["editor.foreground"],w=this.themeData.colors["editor.background"];if(b||w){const E={token:""};b&&(E.foreground=b),w&&(E.background=w),h.push(E)}h=h.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(p=this.themeData.encodedTokensColors),this._tokenTheme=_.TokenTheme.createFromRawTokenTheme(h,p)}return this._tokenTheme}getTokenStyleMetadata(h,p,b){const E=this.tokenTheme._match([h].concat(p).join(".")).metadata,k=m.TokenMetadata.getForeground(E),M=m.TokenMetadata.getFontStyle(E);return{foreground:k,italic:!!(M&1),bold:!!(M&2),underline:!!(M&4),strikethrough:!!(M&8)}}}function l(g){return g===e.VS_LIGHT_THEME_NAME||g===e.VS_DARK_THEME_NAME||g===e.HC_BLACK_THEME_NAME||g===e.HC_LIGHT_THEME_NAME}function o(g){switch(g){case e.VS_LIGHT_THEME_NAME:return v.vs;case e.VS_DARK_THEME_NAME:return v.vs_dark;case e.HC_BLACK_THEME_NAME:return v.hc_black;case e.HC_LIGHT_THEME_NAME:return v.hc_light}}function c(g){const h=o(g);return new d(g,h)}class a extends n.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new r.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,c(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,c(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,c(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,c(e.HC_LIGHT_THEME_NAME));const h=this._register((0,r.getIconsStyleSheet)(this));this._codiconCSS=h.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),this._register(h.onDidChange(()=>{this._codiconCSS=h.getCSS(),this._updateCSS()})),(0,I.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(h){return L.isInShadowDOM(h)?this._registerShadowDomContainer(h):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=L.createStyleSheet(void 0,h=>{h.className="monaco-colors",h.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),n.Disposable.None}_registerShadowDomContainer(h){const p=L.createStyleSheet(h,b=>{b.className="monaco-colors",b.textContent=this._allCSS});return this._styleElements.push(p),{dispose:()=>{for(let b=0;b<this._styleElements.length;b++)if(this._styleElements[b]===p){this._styleElements.splice(b,1);return}}}}defineTheme(h,p){if(!/^[a-z0-9\-]+$/i.test(h))throw new Error("Illegal theme name!");if(!l(p.base)&&!l(h))throw new Error("Illegal theme base!");this._knownThemes.set(h,new d(h,p)),l(h)&&this._knownThemes.forEach(b=>{b.base===h&&b.notifyBaseUpdated()}),this._theme.themeName===h&&this.setTheme(h)}getColorTheme(){return this._theme}setColorMapOverride(h){this._colorMapOverride=h,this._updateThemeOrColorMap()}setTheme(h){let p;this._knownThemes.has(h)?p=this._knownThemes.get(h):p=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(p)}_updateActualTheme(h){!h||this._theme===h||(this._theme=h,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const h=window.matchMedia("(forced-colors: active)").matches;if(h!==(0,t.isHighContrast)(this._theme.type)){let p;(0,t.isDark)(this._theme.type)?p=h?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:p=h?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(p))}}}setAutoDetectHighContrast(h){this._autoDetectHighContrast=h,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const h=[],p={},b={addRule:k=>{p[k]||(h.push(k),p[k]=!0)}};f.getThemingParticipants().forEach(k=>k(this._theme,b,this._environment));const w=[];for(const k of u.getColors()){const M=this._theme.getColor(k.id,!0);M&&w.push(`${(0,s.asCssVariableName)(k.id)}: ${M.toString()};`)}b.addRule(`.monaco-editor, .monaco-diff-editor { ${w.join(`
`)} }`);const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();b.addRule((0,_.generateTokensCSSForColorMap)(E)),this._themeCSS=h.join(`
`),this._updateCSS(),S.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(h=>h.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=a}),define(te[864],ie([1,0,16,131,93,86,364]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class m extends L.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:y.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(v,C){const s=v.get(I.IStandaloneThemeService),i=s.getColorTheme();(0,D.isHighContrast)(i.type)?(s.setTheme(this._originalThemeName||((0,D.isDark)(i.type)?S.VS_DARK_THEME_NAME:S.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(s.setTheme((0,D.isDark)(i.type)?S.HC_BLACK_THEME_NAME:S.HC_LIGHT_THEME_NAME),this._originalThemeName=i.themeName)}}(0,L.registerEditorAction)(m)}),define(te[160],ie([1,0,7,44,129,320,41,216,2,17,718,30,741,15,58,8,34,48,89,23,27,86,20,31,104,88,476]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=e.createAndFillInContextMenuActions=void 0;function b(N,A,P,O){const x=N.getActions(A),W=L.ModifierKeyEmitter.getInstance(),U=W.keyStatus.altKey||(v.isWindows||v.isLinux)&&W.keyStatus.shiftKey;E(x,P,U,O?F=>F===O:F=>F==="navigation")}e.createAndFillInContextMenuActions=b;function w(N,A,P,O,x,W){const U=N.getActions(A);E(U,P,!1,typeof O=="string"?G=>G===O:O,x,W)}e.createAndFillInActionBarActions=w;function E(N,A,P,O=U=>U==="navigation",x=()=>!1,W=!1){let U,F;Array.isArray(A)?(U=A,F=A):(U=A.primary,F=A.secondary);const G=new Set;for(const[Y,ne]of N){let se;O(Y)?(se=U,se.length>0&&W&&se.push(new S.Separator)):(se=F,se.length>0&&se.push(new S.Separator));for(let J of ne){P&&(J=J instanceof s.MenuItemAction&&J.alt?J.alt:J);const q=se.push(J);J instanceof S.SubmenuAction&&G.add({group:Y,action:J,index:q-1})}}for(const{group:Y,action:ne,index:se}of G){const J=O(Y)?U:F,q=ne.actions;x(ne,Y,J.length)&&J.splice(se,1,...q)}}let k=class extends y.ActionViewItem{constructor(A,P,O,x,W,U,F,G){super(void 0,A,{icon:!!(A.class||A.item.icon),label:!A.class&&!A.item.icon,draggable:P?.draggable,keybinding:P?.keybinding,hoverDelegate:P?.hoverDelegate}),this._keybindingService=O,this._notificationService=x,this._contextKeyService=W,this._themeService=U,this._contextMenuService=F,this._accessibilityService=G,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new _.MutableDisposable),this._altKey=L.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(A){return be(this,void 0,void 0,function*(){A.preventDefault(),A.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(P){this._notificationService.error(P)}})}render(A){if(super.render(A),A.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let P=!1;const O=()=>{var x;const W=!!(!((x=this._menuItemAction.alt)===null||x===void 0)&&x.enabled)&&(!this._accessibilityService.isMotionReduced()||P)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&P);W!==this._wantsAltCommand&&(this._wantsAltCommand=W,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(O)),this._register((0,L.addDisposableListener)(A,"mouseleave",x=>{P=!1,O()})),this._register((0,L.addDisposableListener)(A,"mouseenter",x=>{P=!0,O()})),O()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var A;const P=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),O=P&&P.getLabel(),x=this._commandAction.tooltip||this._commandAction.label;let W=O?(0,C.localize)(0,null,x,O):x;if(!this._wantsAltCommand&&(!((A=this._menuItemAction.alt)===null||A===void 0)&&A.enabled)){const U=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,F=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),G=F&&F.getLabel(),Y=G?(0,C.localize)(1,null,U,G):U;W=(0,C.localize)(2,null,W,m.UILabelProvider.modifierLabels[v.OS].altKey,Y)}return W}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(A){this._itemClassDispose.value=void 0;const{element:P,label:O}=this;if(!P||!O)return;const x=this._commandAction.checked&&(0,i.isICommandActionToggleInfo)(A.toggled)&&A.toggled.icon?A.toggled.icon:A.icon;if(x)if(o.ThemeIcon.isThemeIcon(x)){const W=o.ThemeIcon.asClassNameArray(x);O.classList.add(...W),this._itemClassDispose.value=(0,_.toDisposable)(()=>{O.classList.remove(...W)})}else{const W=(0,c.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(x.dark):(0,L.asCSSUrl)(x.light),U=(0,L.$)("span");U.style.webkitMask=U.style.mask=`${W} no-repeat 50% 50%`,U.style.background="var(--vscode-icon-foreground)",U.style.display="inline-block",U.style.width="100%",U.style.height="100%",O.appendChild(U),O.classList.add("icon"),this._itemClassDispose.value=(0,_.combinedDisposable)((0,_.toDisposable)(()=>{O.classList.remove("icon"),(0,L.reset)(O)}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}}};e.MenuEntryActionViewItem=k,e.MenuEntryActionViewItem=k=Ie([ge(2,u.IKeybindingService),ge(3,f.INotificationService),ge(4,n.IContextKeyService),ge(5,l.IThemeService),ge(6,t.IContextMenuService),ge(7,p.IAccessibilityService)],k);let M=class extends D.DropdownMenuActionViewItem{constructor(A,P,O,x,W){var U,F,G;const Y=Object.assign(Object.assign({},P),{menuAsChild:(U=P?.menuAsChild)!==null&&U!==void 0?U:!1,classNames:(F=P?.classNames)!==null&&F!==void 0?F:o.ThemeIcon.isThemeIcon(A.item.icon)?o.ThemeIcon.asClassName(A.item.icon):void 0,keybindingProvider:(G=P?.keybindingProvider)!==null&&G!==void 0?G:ne=>O.lookupKeybinding(ne.id)});super(A,{getActions:()=>A.actions},x,Y),this._keybindingService=O,this._contextMenuService=x,this._themeService=W}render(A){super.render(A),(0,a.assertType)(this.element),A.classList.add("menu-entry");const P=this._action,{icon:O}=P.item;if(O&&!o.ThemeIcon.isThemeIcon(O)){this.element.classList.add("icon");const x=()=>{this.element&&(this.element.style.backgroundImage=(0,c.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(O.dark):(0,L.asCSSUrl)(O.light))};x(),this._register(this._themeService.onDidColorThemeChange(()=>{x()}))}}};e.SubmenuEntryActionViewItem=M,e.SubmenuEntryActionViewItem=M=Ie([ge(2,u.IKeybindingService),ge(3,t.IContextMenuService),ge(4,l.IThemeService)],M);let R=class extends y.BaseActionViewItem{constructor(A,P,O,x,W,U,F,G){var Y,ne,se;super(null,A),this._keybindingService=O,this._notificationService=x,this._contextMenuService=W,this._menuService=U,this._instaService=F,this._storageService=G,this._container=null,this._options=P,this._storageKey=`${A.item.submenu.id}_lastActionId`;let J;const q=P?.persistLastActionId?G.get(this._storageKey,1):void 0;q&&(J=A.actions.find(V=>q===V.id)),J||(J=A.actions[0]),this._defaultAction=this._instaService.createInstance(k,J,{keybinding:this._getDefaultActionKeybindingLabel(J)});const H=Object.assign(Object.assign({keybindingProvider:V=>this._keybindingService.lookupKeybinding(V.id)},P),{menuAsChild:(Y=P?.menuAsChild)!==null&&Y!==void 0?Y:!0,classNames:(ne=P?.classNames)!==null&&ne!==void 0?ne:["codicon","codicon-chevron-down"],actionRunner:(se=P?.actionRunner)!==null&&se!==void 0?se:new S.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(A,A.actions,this._contextMenuService,H),this._dropdown.actionRunner.onDidRun(V=>{V.action instanceof s.MenuItemAction&&this.update(V.action)})}update(A){var P;!((P=this._options)===null||P===void 0)&&P.persistLastActionId&&this._storageService.store(this._storageKey,A.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(k,A,{keybinding:this._getDefaultActionKeybindingLabel(A)}),this._defaultAction.actionRunner=new class extends S.ActionRunner{runAction(O,x){return be(this,void 0,void 0,function*(){yield O.run(void 0)})}},this._container&&this._defaultAction.render((0,L.prepend)(this._container,(0,L.$)(".action-container")))}_getDefaultActionKeybindingLabel(A){var P;let O;if(!((P=this._options)===null||P===void 0)&&P.renderKeybindingWithDefaultActionLabel){const x=this._keybindingService.lookupKeybinding(A.id);x&&(O=`(${x.getLabel()})`)}return O}setActionContext(A){super.setActionContext(A),this._defaultAction.setActionContext(A),this._dropdown.setActionContext(A)}render(A){this._container=A,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const P=(0,L.$)(".action-container");this._defaultAction.render((0,L.append)(this._container,P)),this._register((0,L.addDisposableListener)(P,L.EventType.KEY_DOWN,x=>{const W=new I.StandardKeyboardEvent(x);W.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),W.stopPropagation())}));const O=(0,L.$)(".dropdown-action-container");this._dropdown.render((0,L.append)(this._container,O)),this._register((0,L.addDisposableListener)(O,L.EventType.KEY_DOWN,x=>{var W;const U=new I.StandardKeyboardEvent(x);U.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(W=this._defaultAction.element)===null||W===void 0||W.focus(),U.stopPropagation())}))}focus(A){A?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(A){A?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=R,e.DropdownWithDefaultActionViewItem=R=Ie([ge(2,u.IKeybindingService),ge(3,f.INotificationService),ge(4,t.IContextMenuService),ge(5,s.IMenuService),ge(6,r.IInstantiationService),ge(7,d.IStorageService)],R);let B=class extends y.SelectActionViewItem{constructor(A,P){super(null,A,A.actions.map(O=>({text:O.id===S.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":O.label,isDisabled:!O.enabled})),0,P,h.defaultSelectBoxStyles,{ariaLabel:A.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,A.actions.findIndex(O=>O.checked)))}render(A){super.render(A),A.style.borderColor=(0,g.asCssVariable)(g.selectBorder)}runAction(A,P){const O=this.action.actions[P];O&&this.actionRunner.run(O)}};B=Ie([ge(1,t.IContextViewService)],B);function T(N,A,P){return A instanceof s.MenuItemAction?N.createInstance(k,A,P):A instanceof s.SubmenuItemAction?A.item.isSelection?N.createInstance(B,A):A.item.rememberDefaultAction?N.createInstance(R,A,Object.assign(Object.assign({},P),{persistLastActionId:!0})):N.createInstance(M,A,P):void 0}e.createActionViewItem=T}),define(te[251],ie([1,0,7,129,222,41,13,14,26,2,40,17,27,12,29,214,682,160,818,30,25,15,58,8,34,76,77,455]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let E=class extends v.Disposable{constructor(P,O,x){super(),this.editor=P,this.model=O,this.instantiationService=x,this.alwaysShowToolbar=(0,C.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,C.derived)(this,W=>{var U,F,G;const Y=(U=this.model.read(W))===null||U===void 0?void 0:U.ghostText.read(W);if(!this.alwaysShowToolbar.read(W)||!Y||Y.parts.length===0)return this.sessionPosition=void 0,null;const ne=Y.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==Y.lineNumber&&(this.sessionPosition=void 0);const se=new n.Position(Y.lineNumber,Math.min(ne,(G=(F=this.sessionPosition)===null||F===void 0?void 0:F.column)!==null&&G!==void 0?G:Number.MAX_SAFE_INTEGER));return this.sessionPosition=se,se}),this._register((0,C.autorunWithStore)((W,U)=>{const F=this.model.read(W);if(!F||!this.alwaysShowToolbar.read(W))return;const G=U.add(this.instantiationService.createInstance(R,this.editor,!0,this.position,F.selectedInlineCompletionIndex,F.inlineCompletionsCount,F.selectedInlineCompletion.map(Y=>{var ne;return(ne=Y?.inlineCompletion.source.inlineCompletions.commands)!==null&&ne!==void 0?ne:[]})));P.addContentWidget(G),U.add((0,v.toDisposable)(()=>P.removeContentWidget(G))),U.add((0,C.autorun)(Y=>{this.position.read(Y)&&F.lastTriggerKind.read(Y)!==t.InlineCompletionTriggerKind.Explicit&&F.triggerExplicitly()}))}))}};e.InlineCompletionsHintsWidget=E,e.InlineCompletionsHintsWidget=E=Ie([ge(2,g.IInstantiationService)],E);const k=(0,b.registerIcon)("inline-suggestion-hints-next",_.Codicon.chevronRight,(0,u.localize)(0,null)),M=(0,b.registerIcon)("inline-suggestion-hints-previous",_.Codicon.chevronLeft,(0,u.localize)(1,null));let R=w=class extends v.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(P,O,x){const W=new D.Action(P,O,x,!0,()=>this._commandService.executeCommand(P)),U=this.keybindingService.lookupKeybinding(P,this._contextKeyService);let F=O;return U&&(F=(0,u.localize)(2,null,O,U.getLabel())),W.tooltip=F,W}constructor(P,O,x,W,U,F,G,Y,ne,se,J){super(),this.editor=P,this.withBorder=O,this._position=x,this._currentSuggestionIdx=W,this._suggestionCount=U,this._extraCommands=F,this._commandService=G,this.keybindingService=ne,this._contextKeyService=se,this._menuService=J,this.id=`InlineSuggestionHintsContentWidget${w.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,L.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,L.h)("div@toolBar")]),this.previousAction=this.createCommandAction(r.showPreviousInlineSuggestionActionId,(0,u.localize)(3,null),i.ThemeIcon.asClassName(M)),this.availableSuggestionCountAction=new D.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(r.showNextInlineSuggestionActionId,(0,u.localize)(4,null),i.ThemeIcon.asClassName(k)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(l.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new m.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new m.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(Y.createInstance(N,this.nodes.toolBar,l.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:q=>q.startsWith("primary")},actionViewItemProvider:(q,H)=>{if(q instanceof l.MenuItemAction)return Y.createInstance(T,q,void 0);if(q===this.availableSuggestionCountAction){const V=new B(void 0,q,{label:!0,icon:!1});return V.setClass("availableSuggestionCount"),V}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(q=>{w._dropDownVisible=q})),this._register((0,C.autorun)(q=>{this._position.read(q),this.editor.layoutContentWidget(this)})),this._register((0,C.autorun)(q=>{const H=this._suggestionCount.read(q),V=this._currentSuggestionIdx.read(q);H!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${V+1}/${H}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),H!==void 0&&H>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,C.autorun)(q=>{const H=this._extraCommands.read(q);if((0,S.equals)(this.lastCommands,H))return;this.lastCommands=H;const V=H.map(Z=>({class:void 0,id:Z.id,enabled:!0,tooltip:Z.tooltip||"",label:Z.title,run:ee=>this._commandService.executeCommand(Z.id)}));for(const[Z,ee]of this.inlineCompletionsActionsMenus.getActions())for(const le of ee)le instanceof l.MenuItemAction&&V.push(le);V.length>0&&V.unshift(new D.Separator),this.toolBar.setAdditionalSecondaryActions(V)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=R,R._dropDownVisible=!1,R.id=0,e.InlineSuggestionHintsContentWidget=R=w=Ie([ge(6,o.ICommandService),ge(7,g.IInstantiationService),ge(8,h.IKeybindingService),ge(9,c.IContextKeyService),ge(10,l.IMenuService)],R);class B extends I.ActionViewItem{constructor(){super(...arguments),this._className=void 0}setClass(P){this._className=P}render(P){super.render(P),this._className&&P.classList.add(this._className)}}class T extends f.MenuEntryActionViewItem{updateLabel(){const P=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!P)return super.updateLabel();if(this.label){const O=(0,L.h)("div.keybinding").root;new y.KeybindingLabel(O,s.OS,Object.assign({disableTitle:!0},y.unthemedKeybindingLabelOptions)).set(P),this.label.textContent=this._action.label,this.label.appendChild(O),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let N=class extends d.WorkbenchToolBar{constructor(P,O,x,W,U,F,G,Y){super(P,Object.assign({resetMenu:O},x),W,U,F,G,Y),this.menuId=O,this.options2=x,this.menuService=W,this.contextKeyService=U,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var P,O,x,W,U,F,G;const Y=[],ne=[];(0,f.createAndFillInActionBarActions)(this.menu,(P=this.options2)===null||P===void 0?void 0:P.menuOptions,{primary:Y,secondary:ne},(x=(O=this.options2)===null||O===void 0?void 0:O.toolbarOptions)===null||x===void 0?void 0:x.primaryGroup,(U=(W=this.options2)===null||W===void 0?void 0:W.toolbarOptions)===null||U===void 0?void 0:U.shouldInlineSubmenu,(G=(F=this.options2)===null||F===void 0?void 0:F.toolbarOptions)===null||G===void 0?void 0:G.useSeparatorsInPrimaryActions),ne.push(...this.additionalActions),Y.unshift(...this.prependedPrimaryActions),this.setActions(Y,ne)}setPrependedPrimaryActions(P){(0,S.equals)(this.prependedPrimaryActions,P,(O,x)=>O===x)||(this.prependedPrimaryActions=P,this.updateToolbar())}setAdditionalSecondaryActions(P){(0,S.equals)(this.additionalActions,P,(O,x)=>O===x)||(this.additionalActions=P,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=N,e.CustomizedMenuWorkbenchToolBar=N=Ie([ge(3,l.IMenuService),ge(4,c.IContextKeyService),ge(5,a.IContextMenuService),ge(6,h.IKeybindingService),ge(7,p.ITelemetryService)],N)}),define(te[865],ie([1,0,7,73,2,706,160,30,15,8]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class C extends S.MenuEntryActionViewItem{updateLabel(){const n=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!n)return super.updateLabel();this.label&&(this.label.textContent=(0,D.localize)(0,null,this._action.label,C.symbolPrintEnter(n)))}static symbolPrintEnter(n){var t;return(t=n.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let s=class{constructor(n,t,r,u,f){this._menuId=t,this._menuService=u,this._contextKeyService=f,this._menuDisposables=new y.DisposableStore,this.element=L.append(n,L.$(".suggest-status-bar"));const d=l=>l instanceof m.MenuItemAction?r.createInstance(C,l,void 0):void 0;this._leftActions=new I.ActionBar(this.element,{actionViewItemProvider:d}),this._rightActions=new I.ActionBar(this.element,{actionViewItemProvider:d}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const n=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const r=[],u=[];for(const[f,d]of n.getActions())f==="left"?r.push(...d):u.push(...d);this._leftActions.clear(),this._leftActions.push(r),this._rightActions.clear(),this._rightActions.push(u)};this._menuDisposables.add(n.onDidChange(()=>t())),this._menuDisposables.add(n)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=s,e.SuggestWidgetStatus=s=Ie([ge(2,v.IInstantiationService),ge(3,m.IMenuService),ge(4,_.IContextKeyService)],s)}),define(te[866],ie([1,0,7,41,6,2,160,30,15,34,48,76,828,58]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let t=class extends D.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new i.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(f,d,l,o,c,a){super(),this.telemetryService=f,this.notificationService=d,this.contextViewService=l,this.keybindingService=o,this.menuService=c,this.contextKeyService=a,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new y.Emitter),this._onDidHideContextMenu=this._store.add(new y.Emitter)}configure(f){this.contextMenuHandler.configure(f)}showContextMenu(f){f=r.transform(f,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},f),{onHide:d=>{var l;(l=f.onHide)===null||l===void 0||l.call(f,d),this._onDidHideContextMenu.fire()}})),L.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=t,e.ContextMenuService=t=Ie([ge(0,s.ITelemetryService),ge(1,C.INotificationService),ge(2,n.IContextViewService),ge(3,v.IKeybindingService),ge(4,m.IMenuService),ge(5,_.IContextKeyService)],t);var r;(function(u){function f(l){return l&&l.menuId instanceof m.MenuId}function d(l,o,c){if(!f(l))return l;const{menuId:a,menuActionOptions:g,contextKeyService:h}=l;return Object.assign(Object.assign({},l),{getActions:()=>{const p=[];if(a){const b=o.createMenu(a,h??c);(0,S.createAndFillInContextMenuActions)(b,g,p),b.dispose()}return l.getActions?I.Separator.join(l.getActions(),p):p}})}u.transform=d})(r||(e.ContextMenuMenuDelegate=r={}))}),define(te[867],ie([1,0,19,6,15,8,132,190,55,787,104,31,23,839]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let t=class extends i.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(v.QuickAccessController))),this._quickAccess}constructor(u,f,d,l){super(d),this.instantiationService=u,this.contextKeyService=f,this.layoutService=l,this._onShow=this._register(new I.Emitter),this._onHide=this._register(new I.Emitter),this.contexts=new Map}createController(u=this.layoutService,f){const d={idPrefix:"quickInput_",container:u.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),linkOpenerDelegate:o=>{this.instantiationService.invokeFunction(c=>{c.get(_.IOpenerService).open(o,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>u.focus(),createList:(o,c,a,g,h)=>this.instantiationService.createInstance(m.WorkbenchList,o,c,a,g,h),styles:this.computeStyles()},l=this._register(new n.QuickInputController(Object.assign(Object.assign({},d),f),this.themeService));return l.layout(u.dimension,u.offset.quickPickTop),this._register(u.onDidLayout(o=>l.layout(o,u.offset.quickPickTop))),this._register(l.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(l.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),l}setContextKey(u){let f;u&&(f=this.contexts.get(u),f||(f=new y.RawContextKey(u,!1).bindTo(this.contextKeyService),this.contexts.set(u,f))),!(f&&f.get())&&(this.resetContextKeys(),f?.set(!0))}resetContextKeys(){this.contexts.forEach(u=>{u.get()&&u.reset()})}pick(u,f={},d=L.CancellationToken.None){return this.controller.pick(u,f,d)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,s.asCssVariable)(s.quickInputBackground),quickInputForeground:(0,s.asCssVariable)(s.quickInputForeground),quickInputTitleBackground:(0,s.asCssVariable)(s.quickInputTitleBackground),widgetBorder:(0,s.asCssVariable)(s.widgetBorder),widgetShadow:(0,s.asCssVariable)(s.widgetShadow)},inputBox:C.defaultInputBoxStyles,toggle:C.defaultToggleStyles,countBadge:C.defaultCountBadgeStyles,button:C.defaultButtonStyles,progressBar:C.defaultProgressBarStyles,keybindingLabel:C.defaultKeybindingLabelStyles,list:(0,C.getListStyles)({listBackground:s.quickInputBackground,listFocusBackground:s.quickInputListFocusBackground,listFocusForeground:s.quickInputListFocusForeground,listInactiveFocusForeground:s.quickInputListFocusForeground,listInactiveSelectionIconForeground:s.quickInputListFocusIconForeground,listInactiveFocusBackground:s.quickInputListFocusBackground,listFocusOutline:s.activeContrastBorder,listInactiveFocusOutline:s.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,s.asCssVariable)(s.pickerGroupBorder),pickerGroupForeground:(0,s.asCssVariable)(s.pickerGroupForeground)}}}};e.QuickInputService=t,e.QuickInputService=t=Ie([ge(0,D.IInstantiationService),ge(1,y.IContextKeyService),ge(2,i.IThemeService),ge(3,S.ILayoutService)],t)}),define(te[868],ie([1,0,16,23,19,8,15,342,33,867,106,474]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let s=class extends v.QuickInputService{constructor(u,f,d,l,o){super(f,d,l,new m.EditorScopedLayoutService(u.getContainerDomNode(),o)),this.host=void 0;const c=n.get(u);if(c){const a=c.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return a.getDomNode()},get dimension(){return u.getLayoutInfo()},get onDidLayout(){return u.onDidLayoutChange},focus:()=>u.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};s=Ie([ge(1,D.IInstantiationService),ge(2,S.IContextKeyService),ge(3,I.IThemeService),ge(4,_.ICodeEditorService)],s);let i=class{get activeService(){const u=this.codeEditorService.getFocusedCodeEditor();if(!u)throw new Error("Quick input service needs a focused editor to work.");let f=this.mapEditorToService.get(u);if(!f){const d=f=this.instantiationService.createInstance(s,u);this.mapEditorToService.set(u,f),(0,C.createSingleCallFunction)(u.onDidDispose)(()=>{d.dispose(),this.mapEditorToService.delete(u)})}return f}get quickAccess(){return this.activeService.quickAccess}constructor(u,f){this.instantiationService=u,this.codeEditorService=f,this.mapEditorToService=new Map}pick(u,f={},d=y.CancellationToken.None){return this.activeService.pick(u,f,d)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=i,e.StandaloneQuickInputService=i=Ie([ge(0,D.IInstantiationService),ge(1,_.ICodeEditorService)],i);class n{static get(u){return u.getContribution(n.ID)}constructor(u){this.editor=u,this.widget=new t(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=n,n.ID="editor.controller.quickInput";class t{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return t.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=t,t.ID="editor.contrib.quickInputWidget",(0,L.registerEditorContribution)(n.ID,n,4)}),define(te[191],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,L.createDecorator)("undoRedoService");class I{constructor(m,_){this.resource=m,this.elements=_}}e.ResourceEditStackSnapshot=I;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=y,y._ID=0,y.None=new y;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(te[37],ie([1,0,13,36,9,6,2,10,21,122,201,64,12,5,24,173,42,32,49,600,851,333,290,512,513,324,601,179,626,110,191]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function B(K){const z=new b.PieceTreeTextBufferBuilder;return z.acceptChunk(K),z.finish()}e.createTextBufferFactory=B;function T(K){const z=new b.PieceTreeTextBufferBuilder;let Q;for(;typeof(Q=K.read())=="string";)z.acceptChunk(Q);return z.finish()}e.createTextBufferFactoryFromSnapshot=T;function N(K,z){let Q;return typeof K=="string"?Q=B(K):d.isITextSnapshot(K)?Q=T(K):Q=K,Q.create(z)}e.createTextBuffer=N;let A=0;const P=999,O=1e4;class x{constructor(z){this._source=z,this._eos=!1}read(){if(this._eos)return null;const z=[];let Q=0,j=0;do{const re=this._source.read();if(re===null)return this._eos=!0,Q===0?null:z.join("");if(re.length>0&&(z[Q++]=re,j+=re.length),j>=64*1024)return z.join("")}while(!0)}}const W=()=>{throw new Error("Invalid change accessor")};let U=R=class extends S.Disposable{static resolveOptions(z,Q){if(Q.detectIndentation){const j=(0,g.guessIndentation)(z,Q.tabSize,Q.insertSpaces);return new d.TextModelResolvedOptions({tabSize:j.tabSize,indentSize:"tabSize",insertSpaces:j.insertSpaces,trimAutoWhitespace:Q.trimAutoWhitespace,defaultEOL:Q.defaultEOL,bracketPairColorizationOptions:Q.bracketPairColorizationOptions})}return new d.TextModelResolvedOptions(Q)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(z){return this._eventEmitter.slowEvent(Q=>z(Q.contentChangedEvent))}onDidChangeContentOrInjectedText(z){return(0,S.combinedDisposable)(this._eventEmitter.fastEvent(Q=>z(Q)),this._onDidChangeInjectedText.event(Q=>z(Q)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(z,Q,j,re=null,oe,he,me){super(),this._undoRedoService=oe,this._languageService=he,this._languageConfigurationService=me,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new de(Ae=>this.handleBeforeFireDecorationsChangedEvent(Ae))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new ce),this._languageSelectionListener=this._register(new S.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new ae,A++,this.id="$model"+A,this.isForSimpleWidget=j.isForSimpleWidget,typeof re>"u"||re===null?this._associatedResource=_.URI.parse("inmemory://model/"+A):this._associatedResource=re,this._attachedEditorCount=0;const{textBuffer:pe,disposable:ve}=N(z,j.defaultEOL);this._buffer=pe,this._bufferDisposable=ve,this._options=R.resolveOptions(this._buffer,j);const we=typeof Q=="string"?Q:Q.languageId;typeof Q!="string"&&(this._languageSelectionListener.value=Q.onDidChange(()=>this._setLanguage(Q.languageId))),this._bracketPairs=this._register(new l.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new a.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new o.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new E.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,we,this._attachedViews);const Le=this._buffer.getLineCount(),Ee=this._buffer.getValueLengthInRange(new n.Range(1,1,Le,this._buffer.getLineLength(Le)+1),0);j.largeFileOptimizations?(this._isTooLargeForTokenization=Ee>R.LARGE_FILE_SIZE_THRESHOLD||Le>R.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Ee>R.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Ee>R._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=m.singleLetterHash(A),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new ne,this._commandManager=new c.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(we)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const z=new p.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);z.dispose(),this._buffer=z,this._bufferDisposable=S.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(z,Q){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(Q),this._bracketPairs.handleDidChangeContent(Q),this._eventEmitter.fire(new k.InternalModelContentChangeEvent(z,Q)))}setValue(z){if(this._assertNotDisposed(),z==null)throw(0,y.illegalArgument)();const{textBuffer:Q,disposable:j}=N(z,this._options.defaultEOL);this._setValueFromTextBuffer(Q,j)}_createContentChanged2(z,Q,j,re,oe,he,me,pe){return{changes:[{range:z,rangeOffset:Q,rangeLength:j,text:re}],eol:this._buffer.getEOL(),isEolChange:pe,versionId:this.getVersionId(),isUndoing:oe,isRedoing:he,isFlush:me}}_setValueFromTextBuffer(z,Q){this._assertNotDisposed();const j=this.getFullModelRange(),re=this.getValueLengthInRange(j),oe=this.getLineCount(),he=this.getLineMaxColumn(oe);this._buffer=z,this._bufferDisposable.dispose(),this._bufferDisposable=Q,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new ne,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new k.ModelRawContentChangedEvent([new k.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,oe,he),0,re,this.getValue(),!1,!1,!0,!1))}setEOL(z){this._assertNotDisposed();const Q=z===1?`\r
`:`
`;if(this._buffer.getEOL()===Q)return;const j=this.getFullModelRange(),re=this.getValueLengthInRange(j),oe=this.getLineCount(),he=this.getLineMaxColumn(oe);this._onBeforeEOLChange(),this._buffer.setEOL(Q),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new k.ModelRawContentChangedEvent([new k.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,oe,he),0,re,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const z=this.getVersionId(),Q=this._decorationsTree.collectNodesPostOrder();for(let j=0,re=Q.length;j<re;j++){const oe=Q[j],he=oe.range,me=oe.cachedAbsoluteStart-oe.start,pe=this._buffer.getOffsetAt(he.startLineNumber,he.startColumn),ve=this._buffer.getOffsetAt(he.endLineNumber,he.endColumn);oe.cachedAbsoluteStart=pe,oe.cachedAbsoluteEnd=ve,oe.cachedVersionId=z,oe.start=pe-me,oe.end=ve-me,(0,h.recomputeMaxEnd)(oe)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(z){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(z)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let z=0,Q=0;const j=this._buffer.getLineCount();for(let re=1;re<=j;re++){const oe=this._buffer.getLineLength(re);oe>=O?Q+=oe:z+=oe}return Q>z}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(z){this._assertNotDisposed();const Q=typeof z.tabSize<"u"?z.tabSize:this._options.tabSize,j=typeof z.indentSize<"u"?z.indentSize:this._options.originalIndentSize,re=typeof z.insertSpaces<"u"?z.insertSpaces:this._options.insertSpaces,oe=typeof z.trimAutoWhitespace<"u"?z.trimAutoWhitespace:this._options.trimAutoWhitespace,he=typeof z.bracketColorizationOptions<"u"?z.bracketColorizationOptions:this._options.bracketPairColorizationOptions,me=new d.TextModelResolvedOptions({tabSize:Q,indentSize:j,insertSpaces:re,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:oe,bracketPairColorizationOptions:he});if(this._options.equals(me))return;const pe=this._options.createChangeEvent(me);this._options=me,this._bracketPairs.handleDidChangeOptions(pe),this._decorationProvider.handleDidChangeOptions(pe),this._onDidChangeOptions.fire(pe)}detectIndentation(z,Q){this._assertNotDisposed();const j=(0,g.guessIndentation)(this._buffer,Q,z);this.updateOptions({insertSpaces:j.insertSpaces,tabSize:j.tabSize,indentSize:j.tabSize})}normalizeIndentation(z){return this._assertNotDisposed(),(0,C.normalizeIndentation)(z,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(z=null){const Q=this.findMatches(m.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(z,Q.map(j=>({range:j.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(z){this._assertNotDisposed();const Q=this._validatePosition(z.lineNumber,z.column,0);return this._buffer.getOffsetAt(Q.lineNumber,Q.column)}getPositionAt(z){this._assertNotDisposed();const Q=Math.min(this._buffer.getLength(),Math.max(0,z));return this._buffer.getPositionAt(Q)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(z){this._versionId=z}_overwriteAlternativeVersionId(z){this._alternativeVersionId=z}_overwriteInitialUndoRedoSnapshot(z){this._initialUndoRedoSnapshot=z}getValue(z,Q=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new y.BugIndicatingError("Operation would exceed heap memory limits");const j=this.getFullModelRange(),re=this.getValueInRange(j,z);return Q?this._buffer.getBOM()+re:re}createSnapshot(z=!1){return new x(this._buffer.createSnapshot(z))}getValueLength(z,Q=!1){this._assertNotDisposed();const j=this.getFullModelRange(),re=this.getValueLengthInRange(j,z);return Q?this._buffer.getBOM().length+re:re}getValueInRange(z,Q=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(z),Q)}getValueLengthInRange(z,Q=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(z),Q)}getCharacterCountInRange(z,Q=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(z),Q)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(z)}getLineLength(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(z)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new y.BugIndicatingError("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(z){return this._assertNotDisposed(),1}getLineMaxColumn(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(z)+1}getLineFirstNonWhitespaceColumn(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(z)}getLineLastNonWhitespaceColumn(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(z)}_validateRangeRelaxedNoAllocations(z){const Q=this._buffer.getLineCount(),j=z.startLineNumber,re=z.startColumn;let oe=Math.floor(typeof j=="number"&&!isNaN(j)?j:1),he=Math.floor(typeof re=="number"&&!isNaN(re)?re:1);if(oe<1)oe=1,he=1;else if(oe>Q)oe=Q,he=this.getLineMaxColumn(oe);else if(he<=1)he=1;else{const Le=this.getLineMaxColumn(oe);he>=Le&&(he=Le)}const me=z.endLineNumber,pe=z.endColumn;let ve=Math.floor(typeof me=="number"&&!isNaN(me)?me:1),we=Math.floor(typeof pe=="number"&&!isNaN(pe)?pe:1);if(ve<1)ve=1,we=1;else if(ve>Q)ve=Q,we=this.getLineMaxColumn(ve);else if(we<=1)we=1;else{const Le=this.getLineMaxColumn(ve);we>=Le&&(we=Le)}return j===oe&&re===he&&me===ve&&pe===we&&z instanceof n.Range&&!(z instanceof t.Selection)?z:new n.Range(oe,he,ve,we)}_isValidPosition(z,Q,j){if(typeof z!="number"||typeof Q!="number"||isNaN(z)||isNaN(Q)||z<1||Q<1||(z|0)!==z||(Q|0)!==Q)return!1;const re=this._buffer.getLineCount();if(z>re)return!1;if(Q===1)return!0;const oe=this.getLineMaxColumn(z);if(Q>oe)return!1;if(j===1){const he=this._buffer.getLineCharCode(z,Q-2);if(m.isHighSurrogate(he))return!1}return!0}_validatePosition(z,Q,j){const re=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),oe=Math.floor(typeof Q=="number"&&!isNaN(Q)?Q:1),he=this._buffer.getLineCount();if(re<1)return new i.Position(1,1);if(re>he)return new i.Position(he,this.getLineMaxColumn(he));if(oe<=1)return new i.Position(re,1);const me=this.getLineMaxColumn(re);if(oe>=me)return new i.Position(re,me);if(j===1){const pe=this._buffer.getLineCharCode(re,oe-2);if(m.isHighSurrogate(pe))return new i.Position(re,oe-1)}return new i.Position(re,oe)}validatePosition(z){return this._assertNotDisposed(),z instanceof i.Position&&this._isValidPosition(z.lineNumber,z.column,1)?z:this._validatePosition(z.lineNumber,z.column,1)}_isValidRange(z,Q){const j=z.startLineNumber,re=z.startColumn,oe=z.endLineNumber,he=z.endColumn;if(!this._isValidPosition(j,re,0)||!this._isValidPosition(oe,he,0))return!1;if(Q===1){const me=re>1?this._buffer.getLineCharCode(j,re-2):0,pe=he>1&&he<=this._buffer.getLineLength(oe)?this._buffer.getLineCharCode(oe,he-2):0,ve=m.isHighSurrogate(me),we=m.isHighSurrogate(pe);return!ve&&!we}return!0}validateRange(z){if(this._assertNotDisposed(),z instanceof n.Range&&!(z instanceof t.Selection)&&this._isValidRange(z,1))return z;const j=this._validatePosition(z.startLineNumber,z.startColumn,0),re=this._validatePosition(z.endLineNumber,z.endColumn,0),oe=j.lineNumber,he=j.column,me=re.lineNumber,pe=re.column;{const ve=he>1?this._buffer.getLineCharCode(oe,he-2):0,we=pe>1&&pe<=this._buffer.getLineLength(me)?this._buffer.getLineCharCode(me,pe-2):0,Le=m.isHighSurrogate(ve),Ee=m.isHighSurrogate(we);return!Le&&!Ee?new n.Range(oe,he,me,pe):oe===me&&he===pe?new n.Range(oe,he-1,me,pe-1):Le&&Ee?new n.Range(oe,he-1,me,pe+1):Le?new n.Range(oe,he-1,me,pe):new n.Range(oe,he,me,pe+1)}return new n.Range(oe,he,me,pe)}modifyPosition(z,Q){this._assertNotDisposed();const j=this.getOffsetAt(z)+Q;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,j)))}getFullModelRange(){this._assertNotDisposed();const z=this.getLineCount();return new n.Range(1,1,z,this.getLineMaxColumn(z))}findMatchesLineByLine(z,Q,j,re){return this._buffer.findMatchesLineByLine(z,Q,j,re)}findMatches(z,Q,j,re,oe,he,me=P){this._assertNotDisposed();let pe=null;Q!==null&&(Array.isArray(Q)||(Q=[Q]),Q.every(Le=>n.Range.isIRange(Le))&&(pe=Q.map(Le=>this.validateRange(Le)))),pe===null&&(pe=[this.getFullModelRange()]),pe=pe.sort((Le,Ee)=>Le.startLineNumber-Ee.startLineNumber||Le.startColumn-Ee.startColumn);const ve=[];ve.push(pe.reduce((Le,Ee)=>n.Range.areIntersecting(Le,Ee)?Le.plusRange(Ee):(ve.push(Le),Ee)));let we;if(!j&&z.indexOf(`
`)<0){const Ee=new w.SearchParams(z,j,re,oe).parseSearchRequest();if(!Ee)return[];we=Ae=>this.findMatchesLineByLine(Ae,Ee,he,me)}else we=Le=>w.TextModelSearch.findMatches(this,new w.SearchParams(z,j,re,oe),Le,he,me);return ve.map(we).reduce((Le,Ee)=>Le.concat(Ee),[])}findNextMatch(z,Q,j,re,oe,he){this._assertNotDisposed();const me=this.validatePosition(Q);if(!j&&z.indexOf(`
`)<0){const ve=new w.SearchParams(z,j,re,oe).parseSearchRequest();if(!ve)return null;const we=this.getLineCount();let Le=new n.Range(me.lineNumber,me.column,we,this.getLineMaxColumn(we)),Ee=this.findMatchesLineByLine(Le,ve,he,1);return w.TextModelSearch.findNextMatch(this,new w.SearchParams(z,j,re,oe),me,he),Ee.length>0||(Le=new n.Range(1,1,me.lineNumber,this.getLineMaxColumn(me.lineNumber)),Ee=this.findMatchesLineByLine(Le,ve,he,1),Ee.length>0)?Ee[0]:null}return w.TextModelSearch.findNextMatch(this,new w.SearchParams(z,j,re,oe),me,he)}findPreviousMatch(z,Q,j,re,oe,he){this._assertNotDisposed();const me=this.validatePosition(Q);return w.TextModelSearch.findPreviousMatch(this,new w.SearchParams(z,j,re,oe),me,he)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(z){if((this.getEOL()===`
`?0:1)!==z)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(z){return z instanceof d.ValidAnnotatedEditOperation?z:new d.ValidAnnotatedEditOperation(z.identifier||null,this.validateRange(z.range),z.text,z.forceMoveMarkers||!1,z.isAutoWhitespaceEdit||!1,z._isTracked||!1)}_validateEditOperations(z){const Q=[];for(let j=0,re=z.length;j<re;j++)Q[j]=this._validateEditOperation(z[j]);return Q}pushEditOperations(z,Q,j,re){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(z,this._validateEditOperations(Q),j,re)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(z,Q,j,re){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const oe=Q.map(me=>({range:this.validateRange(me.range),text:me.text}));let he=!0;if(z)for(let me=0,pe=z.length;me<pe;me++){const ve=z[me];let we=!1;for(let Le=0,Ee=oe.length;Le<Ee;Le++){const Ae=oe[Le].range,Re=Ae.startLineNumber>ve.endLineNumber,Be=ve.startLineNumber>Ae.endLineNumber;if(!Re&&!Be){we=!0;break}}if(!we){he=!1;break}}if(he)for(let me=0,pe=this._trimAutoWhitespaceLines.length;me<pe;me++){const ve=this._trimAutoWhitespaceLines[me],we=this.getLineMaxColumn(ve);let Le=!0;for(let Ee=0,Ae=oe.length;Ee<Ae;Ee++){const Re=oe[Ee].range,Be=oe[Ee].text;if(!(ve<Re.startLineNumber||ve>Re.endLineNumber)&&!(ve===Re.startLineNumber&&Re.startColumn===we&&Re.isEmpty()&&Be&&Be.length>0&&Be.charAt(0)===`
`)&&!(ve===Re.startLineNumber&&Re.startColumn===1&&Re.isEmpty()&&Be&&Be.length>0&&Be.charAt(Be.length-1)===`
`)){Le=!1;break}}if(Le){const Ee=new n.Range(ve,1,ve,we);Q.push(new d.ValidAnnotatedEditOperation(null,Ee,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(z,Q,j,re)}_applyUndo(z,Q,j,re){const oe=z.map(he=>{const me=this.getPositionAt(he.newPosition),pe=this.getPositionAt(he.newEnd);return{range:new n.Range(me.lineNumber,me.column,pe.lineNumber,pe.column),text:he.oldText}});this._applyUndoRedoEdits(oe,Q,!0,!1,j,re)}_applyRedo(z,Q,j,re){const oe=z.map(he=>{const me=this.getPositionAt(he.oldPosition),pe=this.getPositionAt(he.oldEnd);return{range:new n.Range(me.lineNumber,me.column,pe.lineNumber,pe.column),text:he.newText}});this._applyUndoRedoEdits(oe,Q,!1,!0,j,re)}_applyUndoRedoEdits(z,Q,j,re,oe,he){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=j,this._isRedoing=re,this.applyEdits(z,!1),this.setEOL(Q),this._overwriteAlternativeVersionId(oe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(he),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(z,Q=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const j=this._validateEditOperations(z);return this._doApplyEdits(j,Q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(z,Q){const j=this._buffer.getLineCount(),re=this._buffer.applyEdits(z,this._options.trimAutoWhitespace,Q),oe=this._buffer.getLineCount(),he=re.changes;if(this._trimAutoWhitespaceLines=re.trimAutoWhitespaceLineNumbers,he.length!==0){for(let ve=0,we=he.length;ve<we;ve++){const Le=he[ve];this._decorationsTree.acceptReplace(Le.rangeOffset,Le.rangeLength,Le.text.length,Le.forceMoveMarkers)}const me=[];this._increaseVersionId();let pe=j;for(let ve=0,we=he.length;ve<we;ve++){const Le=he[ve],[Ee]=(0,v.countEOL)(Le.text);this._onDidChangeDecorations.fire();const Ae=Le.range.startLineNumber,Re=Le.range.endLineNumber,Be=Re-Ae,ye=Ee,De=Math.min(Be,ye),fe=ye-Be,Ce=oe-pe-fe+Ae,Me=Ce,Pe=Ce+ye,Se=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new i.Position(Me,1)),this.getOffsetAt(new i.Position(Pe,this.getLineMaxColumn(Pe))),0),_e=k.LineInjectedText.fromDecorations(Se),ke=new L.ArrayQueue(_e);for(let Oe=De;Oe>=0;Oe--){const We=Ae+Oe,qe=Ce+Oe;ke.takeFromEndWhile(je=>je.lineNumber>qe);const Ge=ke.takeFromEndWhile(je=>je.lineNumber===qe);me.push(new k.ModelRawLineChanged(We,this.getLineContent(qe),Ge))}if(De<Be){const Oe=Ae+De;me.push(new k.ModelRawLinesDeleted(Oe+1,Re))}if(De<ye){const Oe=new L.ArrayQueue(_e),We=Ae+De,qe=ye-De,Ge=oe-pe-qe+We+1,je=[],it=[];for(let Ze=0;Ze<qe;Ze++){const dt=Ge+Ze;it[Ze]=this.getLineContent(dt),Oe.takeWhile(at=>at.lineNumber<dt),je[Ze]=Oe.takeWhile(at=>at.lineNumber===dt)}me.push(new k.ModelRawLinesInserted(We+1,Ae+ye,it,je))}pe+=fe}this._emitContentChangedEvent(new k.ModelRawContentChangedEvent(me,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:he,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return re.reverseEdits===null?void 0:re.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(z){if(z===null||z.size===0)return;const j=Array.from(z).map(re=>new k.ModelRawLineChanged(re,this.getLineContent(re),this._getInjectedTextInLine(re)));this._onDidChangeInjectedText.fire(new k.ModelInjectedTextChangedEvent(j))}changeDecorations(z,Q=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(Q,z)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(z,Q){const j={addDecoration:(oe,he)=>this._deltaDecorationsImpl(z,[],[{range:oe,options:he}])[0],changeDecoration:(oe,he)=>{this._changeDecorationImpl(oe,he)},changeDecorationOptions:(oe,he)=>{this._changeDecorationOptionsImpl(oe,ue(he))},removeDecoration:oe=>{this._deltaDecorationsImpl(z,[oe],[])},deltaDecorations:(oe,he)=>oe.length===0&&he.length===0?[]:this._deltaDecorationsImpl(z,oe,he)};let re=null;try{re=Q(j)}catch(oe){(0,y.onUnexpectedError)(oe)}return j.addDecoration=W,j.changeDecoration=W,j.changeDecorationOptions=W,j.removeDecoration=W,j.deltaDecorations=W,re}deltaDecorations(z,Q,j=0){if(this._assertNotDisposed(),z||(z=[]),z.length===0&&Q.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,y.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(j,z,Q)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(z){return this.getDecorationRange(z)}_setTrackedRange(z,Q,j){const re=z?this._decorations[z]:null;if(!re)return Q?this._deltaDecorationsImpl(0,[],[{range:Q,options:le[j]}],!0)[0]:null;if(!Q)return this._decorationsTree.delete(re),delete this._decorations[re.id],null;const oe=this._validateRangeRelaxedNoAllocations(Q),he=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),me=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);return this._decorationsTree.delete(re),re.reset(this.getVersionId(),he,me,oe),re.setOptions(le[j]),this._decorationsTree.insert(re),re.id}removeAllDecorationsWithOwnerId(z){if(this._isDisposed)return;const Q=this._decorationsTree.collectNodesFromOwner(z);for(let j=0,re=Q.length;j<re;j++){const oe=Q[j];this._decorationsTree.delete(oe),delete this._decorations[oe.id]}}getDecorationOptions(z){const Q=this._decorations[z];return Q?Q.options:null}getDecorationRange(z){const Q=this._decorations[z];return Q?this._decorationsTree.getNodeRange(this,Q):null}getLineDecorations(z,Q=0,j=!1){return z<1||z>this.getLineCount()?[]:this.getLinesDecorations(z,z,Q,j)}getLinesDecorations(z,Q,j=0,re=!1,oe=!1){const he=this.getLineCount(),me=Math.min(he,Math.max(1,z)),pe=Math.min(he,Math.max(1,Q)),ve=this.getLineMaxColumn(pe),we=new n.Range(me,1,pe,ve),Le=this._getDecorationsInRange(we,j,re,oe);return(0,L.pushMany)(Le,this._decorationProvider.getDecorationsInRange(we,j,re)),Le}getDecorationsInRange(z,Q=0,j=!1,re=!1,oe=!1){const he=this.validateRange(z),me=this._getDecorationsInRange(he,Q,j,oe);return(0,L.pushMany)(me,this._decorationProvider.getDecorationsInRange(he,Q,j,re)),me}getOverviewRulerDecorations(z=0,Q=!1){return this._decorationsTree.getAll(this,z,Q,!0,!1)}getInjectedTextDecorations(z=0){return this._decorationsTree.getAllInjectedText(this,z)}_getInjectedTextInLine(z){const Q=this._buffer.getOffsetAt(z,1),j=Q+this._buffer.getLineLength(z),re=this._decorationsTree.getInjectedTextInInterval(this,Q,j,0);return k.LineInjectedText.fromDecorations(re).filter(oe=>oe.lineNumber===z)}getAllDecorations(z=0,Q=!1){let j=this._decorationsTree.getAll(this,z,Q,!1,!1);return j=j.concat(this._decorationProvider.getAllDecorations(z,Q)),j}getAllMarginDecorations(z=0){return this._decorationsTree.getAll(this,z,!1,!1,!0)}_getDecorationsInRange(z,Q,j,re){const oe=this._buffer.getOffsetAt(z.startLineNumber,z.startColumn),he=this._buffer.getOffsetAt(z.endLineNumber,z.endColumn);return this._decorationsTree.getAllInInterval(this,oe,he,Q,j,re)}getRangeAt(z,Q){return this._buffer.getRangeAt(z,Q-z)}_changeDecorationImpl(z,Q){const j=this._decorations[z];if(!j)return;if(j.options.after){const me=this.getDecorationRange(z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.endLineNumber)}if(j.options.before){const me=this.getDecorationRange(z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.startLineNumber)}const re=this._validateRangeRelaxedNoAllocations(Q),oe=this._buffer.getOffsetAt(re.startLineNumber,re.startColumn),he=this._buffer.getOffsetAt(re.endLineNumber,re.endColumn);this._decorationsTree.delete(j),j.reset(this.getVersionId(),oe,he,re),this._decorationsTree.insert(j),this._onDidChangeDecorations.checkAffectedAndFire(j.options),j.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.endLineNumber),j.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.startLineNumber)}_changeDecorationOptionsImpl(z,Q){const j=this._decorations[z];if(!j)return;const re=!!(j.options.overviewRuler&&j.options.overviewRuler.color),oe=!!(Q.overviewRuler&&Q.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(j.options),this._onDidChangeDecorations.checkAffectedAndFire(Q),j.options.after||Q.after){const he=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.endLineNumber)}if(j.options.before||Q.before){const he=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.startLineNumber)}re!==oe?(this._decorationsTree.delete(j),j.setOptions(Q),this._decorationsTree.insert(j)):j.setOptions(Q)}_deltaDecorationsImpl(z,Q,j,re=!1){const oe=this.getVersionId(),he=Q.length;let me=0;const pe=j.length;let ve=0;this._onDidChangeDecorations.beginDeferredEmit();try{const we=new Array(pe);for(;me<he||ve<pe;){let Le=null;if(me<he){do Le=this._decorations[Q[me++]];while(!Le&&me<he);if(Le){if(Le.options.after){const Ee=this._decorationsTree.getNodeRange(this,Le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.endLineNumber)}if(Le.options.before){const Ee=this._decorationsTree.getNodeRange(this,Le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.startLineNumber)}this._decorationsTree.delete(Le),re||this._onDidChangeDecorations.checkAffectedAndFire(Le.options)}}if(ve<pe){if(!Le){const De=++this._lastDecorationId,fe=`${this._instanceId};${De}`;Le=new h.IntervalNode(fe,0,0),this._decorations[fe]=Le}const Ee=j[ve],Ae=this._validateRangeRelaxedNoAllocations(Ee.range),Re=ue(Ee.options),Be=this._buffer.getOffsetAt(Ae.startLineNumber,Ae.startColumn),ye=this._buffer.getOffsetAt(Ae.endLineNumber,Ae.endColumn);Le.ownerId=z,Le.reset(oe,Be,ye,Ae),Le.setOptions(Re),Le.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ae.endLineNumber),Le.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ae.startLineNumber),re||this._onDidChangeDecorations.checkAffectedAndFire(Re),this._decorationsTree.insert(Le),we[ve]=Le.id,ve++}else Le&&delete this._decorations[Le.id]}return we}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(z,Q){typeof z=="string"?(this._languageSelectionListener.clear(),this._setLanguage(z,Q)):(this._languageSelectionListener.value=z.onDidChange(()=>this._setLanguage(z.languageId,Q)),this._setLanguage(z.languageId,Q))}_setLanguage(z,Q){this.tokenization.setLanguageId(z,Q),this._languageService.requestRichLanguageFeatures(z)}getLanguageIdAtPosition(z,Q){return this.tokenization.getLanguageIdAtPosition(z,Q)}getWordAtPosition(z){return this._tokenizationTextModelPart.getWordAtPosition(z)}getWordUntilPosition(z){return this._tokenizationTextModelPart.getWordUntilPosition(z)}normalizePosition(z,Q){return z}getLineIndentColumn(z){return F(this.getLineContent(z))+1}};e.TextModel=U,U._MODEL_SYNC_LIMIT=50*1024*1024,U.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,U.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,U.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,U.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:r.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:r.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:r.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:r.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:r.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:r.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=U=R=Ie([ge(4,M.IUndoRedoService),ge(5,u.ILanguageService),ge(6,f.ILanguageConfigurationService)],U);function F(K){let z=0;for(const Q of K)if(Q===" "||Q==="	")z++;else break;return z}function G(K){return!!(K.options.overviewRuler&&K.options.overviewRuler.color)}function Y(K){return!!K.options.after||!!K.options.before}class ne{constructor(){this._decorationsTree0=new h.IntervalTree,this._decorationsTree1=new h.IntervalTree,this._injectedTextDecorationsTree=new h.IntervalTree}ensureAllNodesHaveRanges(z){this.getAll(z,0,!1,!1,!1)}_ensureNodesHaveRanges(z,Q){for(const j of Q)j.range===null&&(j.range=z.getRangeAt(j.cachedAbsoluteStart,j.cachedAbsoluteEnd));return Q}getAllInInterval(z,Q,j,re,oe,he){const me=z.getVersionId(),pe=this._intervalSearch(Q,j,re,oe,me,he);return this._ensureNodesHaveRanges(z,pe)}_intervalSearch(z,Q,j,re,oe,he){const me=this._decorationsTree0.intervalSearch(z,Q,j,re,oe,he),pe=this._decorationsTree1.intervalSearch(z,Q,j,re,oe,he),ve=this._injectedTextDecorationsTree.intervalSearch(z,Q,j,re,oe,he);return me.concat(pe).concat(ve)}getInjectedTextInInterval(z,Q,j,re){const oe=z.getVersionId(),he=this._injectedTextDecorationsTree.intervalSearch(Q,j,re,!1,oe,!1);return this._ensureNodesHaveRanges(z,he).filter(me=>me.options.showIfCollapsed||!me.range.isEmpty())}getAllInjectedText(z,Q){const j=z.getVersionId(),re=this._injectedTextDecorationsTree.search(Q,!1,j,!1);return this._ensureNodesHaveRanges(z,re).filter(oe=>oe.options.showIfCollapsed||!oe.range.isEmpty())}getAll(z,Q,j,re,oe){const he=z.getVersionId(),me=this._search(Q,j,re,he,oe);return this._ensureNodesHaveRanges(z,me)}_search(z,Q,j,re,oe){if(j)return this._decorationsTree1.search(z,Q,re,oe);{const he=this._decorationsTree0.search(z,Q,re,oe),me=this._decorationsTree1.search(z,Q,re,oe),pe=this._injectedTextDecorationsTree.search(z,Q,re,oe);return he.concat(me).concat(pe)}}collectNodesFromOwner(z){const Q=this._decorationsTree0.collectNodesFromOwner(z),j=this._decorationsTree1.collectNodesFromOwner(z),re=this._injectedTextDecorationsTree.collectNodesFromOwner(z);return Q.concat(j).concat(re)}collectNodesPostOrder(){const z=this._decorationsTree0.collectNodesPostOrder(),Q=this._decorationsTree1.collectNodesPostOrder(),j=this._injectedTextDecorationsTree.collectNodesPostOrder();return z.concat(Q).concat(j)}insert(z){Y(z)?this._injectedTextDecorationsTree.insert(z):G(z)?this._decorationsTree1.insert(z):this._decorationsTree0.insert(z)}delete(z){Y(z)?this._injectedTextDecorationsTree.delete(z):G(z)?this._decorationsTree1.delete(z):this._decorationsTree0.delete(z)}getNodeRange(z,Q){const j=z.getVersionId();return Q.cachedVersionId!==j&&this._resolveNode(Q,j),Q.range===null&&(Q.range=z.getRangeAt(Q.cachedAbsoluteStart,Q.cachedAbsoluteEnd)),Q.range}_resolveNode(z,Q){Y(z)?this._injectedTextDecorationsTree.resolveNode(z,Q):G(z)?this._decorationsTree1.resolveNode(z,Q):this._decorationsTree0.resolveNode(z,Q)}acceptReplace(z,Q,j,re){this._decorationsTree0.acceptReplace(z,Q,j,re),this._decorationsTree1.acceptReplace(z,Q,j,re),this._injectedTextDecorationsTree.acceptReplace(z,Q,j,re)}}function se(K){return K.replace(/[^a-z0-9\-_]/gi," ")}class J{constructor(z){this.color=z.color||"",this.darkColor=z.darkColor||""}}class q extends J{constructor(z){super(z),this._resolvedColor=null,this.position=typeof z.position=="number"?z.position:d.OverviewRulerLane.Center}getColor(z){return this._resolvedColor||(z.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,z):this._resolvedColor=this._resolveColor(this.color,z)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(z,Q){if(typeof z=="string")return z;const j=z?Q.getColor(z.id):null;return j?j.toString():""}}e.ModelDecorationOverviewRulerOptions=q;class H{constructor(z){var Q;this.position=(Q=z?.position)!==null&&Q!==void 0?Q:d.GlyphMarginLane.Left}}e.ModelDecorationGlyphMarginOptions=H;class V extends J{constructor(z){super(z),this.position=z.position}getColor(z){return this._resolvedColor||(z.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,z):this._resolvedColor=this._resolveColor(this.color,z)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(z,Q){return typeof z=="string"?I.Color.fromHex(z):Q.getColor(z.id)}}e.ModelDecorationMinimapOptions=V;class Z{static from(z){return z instanceof Z?z:new Z(z)}constructor(z){this.content=z.content||"",this.inlineClassName=z.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=z.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=z.attachedData||null,this.cursorStops=z.cursorStops||null}}e.ModelDecorationInjectedTextOptions=Z;class ee{static register(z){return new ee(z)}static createDynamic(z){return new ee(z)}constructor(z){var Q,j,re,oe,he,me;this.description=z.description,this.blockClassName=z.blockClassName?se(z.blockClassName):null,this.blockDoesNotCollapse=(Q=z.blockDoesNotCollapse)!==null&&Q!==void 0?Q:null,this.blockIsAfterEnd=(j=z.blockIsAfterEnd)!==null&&j!==void 0?j:null,this.blockPadding=(re=z.blockPadding)!==null&&re!==void 0?re:null,this.stickiness=z.stickiness||0,this.zIndex=z.zIndex||0,this.className=z.className?se(z.className):null,this.shouldFillLineOnLineBreak=(oe=z.shouldFillLineOnLineBreak)!==null&&oe!==void 0?oe:null,this.hoverMessage=z.hoverMessage||null,this.glyphMarginHoverMessage=z.glyphMarginHoverMessage||null,this.isWholeLine=z.isWholeLine||!1,this.showIfCollapsed=z.showIfCollapsed||!1,this.collapseOnReplaceEdit=z.collapseOnReplaceEdit||!1,this.overviewRuler=z.overviewRuler?new q(z.overviewRuler):null,this.minimap=z.minimap?new V(z.minimap):null,this.glyphMargin=z.glyphMarginClassName?new H(z.glyphMargin):null,this.glyphMarginClassName=z.glyphMarginClassName?se(z.glyphMarginClassName):null,this.linesDecorationsClassName=z.linesDecorationsClassName?se(z.linesDecorationsClassName):null,this.firstLineDecorationClassName=z.firstLineDecorationClassName?se(z.firstLineDecorationClassName):null,this.marginClassName=z.marginClassName?se(z.marginClassName):null,this.inlineClassName=z.inlineClassName?se(z.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=z.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=z.beforeContentClassName?se(z.beforeContentClassName):null,this.afterContentClassName=z.afterContentClassName?se(z.afterContentClassName):null,this.after=z.after?Z.from(z.after):null,this.before=z.before?Z.from(z.before):null,this.hideInCommentTokens=(he=z.hideInCommentTokens)!==null&&he!==void 0?he:!1,this.hideInStringTokens=(me=z.hideInStringTokens)!==null&&me!==void 0?me:!1}}e.ModelDecorationOptions=ee,ee.EMPTY=ee.register({description:"empty"});const le=[ee.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ee.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ee.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ee.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ue(K){return K instanceof ee?K:ee.createDynamic(K)}class de extends S.Disposable{constructor(z){super(),this.handleBeforeFire=z,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var z;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(z=this._affectedInjectedTextLines)===null||z===void 0||z.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(z){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(z)}checkAffectedAndFire(z){this._affectsMinimap||(this._affectsMinimap=!!(z.minimap&&z.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(z.overviewRuler&&z.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!z.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const z={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(z)}}class ce extends S.Disposable{constructor(){super(),this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(z=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=z;const Q=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(Q),this._slowEmitter.fire(Q)}}fire(z){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(z):this._deferredEvent=z;return}this._fastEmitter.fire(z),this._slowEmitter.fire(z)}}class ae{constructor(){this._onDidChangeVisibleRanges=new D.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const z=new X(Q=>{this._onDidChangeVisibleRanges.fire({view:z,state:Q})});return this._views.add(z),z}detachView(z){this._views.delete(z),this._onDidChangeVisibleRanges.fire({view:z,state:void 0})}}e.AttachedViews=ae;class X{constructor(z){this.handleStateChange=z}setVisibleLines(z,Q){const j=z.map(re=>new s.LineRange(re.startLineNumber,re.endLineNumber+1));this.handleStateChange({visibleLineRanges:j,stabilized:Q})}}}),define(te[365],ie([1,0,26,57,27,37,611,77]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrowRevertChange=e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=void 0,e.diffInsertIcon=(0,m.registerIcon)("diff-insert",L.Codicon.add,(0,S.localize)(0,null)),e.diffRemoveIcon=(0,m.registerIcon)("diff-remove",L.Codicon.remove,(0,S.localize)(1,null)),e.diffLineAddDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+y.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+y.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=D.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=D.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"}),e.arrowRevertChange=D.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new I.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,S.localize)(2,null)),glyphMarginClassName:"arrow-revert-change "+y.ThemeIcon.asClassName(L.Codicon.arrowRight),zIndex:10001})}),define(te[869],ie([1,0,2,40,365,327,100,12,5]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class v extends L.Disposable{constructor(s,i,n){super(),this._editors=s,this._diffModel=i,this._options=n,this._decorations=(0,I.derived)(this,t=>{var r;const u=(r=this._diffModel.read(t))===null||r===void 0?void 0:r.diff.read(t);if(!u)return null;const f=this._diffModel.read(t).movedTextToCompare.read(t),d=this._options.renderIndicators.read(t),l=this._options.showEmptyDecorations.read(t),o=[],c=[];if(!f)for(const g of u.mappings){if(g.lineRangeMapping.original.isEmpty||o.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:d?y.diffLineDeleteDecorationBackgroundWithIndicator:y.diffLineDeleteDecorationBackground}),g.lineRangeMapping.modified.isEmpty||c.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:d?y.diffLineAddDecorationBackgroundWithIndicator:y.diffLineAddDecorationBackground}),g.lineRangeMapping.modified.isEmpty||g.lineRangeMapping.original.isEmpty)g.lineRangeMapping.original.isEmpty||o.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:y.diffWholeLineDeleteDecoration}),g.lineRangeMapping.modified.isEmpty||c.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:y.diffWholeLineAddDecoration});else for(const h of g.lineRangeMapping.innerChanges||[])g.lineRangeMapping.original.contains(h.originalRange.startLineNumber)&&o.push({range:h.originalRange,options:h.originalRange.isEmpty()&&l?y.diffDeleteDecorationEmpty:y.diffDeleteDecoration}),g.lineRangeMapping.modified.contains(h.modifiedRange.startLineNumber)&&c.push({range:h.modifiedRange,options:h.modifiedRange.isEmpty()&&l?y.diffAddDecorationEmpty:y.diffAddDecoration});!g.lineRangeMapping.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(t)&&!f&&c.push({range:_.Range.fromPositions(new m.Position(g.lineRangeMapping.modified.startLineNumber,1)),options:y.arrowRevertChange})}if(f)for(const g of f.changes){const h=g.original.toInclusiveRange();h&&o.push({range:h,options:d?y.diffLineDeleteDecorationBackgroundWithIndicator:y.diffLineDeleteDecorationBackground});const p=g.modified.toInclusiveRange();p&&c.push({range:p,options:d?y.diffLineAddDecorationBackgroundWithIndicator:y.diffLineAddDecorationBackground});for(const b of g.innerChanges||[])o.push({range:b.originalRange,options:y.diffDeleteDecoration}),c.push({range:b.modifiedRange,options:y.diffAddDecoration})}const a=this._diffModel.read(t).activeMovedText.read(t);for(const g of u.movedTexts)o.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(g===a?" currentMove":""),blockPadding:[D.MovedBlocksLinesPart.movedCodeBlockPadding,0,D.MovedBlocksLinesPart.movedCodeBlockPadding,D.MovedBlocksLinesPart.movedCodeBlockPadding]}}),c.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(g===a?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:o,modifiedDecorations:c}}),this._register((0,S.applyObservableDecorations)(this._editors.original,this._decorations.map(t=>t?.originalDecorations||[]))),this._register((0,S.applyObservableDecorations)(this._editors.modified,this._decorations.map(t=>t?.modifiedDecorations||[])))}}e.DiffEditorDecorations=v}),define(te[870],ie([1,0,7,13,14,26,2,40,27,20,70,120,365,352,616,632,100,64,12,82,102,58]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZoneManager=void 0;let a=class extends S.Disposable{constructor(b,w,E,k,M,R,B){super(),this._editors=b,this._diffModel=w,this._options=E,this._diffEditorWidget=k,this._canIgnoreViewZoneUpdateEvent=M,this._clipboardService=R,this._contextMenuService=B,this._originalTopPadding=(0,m.observableValue)(this,0),this._originalScrollOffset=(0,m.observableValue)(this,0),this._originalScrollOffsetAnimated=(0,u.animatedObservable)(this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,m.observableValue)(this,0),this._modifiedScrollOffset=(0,m.observableValue)(this,0),this._modifiedScrollOffsetAnimated=(0,u.animatedObservable)(this._modifiedScrollOffset,this._store);let T=!1;const N=(0,m.observableValue)("state",0),A=this._register(new y.RunOnceScheduler(()=>{N.set(N.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(se=>{!T&&!this._canIgnoreViewZoneUpdateEvent()&&A.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(se=>{!T&&!this._canIgnoreViewZoneUpdateEvent()&&A.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(se=>{(se.hasChanged(144)||se.hasChanged(66))&&A.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(se=>{(se.hasChanged(144)||se.hasChanged(66))&&A.schedule()}));const P=this._diffModel.map(se=>se?(0,m.observableFromEvent)(se.model.original.onDidChangeTokens,()=>se.model.original.tokenization.backgroundTokenizationState===2):void 0).map((se,J)=>se?.read(J)),O=new Set,x=new Set,W=(0,m.derived)(se=>{const J=this._diffModel.read(se),q=J?.diff.read(se);if(!J||!q)return null;N.read(se);const V=this._options.renderSideBySide.read(se);return g(this._editors.original,this._editors.modified,q.mappings,O,x,V)}),U=(0,m.derived)(se=>{var J;const q=(J=this._diffModel.read(se))===null||J===void 0?void 0:J.movedTextToCompare.read(se);if(!q)return null;N.read(se);const H=q.changes.map(V=>new n.DiffMapping(V));return g(this._editors.original,this._editors.modified,H,O,x,!0)});function F(){const se=document.createElement("div");return se.className="diagonal-fill",se}const G=this._register(new S.DisposableStore),Y=(0,m.derived)(se=>{var J,q,H,V,Z,ee,le,ue;G.clear();const de=W.read(se)||[],ce=[],ae=[],X=this._modifiedTopPadding.read(se);X>0&&ae.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:X,showInHiddenAreas:!0,suppressMouseDown:!0});const K=this._originalTopPadding.read(se);K>0&&ce.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:K,showInHiddenAreas:!0,suppressMouseDown:!0});const z=this._options.renderSideBySide.read(se),Q=z||(J=this._editors.modified._getViewModel())===null||J===void 0?void 0:J.createLineBreaksComputer();if(Q){for(const we of de)if(we.diff)for(let Le=we.originalRange.startLineNumber;Le<we.originalRange.endLineNumberExclusive;Le++)Q?.addRequest(this._editors.original.getModel().getLineContent(Le),null,null)}const j=(q=Q?.finalize())!==null&&q!==void 0?q:[];let re=0;const oe=this._editors.modified.getOption(66),he=(H=this._diffModel.read(se))===null||H===void 0?void 0:H.movedTextToCompare.read(se),me=(Z=(V=this._editors.original.getModel())===null||V===void 0?void 0:V.mightContainNonBasicASCII())!==null&&Z!==void 0?Z:!1,pe=(le=(ee=this._editors.original.getModel())===null||ee===void 0?void 0:ee.mightContainRTL())!==null&&le!==void 0?le:!1,ve=r.RenderOptions.fromEditor(this._editors.modified);for(const we of de)if(we.diff&&!z){if(!we.originalRange.isEmpty){P.read(se);const Ee=document.createElement("div");Ee.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const Ae=new r.LineSource(we.originalRange.mapToLineArray(fe=>this._editors.original.getModel().tokenization.getLineTokens(fe)),we.originalRange.mapToLineArray(fe=>j[re++]),me,pe),Re=[];for(const fe of we.diff.innerChanges||[])Re.push(new l.InlineDecoration(fe.originalRange.delta(-(we.diff.original.startLineNumber-1)),i.diffDeleteDecoration.className,0));const Be=(0,r.renderLines)(Ae,ve,Re,Ee),ye=document.createElement("div");if(ye.className="inline-deleted-margin-view-zone",(0,C.applyFontInfo)(ye,ve.fontInfo),this._options.renderIndicators.read(se))for(let fe=0;fe<Be.heightInLines;fe++){const Ce=document.createElement("div");Ce.className=`delete-sign ${_.ThemeIcon.asClassName(i.diffRemoveIcon)}`,Ce.setAttribute("style",`position:absolute;top:${fe*oe}px;width:${ve.lineDecorationsWidth}px;height:${oe}px;right:0;`),ye.appendChild(Ce)}let De;G.add(new t.InlineDiffDeletedCodeMargin(()=>(0,v.assertIsDefined)(De),ye,this._editors.modified,we.diff,this._diffEditorWidget,Be.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let fe=0;fe<Be.viewLineCounts.length;fe++){const Ce=Be.viewLineCounts[fe];Ce>1&&ce.push({afterLineNumber:we.originalRange.startLineNumber+fe,domNode:F(),heightInPx:(Ce-1)*oe,showInHiddenAreas:!0,suppressMouseDown:!0})}ae.push({afterLineNumber:we.modifiedRange.startLineNumber-1,domNode:Ee,heightInPx:Be.heightInLines*oe,minWidthInPx:Be.minWidthInPx,marginDomNode:ye,setZoneId(fe){De=fe},showInHiddenAreas:!0,suppressMouseDown:!0})}const Le=document.createElement("div");Le.className="gutter-delete",ce.push({afterLineNumber:we.originalRange.endLineNumberExclusive-1,domNode:F(),heightInPx:we.modifiedHeightInPx,marginDomNode:Le,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Le=we.modifiedHeightInPx-we.originalHeightInPx;if(Le>0){if(he?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(we.originalRange.endLineNumberExclusive-1))continue;ce.push({afterLineNumber:we.originalRange.endLineNumberExclusive-1,domNode:F(),heightInPx:Le,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let Ee=function(){const Re=document.createElement("div");return Re.className="arrow-revert-change "+_.ThemeIcon.asClassName(D.Codicon.arrowRight),(0,L.$)("div",{},Re)};if(he?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(we.modifiedRange.endLineNumberExclusive-1))continue;let Ae;we.diff&&we.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(se)&&(Ae=Ee()),ae.push({afterLineNumber:we.modifiedRange.endLineNumberExclusive-1,domNode:F(),heightInPx:-Le,marginDomNode:Ae,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const we of(ue=U.read(se))!==null&&ue!==void 0?ue:[]){if(!he?.lineRangeMapping.original.intersect(we.originalRange)||!he?.lineRangeMapping.modified.intersect(we.modifiedRange))continue;const Le=we.modifiedHeightInPx-we.originalHeightInPx;Le>0?ce.push({afterLineNumber:we.originalRange.endLineNumberExclusive-1,domNode:F(),heightInPx:Le,showInHiddenAreas:!0,suppressMouseDown:!0}):ae.push({afterLineNumber:we.modifiedRange.endLineNumberExclusive-1,domNode:F(),heightInPx:-Le,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:ce,mod:ae}});this._register((0,m.autorunWithStore)(se=>{const J=s.StableEditorScrollState.capture(this._editors.modified),q=Y.read(se);T=!0,this._editors.original.changeViewZones(H=>{for(const V of O)H.removeZone(V);O.clear();for(const V of q.orig){const Z=H.addZone(V);V.setZoneId&&V.setZoneId(Z),O.add(Z)}}),this._editors.modified.changeViewZones(H=>{for(const V of x)H.removeZone(V);x.clear();for(const V of q.mod){const Z=H.addZone(V);V.setZoneId&&V.setZoneId(Z),x.add(Z)}}),T=!1,J.restore(this._editors.modified)})),this._register((0,S.toDisposable)(()=>{this._editors.original.changeViewZones(se=>{for(const J of O)se.removeZone(J);O.clear()}),this._editors.modified.changeViewZones(se=>{for(const J of x)se.removeZone(J);x.clear()})}));let ne=!1;this._register(this._editors.original.onDidScrollChange(se=>{se.scrollLeftChanged&&!ne&&(ne=!0,this._editors.modified.setScrollLeft(se.scrollLeft),ne=!1)})),this._register(this._editors.modified.onDidScrollChange(se=>{se.scrollLeftChanged&&!ne&&(ne=!0,this._editors.original.setScrollLeft(se.scrollLeft),ne=!1)})),this._originalScrollTop=(0,m.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,m.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,m.autorun)(se=>{const J=this._originalScrollTop.read(se)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(se))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(se));J!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(J,1)})),this._register((0,m.autorun)(se=>{const J=this._modifiedScrollTop.read(se)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(se))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(se));J!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(J,1)})),this._register((0,m.autorun)(se=>{var J;const q=(J=this._diffModel.read(se))===null||J===void 0?void 0:J.movedTextToCompare.read(se);let H=0;if(q){const V=this._editors.original.getTopForLineNumber(q.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();H=this._editors.modified.getTopForLineNumber(q.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-V}H>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(H,void 0)):H<0?(this._modifiedTopPadding.set(-H,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-H,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+H,void 0,!0)}))}};e.ViewZoneManager=a,e.ViewZoneManager=a=Ie([ge(5,o.IClipboardService),ge(6,c.IContextMenuService)],a);function g(p,b,w,E,k,M){const R=new I.ArrayQueue(h(p,E)),B=new I.ArrayQueue(h(b,k)),T=p.getOption(66),N=b.getOption(66),A=[];let P=0,O=0;function x(W,U){for(;;){let F=R.peek(),G=B.peek();if(F&&F.lineNumber>=W&&(F=void 0),G&&G.lineNumber>=U&&(G=void 0),!F&&!G)break;const Y=F?F.lineNumber-P:Number.MAX_VALUE,ne=G?G.lineNumber-O:Number.MAX_VALUE;Y<ne?(R.dequeue(),G={lineNumber:F.lineNumber-P+O,heightInPx:0}):Y>ne?(B.dequeue(),F={lineNumber:G.lineNumber-O+P,heightInPx:0}):(R.dequeue(),B.dequeue()),A.push({originalRange:f.LineRange.ofLength(F.lineNumber,1),modifiedRange:f.LineRange.ofLength(G.lineNumber,1),originalHeightInPx:T+F.heightInPx,modifiedHeightInPx:N+G.heightInPx,diff:void 0})}}for(const W of w){let ne=function(se,J){var q,H,V,Z;if(se<Y||J<G)return;if(F)F=!1;else if(se===Y||J===G)return;const ee=new f.LineRange(Y,se),le=new f.LineRange(G,J);if(ee.isEmpty&&le.isEmpty)return;const ue=(H=(q=R.takeWhile(ce=>ce.lineNumber<se))===null||q===void 0?void 0:q.reduce((ce,ae)=>ce+ae.heightInPx,0))!==null&&H!==void 0?H:0,de=(Z=(V=B.takeWhile(ce=>ce.lineNumber<J))===null||V===void 0?void 0:V.reduce((ce,ae)=>ce+ae.heightInPx,0))!==null&&Z!==void 0?Z:0;A.push({originalRange:ee,modifiedRange:le,originalHeightInPx:ee.length*T+ue,modifiedHeightInPx:le.length*N+de,diff:W.lineRangeMapping}),Y=se,G=J};const U=W.lineRangeMapping;x(U.original.startLineNumber,U.modified.startLineNumber);let F=!0,G=U.modified.startLineNumber,Y=U.original.startLineNumber;if(M)for(const se of U.innerChanges||[])se.originalRange.startColumn>1&&se.modifiedRange.startColumn>1&&ne(se.originalRange.startLineNumber,se.modifiedRange.startLineNumber),se.originalRange.endColumn<p.getModel().getLineMaxColumn(se.originalRange.endLineNumber)&&ne(se.originalRange.endLineNumber,se.modifiedRange.endLineNumber);ne(U.original.endLineNumberExclusive,U.modified.endLineNumberExclusive),P=U.original.endLineNumberExclusive,O=U.modified.endLineNumberExclusive}return x(Number.MAX_VALUE,Number.MAX_VALUE),A}function h(p,b){const w=[],E=[],k=p.getOption(144).wrappingColumn!==-1,M=p._getViewModel().coordinatesConverter,R=p.getOption(66);if(k)for(let T=1;T<=p.getModel().getLineCount();T++){const N=M.getModelLineViewLineCount(T);N>1&&E.push({lineNumber:T,heightInPx:R*(N-1)})}for(const T of p.getWhitespaces()){if(b.has(T.id))continue;const N=T.afterLineNumber===0?0:M.convertViewPositionToModelPosition(new d.Position(T.afterLineNumber,1)).lineNumber;w.push({lineNumber:N,heightInPx:T.height})}return(0,u.joinCombine)(w,E,T=>T.lineNumber,(T,N)=>({lineNumber:T.lineNumber,heightInPx:T.heightInPx+N.heightInPx}))}}),define(te[871],ie([1,0,6,2,17,37,173,75,42,185,28,191,141,333,54,52,32]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultModelSHA1Computer=e.ModelService=void 0;function d(h){return h.toString()}class l{constructor(p,b,w){this.model=p,this._modelEventListeners=new I.DisposableStore,this.model=p,this._modelEventListeners.add(p.onWillDispose(()=>b(p))),this._modelEventListeners.add(p.onDidChangeLanguage(E=>w(p,E)))}dispose(){this._modelEventListeners.dispose()}}const o=y.isLinux||y.isMacintosh?1:2;class c{constructor(p,b,w,E,k,M,R,B){this.uri=p,this.initialUndoRedoSnapshot=b,this.time=w,this.sharesUndoRedoStack=E,this.heapSize=k,this.sha1=M,this.versionId=R,this.alternativeVersionId=B}}let a=f=class extends I.Disposable{constructor(p,b,w,E,k){super(),this._configurationService=p,this._resourcePropertiesService=b,this._undoRedoService=w,this._languageService=E,this._languageConfigurationService=k,this._onModelAdded=this._register(new L.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new L.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new L.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(M=>this._updateModelOptions(M))),this._updateModelOptions(void 0)}static _readModelOptions(p,b){var w;let E=S.EDITOR_MODEL_DEFAULTS.tabSize;if(p.editor&&typeof p.editor.tabSize<"u"){const O=parseInt(p.editor.tabSize,10);isNaN(O)||(E=O),E<1&&(E=1)}let k="tabSize";if(p.editor&&typeof p.editor.indentSize<"u"&&p.editor.indentSize!=="tabSize"){const O=parseInt(p.editor.indentSize,10);isNaN(O)||(k=Math.max(O,1))}let M=S.EDITOR_MODEL_DEFAULTS.insertSpaces;p.editor&&typeof p.editor.insertSpaces<"u"&&(M=p.editor.insertSpaces==="false"?!1:!!p.editor.insertSpaces);let R=o;const B=p.eol;B===`\r
`?R=2:B===`
`&&(R=1);let T=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;p.editor&&typeof p.editor.trimAutoWhitespace<"u"&&(T=p.editor.trimAutoWhitespace==="false"?!1:!!p.editor.trimAutoWhitespace);let N=S.EDITOR_MODEL_DEFAULTS.detectIndentation;p.editor&&typeof p.editor.detectIndentation<"u"&&(N=p.editor.detectIndentation==="false"?!1:!!p.editor.detectIndentation);let A=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;p.editor&&typeof p.editor.largeFileOptimizations<"u"&&(A=p.editor.largeFileOptimizations==="false"?!1:!!p.editor.largeFileOptimizations);let P=S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((w=p.editor)===null||w===void 0)&&w.bracketPairColorization&&typeof p.editor.bracketPairColorization=="object"&&(P={enabled:!!p.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!p.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:b,tabSize:E,indentSize:k,insertSpaces:M,detectIndentation:N,defaultEOL:R,trimAutoWhitespace:T,largeFileOptimizations:A,bracketPairColorizationOptions:P}}_getEOL(p,b){if(p)return this._resourcePropertiesService.getEOL(p,b);const w=this._configurationService.getValue("files.eol",{overrideIdentifier:b});return w&&typeof w=="string"&&w!=="auto"?w:y.OS===3||y.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const p=this._configurationService.getValue("files.restoreUndoStack");return typeof p=="boolean"?p:!0}getCreationOptions(p,b,w){const E=typeof p=="string"?p:p.languageId;let k=this._modelCreationOptionsByLanguageAndResource[E+b];if(!k){const M=this._configurationService.getValue("editor",{overrideIdentifier:E,resource:b}),R=this._getEOL(b,E);k=f._readModelOptions({editor:M,eol:R},w),this._modelCreationOptionsByLanguageAndResource[E+b]=k}return k}_updateModelOptions(p){const b=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const w=Object.keys(this._models);for(let E=0,k=w.length;E<k;E++){const M=w[E],R=this._models[M],B=R.model.getLanguageId(),T=R.model.uri;if(p&&!p.affectsConfiguration("editor",{overrideIdentifier:B,resource:T})&&!p.affectsConfiguration("files.eol",{overrideIdentifier:B,resource:T}))continue;const N=b[B+T],A=this.getCreationOptions(B,T,R.model.isForSimpleWidget);f._setModelOptionsForModel(R.model,A,N)}}static _setModelOptionsForModel(p,b,w){w&&w.defaultEOL!==b.defaultEOL&&p.getLineCount()===1&&p.setEOL(b.defaultEOL===1?0:1),!(w&&w.detectIndentation===b.detectIndentation&&w.insertSpaces===b.insertSpaces&&w.tabSize===b.tabSize&&w.indentSize===b.indentSize&&w.trimAutoWhitespace===b.trimAutoWhitespace&&(0,r.equals)(w.bracketPairColorizationOptions,b.bracketPairColorizationOptions))&&(b.detectIndentation?(p.detectIndentation(b.insertSpaces,b.tabSize),p.updateOptions({trimAutoWhitespace:b.trimAutoWhitespace,bracketColorizationOptions:b.bracketPairColorizationOptions})):p.updateOptions({insertSpaces:b.insertSpaces,tabSize:b.tabSize,indentSize:b.indentSize,trimAutoWhitespace:b.trimAutoWhitespace,bracketColorizationOptions:b.bracketPairColorizationOptions}))}_insertDisposedModel(p){this._disposedModels.set(d(p.uri),p),this._disposedModelsHeapSize+=p.heapSize}_removeDisposedModel(p){const b=this._disposedModels.get(d(p));return b&&(this._disposedModelsHeapSize-=b.heapSize),this._disposedModels.delete(d(p)),b}_ensureDisposedModelsHeapSize(p){if(this._disposedModelsHeapSize>p){const b=[];for(this._disposedModels.forEach(w=>{w.sharesUndoRedoStack||b.push(w)}),b.sort((w,E)=>w.time-E.time);b.length>0&&this._disposedModelsHeapSize>p;){const w=b.shift();this._removeDisposedModel(w.uri),w.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(w.initialUndoRedoSnapshot)}}}_createModelData(p,b,w,E){const k=this.getCreationOptions(b,w,E),M=new D.TextModel(p,b,k,w,this._undoRedoService,this._languageService,this._languageConfigurationService);if(w&&this._disposedModels.has(d(w))){const T=this._removeDisposedModel(w),N=this._undoRedoService.getElements(w),A=this._getSHA1Computer(),P=A.canComputeSHA1(M)?A.computeSHA1(M)===T.sha1:!1;if(P||T.sharesUndoRedoStack){for(const O of N.past)(0,n.isEditStackElement)(O)&&O.matchesResource(w)&&O.setModel(M);for(const O of N.future)(0,n.isEditStackElement)(O)&&O.matchesResource(w)&&O.setModel(M);this._undoRedoService.setElementsValidFlag(w,!0,O=>(0,n.isEditStackElement)(O)&&O.matchesResource(w)),P&&(M._overwriteVersionId(T.versionId),M._overwriteAlternativeVersionId(T.alternativeVersionId),M._overwriteInitialUndoRedoSnapshot(T.initialUndoRedoSnapshot))}else T.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(T.initialUndoRedoSnapshot)}const R=d(M.uri);if(this._models[R])throw new Error("ModelService: Cannot add model because it already exists!");const B=new l(M,T=>this._onWillDispose(T),(T,N)=>this._onDidChangeLanguage(T,N));return this._models[R]=B,B}createModel(p,b,w,E=!1){let k;return b?k=this._createModelData(p,b,w,E):k=this._createModelData(p,m.PLAINTEXT_LANGUAGE_ID,w,E),this._onModelAdded.fire(k.model),k.model}getModels(){const p=[],b=Object.keys(this._models);for(let w=0,E=b.length;w<E;w++){const k=b[w];p.push(this._models[k].model)}return p}getModel(p){const b=d(p),w=this._models[b];return w?w.model:null}_schemaShouldMaintainUndoRedoElements(p){return p.scheme===t.Schemas.file||p.scheme===t.Schemas.vscodeRemote||p.scheme===t.Schemas.vscodeUserData||p.scheme===t.Schemas.vscodeNotebookCell||p.scheme==="fake-fs"}_onWillDispose(p){const b=d(p.uri),w=this._models[b],E=this._undoRedoService.getUriComparisonKey(p.uri)!==p.uri.toString();let k=!1,M=0;if(E||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(p.uri)){const T=this._undoRedoService.getElements(p.uri);if(T.past.length>0||T.future.length>0){for(const N of T.past)(0,n.isEditStackElement)(N)&&N.matchesResource(p.uri)&&(k=!0,M+=N.heapSize(p.uri),N.setModel(p.uri));for(const N of T.future)(0,n.isEditStackElement)(N)&&N.matchesResource(p.uri)&&(k=!0,M+=N.heapSize(p.uri),N.setModel(p.uri))}}const R=f.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,B=this._getSHA1Computer();if(k)if(!E&&(M>R||!B.canComputeSHA1(p))){const T=w.model.getInitialUndoRedoSnapshot();T!==null&&this._undoRedoService.restoreSnapshot(T)}else this._ensureDisposedModelsHeapSize(R-M),this._undoRedoService.setElementsValidFlag(p.uri,!1,T=>(0,n.isEditStackElement)(T)&&T.matchesResource(p.uri)),this._insertDisposedModel(new c(p.uri,w.model.getInitialUndoRedoSnapshot(),Date.now(),E,M,B.computeSHA1(p),p.getVersionId(),p.getAlternativeVersionId()));else if(!E){const T=w.model.getInitialUndoRedoSnapshot();T!==null&&this._undoRedoService.restoreSnapshot(T)}delete this._models[b],w.dispose(),delete this._modelCreationOptionsByLanguageAndResource[p.getLanguageId()+p.uri],this._onModelRemoved.fire(p)}_onDidChangeLanguage(p,b){const w=b.oldLanguage,E=p.getLanguageId(),k=this.getCreationOptions(w,p.uri,p.isForSimpleWidget),M=this.getCreationOptions(E,p.uri,p.isForSimpleWidget);f._setModelOptionsForModel(p,M,k),this._onModelModeChanged.fire({model:p,oldLanguageId:w})}_getSHA1Computer(){return new g}};e.ModelService=a,a.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=a=f=Ie([ge(0,C.IConfigurationService),ge(1,v.ITextResourcePropertiesService),ge(2,s.IUndoRedoService),ge(3,_.ILanguageService),ge(4,u.ILanguageConfigurationService)],a);class g{canComputeSHA1(p){return p.getValueLength()<=g.MAX_MODEL_SIZE}computeSHA1(p){const b=new i.StringSHA1,w=p.createSnapshot();let E;for(;E=w.read();)b.update(E);return b.digest()}}e.DefaultModelSHA1Computer=g,g.MAX_MODEL_SIZE=10*1024*1024}),define(te[872],ie([1,0,13,12,5,210,37,110,212,535,284,82]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class i{constructor(o,c,a,g,h,p,b,w,E,k){this._editorId=o,this.model=c,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=a,this._monospaceLineBreaksComputerFactory=g,this.fontInfo=h,this.tabSize=p,this.wrappingStrategy=b,this.wrappingColumn=w,this.wrappingIndent=E,this.wordBreak=k,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new u(this)}_constructLines(o,c){this.modelLineProjections=[],o&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const a=this.model.getLinesContent(),g=this.model.getInjectedTextDecorations(this._editorId),h=a.length,p=this.createLineBreaksComputer(),b=new L.ArrayQueue(m.LineInjectedText.fromDecorations(g));for(let N=0;N<h;N++){const A=b.takeWhile(P=>P.lineNumber===N+1);p.addRequest(a[N],A,c?c[N]:null)}const w=p.finalize(),E=[],k=this.hiddenAreasDecorationIds.map(N=>this.model.getDecorationRange(N)).sort(y.Range.compareRangesUsingStarts);let M=1,R=0,B=-1,T=B+1<k.length?R+1:h+2;for(let N=0;N<h;N++){const A=N+1;A===T&&(B++,M=k[B].startLineNumber,R=k[B].endLineNumber,T=B+1<k.length?R+1:h+2);const P=A>=M&&A<=R,O=(0,v.createModelLineProjection)(w[N],!P);E[N]=O.getViewLineCount(),this.modelLineProjections[N]=O}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new C.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(o=>this.model.getDecorationRange(o))}setHiddenAreas(o){const c=o.map(R=>this.model.validateRange(R)),a=n(c),g=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort(y.Range.compareRangesUsingStarts);if(a.length===g.length){let R=!1;for(let B=0;B<a.length;B++)if(!a[B].equalsRange(g[B])){R=!0;break}if(!R)return!1}const h=a.map(R=>({range:R,options:S.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,h);const p=a;let b=1,w=0,E=-1,k=E+1<p.length?w+1:this.modelLineProjections.length+2,M=!1;for(let R=0;R<this.modelLineProjections.length;R++){const B=R+1;B===k&&(E++,b=p[E].startLineNumber,w=p[E].endLineNumber,k=E+1<p.length?w+1:this.modelLineProjections.length+2);let T=!1;if(B>=b&&B<=w?this.modelLineProjections[R].isVisible()&&(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!1),T=!0):(M=!0,this.modelLineProjections[R].isVisible()||(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!0),T=!0)),T){const N=this.modelLineProjections[R].getViewLineCount();this.projectedModelLineLineCounts.setValue(R,N)}}return M||this.setHiddenAreas([]),!0}modelPositionIsVisible(o,c){return o<1||o>this.modelLineProjections.length?!1:this.modelLineProjections[o-1].isVisible()}getModelLineViewLineCount(o){return o<1||o>this.modelLineProjections.length?1:this.modelLineProjections[o-1].getViewLineCount()}setTabSize(o){return this.tabSize===o?!1:(this.tabSize=o,this._constructLines(!1,null),!0)}setWrappingSettings(o,c,a,g,h){const p=this.fontInfo.equals(o),b=this.wrappingStrategy===c,w=this.wrappingColumn===a,E=this.wrappingIndent===g,k=this.wordBreak===h;if(p&&b&&w&&E&&k)return!1;const M=p&&b&&!w&&E&&k;this.fontInfo=o,this.wrappingStrategy=c,this.wrappingColumn=a,this.wrappingIndent=g,this.wordBreak=h;let R=null;if(M){R=[];for(let B=0,T=this.modelLineProjections.length;B<T;B++)R[B]=this.modelLineProjections[B].getProjectionData()}return this._constructLines(!1,R),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(o,c,a){if(!o||o<=this._validModelVersionId)return null;const g=c===1?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,h=this.projectedModelLineLineCounts.getPrefixSum(a);return this.modelLineProjections.splice(c-1,a-c+1),this.projectedModelLineLineCounts.removeValues(c-1,a-c+1),new _.ViewLinesDeletedEvent(g,h)}onModelLinesInserted(o,c,a,g){if(!o||o<=this._validModelVersionId)return null;const h=c>2&&!this.modelLineProjections[c-2].isVisible(),p=c===1?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1;let b=0;const w=[],E=[];for(let k=0,M=g.length;k<M;k++){const R=(0,v.createModelLineProjection)(g[k],!h);w.push(R);const B=R.getViewLineCount();b+=B,E[k]=B}return this.modelLineProjections=this.modelLineProjections.slice(0,c-1).concat(w).concat(this.modelLineProjections.slice(c-1)),this.projectedModelLineLineCounts.insertValues(c-1,E),new _.ViewLinesInsertedEvent(p,p+b-1)}onModelLineChanged(o,c,a){if(o!==null&&o<=this._validModelVersionId)return[!1,null,null,null];const g=c-1,h=this.modelLineProjections[g].getViewLineCount(),p=this.modelLineProjections[g].isVisible(),b=(0,v.createModelLineProjection)(a,p);this.modelLineProjections[g]=b;const w=this.modelLineProjections[g].getViewLineCount();let E=!1,k=0,M=-1,R=0,B=-1,T=0,N=-1;h>w?(k=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,M=k+w-1,T=M+1,N=T+(h-w)-1,E=!0):h<w?(k=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,M=k+h-1,R=M+1,B=R+(w-h)-1,E=!0):(k=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,M=k+w-1),this.projectedModelLineLineCounts.setValue(g,w);const A=k<=M?new _.ViewLinesChangedEvent(k,M-k+1):null,P=R<=B?new _.ViewLinesInsertedEvent(R,B):null,O=T<=N?new _.ViewLinesDeletedEvent(T,N):null;return[E,A,P,O]}acceptVersionId(o){this._validModelVersionId=o,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(o){if(o<1)return 1;const c=this.getViewLineCount();return o>c?c:o|0}getActiveIndentGuide(o,c,a){o=this._toValidViewLineNumber(o),c=this._toValidViewLineNumber(c),a=this._toValidViewLineNumber(a);const g=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),h=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),p=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),b=this.model.guides.getActiveIndentGuide(g.lineNumber,h.lineNumber,p.lineNumber),w=this.convertModelPositionToViewPosition(b.startLineNumber,1),E=this.convertModelPositionToViewPosition(b.endLineNumber,this.model.getLineMaxColumn(b.endLineNumber));return{startLineNumber:w.lineNumber,endLineNumber:E.lineNumber,indent:b.indent}}getViewLineInfo(o){o=this._toValidViewLineNumber(o);const c=this.projectedModelLineLineCounts.getIndexOf(o-1),a=c.index,g=c.remainder;return new t(a+1,g)}getMinColumnOfViewLine(o){return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(o){return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(o){const c=this.modelLineProjections[o.modelLineNumber-1],a=c.getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx),g=c.getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,a);return new I.Position(o.modelLineNumber,g)}getModelEndPositionOfViewLine(o){const c=this.modelLineProjections[o.modelLineNumber-1],a=c.getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx),g=c.getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,a);return new I.Position(o.modelLineNumber,g)}getViewLineInfosGroupedByModelRanges(o,c){const a=this.getViewLineInfo(o),g=this.getViewLineInfo(c),h=new Array;let p=this.getModelStartPositionOfViewLine(a),b=new Array;for(let w=a.modelLineNumber;w<=g.modelLineNumber;w++){const E=this.modelLineProjections[w-1];if(E.isVisible()){const k=w===a.modelLineNumber?a.modelLineWrappedLineIdx:0,M=w===g.modelLineNumber?g.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let R=k;R<M;R++)b.push(new t(w,R))}if(!E.isVisible()&&p){const k=new I.Position(w-1,this.model.getLineMaxColumn(w-1)+1),M=y.Range.fromPositions(p,k);h.push(new r(M,b)),b=[],p=null}else E.isVisible()&&!p&&(p=new I.Position(w,1))}if(p){const w=y.Range.fromPositions(p,this.getModelEndPositionOfViewLine(g));h.push(new r(w,b))}return h}getViewLinesBracketGuides(o,c,a,g){const h=a?this.convertViewPositionToModelPosition(a.lineNumber,a.column):null,p=[];for(const b of this.getViewLineInfosGroupedByModelRanges(o,c)){const w=b.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(w,b.modelRange.endLineNumber,h,g);for(const k of b.viewLines){const R=E[k.modelLineNumber-w].map(B=>{if(B.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[k.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesAfterColumn).lineNumber>=k.modelLineWrappedLineIdx||B.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[k.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesBeforeOrAtColumn).lineNumber<k.modelLineWrappedLineIdx)return;if(!B.horizontalLine)return B;let T=-1;if(B.column!==-1){const P=this.modelLineProjections[k.modelLineNumber-1].getViewPositionOfModelPosition(0,B.column);if(P.lineNumber===k.modelLineWrappedLineIdx)T=P.column;else if(P.lineNumber<k.modelLineWrappedLineIdx)T=this.getMinColumnOfViewLine(k);else if(P.lineNumber>k.modelLineWrappedLineIdx)return}const N=this.convertModelPositionToViewPosition(k.modelLineNumber,B.horizontalLine.endColumn),A=this.modelLineProjections[k.modelLineNumber-1].getViewPositionOfModelPosition(0,B.horizontalLine.endColumn);return A.lineNumber===k.modelLineWrappedLineIdx?new D.IndentGuide(B.visibleColumn,T,B.className,new D.IndentGuideHorizontalLine(B.horizontalLine.top,N.column),-1,-1):A.lineNumber<k.modelLineWrappedLineIdx||B.visibleColumn!==-1?void 0:new D.IndentGuide(B.visibleColumn,T,B.className,new D.IndentGuideHorizontalLine(B.horizontalLine.top,this.getMaxColumnOfViewLine(k)),-1,-1)});p.push(R.filter(B=>!!B))}}return p}getViewLinesIndentGuides(o,c){o=this._toValidViewLineNumber(o),c=this._toValidViewLineNumber(c);const a=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),g=this.convertViewPositionToModelPosition(c,this.getViewLineMaxColumn(c));let h=[];const p=[],b=[],w=a.lineNumber-1,E=g.lineNumber-1;let k=null;for(let T=w;T<=E;T++){const N=this.modelLineProjections[T];if(N.isVisible()){const A=N.getViewLineNumberOfModelPosition(0,T===w?a.column:1),P=N.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(T+1)),O=P-A+1;let x=0;O>1&&N.getViewLineMinColumn(this.model,T+1,P)===1&&(x=A===0?1:2),p.push(O),b.push(x),k===null&&(k=new I.Position(T+1,0))}else k!==null&&(h=h.concat(this.model.guides.getLinesIndentGuides(k.lineNumber,T)),k=null)}k!==null&&(h=h.concat(this.model.guides.getLinesIndentGuides(k.lineNumber,g.lineNumber)),k=null);const M=c-o+1,R=new Array(M);let B=0;for(let T=0,N=h.length;T<N;T++){let A=h[T];const P=Math.min(M-B,p[T]),O=b[T];let x;O===2?x=0:O===1?x=1:x=P;for(let W=0;W<P;W++)W===x&&(A=0),R[B++]=A}return R}getViewLineContent(o){const c=this.getViewLineInfo(o);return this.modelLineProjections[c.modelLineNumber-1].getViewLineContent(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineLength(o){const c=this.getViewLineInfo(o);return this.modelLineProjections[c.modelLineNumber-1].getViewLineLength(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMinColumn(o){const c=this.getViewLineInfo(o);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMaxColumn(o){const c=this.getViewLineInfo(o);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineData(o){const c=this.getViewLineInfo(o);return this.modelLineProjections[c.modelLineNumber-1].getViewLineData(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLinesData(o,c,a){o=this._toValidViewLineNumber(o),c=this._toValidViewLineNumber(c);const g=this.projectedModelLineLineCounts.getIndexOf(o-1);let h=o;const p=g.index,b=g.remainder,w=[];for(let E=p,k=this.model.getLineCount();E<k;E++){const M=this.modelLineProjections[E];if(!M.isVisible())continue;const R=E===p?b:0;let B=M.getViewLineCount()-R,T=!1;if(h+B>c&&(T=!0,B=c-h+1),M.getViewLinesData(this.model,E+1,R,B,h-o,a,w),h+=B,T)break}return w}validateViewPosition(o,c,a){o=this._toValidViewLineNumber(o);const g=this.projectedModelLineLineCounts.getIndexOf(o-1),h=g.index,p=g.remainder,b=this.modelLineProjections[h],w=b.getViewLineMinColumn(this.model,h+1,p),E=b.getViewLineMaxColumn(this.model,h+1,p);c<w&&(c=w),c>E&&(c=E);const k=b.getModelColumnOfViewPosition(p,c);return this.model.validatePosition(new I.Position(h+1,k)).equals(a)?new I.Position(o,c):this.convertModelPositionToViewPosition(a.lineNumber,a.column)}validateViewRange(o,c){const a=this.validateViewPosition(o.startLineNumber,o.startColumn,c.getStartPosition()),g=this.validateViewPosition(o.endLineNumber,o.endColumn,c.getEndPosition());return new y.Range(a.lineNumber,a.column,g.lineNumber,g.column)}convertViewPositionToModelPosition(o,c){const a=this.getViewLineInfo(o),g=this.modelLineProjections[a.modelLineNumber-1].getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,c);return this.model.validatePosition(new I.Position(a.modelLineNumber,g))}convertViewRangeToModelRange(o){const c=this.convertViewPositionToModelPosition(o.startLineNumber,o.startColumn),a=this.convertViewPositionToModelPosition(o.endLineNumber,o.endColumn);return new y.Range(c.lineNumber,c.column,a.lineNumber,a.column)}convertModelPositionToViewPosition(o,c,a=2,g=!1,h=!1){const p=this.model.validatePosition(new I.Position(o,c)),b=p.lineNumber,w=p.column;let E=b-1,k=!1;if(h)for(;E<this.modelLineProjections.length&&!this.modelLineProjections[E].isVisible();)E++,k=!0;else for(;E>0&&!this.modelLineProjections[E].isVisible();)E--,k=!0;if(E===0&&!this.modelLineProjections[E].isVisible())return new I.Position(g?0:1,1);const M=1+this.projectedModelLineLineCounts.getPrefixSum(E);let R;return k?h?R=this.modelLineProjections[E].getViewPositionOfModelPosition(M,1,a):R=this.modelLineProjections[E].getViewPositionOfModelPosition(M,this.model.getLineMaxColumn(E+1),a):R=this.modelLineProjections[b-1].getViewPositionOfModelPosition(M,w,a),R}convertModelRangeToViewRange(o,c=0){if(o.isEmpty()){const a=this.convertModelPositionToViewPosition(o.startLineNumber,o.startColumn,c);return y.Range.fromPositions(a)}else{const a=this.convertModelPositionToViewPosition(o.startLineNumber,o.startColumn,1),g=this.convertModelPositionToViewPosition(o.endLineNumber,o.endColumn,0);return new y.Range(a.lineNumber,a.column,g.lineNumber,g.column)}}getViewLineNumberOfModelPosition(o,c){let a=o-1;if(this.modelLineProjections[a].isVisible()){const h=1+this.projectedModelLineLineCounts.getPrefixSum(a);return this.modelLineProjections[a].getViewLineNumberOfModelPosition(h,c)}for(;a>0&&!this.modelLineProjections[a].isVisible();)a--;if(a===0&&!this.modelLineProjections[a].isVisible())return 1;const g=1+this.projectedModelLineLineCounts.getPrefixSum(a);return this.modelLineProjections[a].getViewLineNumberOfModelPosition(g,this.model.getLineMaxColumn(a+1))}getDecorationsInRange(o,c,a,g,h){const p=this.convertViewPositionToModelPosition(o.startLineNumber,o.startColumn),b=this.convertViewPositionToModelPosition(o.endLineNumber,o.endColumn);if(b.lineNumber-p.lineNumber<=o.endLineNumber-o.startLineNumber)return this.model.getDecorationsInRange(new y.Range(p.lineNumber,1,b.lineNumber,b.column),c,a,g,h);let w=[];const E=p.lineNumber-1,k=b.lineNumber-1;let M=null;for(let N=E;N<=k;N++)if(this.modelLineProjections[N].isVisible())M===null&&(M=new I.Position(N+1,N===E?p.column:1));else if(M!==null){const P=this.model.getLineMaxColumn(N);w=w.concat(this.model.getDecorationsInRange(new y.Range(M.lineNumber,M.column,N,P),c,a,g)),M=null}M!==null&&(w=w.concat(this.model.getDecorationsInRange(new y.Range(M.lineNumber,M.column,b.lineNumber,b.column),c,a,g)),M=null),w.sort((N,A)=>{const P=y.Range.compareRangesUsingStarts(N.range,A.range);return P===0?N.id<A.id?-1:N.id>A.id?1:0:P});const R=[];let B=0,T=null;for(const N of w){const A=N.id;T!==A&&(T=A,R[B++]=N)}return R}getInjectedTextAt(o){const c=this.getViewLineInfo(o.lineNumber);return this.modelLineProjections[c.modelLineNumber-1].getInjectedTextAt(c.modelLineWrappedLineIdx,o.column)}normalizePosition(o,c){const a=this.getViewLineInfo(o.lineNumber);return this.modelLineProjections[a.modelLineNumber-1].normalizePosition(a.modelLineWrappedLineIdx,o,c)}getLineIndentColumn(o){const c=this.getViewLineInfo(o);return c.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(c.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=i;function n(l){if(l.length===0)return[];const o=l.slice();o.sort(y.Range.compareRangesUsingStarts);const c=[];let a=o[0].startLineNumber,g=o[0].endLineNumber;for(let h=1,p=o.length;h<p;h++){const b=o[h];b.startLineNumber>g+1?(c.push(new y.Range(a,1,g,1)),a=b.startLineNumber,g=b.endLineNumber):b.endLineNumber>g&&(g=b.endLineNumber)}return c.push(new y.Range(a,1,g,1)),c}class t{constructor(o,c){this.modelLineNumber=o,this.modelLineWrappedLineIdx=c}}class r{constructor(o,c){this.modelRange=o,this.viewLines=c}}class u{constructor(o){this._lines=o}convertViewPositionToModelPosition(o){return this._lines.convertViewPositionToModelPosition(o.lineNumber,o.column)}convertViewRangeToModelRange(o){return this._lines.convertViewRangeToModelRange(o)}validateViewPosition(o,c){return this._lines.validateViewPosition(o.lineNumber,o.column,c)}validateViewRange(o,c){return this._lines.validateViewRange(o,c)}convertModelPositionToViewPosition(o,c,a,g){return this._lines.convertModelPositionToViewPosition(o.lineNumber,o.column,c,a,g)}convertModelRangeToViewRange(o,c){return this._lines.convertModelRangeToViewRange(o,c)}modelPositionIsVisible(o){return this._lines.modelPositionIsVisible(o.lineNumber,o.column)}getModelLineViewLineCount(o){return this._lines.getModelLineViewLineCount(o)}getViewLineNumberOfModelPosition(o,c){return this._lines.getViewLineNumberOfModelPosition(o,c)}}class f{constructor(o){this.model=o}dispose(){}createCoordinatesConverter(){return new d(this)}getHiddenAreas(){return[]}setHiddenAreas(o){return!1}setTabSize(o){return!1}setWrappingSettings(o,c,a,g){return!1}createLineBreaksComputer(){const o=[];return{addRequest:(c,a,g)=>{o.push(null)},finalize:()=>o}}onModelFlushed(){}onModelLinesDeleted(o,c,a){return new _.ViewLinesDeletedEvent(c,a)}onModelLinesInserted(o,c,a,g){return new _.ViewLinesInsertedEvent(c,a)}onModelLineChanged(o,c,a){return[!1,new _.ViewLinesChangedEvent(c,1),null,null]}acceptVersionId(o){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(o,c,a){return{startLineNumber:o,endLineNumber:o,indent:0}}getViewLinesBracketGuides(o,c,a){return new Array(c-o+1).fill([])}getViewLinesIndentGuides(o,c){const a=c-o+1,g=new Array(a);for(let h=0;h<a;h++)g[h]=0;return g}getViewLineContent(o){return this.model.getLineContent(o)}getViewLineLength(o){return this.model.getLineLength(o)}getViewLineMinColumn(o){return this.model.getLineMinColumn(o)}getViewLineMaxColumn(o){return this.model.getLineMaxColumn(o)}getViewLineData(o){const c=this.model.tokenization.getLineTokens(o),a=c.getLineContent();return new s.ViewLineData(a,!1,1,a.length+1,0,c.inflate(),null)}getViewLinesData(o,c,a){const g=this.model.getLineCount();o=Math.min(Math.max(1,o),g),c=Math.min(Math.max(1,c),g);const h=[];for(let p=o;p<=c;p++){const b=p-o;h[b]=a[b]?this.getViewLineData(p):null}return h}getDecorationsInRange(o,c,a,g,h){return this.model.getDecorationsInRange(o,c,a,g,h)}normalizePosition(o,c){return this.model.normalizePosition(o,c)}getLineIndentColumn(o){return this.model.getLineIndentColumn(o)}getInjectedTextAt(o){return null}}e.ViewModelLinesFromModelAsIs=f;class d{constructor(o){this._lines=o}_validPosition(o){return this._lines.model.validatePosition(o)}_validRange(o){return this._lines.model.validateRange(o)}convertViewPositionToModelPosition(o){return this._validPosition(o)}convertViewRangeToModelRange(o){return this._validRange(o)}validateViewPosition(o,c){return this._validPosition(c)}validateViewRange(o,c){return this._validRange(c)}convertModelPositionToViewPosition(o){return this._validPosition(o)}convertModelRangeToViewRange(o){return this._validRange(o)}modelPositionIsVisible(o){const c=this._lines.model.getLineCount();return!(o.lineNumber<1||o.lineNumber>c)}getModelLineViewLineCount(o){return 1}getViewLineNumberOfModelPosition(o,c){return o}}}),define(te[873],ie([1,0,13,14,36,2,17,10,39,775,72,12,5,110,29,75,330,212,539,332,82,329,213,872]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const h=!0;class p extends D.Disposable{constructor(T,N,A,P,O,x,W,U,F){if(super(),this.languageConfigurationService=W,this._themeService=U,this._attachedView=F,this.hiddenAreasModel=new E,this.previousHiddenAreas=[],this._editorId=T,this._configuration=N,this.model=A,this._eventDispatcher=new a.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new I.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=b.create(this.model),h&&this.model.isTooLargeForTokenization())this._lines=new g.ViewModelLinesFromModelAsIs(this.model);else{const G=this._configuration.options,Y=G.get(50),ne=G.get(137),se=G.get(144),J=G.get(136),q=G.get(128);this._lines=new g.ViewModelLinesFromProjectedModel(this._editorId,this.model,P,O,Y,this.model.getOptions().tabSize,ne,se.wrappingColumn,J,q)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new v.CursorsController(A,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new d.ViewLayout(this._configuration,this.getLineCount(),x)),this._register(this.viewLayout.onDidScroll(G=>{G.scrollTopChanged&&this._handleVisibleLinesChanged(),G.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new f.ViewScrollChangedEvent(G)),this._eventDispatcher.emitOutgoingEvent(new a.ScrollChangedEvent(G.oldScrollWidth,G.oldScrollLeft,G.oldScrollHeight,G.oldScrollTop,G.scrollWidth,G.scrollLeft,G.scrollHeight,G.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(G=>{this._eventDispatcher.emitOutgoingEvent(G)})),this._decorations=new c.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(G=>{try{const Y=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Y,G)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(l.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new f.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(G=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new f.ViewThemeChangedEvent(G))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(T){this._eventDispatcher.addViewEventHandler(T)}removeViewEventHandler(T){this._eventDispatcher.removeViewEventHandler(T)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const T=this.viewLayout.getLinesViewportData(),N=new i.Range(T.startLineNumber,this.getLineMinColumn(T.startLineNumber),T.endLineNumber,this.getLineMaxColumn(T.endLineNumber));return this._toModelVisibleRanges(N)}visibleLinesStabilized(){const T=this.getModelVisibleRanges();this._attachedView.setVisibleLines(T,!0)}_handleVisibleLinesChanged(){const T=this.getModelVisibleRanges();this._attachedView.setVisibleLines(T,!1)}setHasFocus(T){this._hasFocus=T,this._cursor.setHasFocus(T),this._eventDispatcher.emitSingleViewEvent(new f.ViewFocusChangedEvent(T)),this._eventDispatcher.emitOutgoingEvent(new a.FocusChangedEvent(!T,T))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new f.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new f.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const T=new s.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),N=this.coordinatesConverter.convertViewPositionToModelPosition(T);return new R(N,this._viewportStart.startLineDelta)}return new R(null,0)}_onConfigurationChanged(T,N){const A=this._captureStableViewport(),P=this._configuration.options,O=P.get(50),x=P.get(137),W=P.get(144),U=P.get(136),F=P.get(128);this._lines.setWrappingSettings(O,x,W.wrappingColumn,U,F)&&(T.emitViewEvent(new f.ViewFlushedEvent),T.emitViewEvent(new f.ViewLineMappingChangedEvent),T.emitViewEvent(new f.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),N.hasChanged(90)&&(this._decorations.reset(),T.emitViewEvent(new f.ViewDecorationsChangedEvent(null))),T.emitViewEvent(new f.ViewConfigurationChangedEvent(N)),this.viewLayout.onConfigurationChanged(N),A.recoverViewportStart(this.coordinatesConverter,this.viewLayout),C.CursorConfiguration.shouldRecreate(N)&&(this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(T=>{try{const A=this._eventDispatcher.beginEmitViewEvents();let P=!1,O=!1;const x=T instanceof n.InternalModelContentChangeEvent?T.rawContentChangedEvent.changes:T.changes,W=T instanceof n.InternalModelContentChangeEvent?T.rawContentChangedEvent.versionId:null,U=this._lines.createLineBreaksComputer();for(const Y of x)switch(Y.changeType){case 4:{for(let ne=0;ne<Y.detail.length;ne++){const se=Y.detail[ne];let J=Y.injectedTexts[ne];J&&(J=J.filter(q=>!q.ownerId||q.ownerId===this._editorId)),U.addRequest(se,J,null)}break}case 2:{let ne=null;Y.injectedText&&(ne=Y.injectedText.filter(se=>!se.ownerId||se.ownerId===this._editorId)),U.addRequest(Y.detail,ne,null);break}}const F=U.finalize(),G=new L.ArrayQueue(F);for(const Y of x)switch(Y.changeType){case 1:{this._lines.onModelFlushed(),A.emitViewEvent(new f.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),P=!0;break}case 3:{const ne=this._lines.onModelLinesDeleted(W,Y.fromLineNumber,Y.toLineNumber);ne!==null&&(A.emitViewEvent(ne),this.viewLayout.onLinesDeleted(ne.fromLineNumber,ne.toLineNumber)),P=!0;break}case 4:{const ne=G.takeCount(Y.detail.length),se=this._lines.onModelLinesInserted(W,Y.fromLineNumber,Y.toLineNumber,ne);se!==null&&(A.emitViewEvent(se),this.viewLayout.onLinesInserted(se.fromLineNumber,se.toLineNumber)),P=!0;break}case 2:{const ne=G.dequeue(),[se,J,q,H]=this._lines.onModelLineChanged(W,Y.lineNumber,ne);O=se,J&&A.emitViewEvent(J),q&&(A.emitViewEvent(q),this.viewLayout.onLinesInserted(q.fromLineNumber,q.toLineNumber)),H&&(A.emitViewEvent(H),this.viewLayout.onLinesDeleted(H.fromLineNumber,H.toLineNumber));break}case 5:break}W!==null&&this._lines.acceptVersionId(W),this.viewLayout.onHeightMaybeChanged(),!P&&O&&(A.emitViewEvent(new f.ViewLineMappingChangedEvent),A.emitViewEvent(new f.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(A),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const N=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&N){const A=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(A){const P=this.coordinatesConverter.convertModelPositionToViewPosition(A.getStartPosition()),O=this.viewLayout.getVerticalOffsetForLineNumber(P.lineNumber);this.viewLayout.setScrollPosition({scrollTop:O+this._viewportStart.startLineDelta},1)}}try{const A=this._eventDispatcher.beginEmitViewEvents();T instanceof n.InternalModelContentChangeEvent&&A.emitOutgoingEvent(new a.ModelContentChangedEvent(T.contentChangedEvent)),this._cursor.onModelContentChanged(A,T)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(T=>{const N=[];for(let A=0,P=T.ranges.length;A<P;A++){const O=T.ranges[A],x=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(O.fromLineNumber,1)).lineNumber,W=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(O.toLineNumber,this.model.getLineMaxColumn(O.toLineNumber))).lineNumber;N[A]={fromLineNumber:x,toLineNumber:W}}this._eventDispatcher.emitSingleViewEvent(new f.ViewTokensChangedEvent(N)),this._eventDispatcher.emitOutgoingEvent(new a.ModelTokensChangedEvent(T))})),this._register(this.model.onDidChangeLanguageConfiguration(T=>{this._eventDispatcher.emitSingleViewEvent(new f.ViewLanguageConfigurationEvent),this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new a.ModelLanguageConfigurationChangedEvent(T))})),this._register(this.model.onDidChangeLanguage(T=>{this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new a.ModelLanguageChangedEvent(T))})),this._register(this.model.onDidChangeOptions(T=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const N=this._eventDispatcher.beginEmitViewEvents();N.emitViewEvent(new f.ViewFlushedEvent),N.emitViewEvent(new f.ViewLineMappingChangedEvent),N.emitViewEvent(new f.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(N),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new a.ModelOptionsChangedEvent(T))})),this._register(this.model.onDidChangeDecorations(T=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new f.ViewDecorationsChangedEvent(T)),this._eventDispatcher.emitOutgoingEvent(new a.ModelDecorationsChangedEvent(T))}))}setHiddenAreas(T,N){this.hiddenAreasModel.setHiddenAreas(N,T);const A=this.hiddenAreasModel.getMergedRanges();if(A===this.previousHiddenAreas)return;this.previousHiddenAreas=A;const P=this._captureStableViewport();let O=!1;try{const x=this._eventDispatcher.beginEmitViewEvents();O=this._lines.setHiddenAreas(A),O&&(x.emitViewEvent(new f.ViewFlushedEvent),x.emitViewEvent(new f.ViewLineMappingChangedEvent),x.emitViewEvent(new f.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(x),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),P.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),O&&this._eventDispatcher.emitOutgoingEvent(new a.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const T=this._configuration.options.get(143),N=this._configuration.options.get(66),A=Math.max(20,Math.round(T.height/N)),P=this.viewLayout.getLinesViewportData(),O=Math.max(1,P.completelyVisibleStartLineNumber-A),x=Math.min(this.getLineCount(),P.completelyVisibleEndLineNumber+A);return this._toModelVisibleRanges(new i.Range(O,this.getLineMinColumn(O),x,this.getLineMaxColumn(x)))}getVisibleRanges(){const T=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(T)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(T){const N=this.coordinatesConverter.convertViewRangeToModelRange(T),A=this._lines.getHiddenAreas();if(A.length===0)return[N];const P=[];let O=0,x=N.startLineNumber,W=N.startColumn;const U=N.endLineNumber,F=N.endColumn;for(let G=0,Y=A.length;G<Y;G++){const ne=A[G].startLineNumber,se=A[G].endLineNumber;se<x||ne>U||(x<ne&&(P[O++]=new i.Range(x,W,ne-1,this.model.getLineMaxColumn(ne-1))),x=se+1,W=1)}return(x<U||x===U&&W<F)&&(P[O++]=new i.Range(x,W,U,F)),P}getCompletelyVisibleViewRange(){const T=this.viewLayout.getLinesViewportData(),N=T.completelyVisibleStartLineNumber,A=T.completelyVisibleEndLineNumber;return new i.Range(N,this.getLineMinColumn(N),A,this.getLineMaxColumn(A))}getCompletelyVisibleViewRangeAtScrollTop(T){const N=this.viewLayout.getLinesViewportDataAtScrollTop(T),A=N.completelyVisibleStartLineNumber,P=N.completelyVisibleEndLineNumber;return new i.Range(A,this.getLineMinColumn(A),P,this.getLineMaxColumn(P))}saveState(){const T=this.viewLayout.saveState(),N=T.scrollTop,A=this.viewLayout.getLineNumberAtVerticalOffset(N),P=this.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(A,this.getLineMinColumn(A))),O=this.viewLayout.getVerticalOffsetForLineNumber(A)-N;return{scrollLeft:T.scrollLeft,firstPosition:P,firstPositionDeltaTop:O}}reduceRestoreState(T){if(typeof T.firstPosition>"u")return this._reduceRestoreStateCompatibility(T);const N=this.model.validatePosition(T.firstPosition),A=this.coordinatesConverter.convertModelPositionToViewPosition(N),P=this.viewLayout.getVerticalOffsetForLineNumber(A.lineNumber)-T.firstPositionDeltaTop;return{scrollLeft:T.scrollLeft,scrollTop:P}}_reduceRestoreStateCompatibility(T){return{scrollLeft:T.scrollLeft,scrollTop:T.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(T,N,A){this._viewportStart.update(this,T)}getActiveIndentGuide(T,N,A){return this._lines.getActiveIndentGuide(T,N,A)}getLinesIndentGuides(T,N){return this._lines.getViewLinesIndentGuides(T,N)}getBracketGuidesInRangeByLine(T,N,A,P){return this._lines.getViewLinesBracketGuides(T,N,A,P)}getLineContent(T){return this._lines.getViewLineContent(T)}getLineLength(T){return this._lines.getViewLineLength(T)}getLineMinColumn(T){return this._lines.getViewLineMinColumn(T)}getLineMaxColumn(T){return this._lines.getViewLineMaxColumn(T)}getLineFirstNonWhitespaceColumn(T){const N=m.firstNonWhitespaceIndex(this.getLineContent(T));return N===-1?0:N+1}getLineLastNonWhitespaceColumn(T){const N=m.lastNonWhitespaceIndex(this.getLineContent(T));return N===-1?0:N+2}getMinimapDecorationsInRange(T){return this._decorations.getMinimapDecorationsInRange(T)}getDecorationsInViewport(T){return this._decorations.getDecorationsViewportData(T).decorations}getInjectedTextAt(T){return this._lines.getInjectedTextAt(T)}getViewportViewLineRenderingData(T,N){const P=this._decorations.getDecorationsViewportData(T).inlineDecorations[N-T.startLineNumber];return this._getViewLineRenderingData(N,P)}getViewLineRenderingData(T){const N=this._decorations.getInlineDecorationsOnLine(T);return this._getViewLineRenderingData(T,N)}_getViewLineRenderingData(T,N){const A=this.model.mightContainRTL(),P=this.model.mightContainNonBasicASCII(),O=this.getTabSize(),x=this._lines.getViewLineData(T);return x.inlineDecorations&&(N=[...N,...x.inlineDecorations.map(W=>W.toInlineDecoration(T))]),new o.ViewLineRenderingData(x.minColumn,x.maxColumn,x.content,x.continuesWithWrappedLine,A,P,x.tokens,N,O,x.startVisibleColumn)}getViewLineData(T){return this._lines.getViewLineData(T)}getMinimapLinesRenderingData(T,N,A){const P=this._lines.getViewLinesData(T,N,A);return new o.MinimapLinesRenderingData(this.getTabSize(),P)}getAllOverviewRulerDecorations(T){const N=this.model.getOverviewRulerDecorations(this._editorId,(0,_.filterValidationDecorations)(this._configuration.options)),A=new w;for(const P of N){const O=P.options,x=O.overviewRuler;if(!x)continue;const W=x.position;if(W===0)continue;const U=x.getColor(T.value),F=this.coordinatesConverter.getViewLineNumberOfModelPosition(P.range.startLineNumber,P.range.startColumn),G=this.coordinatesConverter.getViewLineNumberOfModelPosition(P.range.endLineNumber,P.range.endColumn);A.accept(U,O.zIndex,F,G,W)}return A.asArray}_invalidateDecorationsColorCache(){const T=this.model.getOverviewRulerDecorations();for(const N of T){const A=N.options.overviewRuler;A?.invalidateCachedColor();const P=N.options.minimap;P?.invalidateCachedColor()}}getValueInRange(T,N){const A=this.coordinatesConverter.convertViewRangeToModelRange(T);return this.model.getValueInRange(A,N)}getValueLengthInRange(T,N){const A=this.coordinatesConverter.convertViewRangeToModelRange(T);return this.model.getValueLengthInRange(A,N)}modifyPosition(T,N){const A=this.coordinatesConverter.convertViewPositionToModelPosition(T);return this.model.modifyPosition(A,N)}deduceModelPositionRelativeToViewPosition(T,N,A){const P=this.coordinatesConverter.convertViewPositionToModelPosition(T);this.model.getEOL().length===2&&(N<0?N-=A:N+=A);const x=this.model.getOffsetAt(P)+N;return this.model.getPositionAt(x)}getPlainTextToCopy(T,N,A){const P=A?`\r
`:this.model.getEOL();T=T.slice(0),T.sort(i.Range.compareRangesUsingStarts);let O=!1,x=!1;for(const U of T)U.isEmpty()?O=!0:x=!0;if(!x){if(!N)return"";const U=T.map(G=>G.startLineNumber);let F="";for(let G=0;G<U.length;G++)G>0&&U[G-1]===U[G]||(F+=this.model.getLineContent(U[G])+P);return F}if(O&&N){const U=[];let F=0;for(const G of T){const Y=G.startLineNumber;G.isEmpty()?Y!==F&&U.push(this.model.getLineContent(Y)):U.push(this.model.getValueInRange(G,A?2:0)),F=Y}return U.length===1?U[0]:U}const W=[];for(const U of T)U.isEmpty()||W.push(this.model.getValueInRange(U,A?2:0));return W.length===1?W[0]:W}getRichTextToCopy(T,N){const A=this.model.getLanguageId();if(A===r.PLAINTEXT_LANGUAGE_ID||T.length!==1)return null;let P=T[0];if(P.isEmpty()){if(!N)return null;const G=P.startLineNumber;P=new i.Range(G,this.model.getLineMinColumn(G),G,this.model.getLineMaxColumn(G))}const O=this._configuration.options.get(50),x=this._getColorMap(),U=/[:;\\\/<>]/.test(O.fontFamily)||O.fontFamily===_.EDITOR_FONT_DEFAULTS.fontFamily;let F;return U?F=_.EDITOR_FONT_DEFAULTS.fontFamily:(F=O.fontFamily,F=F.replace(/"/g,"'"),/[,']/.test(F)||/[+ ]/.test(F)&&(F=`'${F}'`),F=`${F}, ${_.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:A,html:`<div style="color: ${x[1]};background-color: ${x[2]};font-family: ${F};font-weight: ${O.fontWeight};font-size: ${O.fontSize}px;line-height: ${O.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(P,x)+"</div>"}}_getHTMLToCopy(T,N){const A=T.startLineNumber,P=T.startColumn,O=T.endLineNumber,x=T.endColumn,W=this.getTabSize();let U="";for(let F=A;F<=O;F++){const G=this.model.tokenization.getLineTokens(F),Y=G.getLineContent(),ne=F===A?P-1:0,se=F===O?x-1:Y.length;Y===""?U+="<br>":U+=(0,u.tokenizeLineToHTML)(Y,G.inflate(),N,ne,se,W,S.isWindows)}return U}_getColorMap(){const T=t.TokenizationRegistry.getColorMap(),N=["#000000"];if(T)for(let A=1,P=T.length;A<P;A++)N[A]=y.Color.Format.CSS.formatHex(T[A]);return N}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(T,N,A){return this._withViewEventsCollector(P=>this._cursor.setStates(P,T,N,A))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(T){this._cursor.setCursorColumnSelectData(T)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(T){this._cursor.setPrevEditOperationType(T)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(T,N,A=0){this._withViewEventsCollector(P=>this._cursor.setSelections(P,T,N,A))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(T){this._withViewEventsCollector(N=>this._cursor.restoreState(N,T))}_executeCursorEdit(T){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new a.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(T)}executeEdits(T,N,A){this._executeCursorEdit(P=>this._cursor.executeEdits(P,T,N,A))}startComposition(){this._executeCursorEdit(T=>this._cursor.startComposition(T))}endComposition(T){this._executeCursorEdit(N=>this._cursor.endComposition(N,T))}type(T,N){this._executeCursorEdit(A=>this._cursor.type(A,T,N))}compositionType(T,N,A,P,O){this._executeCursorEdit(x=>this._cursor.compositionType(x,T,N,A,P,O))}paste(T,N,A,P){this._executeCursorEdit(O=>this._cursor.paste(O,T,N,A,P))}cut(T){this._executeCursorEdit(N=>this._cursor.cut(N,T))}executeCommand(T,N){this._executeCursorEdit(A=>this._cursor.executeCommand(A,T,N))}executeCommands(T,N){this._executeCursorEdit(A=>this._cursor.executeCommands(A,T,N))}revealPrimaryCursor(T,N,A=!1){this._withViewEventsCollector(P=>this._cursor.revealPrimary(P,T,A,0,N,0))}revealTopMostCursor(T){const N=this._cursor.getTopMostViewPosition(),A=new i.Range(N.lineNumber,N.column,N.lineNumber,N.column);this._withViewEventsCollector(P=>P.emitViewEvent(new f.ViewRevealRangeRequestEvent(T,!1,A,null,0,!0,0)))}revealBottomMostCursor(T){const N=this._cursor.getBottomMostViewPosition(),A=new i.Range(N.lineNumber,N.column,N.lineNumber,N.column);this._withViewEventsCollector(P=>P.emitViewEvent(new f.ViewRevealRangeRequestEvent(T,!1,A,null,0,!0,0)))}revealRange(T,N,A,P,O){this._withViewEventsCollector(x=>x.emitViewEvent(new f.ViewRevealRangeRequestEvent(T,!1,A,null,P,N,O)))}changeWhitespace(T){this.viewLayout.changeWhitespace(T)&&(this._eventDispatcher.emitSingleViewEvent(new f.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new a.ViewZonesChangedEvent))}_withViewEventsCollector(T){try{const N=this._eventDispatcher.beginEmitViewEvents();return T(N)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(T,N){return this._lines.normalizePosition(T,N)}getLineIndentColumn(T){return this._lines.getLineIndentColumn(T)}}e.ViewModel=p;class b{static create(T){const N=T._setTrackedRange(null,new i.Range(1,1,1,1),1);return new b(T,1,!1,N,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(T,N,A,P,O){this._model=T,this._viewLineNumber=N,this._isValid=A,this._modelTrackedRange=P,this._startLineDelta=O}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(T,N){const A=T.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(N,T.getLineMinColumn(N))),P=T.model._setTrackedRange(this._modelTrackedRange,new i.Range(A.lineNumber,A.column,A.lineNumber,A.column),1),O=T.viewLayout.getVerticalOffsetForLineNumber(N),x=T.viewLayout.getCurrentScrollTop();this._viewLineNumber=N,this._isValid=!0,this._modelTrackedRange=P,this._startLineDelta=x-O}invalidate(){this._isValid=!1}}class w{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(T,N,A,P,O){const x=this._asMap[T];if(x){const W=x.data,U=W[W.length-3],F=W[W.length-1];if(U===O&&F+1>=A){P>F&&(W[W.length-1]=P);return}W.push(O,A,P)}else{const W=new o.OverviewRulerDecorationsGroup(T,N,[O,A,P]);this._asMap[T]=W,this.asArray.push(W)}}}class E{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(T,N){const A=this.hiddenAreas.get(T);A&&M(A,N)||(this.hiddenAreas.set(T,N),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const T=Array.from(this.hiddenAreas.values()).reduce((N,A)=>k(N,A),[]);return M(this.ranges,T)?this.ranges:(this.ranges=T,this.ranges)}}function k(B,T){const N=[];let A=0,P=0;for(;A<B.length&&P<T.length;){const O=B[A],x=T[P];if(O.endLineNumber<x.startLineNumber-1)N.push(B[A++]);else if(x.endLineNumber<O.startLineNumber-1)N.push(T[P++]);else{const W=Math.min(O.startLineNumber,x.startLineNumber),U=Math.max(O.endLineNumber,x.endLineNumber);N.push(new i.Range(W,1,U,1)),A++,P++}}for(;A<B.length;)N.push(B[A++]);for(;P<T.length;)N.push(T[P++]);return N}function M(B,T){if(B.length!==T.length)return!1;for(let N=0;N<B.length;N++)if(!B[N].equalsRange(T[N]))return!1;return!0}class R{constructor(T,N){this.viewportStartModelPosition=T,this.startLineDelta=N}recoverViewportStart(T,N){if(!this.viewportStartModelPosition)return;const A=T.convertModelPositionToViewPosition(this.viewportStartModelPosition),P=N.getVerticalOffsetForLineNumber(A.lineNumber);N.setScrollPosition({scrollTop:P+this.startLineDelta},1)}}}),define(te[192],ie([1,0,608,7,9,6,2,54,757,16,33,850,272,39,80,12,5,24,280,174,22,37,78,31,873,25,15,8,186,48,23,88,536,595,176,32,70,18,593,200,791,439]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M,R,B,T,N,A,P,O,x,W){"use strict";var U;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let F=0;class G{constructor(X,K,z,Q,j,re){this.model=X,this.viewModel=K,this.view=z,this.hasRealView=Q,this.listenersToRemove=j,this.attachedView=re}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Y=U=class extends S.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(X,K,z,Q,j,re,oe,he,me,pe,ve,we){var Le;super(),this.languageConfigurationService=ve,this._deliveryQueue=(0,D.createEventDeliveryQueue)(),this._contributions=this._register(new x.CodeEditorContributions),this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new se(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new se(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new se(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new se(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new se(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),j.willCreateCodeEditor();const Ee=Object.assign({},K);this._domElement=X,this._overflowWidgetsDomNode=Ee.overflowWidgetsDomNode,delete Ee.overflowWidgetsDomNode,this._id=++F,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=z.telemetryData,this._configuration=this._register(this._createConfiguration(z.isSimpleWidget||!1,Ee,pe)),this._register(this._configuration.onDidChange(Be=>{this._onDidChangeConfiguration.fire(Be);const ye=this._configuration.options;if(Be.hasChanged(143)){const De=ye.get(143);this._onDidLayoutChange.fire(De)}})),this._contextKeyService=this._register(oe.createScoped(this._domElement)),this._notificationService=me,this._codeEditorService=j,this._commandService=re,this._themeService=he,this._register(new J(this,this._contextKeyService)),this._register(new q(this,this._contextKeyService,we)),this._instantiationService=Q.createChild(new E.ServiceCollection([b.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new H(X),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let Ae;Array.isArray(z.contributions)?Ae=z.contributions:Ae=v.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,Ae,this._instantiationService);for(const Be of v.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Be.id)){(0,y.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Be.id}`));continue}const ye=new d.InternalEditorAction(Be.id,Be.label,Be.alias,(Le=Be.precondition)!==null&&Le!==void 0?Le:void 0,()=>this._instantiationService.invokeFunction(De=>Promise.resolve(Be.runEditorCommand(De,this,null))),this._contextKeyService);this._actions.set(ye.id,ye)}const Re=()=>!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled;this._register(new I.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:Be=>{if(!Re())return;const ye=this.getTargetAtClientPoint(Be.clientX,Be.clientY);ye?.position&&this.showDropIndicatorAt(ye.position)},onDrop:Be=>be(this,void 0,void 0,function*(){if(!Re()||(this.removeDropIndicator(),!Be.dataTransfer))return;const ye=this.getTargetAtClientPoint(Be.clientX,Be.clientY);ye?.position&&this._onDropIntoEditor.fire({position:ye.position,event:Be})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(X){var K;(K=this._modelData)===null||K===void 0||K.view.writeScreenReaderContent(X)}_createConfiguration(X,K,z){return new _.EditorConfiguration(X,K,this._domElement,z)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return l.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(X){return this._instantiationService.invokeFunction(X)}updateOptions(X){this._configuration.updateOptions(X||{})}getOptions(){return this._configuration.options}getOption(X){return this._configuration.options.get(X)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(X){return this._modelData?N.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),X):null}getValue(X=null){if(!this._modelData)return"";const K=!!(X&&X.preserveBOM);let z=0;return X&&X.lineEnding&&X.lineEnding===`
`?z=1:X&&X.lineEnding&&X.lineEnding===`\r
`&&(z=2),this._modelData.model.getValue(z,K)}setValue(X){this._modelData&&this._modelData.model.setValue(X)}getModel(){return this._modelData?this._modelData.model:null}setModel(X=null){const K=X;if(this._modelData===null&&K===null||this._modelData&&this._modelData.model===K)return;const z=this.hasTextFocus(),Q=this._detachModel();this._attachModel(K),z&&this.hasModel()&&this.focus();const j={oldModelUrl:Q?Q.uri:null,newModelUrl:K?K.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(j),this._postDetachModelCleanup(Q),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const X in this._decorationTypeSubtypes){const K=this._decorationTypeSubtypes[X];for(const z in K)this._removeDecorationType(X+"-"+z)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(X,K,z,Q){const j=X.model.validatePosition({lineNumber:K,column:z}),re=X.viewModel.coordinatesConverter.convertModelPositionToViewPosition(j);return X.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(re.lineNumber,Q)}getTopForLineNumber(X,K=!1){return this._modelData?U._getVerticalOffsetForPosition(this._modelData,X,1,K):-1}getTopForPosition(X,K){return this._modelData?U._getVerticalOffsetForPosition(this._modelData,X,K,!1):-1}static _getVerticalOffsetForPosition(X,K,z,Q=!1){const j=X.model.validatePosition({lineNumber:K,column:z}),re=X.viewModel.coordinatesConverter.convertModelPositionToViewPosition(j);return X.viewModel.viewLayout.getVerticalOffsetForLineNumber(re.lineNumber,Q)}getBottomForLineNumber(X,K=!1){return this._modelData?U._getVerticalOffsetAfterPosition(this._modelData,X,1,K):-1}setHiddenAreas(X,K){var z;(z=this._modelData)===null||z===void 0||z.viewModel.setHiddenAreas(X.map(Q=>u.Range.lift(Q)),K)}getVisibleColumnFromPosition(X){if(!this._modelData)return X.column;const K=this._modelData.model.validatePosition(X),z=this._modelData.model.getOptions().tabSize;return t.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(K.lineNumber),K.column,z)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(X,K="api"){if(this._modelData){if(!r.Position.isIPosition(X))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(K,[{selectionStartLineNumber:X.lineNumber,selectionStartColumn:X.column,positionLineNumber:X.lineNumber,positionColumn:X.column}])}}_sendRevealRange(X,K,z,Q){if(!this._modelData)return;if(!u.Range.isIRange(X))throw new Error("Invalid arguments");const j=this._modelData.model.validateRange(X),re=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(j);this._modelData.viewModel.revealRange("api",z,re,K,Q)}revealLine(X,K=0){this._revealLine(X,0,K)}revealLineInCenter(X,K=0){this._revealLine(X,1,K)}revealLineInCenterIfOutsideViewport(X,K=0){this._revealLine(X,2,K)}revealLineNearTop(X,K=0){this._revealLine(X,5,K)}_revealLine(X,K,z){if(typeof X!="number")throw new Error("Invalid arguments");this._sendRevealRange(new u.Range(X,1,X,1),K,!1,z)}revealPosition(X,K=0){this._revealPosition(X,0,!0,K)}revealPositionInCenter(X,K=0){this._revealPosition(X,1,!0,K)}revealPositionInCenterIfOutsideViewport(X,K=0){this._revealPosition(X,2,!0,K)}revealPositionNearTop(X,K=0){this._revealPosition(X,5,!0,K)}_revealPosition(X,K,z,Q){if(!r.Position.isIPosition(X))throw new Error("Invalid arguments");this._sendRevealRange(new u.Range(X.lineNumber,X.column,X.lineNumber,X.column),K,z,Q)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(X,K="api"){const z=f.Selection.isISelection(X),Q=u.Range.isIRange(X);if(!z&&!Q)throw new Error("Invalid arguments");if(z)this._setSelectionImpl(X,K);else if(Q){const j={selectionStartLineNumber:X.startLineNumber,selectionStartColumn:X.startColumn,positionLineNumber:X.endLineNumber,positionColumn:X.endColumn};this._setSelectionImpl(j,K)}}_setSelectionImpl(X,K){if(!this._modelData)return;const z=new f.Selection(X.selectionStartLineNumber,X.selectionStartColumn,X.positionLineNumber,X.positionColumn);this._modelData.viewModel.setSelections(K,[z])}revealLines(X,K,z=0){this._revealLines(X,K,0,z)}revealLinesInCenter(X,K,z=0){this._revealLines(X,K,1,z)}revealLinesInCenterIfOutsideViewport(X,K,z=0){this._revealLines(X,K,2,z)}revealLinesNearTop(X,K,z=0){this._revealLines(X,K,5,z)}_revealLines(X,K,z,Q){if(typeof X!="number"||typeof K!="number")throw new Error("Invalid arguments");this._sendRevealRange(new u.Range(X,1,K,1),z,!1,Q)}revealRange(X,K=0,z=!1,Q=!0){this._revealRange(X,z?1:0,Q,K)}revealRangeInCenter(X,K=0){this._revealRange(X,1,!0,K)}revealRangeInCenterIfOutsideViewport(X,K=0){this._revealRange(X,2,!0,K)}revealRangeNearTop(X,K=0){this._revealRange(X,5,!0,K)}revealRangeNearTopIfOutsideViewport(X,K=0){this._revealRange(X,6,!0,K)}revealRangeAtTop(X,K=0){this._revealRange(X,3,!0,K)}_revealRange(X,K,z,Q){if(!u.Range.isIRange(X))throw new Error("Invalid arguments");this._sendRevealRange(u.Range.lift(X),K,z,Q)}setSelections(X,K="api",z=0){if(this._modelData){if(!X||X.length===0)throw new Error("Invalid arguments");for(let Q=0,j=X.length;Q<j;Q++)if(!f.Selection.isISelection(X[Q]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(K,X,z)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(X,K=1){if(this._modelData){if(typeof X!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:X},K)}}setScrollTop(X,K=1){if(this._modelData){if(typeof X!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:X},K)}}setScrollPosition(X,K=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(X,K)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const X=this._contributions.saveViewState(),K=this._modelData.viewModel.saveCursorState(),z=this._modelData.viewModel.saveState();return{cursorState:K,viewState:z,contributionsState:X}}restoreViewState(X){if(!this._modelData||!this._modelData.hasRealView)return;const K=X;if(K&&K.cursorState&&K.viewState){const z=K.cursorState;Array.isArray(z)?z.length>0&&this._modelData.viewModel.restoreCursorState(z):this._modelData.viewModel.restoreCursorState([z]),this._contributions.restoreViewState(K.contributionsState||{});const Q=this._modelData.viewModel.reduceRestoreState(K.viewState);this._modelData.view.restoreState(Q)}}handleInitialized(){var X;(X=this._getViewModel())===null||X===void 0||X.visibleLinesStabilized()}getContribution(X){return this._contributions.get(X)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let X=this.getActions();return X=X.filter(K=>K.isSupported()),X}getAction(X){return this._actions.get(X)||null}trigger(X,K,z){switch(z=z||{},K){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(X);return;case"type":{const j=z;this._type(X,j.text||"");return}case"replacePreviousChar":{const j=z;this._compositionType(X,j.text||"",j.replaceCharCnt||0,0,0);return}case"compositionType":{const j=z;this._compositionType(X,j.text||"",j.replacePrevCharCnt||0,j.replaceNextCharCnt||0,j.positionDelta||0);return}case"paste":{const j=z;this._paste(X,j.text||"",j.pasteOnNewLine||!1,j.multicursorText||null,j.mode||null);return}case"cut":this._cut(X);return}const Q=this.getAction(K);if(Q){Promise.resolve(Q.run(z)).then(void 0,y.onUnexpectedError);return}this._modelData&&(this._triggerEditorCommand(X,K,z)||this._triggerCommand(K,z))}_triggerCommand(X,K){this._commandService.executeCommand(X,K)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(X){this._modelData&&(this._modelData.viewModel.endComposition(X),this._onDidCompositionEnd.fire())}_type(X,K){!this._modelData||K.length===0||(X==="keyboard"&&this._onWillType.fire(K),this._modelData.viewModel.type(K,X),X==="keyboard"&&this._onDidType.fire(K))}_compositionType(X,K,z,Q,j){this._modelData&&this._modelData.viewModel.compositionType(K,z,Q,j,X)}_paste(X,K,z,Q,j){if(!this._modelData||K.length===0)return;const re=this._modelData.viewModel,oe=re.getSelection().getStartPosition();re.paste(K,z,Q,X);const he=re.getSelection().getStartPosition();X==="keyboard"&&this._onDidPaste.fire({range:new u.Range(oe.lineNumber,oe.column,he.lineNumber,he.column),languageId:j})}_cut(X){this._modelData&&this._modelData.viewModel.cut(X)}_triggerEditorCommand(X,K,z){const Q=v.EditorExtensionsRegistry.getEditorCommand(K);return Q?(z=z||{},z.source=X,this._instantiationService.invokeFunction(j=>{Promise.resolve(Q.runEditorCommand(j,this,z)).then(void 0,y.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(X,K,z){if(!this._modelData||this._configuration.options.get(90))return!1;let Q;return z?Array.isArray(z)?Q=()=>z:Q=z:Q=()=>null,this._modelData.viewModel.executeEdits(X,K,Q),!0}executeCommand(X,K){this._modelData&&this._modelData.viewModel.executeCommand(K,X)}executeCommands(X,K){this._modelData&&this._modelData.viewModel.executeCommands(K,X)}createDecorationsCollection(X){return new V(this,X)}changeDecorations(X){return this._modelData?this._modelData.model.changeDecorations(X,this._id):null}getLineDecorations(X){return this._modelData?this._modelData.model.getLineDecorations(X,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(X){return this._modelData?this._modelData.model.getDecorationsInRange(X,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(X,K){return this._modelData?X.length===0&&K.length===0?X:this._modelData.model.deltaDecorations(X,K,this._id):[]}removeDecorations(X){!this._modelData||X.length===0||this._modelData.model.changeDecorations(K=>{K.deltaDecorations(X,[])})}removeDecorationsByType(X){const K=this._decorationTypeKeysToIds[X];K&&this.deltaDecorations(K,[]),this._decorationTypeKeysToIds.hasOwnProperty(X)&&delete this._decorationTypeKeysToIds[X],this._decorationTypeSubtypes.hasOwnProperty(X)&&delete this._decorationTypeSubtypes[X]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler(X){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(X)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(X){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(X)}delegateScrollFromMouseWheelEvent(X){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(X)}layout(X){this._configuration.observeContainer(X),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(X){const K={widget:X,position:X.getPosition()};this._contentWidgets.hasOwnProperty(X.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[X.getId()]=K,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(K)}layoutContentWidget(X){const K=X.getId();if(this._contentWidgets.hasOwnProperty(K)){const z=this._contentWidgets[K];z.position=X.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(z)}}removeContentWidget(X){const K=X.getId();if(this._contentWidgets.hasOwnProperty(K)){const z=this._contentWidgets[K];delete this._contentWidgets[K],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(z)}}addOverlayWidget(X){const K={widget:X,position:X.getPosition()};this._overlayWidgets.hasOwnProperty(X.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[X.getId()]=K,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(K)}layoutOverlayWidget(X){const K=X.getId();if(this._overlayWidgets.hasOwnProperty(K)){const z=this._overlayWidgets[K];z.position=X.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(z)}}removeOverlayWidget(X){const K=X.getId();if(this._overlayWidgets.hasOwnProperty(K)){const z=this._overlayWidgets[K];delete this._overlayWidgets[K],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(z)}}addGlyphMarginWidget(X){const K={widget:X,position:X.getPosition()};this._glyphMarginWidgets.hasOwnProperty(X.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[X.getId()]=K,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(K)}layoutGlyphMarginWidget(X){const K=X.getId();if(this._glyphMarginWidgets.hasOwnProperty(K)){const z=this._glyphMarginWidgets[K];z.position=X.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(z)}}removeGlyphMarginWidget(X){const K=X.getId();if(this._glyphMarginWidgets.hasOwnProperty(K)){const z=this._glyphMarginWidgets[K];delete this._glyphMarginWidgets[K],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(z)}}changeViewZones(X){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(X)}getTargetAtClientPoint(X,K){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(X,K)}getScrolledVisiblePosition(X){if(!this._modelData||!this._modelData.hasRealView)return null;const K=this._modelData.model.validatePosition(X),z=this._configuration.options,Q=z.get(143),j=U._getVerticalOffsetForPosition(this._modelData,K.lineNumber,K.column)-this.getScrollTop(),re=this._modelData.view.getOffsetForColumn(K.lineNumber,K.column)+Q.glyphMarginWidth+Q.lineNumbersWidth+Q.decorationsWidth-this.getScrollLeft();return{top:j,left:re,height:z.get(66)}}getOffsetForColumn(X,K){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(X,K)}render(X=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,X)}setAriaOptions(X){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(X)}applyFontInfo(X){(0,P.applyFontInfo)(X,this._configuration.options.get(50))}setBanner(X,K){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=X,this._configuration.setReservedHeight(X?K:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(X){if(!X){this._modelData=null;return}const K=[];this._domElement.setAttribute("data-mode-id",X.getLanguageId()),this._configuration.setIsDominatedByLongLines(X.isDominatedByLongLines()),this._configuration.setModelLineCount(X.getLineCount());const z=X.onBeforeAttached(),Q=new h.ViewModel(this._id,this._configuration,X,T.DOMLineBreaksComputerFactory.create(),B.MonospaceLineBreaksComputerFactory.create(this._configuration.options),oe=>I.scheduleAtNextAnimationFrame(oe),this.languageConfigurationService,this._themeService,z);K.push(X.onWillDispose(()=>this.setModel(null))),K.push(Q.onEvent(oe=>{switch(oe.kind){case 0:this._onDidContentSizeChange.fire(oe);break;case 1:this._editorTextFocus.setValue(oe.hasFocus);break;case 2:this._onDidScrollChange.fire(oe);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(oe.reachedMaxCursorCount){const ve=this.getOption(79),we=L.localize(0,null,ve);this._notificationService.prompt(k.Severity.Warning,we,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:L.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const he=[];for(let ve=0,we=oe.selections.length;ve<we;ve++)he[ve]=oe.selections[ve].getPosition();const me={position:he[0],secondaryPositions:he.slice(1),reason:oe.reason,source:oe.source};this._onDidChangeCursorPosition.fire(me);const pe={selection:oe.selections[0],secondarySelections:oe.selections.slice(1),modelVersionId:oe.modelVersionId,oldSelections:oe.oldSelections,oldModelVersionId:oe.oldModelVersionId,source:oe.source,reason:oe.reason};this._onDidChangeCursorSelection.fire(pe);break}case 7:this._onDidChangeModelDecorations.fire(oe.event);break;case 8:this._domElement.setAttribute("data-mode-id",X.getLanguageId()),this._onDidChangeModelLanguage.fire(oe.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(oe.event);break;case 10:this._onDidChangeModelContent.fire(oe.event);break;case 11:this._onDidChangeModelOptions.fire(oe.event);break;case 12:this._onDidChangeModelTokens.fire(oe.event);break}}));const[j,re]=this._createView(Q);if(re){this._domElement.appendChild(j.domNode.domNode);let oe=Object.keys(this._contentWidgets);for(let he=0,me=oe.length;he<me;he++){const pe=oe[he];j.addContentWidget(this._contentWidgets[pe])}oe=Object.keys(this._overlayWidgets);for(let he=0,me=oe.length;he<me;he++){const pe=oe[he];j.addOverlayWidget(this._overlayWidgets[pe])}oe=Object.keys(this._glyphMarginWidgets);for(let he=0,me=oe.length;he<me;he++){const pe=oe[he];j.addGlyphMarginWidget(this._glyphMarginWidgets[pe])}j.render(!1,!0),j.domNode.domNode.setAttribute("data-uri",X.uri.toString())}this._modelData=new G(X,Q,j,re,K,z)}_createView(X){let K;this.isSimpleWidget?K={paste:(j,re,oe,he)=>{this._paste("keyboard",j,re,oe,he)},type:j=>{this._type("keyboard",j)},compositionType:(j,re,oe,he)=>{this._compositionType("keyboard",j,re,oe,he)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:K={paste:(j,re,oe,he)=>{const me={text:j,pasteOnNewLine:re,multicursorText:oe,mode:he};this._commandService.executeCommand("paste",me)},type:j=>{const re={text:j};this._commandService.executeCommand("type",re)},compositionType:(j,re,oe,he)=>{if(oe||he){const me={text:j,replacePrevCharCnt:re,replaceNextCharCnt:oe,positionDelta:he};this._commandService.executeCommand("compositionType",me)}else{const me={text:j,replaceCharCnt:re};this._commandService.executeCommand("replacePreviousChar",me)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const z=new i.ViewUserInputEvents(X.coordinatesConverter);return z.onKeyDown=j=>this._onKeyDown.fire(j),z.onKeyUp=j=>this._onKeyUp.fire(j),z.onContextMenu=j=>this._onContextMenu.fire(j),z.onMouseMove=j=>this._onMouseMove.fire(j),z.onMouseLeave=j=>this._onMouseLeave.fire(j),z.onMouseDown=j=>this._onMouseDown.fire(j),z.onMouseUp=j=>this._onMouseUp.fire(j),z.onMouseDrag=j=>this._onMouseDrag.fire(j),z.onMouseDrop=j=>this._onMouseDrop.fire(j),z.onMouseDropCanceled=j=>this._onMouseDropCanceled.fire(j),z.onMouseWheel=j=>this._onMouseWheel.fire(j),[new s.View(K,this._configuration,this._themeService.getColorTheme(),X,z,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(X){X?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const X=this._modelData.model,K=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),K&&this._domElement.contains(K)&&this._domElement.removeChild(K),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),X}_removeDecorationType(X){this._codeEditorService.removeDecorationType(X)}hasModel(){return this._modelData!==null}showDropIndicatorAt(X){const K=[{range:new u.Range(X.lineNumber,X.column,X.lineNumber,X.column),options:U.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(K),this.revealPosition(X,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(X,K){this._contextKeyService.createKey(X,K)}};e.CodeEditorWidget=Y,Y.dropIntoEditorDecorationOptions=c.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=Y=U=Ie([ge(3,w.IInstantiationService),ge(4,C.ICodeEditorService),ge(5,p.ICommandService),ge(6,b.IContextKeyService),ge(7,M.IThemeService),ge(8,k.INotificationService),ge(9,R.IAccessibilityService),ge(10,A.ILanguageConfigurationService),ge(11,O.ILanguageFeaturesService)],Y);class ne extends S.Disposable{constructor(X){super(),this._emitterOptions=X,this._onDidChangeToTrue=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(X){const K=X?2:1;this._value!==K&&(this._value=K,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=ne;class se extends D.Emitter{constructor(X,K){super({deliveryQueue:K}),this._contributions=X}fire(X){this._contributions.onBeforeInteractionEvent(),super.fire(X)}}class J extends S.Disposable{constructor(X,K){super(),this._editor=X,K.createKey("editorId",X.getId()),this._editorSimpleInput=o.EditorContextKeys.editorSimpleInput.bindTo(K),this._editorFocus=o.EditorContextKeys.focus.bindTo(K),this._textInputFocus=o.EditorContextKeys.textInputFocus.bindTo(K),this._editorTextFocus=o.EditorContextKeys.editorTextFocus.bindTo(K),this._tabMovesFocus=o.EditorContextKeys.tabMovesFocus.bindTo(K),this._editorReadonly=o.EditorContextKeys.readOnly.bindTo(K),this._inDiffEditor=o.EditorContextKeys.inDiffEditor.bindTo(K),this._editorColumnSelection=o.EditorContextKeys.columnSelection.bindTo(K),this._hasMultipleSelections=o.EditorContextKeys.hasMultipleSelections.bindTo(K),this._hasNonEmptySelection=o.EditorContextKeys.hasNonEmptySelection.bindTo(K),this._canUndo=o.EditorContextKeys.canUndo.bindTo(K),this._canRedo=o.EditorContextKeys.canRedo.bindTo(K),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(W.TabFocus.onDidChangeTabFocus(z=>this._tabMovesFocus.set(z))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const X=this._editor.getOptions();this._tabMovesFocus.set(W.TabFocus.getTabFocusMode()),this._editorReadonly.set(X.get(90)),this._inDiffEditor.set(X.get(61)),this._editorColumnSelection.set(X.get(22))}_updateFromSelection(){const X=this._editor.getSelections();X?(this._hasMultipleSelections.set(X.length>1),this._hasNonEmptySelection.set(X.some(K=>!K.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const X=this._editor.getModel();this._canUndo.set(!!(X&&X.canUndo())),this._canRedo.set(!!(X&&X.canRedo()))}}class q extends S.Disposable{constructor(X,K,z){super(),this._editor=X,this._contextKeyService=K,this._languageFeaturesService=z,this._langId=o.EditorContextKeys.languageId.bindTo(K),this._hasCompletionItemProvider=o.EditorContextKeys.hasCompletionItemProvider.bindTo(K),this._hasCodeActionsProvider=o.EditorContextKeys.hasCodeActionsProvider.bindTo(K),this._hasCodeLensProvider=o.EditorContextKeys.hasCodeLensProvider.bindTo(K),this._hasDefinitionProvider=o.EditorContextKeys.hasDefinitionProvider.bindTo(K),this._hasDeclarationProvider=o.EditorContextKeys.hasDeclarationProvider.bindTo(K),this._hasImplementationProvider=o.EditorContextKeys.hasImplementationProvider.bindTo(K),this._hasTypeDefinitionProvider=o.EditorContextKeys.hasTypeDefinitionProvider.bindTo(K),this._hasHoverProvider=o.EditorContextKeys.hasHoverProvider.bindTo(K),this._hasDocumentHighlightProvider=o.EditorContextKeys.hasDocumentHighlightProvider.bindTo(K),this._hasDocumentSymbolProvider=o.EditorContextKeys.hasDocumentSymbolProvider.bindTo(K),this._hasReferenceProvider=o.EditorContextKeys.hasReferenceProvider.bindTo(K),this._hasRenameProvider=o.EditorContextKeys.hasRenameProvider.bindTo(K),this._hasSignatureHelpProvider=o.EditorContextKeys.hasSignatureHelpProvider.bindTo(K),this._hasInlayHintsProvider=o.EditorContextKeys.hasInlayHintsProvider.bindTo(K),this._hasDocumentFormattingProvider=o.EditorContextKeys.hasDocumentFormattingProvider.bindTo(K),this._hasDocumentSelectionFormattingProvider=o.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(K),this._hasMultipleDocumentFormattingProvider=o.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(K),this._hasMultipleDocumentSelectionFormattingProvider=o.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(K),this._isInWalkThrough=o.EditorContextKeys.isInWalkThroughSnippet.bindTo(K);const Q=()=>this._update();this._register(X.onDidChangeModel(Q)),this._register(X.onDidChangeModelLanguage(Q)),this._register(z.completionProvider.onDidChange(Q)),this._register(z.codeActionProvider.onDidChange(Q)),this._register(z.codeLensProvider.onDidChange(Q)),this._register(z.definitionProvider.onDidChange(Q)),this._register(z.declarationProvider.onDidChange(Q)),this._register(z.implementationProvider.onDidChange(Q)),this._register(z.typeDefinitionProvider.onDidChange(Q)),this._register(z.hoverProvider.onDidChange(Q)),this._register(z.documentHighlightProvider.onDidChange(Q)),this._register(z.documentSymbolProvider.onDidChange(Q)),this._register(z.referenceProvider.onDidChange(Q)),this._register(z.renameProvider.onDidChange(Q)),this._register(z.documentFormattingEditProvider.onDidChange(Q)),this._register(z.documentRangeFormattingEditProvider.onDidChange(Q)),this._register(z.signatureHelpProvider.onDidChange(Q)),this._register(z.inlayHintsProvider.onDidChange(Q)),Q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const X=this._editor.getModel();if(!X){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(X.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(X)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(X)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(X)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(X)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(X)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(X)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(X)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(X)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(X)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(X)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(X)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(X)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(X)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(X)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(X)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(X)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(X)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(X).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(X).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(X).length>1),this._isInWalkThrough.set(X.uri.scheme===m.Schemas.walkThroughSnippet)})}}e.EditorModeContext=q;class H extends S.Disposable{constructor(X){super(),this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(I.trackFocus(X)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class V{get length(){return this._decorationIds.length}constructor(X,K){this._editor=X,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(K)&&K.length>0&&this.set(K)}onDidChange(X,K,z){return this._editor.onDidChangeModelDecorations(Q=>{this._isChangingDecorations||X.call(K,Q)},z)}getRange(X){return!this._editor.hasModel()||X>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[X])}getRanges(){if(!this._editor.hasModel())return[];const X=this._editor.getModel(),K=[];for(const z of this._decorationIds){const Q=X.getDecorationRange(z);Q&&K.push(Q)}return K}has(X){return this._decorationIds.includes(X.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(X){try{this._isChangingDecorations=!0,this._editor.changeDecorations(K=>{this._decorationIds=K.deltaDecorations(this._decorationIds,X)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}const Z=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ee=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function le(ae){return Z+encodeURIComponent(ae.toString())+ee}const ue=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),de=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ce(ae){return ue+encodeURIComponent(ae.toString())+de}(0,M.registerThemingParticipant)((ae,X)=>{const K=ae.getColor(g.editorErrorForeground);K&&X.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${le(K)}") repeat-x bottom left; }`);const z=ae.getColor(g.editorWarningForeground);z&&X.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${le(z)}") repeat-x bottom left; }`);const Q=ae.getColor(g.editorInfoForeground);Q&&X.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${le(Q)}") repeat-x bottom left; }`);const j=ae.getColor(g.editorHintForeground);j&&X.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ce(j)}") no-repeat bottom left; }`);const re=ae.getColor(a.editorUnnecessaryCodeOpacity);re&&X.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${re.rgba.a}; }`)})}),define(te[366],ie([1,0,7,68,9,6,2,40,16,33,192,829,869,594,748,870,327,360,100,12,5,174,22,87,156,15,8,186,85,486,843,621,352,438,823]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M,R,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;let T=class extends k.DelegatingEditor{constructor(W,U,F,G,Y,ne,se,J){var q;super(),this._domElement=W,this._parentContextKeyService=G,this._parentInstantiationService=Y,this._audioCueService=se,this._editorProgressService=J,this.elements=(0,L.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,L.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,L.$)("span",{},"No Changes")]),(0,L.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,L.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,L.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=this._register((0,m.disposableObservableValue)("diffModel",void 0)),this.onDidChangeModel=D.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new w.ServiceCollection([p.IContextKeyService,this._contextKeyService])),this._boundarySashes=(0,m.observableValue)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,m.observableValue)(this,!1),this._accessibleDiffViewerVisible=(0,m.derived)(this,ue=>this._options.onlyShowAccessibleDiffViewer.read(ue)?!0:this._accessibleDiffViewerShouldBeVisible.read(ue)),this.movedBlocksLinesPart=(0,m.observableValue)(this,void 0),this._layoutInfo=(0,m.derived)(this,ue=>{var de,ce,ae;const X=this._rootSizeObserver.width.read(ue),K=this._rootSizeObserver.height.read(ue),z=(de=this._sash.read(ue))===null||de===void 0?void 0:de.sashLeft.read(ue),Q=z??Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),j=X-Q-(this._options.renderOverviewRuler.read(ue)?f.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0),re=(ae=(ce=this.movedBlocksLinesPart.read(ue))===null||ce===void 0?void 0:ce.width.read(ue))!==null&&ae!==void 0?ae:0,oe=Q-re;return this.elements.original.style.width=oe+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=j+"px",this.elements.modified.style.left=Q+"px",this._editors.original.layout({width:oe,height:K}),this._editors.modified.layout({width:j,height:K}),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((ue,de)=>ue?.diff.read(de)),this.onDidUpdateDiff=D.Event.fromObservableLight(this._diffValue),ne.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,S.toDisposable)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new d.ObservableElementSizeObserver(this.elements.root,U.dimension)),this._rootSizeObserver.setAutomaticLayout((q=U.automaticLayout)!==null&&q!==void 0?q:!1),this._options=new R.DiffEditorOptions(U,this._rootSizeObserver.width),this._contextKeyService.createKey(a.EditorContextKeys.isEmbeddedDiffEditor.key,!1);const H=a.EditorContextKeys.isEmbeddedDiffEditor.bindTo(this._contextKeyService);this._register((0,m.autorun)(ue=>{H.set(this._options.isInEmbeddedEditor.read(ue))}));const V=a.EditorContextKeys.comparingMovedCode.bindTo(this._contextKeyService);this._register((0,m.autorun)(ue=>{var de;V.set(!!(!((de=this._diffModel.read(ue))===null||de===void 0)&&de.movedTextToCompare.read(ue)))}));const Z=a.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached.bindTo(this._contextKeyService);this._register((0,m.autorun)(ue=>{Z.set(this._options.couldShowInlineViewBecauseOfSize.read(ue))})),this._editors=this._register(this._instantiationService.createInstance(M.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,F,(ue,de,ce,ae)=>this._createInnerEditor(ue,de,ce,ae))),this._sash=(0,m.derivedWithStore)(this,(ue,de)=>{const ce=this._options.renderSideBySide.read(ue);if(this.elements.root.classList.toggle("side-by-side",ce),!ce)return;const ae=de.add(new n.DiffEditorSash(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((X,K)=>X-(this._options.renderOverviewRuler.read(K)?f.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0))}));return de.add((0,m.autorun)(X=>{const K=this._boundarySashes.read(X);K&&ae.setBoundarySashes(K)})),ae}),this._register((0,m.recomputeInitiallyAndOnChange)(this._sash)),this._register((0,m.autorunWithStore)((ue,de)=>{this.unchangedRangesFeature=de.add(this._instantiationService.createInstance((0,d.readHotReloadableExport)(t.HideUnchangedRegionsFeature,ue),this._editors,this._diffModel,this._options))})),this._register((0,m.autorunWithStore)((ue,de)=>{de.add(new((0,d.readHotReloadableExport)(i.DiffEditorDecorations,ue))(this._editors,this._diffModel,this._options))})),this._register((0,m.autorunWithStore)((ue,de)=>{de.add(this._instantiationService.createInstance((0,d.readHotReloadableExport)(r.ViewZoneManager,ue),this._editors,this._diffModel,this._options,this,()=>this.unchangedRangesFeature.isUpdatingViewZones))})),this._register((0,m.autorunWithStore)((ue,de)=>{de.add(this._instantiationService.createInstance((0,d.readHotReloadableExport)(f.OverviewRulerPart,ue),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(ce=>ce.modifiedEditor),this._options))})),this._register((0,m.autorunWithStore)((ue,de)=>{this._accessibleDiffViewer=de.add(this._register(this._instantiationService.createInstance((0,d.readHotReloadableExport)(s.AccessibleDiffViewer,ue),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(ce,ae)=>this._accessibleDiffViewerShouldBeVisible.set(ce,ae),this._options.onlyShowAccessibleDiffViewer.map(ce=>!ce),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((ce,ae)=>{var X;return(X=ce?.diff.read(ae))===null||X===void 0?void 0:X.mappings.map(K=>K.lineRangeMapping)}),this._editors)))}));const ee=this._accessibleDiffViewerVisible.map(ue=>ue?"hidden":"visible");this._register((0,d.applyStyle)(this.elements.modified,{visibility:ee})),this._register((0,d.applyStyle)(this.elements.original,{visibility:ee})),this._createDiffEditorContributions(),ne.addDiffEditor(this),this._register((0,m.recomputeInitiallyAndOnChange)(this._layoutInfo)),this._register((0,m.autorunWithStore)((ue,de)=>{this.movedBlocksLinesPart.set(de.add(new((0,d.readHotReloadableExport)(u.MovedBlocksLinesPart,ue))(this.elements.root,this._diffModel,this._layoutInfo.map(ce=>ce.originalEditor),this._layoutInfo.map(ce=>ce.modifiedEditor),this._editors)),void 0)})),this._register((0,d.applyStyle)(this.elements.overlay,{width:this._layoutInfo.map((ue,de)=>ue.originalEditor.width+(this._options.renderSideBySide.read(de)?0:ue.modifiedEditor.width)),visibility:(0,m.derived)(ue=>{var de,ce;return this._options.hideUnchangedRegions.read(ue)&&((ce=(de=this._diffModel.read(ue))===null||de===void 0?void 0:de.diff.read(ue))===null||ce===void 0?void 0:ce.mappings.length)===0?"visible":"hidden"})})),this._register(this._editors.modified.onMouseDown(ue=>{var de,ce;if(!ue.event.rightButton&&ue.target.position&&(!((de=ue.target.element)===null||de===void 0)&&de.className.includes("arrow-revert-change"))){const ae=ue.target.position.lineNumber,X=ue.target,K=this._diffModel.get();if(!K)return;const z=(ce=K.diff.get())===null||ce===void 0?void 0:ce.mappings;if(!z)return;const Q=z.find(j=>X?.detail.afterLineNumber===j.lineRangeMapping.modified.startLineNumber-1||j.lineRangeMapping.modified.startLineNumber===ae);if(!Q)return;this.revert(Q.lineRangeMapping),ue.event.stopPropagation()}})),this._register(D.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,ue=>{var de,ce;if(ue?.reason===3){const ae=(ce=(de=this._diffModel.get())===null||de===void 0?void 0:de.diff.get())===null||ce===void 0?void 0:ce.mappings.find(X=>X.lineRangeMapping.modified.contains(ue.position.lineNumber));ae?.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(h.AudioCue.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):ae?.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(h.AudioCue.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):ae&&this._audioCueService.playAudioCue(h.AudioCue.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const le=this._diffModel.map((ue,de)=>ue?.isDiffUpToDate.read(de));this._register((0,m.autorunWithStore)((ue,de)=>{if(le.read(ue)===!1){const ce=this._editorProgressService.show(!0,1e3);de.add((0,S.toDisposable)(()=>ce.done()))}}))}_createInnerEditor(W,U,F,G){return W.createInstance(C.CodeEditorWidget,U,F,G)}_createDiffEditorContributions(){const W=_.EditorExtensionsRegistry.getDiffEditorContributions();for(const U of W)try{this._register(this._instantiationService.createInstance(U.ctor,this))}catch(F){(0,y.onUnexpectedError)(F)}}get _targetEditor(){return this._editors.modified}getEditorType(){return c.EditorType.IDiffEditor}layout(W){this._rootSizeObserver.observe(W)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var W;const U=this._editors.original.saveViewState(),F=this._editors.modified.saveViewState();return{original:U,modified:F,modelState:(W=this._diffModel.get())===null||W===void 0?void 0:W.serializeState()}}restoreViewState(W){var U;if(W&&W.original&&W.modified){const F=W;this._editors.original.restoreViewState(F.original),this._editors.modified.restoreViewState(F.modified),F.modelState&&((U=this._diffModel.get())===null||U===void 0||U.restoreSerializedState(F.modelState))}}createViewModel(W){return this._instantiationService.createInstance(B.DiffEditorViewModel,W,this._options,this)}getModel(){var W,U;return(U=(W=this._diffModel.get())===null||W===void 0?void 0:W.model)!==null&&U!==void 0?U:null}setModel(W){!W&&this._diffModel.get()&&this._accessibleDiffViewer.close();const U=W?"model"in W?W:this.createViewModel(W):void 0;this._editors.original.setModel(U?U.model.original:null),this._editors.modified.setModel(U?U.model.modified:null),(0,m.transaction)(F=>{this._diffModel.set(U,F)})}updateOptions(W){this._options.updateOptions(W)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var W;const U=(W=this._diffModel.get())===null||W===void 0?void 0:W.diff.get();return U?O(U):null}revert(W){var U;const F=(U=this._diffModel.get())===null||U===void 0?void 0:U.model;if(!F)return;const G=W.innerChanges?W.innerChanges.map(Y=>({range:Y.modifiedRange,text:F.original.getValueInRange(Y.originalRange)})):[{range:W.modified.toExclusiveRange(),text:F.original.getValueInRange(W.original.toExclusiveRange())}];this._editors.modified.executeEdits("diffEditor",G)}accessibleDiffViewerNext(){this._accessibleDiffViewer.next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.prev()}mapToOtherSide(){var W,U;const F=this._editors.modified.hasWidgetFocus(),G=F?this._editors.modified:this._editors.original,Y=F?this._editors.original:this._editors.modified;let ne;const se=G.getSelection();if(se){const J=(U=(W=this._diffModel.get())===null||W===void 0?void 0:W.diff.get())===null||U===void 0?void 0:U.mappings.map(q=>F?q.lineRangeMapping.flip():q.lineRangeMapping);if(J){const q=N(se.getStartPosition(),J),H=N(se.getEndPosition(),J);ne=o.Range.plusRange(q,H)}}return{destination:Y,destinationSelection:ne}}switchSide(){const{destination:W,destinationSelection:U}=this.mapToOtherSide();W.focus(),U&&W.setSelection(U)}exitCompareMove(){const W=this._diffModel.get();W&&W.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var W;const U=(W=this._diffModel.get())===null||W===void 0?void 0:W.unchangedRegions.get();U&&(0,m.transaction)(F=>{for(const G of U)G.collapseAll(F)})}showAllUnchangedRegions(){var W;const U=(W=this._diffModel.get())===null||W===void 0?void 0:W.unchangedRegions.get();U&&(0,m.transaction)(F=>{for(const G of U)G.showAll(F)})}};e.DiffEditorWidget=T,e.DiffEditorWidget=T=Ie([ge(3,p.IContextKeyService),ge(4,b.IInstantiationService),ge(5,v.ICodeEditorService),ge(6,h.IAudioCueService),ge(7,E.IEditorProgressService)],T);function N(x,W){const U=(0,I.findLast)(W,G=>G.original.startLineNumber<=x.lineNumber);if(!U)return o.Range.fromPositions(x);if(U.original.endLineNumberExclusive<=x.lineNumber){const G=x.lineNumber-U.original.endLineNumberExclusive+U.modified.endLineNumberExclusive;return o.Range.fromPositions(new l.Position(G,x.column))}if(!U.innerChanges)return o.Range.fromPositions(new l.Position(U.modified.startLineNumber,1));const F=(0,I.findLast)(U.innerChanges,G=>G.originalRange.getStartPosition().isBeforeOrEqual(x));if(!F){const G=x.lineNumber-U.original.startLineNumber+U.modified.startLineNumber;return o.Range.fromPositions(new l.Position(G,x.column))}if(F.originalRange.containsPosition(x))return F.modifiedRange;{const G=A(F.originalRange.getEndPosition(),x);return o.Range.fromPositions(P(F.modifiedRange.getEndPosition(),G))}}function A(x,W){return x.lineNumber===W.lineNumber?new g.LengthObj(0,W.column-x.column):new g.LengthObj(W.lineNumber-x.lineNumber,W.column-1)}function P(x,W){return W.lineCount===0?new l.Position(x.lineNumber,x.column+W.columnCount):new l.Position(x.lineNumber+W.lineCount,W.columnCount+1)}function O(x){return x.mappings.map(W=>{const U=W.lineRangeMapping;let F,G,Y,ne,se=U.innerChanges;return U.original.isEmpty?(F=U.original.startLineNumber-1,G=0,se=void 0):(F=U.original.startLineNumber,G=U.original.endLineNumberExclusive-1),U.modified.isEmpty?(Y=U.modified.startLineNumber-1,ne=0,se=void 0):(Y=U.modified.startLineNumber,ne=U.modified.endLineNumberExclusive-1),{originalStartLineNumber:F,originalEndLineNumber:G,modifiedStartLineNumber:Y,modifiedEndLineNumber:ne,charChanges:se?.map(J=>({originalStartLineNumber:J.originalRange.startLineNumber,originalStartColumn:J.originalRange.startColumn,originalEndLineNumber:J.originalRange.endLineNumber,originalEndColumn:J.originalRange.endColumn,modifiedStartLineNumber:J.modifiedRange.startLineNumber,modifiedStartColumn:J.modifiedRange.startColumn,modifiedEndLineNumber:J.modifiedRange.endLineNumber,modifiedEndColumn:J.modifiedRange.endColumn}))}})}}),define(te[874],ie([1,0,7,26,16,33,366,22,612,30,25,28,15]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findFocusedDiffEditor=e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=e.ShowAllUnchangedRegions=e.CollapseAllUnchangedRegions=e.ExitCompareMove=e.SwitchSide=e.ToggleUseInlineViewWhenSpaceIsLimited=e.ToggleShowMovedCodeBlocks=e.ToggleCollapseUnchangedRegions=void 0;class n extends v.Action2{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:{value:(0,_.localize)(0,null),original:"Toggle Collapse Unchanged Regions"},icon:I.Codicon.map,toggled:i.ContextKeyExpr.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:i.ContextKeyExpr.has("isInDiffEditor"),menu:{when:i.ContextKeyExpr.has("isInDiffEditor"),id:v.MenuId.EditorTitle,order:22,group:"navigation"}})}run(w,...E){const k=w.get(s.IConfigurationService),M=!k.getValue("diffEditor.hideUnchangedRegions.enabled");k.updateValue("diffEditor.hideUnchangedRegions.enabled",M)}}e.ToggleCollapseUnchangedRegions=n,(0,v.registerAction2)(n);class t extends v.Action2{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:{value:(0,_.localize)(1,null),original:"Toggle Show Moved Code Blocks"},precondition:i.ContextKeyExpr.has("isInDiffEditor")})}run(w,...E){const k=w.get(s.IConfigurationService),M=!k.getValue("diffEditor.experimental.showMoves");k.updateValue("diffEditor.experimental.showMoves",M)}}e.ToggleShowMovedCodeBlocks=t,(0,v.registerAction2)(t);class r extends v.Action2{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:{value:(0,_.localize)(2,null),original:"Toggle Use Inline View When Space Is Limited"},precondition:i.ContextKeyExpr.has("isInDiffEditor")})}run(w,...E){const k=w.get(s.IConfigurationService),M=!k.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");k.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",M)}}e.ToggleUseInlineViewWhenSpaceIsLimited=r,(0,v.registerAction2)(r),v.MenuRegistry.appendMenuItem(v.MenuId.EditorTitle,{command:{id:new r().desc.id,title:(0,_.localize)(3,null),toggled:i.ContextKeyExpr.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:i.ContextKeyExpr.has("isInDiffEditor")},order:11,group:"1_diff",when:i.ContextKeyExpr.and(m.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,i.ContextKeyExpr.has("isInDiffEditor"))}),v.MenuRegistry.appendMenuItem(v.MenuId.EditorTitle,{command:{id:new t().desc.id,title:(0,_.localize)(4,null),icon:I.Codicon.move,toggled:i.ContextKeyEqualsExpr.create("config.diffEditor.experimental.showMoves",!0),precondition:i.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"1_diff",when:i.ContextKeyExpr.has("isInDiffEditor")});const u={value:(0,_.localize)(5,null),original:"Diff Editor"};class f extends y.EditorAction2{constructor(){super({id:"diffEditor.switchSide",title:{value:(0,_.localize)(6,null),original:"Switch Side"},icon:I.Codicon.arrowSwap,precondition:i.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:u})}runEditorCommand(w,E,k){const M=h(w);if(M instanceof S.DiffEditorWidget){if(k&&k.dryRun)return{destinationSelection:M.mapToOtherSide().destinationSelection};M.switchSide()}}}e.SwitchSide=f,(0,v.registerAction2)(f);class d extends y.EditorAction2{constructor(){super({id:"diffEditor.exitCompareMove",title:{value:(0,_.localize)(7,null),original:"Exit Compare Move"},icon:I.Codicon.close,precondition:m.EditorContextKeys.comparingMovedCode,f1:!1,category:u,keybinding:{weight:1e4,primary:9}})}runEditorCommand(w,E,...k){const M=h(w);M instanceof S.DiffEditorWidget&&M.exitCompareMove()}}e.ExitCompareMove=d,(0,v.registerAction2)(d);class l extends y.EditorAction2{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:{value:(0,_.localize)(8,null),original:"Collapse All Unchanged Regions"},icon:I.Codicon.fold,precondition:i.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:u})}runEditorCommand(w,E,...k){const M=h(w);M instanceof S.DiffEditorWidget&&M.collapseAllUnchangedRegions()}}e.CollapseAllUnchangedRegions=l,(0,v.registerAction2)(l);class o extends y.EditorAction2{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:{value:(0,_.localize)(9,null),original:"Show All Unchanged Regions"},icon:I.Codicon.unfold,precondition:i.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:u})}runEditorCommand(w,E,...k){const M=h(w);M instanceof S.DiffEditorWidget&&M.showAllUnchangedRegions()}}e.ShowAllUnchangedRegions=o,(0,v.registerAction2)(o);const c={value:(0,_.localize)(10,null),original:"Accessible Diff Viewer"};class a extends v.Action2{constructor(){super({id:a.id,title:{value:(0,_.localize)(11,null),original:"Go to Next Difference"},category:c,precondition:i.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(w){const E=h(w);E?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=a,a.id="editor.action.accessibleDiffViewer.next",v.MenuRegistry.appendMenuItem(v.MenuId.EditorTitle,{command:{id:a.id,title:(0,_.localize)(12,null),precondition:i.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"2_diff",when:i.ContextKeyExpr.and(m.EditorContextKeys.accessibleDiffViewerVisible.negate(),i.ContextKeyExpr.has("isInDiffEditor"))});class g extends v.Action2{constructor(){super({id:g.id,title:{value:(0,_.localize)(13,null),original:"Go to Previous Difference"},category:c,precondition:i.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(w){const E=h(w);E?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=g,g.id="editor.action.accessibleDiffViewer.prev";function h(b){var w;const E=b.get(D.ICodeEditorService),k=E.listDiffEditors(),M=(w=E.getFocusedCodeEditor())!==null&&w!==void 0?w:E.getActiveCodeEditor();if(!M)return null;for(let B=0,T=k.length;B<T;B++){const N=k[B];if(N.getModifiedEditor().getId()===M.getId()||N.getOriginalEditor().getId()===M.getId())return N}const R=(0,L.getActiveElement)();if(R)for(const B of k){const T=B.getContainerDomNode();if(p(T,R))return B}return null}e.findFocusedDiffEditor=h;function p(b,w){let E=w;for(;E;){if(E===b)return!0;E=E.parentElement}return!1}C.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",a.id),(0,v.registerAction2)(a),C.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",g.id),(0,v.registerAction2)(g)}),define(te[161],ie([1,0,52,33,192,32,18,88,25,15,8,48,23]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let n=class extends y.CodeEditorWidget{constructor(r,u,f,d,l,o,c,a,g,h,p,b,w){super(r,Object.assign(Object.assign({},d.getRawOptions()),{overflowWidgetsDomNode:d.getOverflowWidgetsDomNode()}),f,l,o,c,a,g,h,p,b,w),this._parentEditor=d,this._overwriteOptions=u,super.updateOptions(this._overwriteOptions),this._register(d.onDidChangeConfiguration(E=>this._onParentConfigurationChanged(E)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){L.mixin(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=n,e.EmbeddedCodeEditorWidget=n=Ie([ge(4,C.IInstantiationService),ge(5,I.ICodeEditorService),ge(6,_.ICommandService),ge(7,v.IContextKeyService),ge(8,i.IThemeService),ge(9,s.INotificationService),ge(10,m.IAccessibilityService),ge(11,D.ILanguageConfigurationService),ge(12,S.ILanguageFeaturesService)],n)}),define(te[875],ie([1,0,14,2,16,12,5,24,22,49,37,634,30,31,23,441]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=(0,n.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},s.localize(0,null));class u extends y.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:s.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(a,g){var h;(h=o.get(g))===null||h===void 0||h.jumpToBracket()}}class f extends y.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:s.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(a,g,h){var p;let b=!0;h&&h.selectBrackets===!1&&(b=!1),(p=o.get(g))===null||p===void 0||p.selectToBracket(b)}}class d extends y.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:s.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(a,g){var h;(h=o.get(g))===null||h===void 0||h.removeBrackets(this.id)}}class l{constructor(a,g,h){this.position=a,this.brackets=g,this.options=h}}class o extends I.Disposable{static get(a){return a.getContribution(o.ID)}constructor(a){super(),this._editor=a,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new L.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(71),this._updateBracketsSoon.schedule(),this._register(a.onDidChangeCursorPosition(g=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(a.onDidChangeModelContent(g=>{this._updateBracketsSoon.schedule()})),this._register(a.onDidChangeModel(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(a.onDidChangeModelLanguageConfiguration(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(a.onDidChangeConfiguration(g=>{g.hasChanged(71)&&(this._matchBrackets=this._editor.getOption(71),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(a.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(a.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const a=this._editor.getModel(),g=this._editor.getSelections().map(h=>{const p=h.getStartPosition(),b=a.bracketPairs.matchBracket(p);let w=null;if(b)b[0].containsPosition(p)&&!b[1].containsPosition(p)?w=b[1].getStartPosition():b[1].containsPosition(p)&&(w=b[0].getStartPosition());else{const E=a.bracketPairs.findEnclosingBrackets(p);if(E)w=E[1].getStartPosition();else{const k=a.bracketPairs.findNextBracket(p);k&&k.range&&(w=k.range.getStartPosition())}}return w?new m.Selection(w.lineNumber,w.column,w.lineNumber,w.column):new m.Selection(p.lineNumber,p.column,p.lineNumber,p.column)});this._editor.setSelections(g),this._editor.revealRange(g[0])}selectToBracket(a){if(!this._editor.hasModel())return;const g=this._editor.getModel(),h=[];this._editor.getSelections().forEach(p=>{const b=p.getStartPosition();let w=g.bracketPairs.matchBracket(b);if(!w&&(w=g.bracketPairs.findEnclosingBrackets(b),!w)){const M=g.bracketPairs.findNextBracket(b);M&&M.range&&(w=g.bracketPairs.matchBracket(M.range.getStartPosition()))}let E=null,k=null;if(w){w.sort(S.Range.compareRangesUsingStarts);const[M,R]=w;if(E=a?M.getStartPosition():M.getEndPosition(),k=a?R.getEndPosition():R.getStartPosition(),R.containsPosition(b)){const B=E;E=k,k=B}}E&&k&&h.push(new m.Selection(E.lineNumber,E.column,k.lineNumber,k.column))}),h.length>0&&(this._editor.setSelections(h),this._editor.revealRange(h[0]))}removeBrackets(a){if(!this._editor.hasModel())return;const g=this._editor.getModel();this._editor.getSelections().forEach(h=>{const p=h.getPosition();let b=g.bracketPairs.matchBracket(p);b||(b=g.bracketPairs.findEnclosingBrackets(p)),b&&(this._editor.pushUndoStop(),this._editor.executeEdits(a,[{range:b[0],text:""},{range:b[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const a=[];let g=0;for(const h of this._lastBracketsData){const p=h.brackets;p&&(a[g++]={range:p[0],options:h.options},a[g++]={range:p[1],options:h.options})}this._decorations.set(a)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const a=this._editor.getSelections();if(a.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const g=this._editor.getModel(),h=g.getVersionId();let p=[];this._lastVersionId===h&&(p=this._lastBracketsData);const b=[];let w=0;for(let B=0,T=a.length;B<T;B++){const N=a[B];N.isEmpty()&&(b[w++]=N.getStartPosition())}b.length>1&&b.sort(D.Position.compare);const E=[];let k=0,M=0;const R=p.length;for(let B=0,T=b.length;B<T;B++){const N=b[B];for(;M<R&&p[M].position.isBefore(N);)M++;if(M<R&&p[M].position.equals(N))E[k++]=p[M];else{let A=g.bracketPairs.matchBracket(N,20),P=o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!A&&this._matchBrackets==="always"&&(A=g.bracketPairs.findEnclosingBrackets(N,20),P=o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[k++]=new l(N,A,P)}}this._lastBracketsData=E,this._lastVersionId=h}}e.BracketMatchingController=o,o.ID="editor.contrib.bracketMatchingController",o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,t.themeColorFromId)(r),position:v.OverviewRulerLane.Center}}),o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,y.registerEditorContribution)(o.ID,o,1),(0,y.registerEditorAction)(f),(0,y.registerEditorAction)(u),(0,y.registerEditorAction)(d),i.MenuRegistry.appendMenuItem(i.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:s.localize(4,null)},order:2})}),define(te[252],ie([1,0,7,45,9,97,2,12,37,18,135,802,824,354,189,641,827,25,28,15,8,94,85,31,86,23,112,353]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;const k="quickfix-edit-highlight";let M=E=class extends S.Disposable{static get(B){return B.getContribution(E.ID)}constructor(B,T,N,A,P,O,x,W,U,F){super(),this._commandService=x,this._configurationService=W,this._actionWidgetService=U,this._instantiationService=F,this._activeCodeActions=this._register(new S.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=B,this._model=this._register(new w.CodeActionModel(this._editor,P.codeActionProvider,T,N,O,W)),this._register(this._model.onDidChangeState(G=>this.update(G))),this._lightBulbWidget=new D.Lazy(()=>{const G=this._editor.getContribution(n.LightBulbWidget.ID);return G&&this._register(G.onClick(Y=>this.showCodeActionList(Y.actions,Y,{includeDisabledActions:!1,fromLightbulb:!0}))),G}),this._resolver=A.createInstance(s.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActions(B,T,N){return this.showCodeActionList(T,N,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(B,T,N,A){var P;if(!this._editor.hasModel())return;(P=t.MessageController.get(this._editor))===null||P===void 0||P.closeMessage();const O=this._editor.getPosition();this._trigger({type:1,triggerAction:T,filter:N,autoApply:A,context:{notAvailableMessage:B,position:O}})}_trigger(B){return this._model.trigger(B)}_applyCodeAction(B,T,N){return be(this,void 0,void 0,function*(){try{yield this._instantiationService.invokeFunction(C.applyCodeAction,B,C.ApplyCodeActionReason.FromCodeActions,{preview:N,editor:this._editor})}finally{T&&this._trigger({type:2,triggerAction:b.CodeActionTriggerSource.QuickFix,filter:{}})}})}update(B){var T,N,A,P,O,x,W;return be(this,void 0,void 0,function*(){if(B.type!==1){(T=this._lightBulbWidget.rawValue)===null||T===void 0||T.hide();return}let U;try{U=yield B.actions}catch(F){(0,y.onUnexpectedError)(F);return}if(!this._disposed)if((N=this._lightBulbWidget.value)===null||N===void 0||N.update(U,B.trigger,B.position),B.trigger.type===1){if(!((A=B.trigger.filter)===null||A===void 0)&&A.include){const G=this.tryGetValidActionToApply(B.trigger,U);if(G){try{(P=this._lightBulbWidget.value)===null||P===void 0||P.hide(),yield this._applyCodeAction(G,!1,!1)}finally{U.dispose()}return}if(B.trigger.context){const Y=this.getInvalidActionThatWouldHaveBeenApplied(B.trigger,U);if(Y&&Y.action.disabled){(O=t.MessageController.get(this._editor))===null||O===void 0||O.showMessage(Y.action.disabled,B.trigger.context.position),U.dispose();return}}}const F=!!(!((x=B.trigger.filter)===null||x===void 0)&&x.include);if(B.trigger.context&&(!U.allActions.length||!F&&!U.validActions.length)){(W=t.MessageController.get(this._editor))===null||W===void 0||W.showMessage(B.trigger.context.notAvailableMessage,B.trigger.context.position),this._activeCodeActions.value=U,U.dispose();return}this._activeCodeActions.value=U,this.showCodeActionList(U,this.toCoords(B.position),{includeDisabledActions:F,fromLightbulb:!1})}else this._actionWidgetService.isVisible?U.dispose():this._activeCodeActions.value=U})}getInvalidActionThatWouldHaveBeenApplied(B,T){if(T.allActions.length&&(B.autoApply==="first"&&T.validActions.length===0||B.autoApply==="ifSingle"&&T.allActions.length===1))return T.allActions.find(({action:N})=>N.disabled)}tryGetValidActionToApply(B,T){if(T.validActions.length&&(B.autoApply==="first"&&T.validActions.length>0||B.autoApply==="ifSingle"&&T.validActions.length===1))return T.validActions[0]}showCodeActionList(B,T,N){return be(this,void 0,void 0,function*(){const A=this._editor.createDecorationsCollection(),P=this._editor.getDomNode();if(!P)return;const O=N.includeDisabledActions&&(this._showDisabled||B.validActions.length===0)?B.allActions:B.validActions;if(!O.length)return;const x=m.Position.isIPosition(T)?this.toCoords(T):T,W={onSelect:(U,F)=>be(this,void 0,void 0,function*(){this._applyCodeAction(U,!0,!!F),this._actionWidgetService.hide(),A.clear()}),onHide:()=>{var U;(U=this._editor)===null||U===void 0||U.focus(),A.clear()},onHover:(U,F)=>be(this,void 0,void 0,function*(){var G;if(yield U.resolve(F),!F.isCancellationRequested)return{canPreview:!!(!((G=U.action.edit)===null||G===void 0)&&G.edits.length)}}),onFocus:U=>{var F,G;if(U&&U.highlightRange&&U.action.diagnostics){const Y=[{range:U.action.diagnostics[0],options:E.DECORATION}];A.set(Y);const ne=U.action.diagnostics[0],se=(G=(F=this._editor.getModel())===null||F===void 0?void 0:F.getWordAtPosition({lineNumber:ne.startLineNumber,column:ne.startColumn}))===null||G===void 0?void 0:G.word;I.status((0,r.localize)(0,null,se,ne.startLineNumber,ne.startColumn))}else A.clear()}};this._actionWidgetService.show("codeActionWidget",!0,(0,i.toMenuItems)(O,this._shouldShowHeaders(),this._resolver.getResolver()),W,x,P,this._getActionBarActions(B,T,N))})}toCoords(B){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(B,1),this._editor.render();const T=this._editor.getScrolledVisiblePosition(B),N=(0,L.getDomNodePagePosition)(this._editor.getDomNode()),A=N.left+T.left,P=N.top+T.top+T.height;return{x:A,y:P}}_shouldShowHeaders(){var B;const T=(B=this._editor)===null||B===void 0?void 0:B.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:T?.uri})}_getActionBarActions(B,T,N){if(N.fromLightbulb)return[];const A=B.documentation.map(P=>{var O;return{id:P.id,label:P.title,tooltip:(O=P.tooltip)!==null&&O!==void 0?O:"",class:void 0,enabled:!0,run:()=>{var x;return this._commandService.executeCommand(P.id,...(x=P.arguments)!==null&&x!==void 0?x:[])}}});return N.includeDisabledActions&&B.validActions.length>0&&B.allActions.length!==B.validActions.length&&A.push(this._showDisabled?{id:"hideMoreActions",label:(0,r.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(B,T,N))}:{id:"showMoreActions",label:(0,r.localize)(2,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(B,T,N))}),A}};e.CodeActionController=M,M.ID="editor.contrib.codeActionController",M.DECORATION=_.ModelDecorationOptions.register({description:"quickfix-highlight",className:k}),e.CodeActionController=M=E=Ie([ge(1,c.IMarkerService),ge(2,l.IContextKeyService),ge(3,o.IInstantiationService),ge(4,v.ILanguageFeaturesService),ge(5,a.IEditorProgressService),ge(6,f.ICommandService),ge(7,d.IConfigurationService),ge(8,u.IActionWidgetService),ge(9,o.IInstantiationService)],M),(0,p.registerThemingParticipant)((R,B)=>{((A,P)=>{P&&B.addRule(`.monaco-editor ${A} { background-color: ${P}; }`)})(".quickfix-edit-highlight",R.getColor(g.editorFindMatchHighlight));const N=R.getColor(g.editorFindMatchHighlightBorder);N&&B.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,h.isHighContrast)(R.type)?"dotted":"solid"} ${N}; box-sizing: border-box; }`)})}),define(te[876],ie([1,0,10,16,22,135,639,15,112,252,353]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function s(c){return m.ContextKeyExpr.regex(C.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,L.escapeRegExpCharacters)(c.value)+"\\b"))}const i={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:S.localize(0,null)},apply:{type:"string",description:S.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[S.localize(2,null),S.localize(3,null),S.localize(4,null)]},preferred:{type:"boolean",default:!1,description:S.localize(5,null)}}};function n(c,a,g,h,p=_.CodeActionTriggerSource.Default){if(c.hasModel()){const b=v.CodeActionController.get(c);b?.manualTriggerAtCurrentPosition(a,p,g,h)}}class t extends I.EditorAction{constructor(){super({id:D.quickFixCommandId,label:S.localize(6,null),alias:"Quick Fix...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(a,g){return n(g,S.localize(7,null),void 0,void 0,_.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=t;class r extends I.EditorCommand{constructor(){super({id:D.codeActionCommandId,precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:i}]}})}runEditorCommand(a,g,h){const p=_.CodeActionCommandArgs.fromUser(h,{kind:_.CodeActionKind.Empty,apply:"ifSingle"});return n(g,typeof h?.kind=="string"?p.preferred?S.localize(8,null,h.kind):S.localize(9,null,h.kind):p.preferred?S.localize(10,null):S.localize(11,null),{include:p.kind,includeSourceActions:!0,onlyIncludePreferredActions:p.preferred},p.apply)}}e.CodeActionCommand=r;class u extends I.EditorAction{constructor(){super({id:D.refactorCommandId,label:S.localize(12,null),alias:"Refactor...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:i}]}})}run(a,g,h){const p=_.CodeActionCommandArgs.fromUser(h,{kind:_.CodeActionKind.Refactor,apply:"never"});return n(g,typeof h?.kind=="string"?p.preferred?S.localize(13,null,h.kind):S.localize(14,null,h.kind):p.preferred?S.localize(15,null):S.localize(16,null),{include:_.CodeActionKind.Refactor.contains(p.kind)?p.kind:_.CodeActionKind.None,onlyIncludePreferredActions:p.preferred},p.apply,_.CodeActionTriggerSource.Refactor)}}e.RefactorAction=u;class f extends I.EditorAction{constructor(){super({id:D.sourceActionCommandId,label:S.localize(17,null),alias:"Source Action...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:i}]}})}run(a,g,h){const p=_.CodeActionCommandArgs.fromUser(h,{kind:_.CodeActionKind.Source,apply:"never"});return n(g,typeof h?.kind=="string"?p.preferred?S.localize(18,null,h.kind):S.localize(19,null,h.kind):p.preferred?S.localize(20,null):S.localize(21,null),{include:_.CodeActionKind.Source.contains(p.kind)?p.kind:_.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:p.preferred},p.apply,_.CodeActionTriggerSource.SourceAction)}}e.SourceAction=f;class d extends I.EditorAction{constructor(){super({id:D.organizeImportsCommandId,label:S.localize(22,null),alias:"Organize Imports",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(a,g){return n(g,S.localize(23,null),{include:_.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",_.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=d;class l extends I.EditorAction{constructor(){super({id:D.fixAllCommandId,label:S.localize(24,null),alias:"Fix All",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.SourceFixAll))})}run(a,g){return n(g,S.localize(25,null),{include:_.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",_.CodeActionTriggerSource.FixAll)}}e.FixAllAction=l;class o extends I.EditorAction{constructor(){super({id:D.autoFixCommandId,label:S.localize(26,null),alias:"Auto Fix...",precondition:m.ContextKeyExpr.and(y.EditorContextKeys.writable,s(_.CodeActionKind.QuickFix)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(a,g){return n(g,S.localize(27,null),{include:_.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",_.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=o}),define(te[877],ie([1,0,16,240,876,252,354,640,95,35]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(D.CodeActionController.ID,D.CodeActionController,3),(0,L.registerEditorContribution)(S.LightBulbWidget.ID,S.LightBulbWidget,4),(0,L.registerEditorAction)(y.QuickFixAction),(0,L.registerEditorAction)(y.RefactorAction),(0,L.registerEditorAction)(y.SourceAction),(0,L.registerEditorAction)(y.OrganizeImportsAction),(0,L.registerEditorAction)(y.AutoFixAction),(0,L.registerEditorAction)(y.FixAllAction),(0,L.registerEditorCommand)(new y.CodeActionCommand),v.Registry.as(_.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},I.editorConfigurationBaseNode),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:m.localize(0,null),default:!0}}})),v.Registry.as(_.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},I.editorConfigurationBaseNode),{properties:{"editor.codeActionWidget.includeNearbyQuickfixes":{type:"boolean",scope:5,description:m.localize(1,null),default:!1}}}))}),define(te[878],ie([1,0,7,128,5,37,443]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class S{constructor(i,n,t){this.afterColumn=1073741824,this.afterLineNumber=i,this.heightInPx=n,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class m{constructor(i,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=i,this._id=`codelens.widget-${m._idPool++}`,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(i,n){this._commands.clear();const t=[];let r=!1;for(let u=0;u<i.length;u++){const f=i[u];if(f&&(r=!0,f.command)){const d=(0,I.renderLabelWithIcons)(f.command.title.trim());f.command.id?(t.push(L.$("a",{id:String(u),title:f.command.tooltip,role:"button"},...d)),this._commands.set(String(u),f.command)):t.push(L.$("span",{title:f.command.tooltip},...d)),u+1<i.length&&t.push(L.$("span",void 0,"\xA0|\xA0"))}}r?(L.reset(this._domNode,...t),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):L.reset(this._domNode,L.$("span",void 0,"no commands"))}getCommand(i){return i.parentElement===this._domNode?this._commands.get(i.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(i){const n=this._editor.getModel().getLineFirstNonWhitespaceColumn(i);this._widgetPosition={position:{lineNumber:i,column:n},preference:[1]}}getPosition(){return this._widgetPosition||null}}m._idPool=0;class _{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,n){this._addDecorations.push(i),this._addDecorationsCallbacks.push(n)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){const n=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,r=n.length;t<r;t++)this._addDecorationsCallbacks[t](n[t])}}e.CodeLensHelper=_;const v=D.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class C{constructor(i,n,t,r,u,f){this._isDisposed=!1,this._editor=n,this._data=i,this._decorationIds=[];let d;const l=[];this._data.forEach((o,c)=>{o.symbol.command&&l.push(o.symbol),t.addDecoration({range:o.symbol.range,options:v},a=>this._decorationIds[c]=a),d?d=y.Range.plusRange(d,o.symbol.range):d=y.Range.lift(o.symbol.range)}),this._viewZone=new S(d.startLineNumber-1,u,f),this._viewZoneId=r.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new m(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,n){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],n?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,n)=>{const t=this._editor.getModel().getDecorationRange(i),r=this._data[n].symbol;return!!(t&&y.Range.isEmpty(r.range)===t.isEmpty())})}updateCodeLensSymbols(i,n){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],this._data=i,this._data.forEach((t,r)=>{n.addDecoration({range:t.symbol.range,options:v},u=>this._decorationIds[r]=u)})}updateHeight(i,n){this._viewZone.heightInPx=i,n.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.isVisible())return null;for(let n=0;n<this._decorationIds.length;n++){const t=i.getDecorationRange(this._decorationIds[n]);t&&(this._data[n].symbol.range=t)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let n=0;n<this._data.length;n++){const t=i[n];if(t){const{symbol:r}=this._data[n];r.command=t.command||r.command}}}getCommand(i){var n;return(n=this._contentWidget)===null||n===void 0?void 0:n.getCommand(i)}getLineNumber(){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);n&&(this._viewZone.afterLineNumber=n.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(n.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=C}),define(te[879],ie([1,0,14,9,2,120,16,39,22,336,789,878,644,25,48,67,74,18]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let d=class{constructor(o,c,a,g,h,p){this._editor=o,this._languageFeaturesService=c,this._commandService=g,this._notificationService=h,this._codeLensCache=p,this._disposables=new y.DisposableStore,this._localToDispose=new y.DisposableStore,this._lenses=[],this._oldCodeLensModels=new y.DisposableStore,this._provideCodeLensDebounce=a.for(c.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=a.for(c.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new L.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(b=>{(b.hasChanged(50)||b.hasChanged(19)||b.hasChanged(18))&&this._updateLensStyle(),b.hasChanged(17)&&this._onModelChange()})),this._disposables.add(c.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var o;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(o=this._currentCodeLensModel)===null||o===void 0||o.dispose()}_getLayoutInfo(){const o=Math.max(1.3,this._editor.getOption(66)/this._editor.getOption(52));let c=this._editor.getOption(19);return(!c||c<5)&&(c=this._editor.getOption(52)*.9|0),{fontSize:c,codeLensHeight:c*o|0}}_updateLensStyle(){const{codeLensHeight:o,fontSize:c}=this._getLayoutInfo(),a=this._editor.getOption(18),g=this._editor.getOption(50),{style:h}=this._editor.getContainerDomNode();h.setProperty("--vscode-editorCodeLens-lineHeight",`${o}px`),h.setProperty("--vscode-editorCodeLens-fontSize",`${c}px`),h.setProperty("--vscode-editorCodeLens-fontFeatureSettings",g.fontFeatureSettings),a&&(h.setProperty("--vscode-editorCodeLens-fontFamily",a),h.setProperty("--vscode-editorCodeLens-fontFamilyDefault",m.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(p=>{for(const b of this._lenses)b.updateHeight(o,p)})}_localDispose(){var o,c,a;(o=this._getCodeLensModelPromise)===null||o===void 0||o.cancel(),this._getCodeLensModelPromise=void 0,(c=this._resolveCodeLensesPromise)===null||c===void 0||c.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(a=this._currentCodeLensModel)===null||a===void 0||a.dispose()}_onModelChange(){this._localDispose();const o=this._editor.getModel();if(!o||!this._editor.getOption(17)||o.isTooLargeForTokenization())return;const c=this._codeLensCache.get(o);if(c&&this._renderCodeLensSymbols(c),!this._languageFeaturesService.codeLensProvider.has(o)){c&&this._localToDispose.add((0,L.disposableTimeout)(()=>{const g=this._codeLensCache.get(o);c===g&&(this._codeLensCache.delete(o),this._onModelChange())},30*1e3));return}for(const g of this._languageFeaturesService.codeLensProvider.all(o))if(typeof g.onDidChange=="function"){const h=g.onDidChange(()=>a.schedule());this._localToDispose.add(h)}const a=new L.RunOnceScheduler(()=>{var g;const h=Date.now();(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=(0,L.createCancelablePromise)(p=>(0,v.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,o,p)),this._getCodeLensModelPromise.then(p=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=p,this._codeLensCache.put(o,p);const b=this._provideCodeLensDebounce.update(o,Date.now()-h);a.delay=b,this._renderCodeLensSymbols(p),this._resolveCodeLensesInViewportSoon()},I.onUnexpectedError)},this._provideCodeLensDebounce.get(o));this._localToDispose.add(a),this._localToDispose.add((0,y.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var g;this._editor.changeDecorations(h=>{this._editor.changeViewZones(p=>{const b=[];let w=-1;this._lenses.forEach(k=>{!k.isValid()||w===k.getLineNumber()?b.push(k):(k.update(p),w=k.getLineNumber())});const E=new s.CodeLensHelper;b.forEach(k=>{k.dispose(E,p),this._lenses.splice(this._lenses.indexOf(k),1)}),E.commit(h)})}),a.schedule(),this._resolveCodeLensesScheduler.cancel(),(g=this._resolveCodeLensesPromise)===null||g===void 0||g.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{a.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{a.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(g=>{g.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,y.toDisposable)(()=>{if(this._editor.getModel()){const g=D.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(h=>{this._editor.changeViewZones(p=>{this._disposeAllLenses(h,p)})}),g.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(g=>{if(g.target.type!==9)return;let h=g.target.element;if(h?.tagName==="SPAN"&&(h=h.parentElement),h?.tagName==="A")for(const p of this._lenses){const b=p.getCommand(h);if(b){this._commandService.executeCommand(b.id,...b.arguments||[]).catch(w=>this._notificationService.error(w));break}}})),a.schedule()}_disposeAllLenses(o,c){const a=new s.CodeLensHelper;for(const g of this._lenses)g.dispose(a,c);o&&a.commit(o),this._lenses.length=0}_renderCodeLensSymbols(o){if(!this._editor.hasModel())return;const c=this._editor.getModel().getLineCount(),a=[];let g;for(const b of o.lenses){const w=b.symbol.range.startLineNumber;w<1||w>c||(g&&g[g.length-1].symbol.range.startLineNumber===w?g.push(b):(g=[b],a.push(g)))}if(!a.length&&!this._lenses.length)return;const h=D.StableEditorScrollState.capture(this._editor),p=this._getLayoutInfo();this._editor.changeDecorations(b=>{this._editor.changeViewZones(w=>{const E=new s.CodeLensHelper;let k=0,M=0;for(;M<a.length&&k<this._lenses.length;){const R=a[M][0].symbol.range.startLineNumber,B=this._lenses[k].getLineNumber();B<R?(this._lenses[k].dispose(E,w),this._lenses.splice(k,1)):B===R?(this._lenses[k].updateCodeLensSymbols(a[M],E),M++,k++):(this._lenses.splice(k,0,new s.CodeLensWidget(a[M],this._editor,E,w,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),k++,M++)}for(;k<this._lenses.length;)this._lenses[k].dispose(E,w),this._lenses.splice(k,1);for(;M<a.length;)this._lenses.push(new s.CodeLensWidget(a[M],this._editor,E,w,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),M++;E.commit(b)})}),h.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var o;(o=this._resolveCodeLensesPromise)===null||o===void 0||o.cancel(),this._resolveCodeLensesPromise=void 0;const c=this._editor.getModel();if(!c)return;const a=[],g=[];if(this._lenses.forEach(b=>{const w=b.computeIfNecessary(c);w&&(a.push(w),g.push(b))}),a.length===0)return;const h=Date.now(),p=(0,L.createCancelablePromise)(b=>{const w=a.map((E,k)=>{const M=new Array(E.length),R=E.map((B,T)=>!B.symbol.command&&typeof B.provider.resolveCodeLens=="function"?Promise.resolve(B.provider.resolveCodeLens(c,B.symbol,b)).then(N=>{M[T]=N},I.onUnexpectedExternalError):(M[T]=B.symbol,Promise.resolve(void 0)));return Promise.all(R).then(()=>{!b.isCancellationRequested&&!g[k].isDisposed()&&g[k].updateCommands(M)})});return Promise.all(w)});this._resolveCodeLensesPromise=p,this._resolveCodeLensesPromise.then(()=>{const b=this._resolveCodeLensesDebounce.update(c,Date.now()-h);this._resolveCodeLensesScheduler.delay=b,this._currentCodeLensModel&&this._codeLensCache.put(c,this._currentCodeLensModel),this._oldCodeLensModels.clear(),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},b=>{(0,I.onUnexpectedError)(b),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){var o;return be(this,void 0,void 0,function*(){return yield this._getCodeLensModelPromise,yield this._resolveCodeLensesPromise,!((o=this._currentCodeLensModel)===null||o===void 0)&&o.isDisposed?void 0:this._currentCodeLensModel})}};e.CodeLensContribution=d,d.ID="css.editor.codeLens",e.CodeLensContribution=d=Ie([ge(1,f.ILanguageFeaturesService),ge(2,u.ILanguageFeatureDebounceService),ge(3,n.ICommandService),ge(4,t.INotificationService),ge(5,C.ICodeLensCache)],d),(0,S.registerEditorContribution)(d.ID,d,1),(0,S.registerEditorAction)(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:_.EditorContextKeys.hasCodeLensProvider,label:(0,i.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(o,c){return be(this,void 0,void 0,function*(){if(!c.hasModel())return;const a=o.get(r.IQuickInputService),g=o.get(n.ICommandService),h=o.get(t.INotificationService),p=c.getSelection().positionLineNumber,b=c.getContribution(d.ID);if(!b)return;const w=yield b.getModel();if(!w)return;const E=[];for(const R of w.lenses)R.symbol.command&&R.symbol.range.startLineNumber===p&&E.push({label:R.symbol.command.title,command:R.symbol.command});if(E.length===0)return;const k=yield a.pick(E,{canPickMany:!1,placeHolder:(0,i.localize)(1,null)});if(!k)return;let M=k.command;if(w.isDisposed){const R=yield b.getModel(),B=R?.lenses.find(T=>{var N;return T.symbol.range.startLineNumber===p&&((N=T.symbol.command)===null||N===void 0?void 0:N.title)===M.title});if(!B||!B.symbol.command)return;M=B.symbol.command}try{yield g.executeCommand(M.id,...M.arguments||[])}catch(R){h.error(R)}})}})}),define(te[367],ie([1,0,14,36,9,6,2,59,10,159,16,5,37,74,18,347,28]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let d=f=class extends S.Disposable{constructor(c,a,g,h){super(),this._editor=c,this._configurationService=a,this._languageFeaturesService=g,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new v.DynamicCssRules(this._editor),this._decoratorLimitReporter=new l,this._colorDecorationClassRefs=this._register(new S.DisposableStore),this._debounceInformation=h.for(g.colorProvider,"Document Colors",{min:f.RECOMPUTE_TIME}),this._register(c.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(c.onDidChangeModelLanguage(()=>this.updateColors())),this._register(g.colorProvider.onDidChange(()=>this.updateColors())),this._register(c.onDidChangeConfiguration(p=>{const b=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145);const w=b!==this._isColorDecoratorsEnabled||p.hasChanged(21),E=p.hasChanged(145);(w||E)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145),this.updateColors()}isEnabled(){const c=this._editor.getModel();if(!c)return!1;const a=c.getLanguageId(),g=this._configurationService.getValue(a);if(g&&typeof g=="object"){const h=g.colorDecorators;if(h&&h.enable!==void 0&&!h.enable)return h.enable}return this._editor.getOption(20)}static get(c){return c.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const c=this._editor.getModel();!c||!this._languageFeaturesService.colorProvider.has(c)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new L.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(c)))})),this.beginCompute())}beginCompute(){return be(this,void 0,void 0,function*(){this._computePromise=(0,L.createCancelablePromise)(c=>be(this,void 0,void 0,function*(){const a=this._editor.getModel();if(!a)return[];const g=new m.StopWatch(!1),h=yield(0,r.getColors)(this._languageFeaturesService.colorProvider,a,c,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(a,g.elapsed()),h}));try{const c=yield this._computePromise;this.updateDecorations(c),this.updateColorDecorators(c),this._computePromise=null}catch(c){(0,y.onUnexpectedError)(c)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(c){const a=c.map(g=>({range:{startLineNumber:g.colorInfo.range.startLineNumber,startColumn:g.colorInfo.range.startColumn,endLineNumber:g.colorInfo.range.endLineNumber,endColumn:g.colorInfo.range.endColumn},options:i.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(g=>{this._decorationsIds=g.deltaDecorations(this._decorationsIds,a),this._colorDatas=new Map,this._decorationsIds.forEach((h,p)=>this._colorDatas.set(h,c[p]))})}updateColorDecorators(c){this._colorDecorationClassRefs.clear();const a=[],g=this._editor.getOption(21);for(let p=0;p<c.length&&a.length<g;p++){const{red:b,green:w,blue:E,alpha:k}=c[p].colorInfo.color,M=new I.RGBA(Math.round(b*255),Math.round(w*255),Math.round(E*255),k),R=`rgba(${M.r}, ${M.g}, ${M.b}, ${M.a})`,B=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:R}));a.push({range:{startLineNumber:c[p].colorInfo.range.startLineNumber,startColumn:c[p].colorInfo.range.startColumn,endLineNumber:c[p].colorInfo.range.endLineNumber,endColumn:c[p].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:_.noBreakWhitespace,inlineClassName:`${B.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const h=g<c.length?g:!1;this._decoratorLimitReporter.update(c.length,h),this._colorDecoratorIds.set(a)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(c){const a=this._editor.getModel();if(!a)return null;const g=a.getDecorationsInRange(s.Range.fromPositions(c,c)).filter(h=>this._colorDatas.has(h.id));return g.length===0?null:this._colorDatas.get(g[0].id)}isColorDecoration(c){return this._colorDecoratorIds.has(c)}};e.ColorDetector=d,d.ID="editor.contrib.colorDetector",d.RECOMPUTE_TIME=1e3,e.ColorDetector=d=f=Ie([ge(1,u.IConfigurationService),ge(2,t.ILanguageFeaturesService),ge(3,n.ILanguageFeatureDebounceService)],d);class l{constructor(){this._onDidChange=new D.Emitter,this._computed=0,this._limited=!1}update(c,a){(c!==this._computed||a!==this._limited)&&(this._computed=c,this._limited=a,this._onDidChange.fire())}}e.DecoratorLimitReporter=l,(0,C.registerEditorContribution)(d.ID,d,1)}),define(te[368],ie([1,0,14,19,36,2,5,347,367,541,830,23,7]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class n{constructor(a,g,h,p){this.owner=a,this.range=g,this.model=h,this.provider=p,this.forceShowAtRange=!0}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}e.ColorHover=n;let t=class{constructor(a,g){this._editor=a,this._themeService=g,this.hoverOrdinal=2}computeSync(a,g){return[]}computeAsync(a,g,h){return L.AsyncIterableObject.fromPromise(this._computeAsync(a,g,h))}_computeAsync(a,g,h){return be(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const p=_.ColorDetector.get(this._editor);if(!p)return[];for(const b of g){if(!p.isColorDecoration(b))continue;const w=p.getColorData(b.range.getStartPosition());if(w)return[yield f(this,this._editor.getModel(),w.colorInfo,w.provider)]}return[]})}renderHoverParts(a,g){return d(this,this._editor,this._themeService,g,a)}};e.ColorHoverParticipant=t,e.ColorHoverParticipant=t=Ie([ge(1,s.IThemeService)],t);class r{constructor(a,g,h,p){this.owner=a,this.range=g,this.model=h,this.provider=p}}e.StandaloneColorPickerHover=r;let u=class{constructor(a,g){this._editor=a,this._themeService=g,this._color=null}createColorHover(a,g,h){return be(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!_.ColorDetector.get(this._editor))return null;const b=yield(0,m.getColors)(h,this._editor.getModel(),I.CancellationToken.None);let w=null,E=null;for(const B of b){const T=B.colorInfo;S.Range.containsRange(T.range,a.range)&&(w=T,E=B.provider)}const k=w??a,M=E??g,R=!!w;return{colorHover:yield f(this,this._editor.getModel(),k,M),foundInEditor:R}})}updateEditorModel(a){return be(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const g=a.model;let h=new S.Range(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn);this._color&&(yield o(this._editor.getModel(),g,this._color,h,a),h=l(this._editor,h,g))})}renderHoverParts(a,g){return d(this,this._editor,this._themeService,g,a)}set color(a){this._color=a}get color(){return this._color}};e.StandaloneColorPickerParticipant=u,e.StandaloneColorPickerParticipant=u=Ie([ge(1,s.IThemeService)],u);function f(c,a,g,h){return be(this,void 0,void 0,function*(){const p=a.getValueInRange(g.range),{red:b,green:w,blue:E,alpha:k}=g.color,M=new y.RGBA(Math.round(b*255),Math.round(w*255),Math.round(E*255),k),R=new y.Color(M),B=yield(0,m.getColorPresentations)(a,g,h,I.CancellationToken.None),T=new v.ColorPickerModel(R,[],0);return T.colorPresentations=B||[],T.guessColorPresentation(R,p),c instanceof t?new n(c,S.Range.lift(g.range),T,h):new r(c,S.Range.lift(g.range),T,h)})}function d(c,a,g,h,p){if(h.length===0||!a.hasModel())return D.Disposable.None;if(p.setMinimumDimensions){const T=a.getOption(66)+8;p.setMinimumDimensions(new i.Dimension(302,T))}const b=new D.DisposableStore,w=h[0],E=a.getModel(),k=w.model,M=b.add(new C.ColorPickerWidget(p.fragment,k,a.getOption(141),g,c instanceof u));p.setColorPicker(M);let R=!1,B=new S.Range(w.range.startLineNumber,w.range.startColumn,w.range.endLineNumber,w.range.endColumn);if(c instanceof u){const T=h[0].model.color;c.color=T,o(E,k,T,B,w),b.add(k.onColorFlushed(N=>{c.color=N}))}else b.add(k.onColorFlushed(T=>be(this,void 0,void 0,function*(){yield o(E,k,T,B,w),R=!0,B=l(a,B,k,p)})));return b.add(k.onDidChangeColor(T=>{o(E,k,T,B,w)})),b.add(a.onDidChangeModelContent(T=>{R?R=!1:(p.hide(),a.focus())})),b}function l(c,a,g,h){let p,b;if(g.presentation.textEdit){p=[g.presentation.textEdit],b=new S.Range(g.presentation.textEdit.range.startLineNumber,g.presentation.textEdit.range.startColumn,g.presentation.textEdit.range.endLineNumber,g.presentation.textEdit.range.endColumn);const w=c.getModel()._setTrackedRange(null,b,3);c.pushUndoStop(),c.executeEdits("colorpicker",p),b=c.getModel()._getTrackedRange(w)||b}else p=[{range:a,text:g.presentation.label,forceMoveMarkers:!1}],b=a.setEndPosition(a.endLineNumber,a.startColumn+g.presentation.label.length),c.pushUndoStop(),c.executeEdits("colorpicker",p);return g.presentation.additionalTextEdits&&(p=[...g.presentation.additionalTextEdits],c.executeEdits("colorpicker",p),h&&h.hide()),c.pushUndoStop(),b}function o(c,a,g,h,p){return be(this,void 0,void 0,function*(){const b=yield(0,m.getColorPresentations)(c,{range:h,color:{red:g.rgba.r/255,green:g.rgba.g/255,blue:g.rgba.b/255,alpha:g.rgba.a}},p.provider,I.CancellationToken.None);a.colorPresentations=b||[]})}}),define(te[880],ie([1,0,2,17,16,12,5,24,37,543,444]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function C(i){return I.isMacintosh?i.altKey:i.ctrlKey}class s extends L.Disposable{constructor(n){super(),this._editor=n,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(n){!this._editor.getOption(35)||this._editor.getOption(22)||(C(n)&&(this._modifierPressed=!0),this._mouseDown&&C(n)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(n){!this._editor.getOption(35)||this._editor.getOption(22)||(C(n)&&(this._modifierPressed=!1),this._mouseDown&&n.keyCode===s.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(n){this._mouseDown=!0}_onEditorMouseUp(n){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(n){const t=n.target;if(this._dragSelection===null){const u=(this._editor.getSelections()||[]).filter(f=>t.position&&f.containsPosition(t.position));if(u.length===1)this._dragSelection=u[0];else return}C(n.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(n){if(n.target&&(this._hitContent(n.target)||this._hitMargin(n.target))&&n.target.position){const t=new D.Position(n.target.position.lineNumber,n.target.position.column);if(this._dragSelection===null){let r=null;if(n.event.shiftKey){const u=this._editor.getSelection();if(u){const{selectionStartLineNumber:f,selectionStartColumn:d}=u;r=[new m.Selection(f,d,t.lineNumber,t.column)]}}else r=(this._editor.getSelections()||[]).map(u=>u.containsPosition(t)?new m.Selection(t.lineNumber,t.column,t.lineNumber,t.column):u);this._editor.setSelections(r||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(C(n.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(s.ID,new v.DragAndDropCommand(this._dragSelection,t,C(n.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(n){this._dndDecorationIds.set([{range:new S.Range(n.lineNumber,n.column,n.lineNumber,n.column),options:s._DECORATION_OPTIONS}]),this._editor.revealPosition(n,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(n){return n.type===6||n.type===7}_hitMargin(n){return n.type===2||n.type===3||n.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=s,s.ID="editor.contrib.dragAndDrop",s.TRIGGER_KEY_VALUE=I.isMacintosh?6:5,s._DECORATION_OPTIONS=_.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,y.registerEditorContribution)(s.ID,s,2)}),define(te[881],ie([1,0,5,49,37,31,23]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class m{constructor(v){this._editor=v,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const v=this._findScopeDecorationIds.map(C=>this._editor.getModel().getDecorationRange(C)).filter(C=>!!C);if(v.length)return v}return null}getStartPosition(){return this._startPosition}setStartPosition(v){this._startPosition=v,this.setCurrentFindMatch(null)}_getDecorationIndex(v){const C=this._decorations.indexOf(v);return C>=0?C+1:1}getDecorationRangeAt(v){const C=v<this._decorations.length?this._decorations[v]:null;return C?this._editor.getModel().getDecorationRange(C):null}getCurrentMatchesPosition(v){const C=this._editor.getModel().getDecorationsInRange(v);for(const s of C){const i=s.options;if(i===m._FIND_MATCH_DECORATION||i===m._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(s.id)}return 0}setCurrentFindMatch(v){let C=null,s=0;if(v)for(let i=0,n=this._decorations.length;i<n;i++){const t=this._editor.getModel().getDecorationRange(this._decorations[i]);if(v.equalsRange(t)){C=this._decorations[i],s=i+1;break}}return(this._highlightedDecorationId!==null||C!==null)&&this._editor.changeDecorations(i=>{if(this._highlightedDecorationId!==null&&(i.changeDecorationOptions(this._highlightedDecorationId,m._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),C!==null&&(this._highlightedDecorationId=C,i.changeDecorationOptions(this._highlightedDecorationId,m._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),C!==null){let n=this._editor.getModel().getDecorationRange(C);if(n.startLineNumber!==n.endLineNumber&&n.endColumn===1){const t=n.endLineNumber-1,r=this._editor.getModel().getLineMaxColumn(t);n=new L.Range(n.startLineNumber,n.startColumn,t,r)}this._rangeHighlightDecorationId=i.addDecoration(n,m._RANGE_HIGHLIGHT_DECORATION)}}),s}set(v,C){this._editor.changeDecorations(s=>{let i=m._FIND_MATCH_DECORATION;const n=[];if(v.length>1e3){i=m._FIND_MATCH_NO_OVERVIEW_DECORATION;const r=this._editor.getModel().getLineCount(),f=this._editor.getLayoutInfo().height/r,d=Math.max(2,Math.ceil(3/f));let l=v[0].range.startLineNumber,o=v[0].range.endLineNumber;for(let c=1,a=v.length;c<a;c++){const g=v[c].range;o+d>=g.startLineNumber?g.endLineNumber>o&&(o=g.endLineNumber):(n.push({range:new L.Range(l,1,o,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),l=g.startLineNumber,o=g.endLineNumber)}n.push({range:new L.Range(l,1,o,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const t=new Array(v.length);for(let r=0,u=v.length;r<u;r++)t[r]={range:v[r].range,options:i};this._decorations=s.deltaDecorations(this._decorations,t),this._overviewRulerApproximateDecorations=s.deltaDecorations(this._overviewRulerApproximateDecorations,n),this._rangeHighlightDecorationId&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(r=>s.removeDecoration(r)),this._findScopeDecorationIds=[]),C?.length&&(this._findScopeDecorationIds=C.map(r=>s.addDecoration(r,m._FIND_SCOPE_DECORATION)))})}matchBeforePosition(v){if(this._decorations.length===0)return null;for(let C=this._decorations.length-1;C>=0;C--){const s=this._decorations[C],i=this._editor.getModel().getDecorationRange(s);if(!(!i||i.endLineNumber>v.lineNumber)){if(i.endLineNumber<v.lineNumber)return i;if(!(i.endColumn>v.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(v){if(this._decorations.length===0)return null;for(let C=0,s=this._decorations.length;C<s;C++){const i=this._decorations[C],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.startLineNumber<v.lineNumber)){if(n.startLineNumber>v.lineNumber)return n;if(!(n.startColumn<v.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let v=[];return v=v.concat(this._decorations),v=v.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&v.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&v.push(this._rangeHighlightDecorationId),v}}e.FindDecorations=m,m._CURRENT_FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:I.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:I.MinimapPosition.Inline}}),m._FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:I.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:I.MinimapPosition.Inline}}),m._FIND_MATCH_NO_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),m._FIND_MATCH_ONLY_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:I.OverviewRulerLane.Center}}),m._RANGE_HIGHLIGHT_DECORATION=y.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),m._FIND_SCOPE_DECORATION=y.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(te[193],ie([1,0,68,14,2,123,12,5,24,179,881,544,545,15]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new n.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new n.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new n.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const t=240;class r{constructor(f,d){this._toDispose=new y.DisposableStore,this._editor=f,this._state=d,this._isDisposed=!1,this._startSearchingTimer=new I.TimeoutTimer,this._decorations=new C.FindDecorations(f),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new I.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(l=>{(l.reason===3||l.reason===5||l.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(l=>{this._ignoreModelContentChanged||(l.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(l=>this._onStateChanged(l))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,y.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(f){this._isDisposed||this._editor.hasModel()&&(f.searchString||f.isReplaceRevealed||f.isRegex||f.wholeWord||f.matchCase||f.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{f.searchScope?this.research(f.moveCursor,this._state.searchScope):this.research(f.moveCursor)},t)):f.searchScope?this.research(f.moveCursor,this._state.searchScope):this.research(f.moveCursor))}static _getSearchRange(f,d){return d||f.getFullModelRange()}research(f,d){let l=null;typeof d<"u"?d!==null&&(Array.isArray(d)?l=d:l=[d]):l=this._decorations.getFindScopes(),l!==null&&(l=l.map(g=>{if(g.startLineNumber!==g.endLineNumber){let h=g.endLineNumber;return g.endColumn===1&&(h=h-1),new m.Range(g.startLineNumber,1,h,this._editor.getModel().getLineMaxColumn(h))}return g}));const o=this._findMatches(l,!1,e.MATCHES_LIMIT);this._decorations.set(o,l);const c=this._editor.getSelection();let a=this._decorations.getCurrentMatchesPosition(c);if(a===0&&o.length>0){const g=(0,L.findFirstIdxMonotonousOrArrLen)(o.map(h=>h.range),h=>m.Range.compareRangesUsingStarts(h,c)>=0);a=g>0?g-1+1:a}this._state.changeMatchInfo(a,this._decorations.getCount(),void 0),f&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const f=this._decorations.getFindScope();return f&&this._editor.revealRangeInCenterIfOutsideViewport(f,0),!0}return!1}_setCurrentFindMatch(f){const d=this._decorations.setCurrentFindMatch(f);this._state.changeMatchInfo(d,this._decorations.getCount(),f),this._editor.setSelection(f),this._editor.revealRangeInCenterIfOutsideViewport(f,0)}_prevSearchPosition(f){const d=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:l,column:o}=f;const c=this._editor.getModel();return d||o===1?(l===1?l=c.getLineCount():l--,o=c.getLineMaxColumn(l)):o--,new S.Position(l,o)}_moveToPrevMatch(f,d=!1){if(!this._state.canNavigateBack()){const b=this._decorations.matchAfterPosition(f);b&&this._setCurrentFindMatch(b);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let b=this._decorations.matchBeforePosition(f);b&&b.isEmpty()&&b.getStartPosition().equals(f)&&(f=this._prevSearchPosition(f),b=this._decorations.matchBeforePosition(f)),b&&this._setCurrentFindMatch(b);return}if(this._cannotFind())return;const l=this._decorations.getFindScope(),o=r._getSearchRange(this._editor.getModel(),l);o.getEndPosition().isBefore(f)&&(f=o.getEndPosition()),f.isBefore(o.getStartPosition())&&(f=o.getEndPosition());const{lineNumber:c,column:a}=f,g=this._editor.getModel();let h=new S.Position(c,a),p=g.findPreviousMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1);if(p&&p.range.isEmpty()&&p.range.getStartPosition().equals(h)&&(h=this._prevSearchPosition(h),p=g.findPreviousMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1)),!!p){if(!d&&!o.containsRange(p.range))return this._moveToPrevMatch(p.range.getStartPosition(),!0);this._setCurrentFindMatch(p.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(f){const d=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:l,column:o}=f;const c=this._editor.getModel();return d||o===c.getLineMaxColumn(l)?(l===c.getLineCount()?l=1:l++,o=1):o++,new S.Position(l,o)}_moveToNextMatch(f){if(!this._state.canNavigateForward()){const l=this._decorations.matchBeforePosition(f);l&&this._setCurrentFindMatch(l);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let l=this._decorations.matchAfterPosition(f);l&&l.isEmpty()&&l.getStartPosition().equals(f)&&(f=this._nextSearchPosition(f),l=this._decorations.matchAfterPosition(f)),l&&this._setCurrentFindMatch(l);return}const d=this._getNextMatch(f,!1,!0);d&&this._setCurrentFindMatch(d.range)}_getNextMatch(f,d,l,o=!1){if(this._cannotFind())return null;const c=this._decorations.getFindScope(),a=r._getSearchRange(this._editor.getModel(),c);a.getEndPosition().isBefore(f)&&(f=a.getStartPosition()),f.isBefore(a.getStartPosition())&&(f=a.getStartPosition());const{lineNumber:g,column:h}=f,p=this._editor.getModel();let b=new S.Position(g,h),w=p.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,d);return l&&w&&w.range.isEmpty()&&w.range.getStartPosition().equals(b)&&(b=this._nextSearchPosition(b),w=p.findNextMatch(this._state.searchString,b,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,d)),w?!o&&!a.containsRange(w.range)?this._getNextMatch(w.range.getEndPosition(),d,l,!0):w:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(f){const d=this._decorations.getDecorationRangeAt(f);d&&this._setCurrentFindMatch(d)}moveToMatch(f){this._moveToMatch(f)}_getReplacePattern(){return this._state.isRegex?(0,i.parseReplaceString)(this._state.replaceString):i.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const f=this._getReplacePattern(),d=this._editor.getSelection(),l=this._getNextMatch(d.getStartPosition(),!0,!1);if(l)if(d.equalsRange(l.range)){const o=f.buildReplaceString(l.matches,this._state.preserveCase),c=new D.ReplaceCommand(d,o);this._executeEditorCommand("replace",c),this._decorations.setStartPosition(new S.Position(d.startLineNumber,d.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(l.range)}_findMatches(f,d,l){const o=(f||[null]).map(c=>r._getSearchRange(this._editor.getModel(),c));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,d,l)}replaceAll(){if(!this._hasMatches())return;const f=this._decorations.getFindScopes();f===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(f),this.research(!1)}_largeReplaceAll(){const d=new v.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null).parseSearchRequest();if(!d)return;let l=d.regex;if(!l.multiline){let w="mu";l.ignoreCase&&(w+="i"),l.global&&(w+="g"),l=new RegExp(l.source,w)}const o=this._editor.getModel(),c=o.getValue(1),a=o.getFullModelRange(),g=this._getReplacePattern();let h;const p=this._state.preserveCase;g.hasReplacementPatterns||p?h=c.replace(l,function(){return g.buildReplaceString(arguments,p)}):h=c.replace(l,g.buildReplaceString(null,p));const b=new D.ReplaceCommandThatPreservesSelection(a,h,this._editor.getSelection());this._executeEditorCommand("replaceAll",b)}_regularReplaceAll(f){const d=this._getReplacePattern(),l=this._findMatches(f,d.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let a=0,g=l.length;a<g;a++)o[a]=d.buildReplaceString(l[a].matches,this._state.preserveCase);const c=new s.ReplaceAllCommand(this._editor.getSelection(),l.map(a=>a.range),o);this._executeEditorCommand("replaceAll",c)}selectAllMatches(){if(!this._hasMatches())return;const f=this._decorations.getFindScopes();let l=this._findMatches(f,!1,1073741824).map(c=>new _.Selection(c.range.startLineNumber,c.range.startColumn,c.range.endLineNumber,c.range.endColumn));const o=this._editor.getSelection();for(let c=0,a=l.length;c<a;c++)if(l[c].equalsRange(o)){l=[o].concat(l.slice(0,c)).concat(l.slice(c+1));break}this._editor.setSelections(l)}_executeEditorCommand(f,d){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(f,d),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=r}),define(te[882],ie([1,0,7,317,83,14,193,31,446]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class _ extends y.Widget{constructor(C,s,i){super(),this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=C,this._state=s,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const n={inputActiveOptionBorder:(0,m.asCssVariable)(m.inputActiveOptionBorder),inputActiveOptionForeground:(0,m.asCssVariable)(m.inputActiveOptionForeground),inputActiveOptionBackground:(0,m.asCssVariable)(m.inputActiveOptionBackground)};this.caseSensitive=this._register(new I.CaseSensitiveToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},n))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new I.WholeWordsToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord},n))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new I.RegexToggle(Object.assign({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex},n))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(t=>{let r=!1;t.isRegex&&(this.regex.checked=this._state.isRegex,r=!0),t.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,r=!0),t.matchCase&&(this.caseSensitive.checked=this._state.matchCase,r=!0),!this._state.isRevealed&&r&&this._revealTemporarily()})),this._register(L.addDisposableListener(this._domNode,L.EventType.MOUSE_LEAVE,t=>this._onMouseLeave())),this._register(L.addDisposableListener(this._domNode,"mouseover",t=>this._onMouseOver()))}_keybindingLabelFor(C){const s=this._keybindingService.lookupKeybinding(C);return s?` (${s.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=_,_.ID="editor.contrib.findOptionsWidget"}),define(te[883],ie([1,0,6,2,5,193]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(_,v){return _===1?!0:_===2?!1:v}class m extends I.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new L.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(v,C,s){const i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let n=!1;C===0&&(v=0),v>C&&(v=C),this._matchesPosition!==v&&(this._matchesPosition=v,i.matchesPosition=!0,n=!0),this._matchesCount!==C&&(this._matchesCount=C,i.matchesCount=!0,n=!0),typeof s<"u"&&(y.Range.equalsRange(this._currentMatch,s)||(this._currentMatch=s,i.currentMatch=!0,n=!0)),n&&this._onFindReplaceStateChange.fire(i)}change(v,C,s=!0){var i;const n={moveCursor:C,updateHistory:s,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;const r=this.isRegex,u=this.wholeWord,f=this.matchCase,d=this.preserveCase;typeof v.searchString<"u"&&this._searchString!==v.searchString&&(this._searchString=v.searchString,n.searchString=!0,t=!0),typeof v.replaceString<"u"&&this._replaceString!==v.replaceString&&(this._replaceString=v.replaceString,n.replaceString=!0,t=!0),typeof v.isRevealed<"u"&&this._isRevealed!==v.isRevealed&&(this._isRevealed=v.isRevealed,n.isRevealed=!0,t=!0),typeof v.isReplaceRevealed<"u"&&this._isReplaceRevealed!==v.isReplaceRevealed&&(this._isReplaceRevealed=v.isReplaceRevealed,n.isReplaceRevealed=!0,t=!0),typeof v.isRegex<"u"&&(this._isRegex=v.isRegex),typeof v.wholeWord<"u"&&(this._wholeWord=v.wholeWord),typeof v.matchCase<"u"&&(this._matchCase=v.matchCase),typeof v.preserveCase<"u"&&(this._preserveCase=v.preserveCase),typeof v.searchScope<"u"&&(!((i=v.searchScope)===null||i===void 0)&&i.every(l=>{var o;return(o=this._searchScope)===null||o===void 0?void 0:o.some(c=>!y.Range.equalsRange(c,l))})||(this._searchScope=v.searchScope,n.searchScope=!0,t=!0)),typeof v.loop<"u"&&this._loop!==v.loop&&(this._loop=v.loop,n.loop=!0,t=!0),typeof v.isSearching<"u"&&this._isSearching!==v.isSearching&&(this._isSearching=v.isSearching,n.isSearching=!0,t=!0),typeof v.filters<"u"&&(this._filters?this._filters.update(v.filters):this._filters=v.filters,n.filters=!0,t=!0),this._isRegexOverride=typeof v.isRegexOverride<"u"?v.isRegexOverride:0,this._wholeWordOverride=typeof v.wholeWordOverride<"u"?v.wholeWordOverride:0,this._matchCaseOverride=typeof v.matchCaseOverride<"u"?v.matchCaseOverride:0,this._preserveCaseOverride=typeof v.preserveCaseOverride<"u"?v.preserveCaseOverride:0,r!==this.isRegex&&(t=!0,n.isRegex=!0),u!==this.wholeWord&&(t=!0,n.wholeWord=!0),f!==this.matchCase&&(t=!0,n.matchCase=!0),d!==this.preserveCase&&(t=!0,n.preserveCase=!0),t&&this._onFindReplaceStateChange.fire(n)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=m}),define(te[884],ie([1,0,7,45,153,152,83,14,26,9,2,17,10,5,193,657,350,746,31,77,23,27,86,20,104,447]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const p=(0,l.registerIcon)("find-selection",_.Codicon.selection,r.localize(0,null)),b=(0,l.registerIcon)("find-collapsed",_.Codicon.chevronRight,r.localize(1,null)),w=(0,l.registerIcon)("find-expanded",_.Codicon.chevronDown,r.localize(2,null));e.findReplaceIcon=(0,l.registerIcon)("find-replace",_.Codicon.replace,r.localize(3,null)),e.findReplaceAllIcon=(0,l.registerIcon)("find-replace-all",_.Codicon.replaceAll,r.localize(4,null)),e.findPreviousMatchIcon=(0,l.registerIcon)("find-previous-match",_.Codicon.arrowUp,r.localize(5,null)),e.findNextMatchIcon=(0,l.registerIcon)("find-next-match",_.Codicon.arrowDown,r.localize(6,null));const E=r.localize(7,null),k=r.localize(8,null),M=r.localize(9,null),R=r.localize(10,null),B=r.localize(11,null),T=r.localize(12,null),N=r.localize(13,null),A=r.localize(14,null),P=r.localize(15,null),O=r.localize(16,null),x=r.localize(17,null),W=r.localize(18,null),U=r.localize(19,null,t.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=r.localize(20,null),e.NLS_NO_RESULTS=r.localize(21,null);const F=419,Y=275-54;let ne=69;const se=33,J="ctrlEnterReplaceAll.windows.donotask",q=s.isMacintosh?256:2048;class H{constructor(de){this.afterLineNumber=de,this.heightInPx=se,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=H;function V(ue,de,ce){const ae=!!de.match(/\n/);if(ce&&ae&&ce.selectionStart>0){ue.stopPropagation();return}}function Z(ue,de,ce){const ae=!!de.match(/\n/);if(ce&&ae&&ce.selectionEnd<ce.value.length){ue.stopPropagation();return}}class ee extends S.Widget{constructor(de,ce,ae,X,K,z,Q,j,re){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=de,this._controller=ce,this._state=ae,this._contextViewProvider=X,this._keybindingService=K,this._contextKeyService=z,this._storageService=j,this._notificationService=re,this._ctrlEnterReplaceAllWarningPrompted=!!j.getBoolean(J,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new m.Delayer(500),this._register((0,C.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(oe=>this._onStateChanged(oe))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(oe=>{if(oe.hasChanged(90)&&(this._codeEditor.getOption(90)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),oe.hasChanged(143)&&this._tryUpdateWidgetWidth(),oe.hasChanged(2)&&this.updateAccessibilitySupport(),oe.hasChanged(41)){const he=this._codeEditor.getOption(41).loop;this._state.change({loop:he},!1);const me=this._codeEditor.getOption(41).addExtraSpaceOnTop;me&&!this._viewZone&&(this._viewZone=new H(0),this._showViewZone()),!me&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>be(this,void 0,void 0,function*(){if(this._isVisible){const oe=yield this._controller.getGlobalBufferTerm();oe&&oe!==this._state.searchString&&(this._state.change({searchString:oe},!1),this._findInput.select())}}))),this._findInputFocused=t.CONTEXT_FIND_INPUT_FOCUSED.bindTo(z),this._findFocusTracker=this._register(L.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=t.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(z),this._replaceFocusTracker=this._register(L.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new H(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(oe=>{if(oe.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ee.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(de){if(de.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(de.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),de.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),de.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(90)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(de.isRevealed||de.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),de.isRegex&&this._findInput.setRegex(this._state.isRegex),de.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),de.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),de.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),de.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),de.searchString||de.matchesCount||de.matchesPosition){const ce=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ce),this._updateMatchesCount(),this._updateButtons()}(de.searchString||de.currentMatch)&&this._layoutViewZone(),de.updateHistory&&this._delayedUpdateHistory(),de.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,v.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=ne+"px",this._state.matchesCount>=t.MATCHES_LIMIT?this._matchesCount.title=U:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let de;if(this._state.matchesCount>0){let ce=String(this._state.matchesCount);this._state.matchesCount>=t.MATCHES_LIMIT&&(ce+="+");let ae=String(this._state.matchesPosition);ae==="0"&&(ae="?"),de=i.format(e.NLS_MATCHES_LOCATION,ae,ce)}else de=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(de)),(0,I.alert)(this._getAriaLabel(de,this._state.currentMatch,this._state.searchString)),ne=Math.max(ne,this._matchesCount.clientWidth)}_getAriaLabel(de,ce,ae){if(de===e.NLS_NO_RESULTS)return ae===""?r.localize(22,null,de):r.localize(23,null,de,ae);if(ce){const X=r.localize(24,null,de,ae,ce.startLineNumber+":"+ce.startColumn),K=this._codeEditor.getModel();return K&&ce.startLineNumber<=K.getLineCount()&&ce.startLineNumber>=1?`${K.getLineContent(ce.startLineNumber)}, ${X}`:X}return r.localize(25,null,de,ae)}_updateToggleSelectionFindButton(){const de=this._codeEditor.getSelection(),ce=de?de.startLineNumber!==de.endLineNumber||de.startColumn!==de.endColumn:!1,ae=this._toggleSelectionFind.checked;this._isVisible&&(ae||ce)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const de=this._state.searchString.length>0,ce=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&de&&ce&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&de&&ce&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&de),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&de),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const ae=!this._codeEditor.getOption(90);this._toggleReplaceBtn.setEnabled(this._isVisible&&ae)}_reveal(){if(this._revealTimeouts.forEach(de=>{clearTimeout(de)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const de=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const ae=!!de&&de.startLineNumber!==de.endLineNumber;this._toggleSelectionFind.checked=ae;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ce=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&de){const ae=this._codeEditor.getDomNode();if(ae){const X=L.getDomNodePagePosition(ae),K=this._codeEditor.getScrolledVisiblePosition(de.getStartPosition()),z=X.left+(K?K.left:0),Q=K?K.top:0;if(this._viewZone&&Q<this._viewZone.heightInPx){de.endLineNumber>de.startLineNumber&&(ce=!1);const j=L.getTopLeftOffset(this._domNode).left;z>j&&(ce=!1);const re=this._codeEditor.getScrolledVisiblePosition(de.getEndPosition());X.left+(re?re.left:0)>j&&(ce=!1)}}}this._showViewZone(ce)}}_hide(de){this._revealTimeouts.forEach(ce=>{clearTimeout(ce)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),de&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(de){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const ae=this._viewZone;this._viewZoneId!==void 0||!ae||this._codeEditor.changeViewZones(X=>{ae.heightInPx=this._getHeight(),this._viewZoneId=X.addZone(ae),this._codeEditor.setScrollTop(de||this._codeEditor.getScrollTop()+ae.heightInPx)})}_showViewZone(de=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new H(0));const ae=this._viewZone;this._codeEditor.changeViewZones(X=>{if(this._viewZoneId!==void 0){const K=this._getHeight();if(K===ae.heightInPx)return;const z=K-ae.heightInPx;ae.heightInPx=K,X.layoutZone(this._viewZoneId),de&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+z);return}else{let K=this._getHeight();if(K-=this._codeEditor.getOption(83).top,K<=0)return;ae.heightInPx=K,this._viewZoneId=X.addZone(ae),de&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+K)}})}_removeViewZone(){this._codeEditor.changeViewZones(de=>{this._viewZoneId!==void 0&&(de.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!L.isInDOM(this._domNode))return;const de=this._codeEditor.getLayoutInfo();if(de.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const ae=de.width,X=de.minimap.minimapWidth;let K=!1,z=!1,Q=!1;if(this._resized&&L.getTotalWidth(this._domNode)>F){this._domNode.style.maxWidth=`${ae-28-X-15}px`,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode);return}if(F+28+X>=ae&&(z=!0),F+28+X-ne>=ae&&(Q=!0),F+28+X-ne>=ae+50&&(K=!0),this._domNode.classList.toggle("collapsed-find-widget",K),this._domNode.classList.toggle("narrow-find-widget",Q),this._domNode.classList.toggle("reduced-find-widget",z),!Q&&!K&&(this._domNode.style.maxWidth=`${ae-28-X-15}px`),this._findInput.layout({collapsedFindWidget:K,narrowFindWidget:Q,reducedFindWidget:z}),this._resized){const j=this._findInput.inputBox.element.clientWidth;j>0&&(this._replaceInput.width=j)}else this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode))}_getHeight(){let de=0;return de+=4,de+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(de+=4,de+=this._replaceInput.inputBox.height+2),de+=4,de}_tryUpdateHeight(){const de=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===de?!1:(this._cachedHeight=de,this._domNode.style.height=`${de}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const de=this._codeEditor.getSelections();de.map(ce=>{ce.endColumn===1&&ce.endLineNumber>ce.startLineNumber&&(ce=ce.setEndPosition(ce.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ce.endLineNumber-1)));const ae=this._state.currentMatch;return ce.startLineNumber!==ce.endLineNumber&&!n.Range.equalsRange(ce,ae)?ce:null}).filter(ce=>!!ce),de.length&&this._state.change({searchScope:de},!0)}}_onFindInputMouseDown(de){de.middleButton&&de.stopPropagation()}_onFindInputKeyDown(de){if(de.equals(q|3))if(this._keybindingService.dispatchEvent(de,de.target)){de.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),de.preventDefault();return}if(de.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),de.preventDefault();return}if(de.equals(2066)){this._codeEditor.focus(),de.preventDefault();return}if(de.equals(16))return V(de,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(de.equals(18))return Z(de,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(de){if(de.equals(q|3))if(this._keybindingService.dispatchEvent(de,de.target)){de.preventDefault();return}else{s.isWindows&&s.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(r.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(J,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),de.preventDefault();return}if(de.equals(2)){this._findInput.focusOnCaseSensitive(),de.preventDefault();return}if(de.equals(1026)){this._findInput.focus(),de.preventDefault();return}if(de.equals(2066)){this._codeEditor.focus(),de.preventDefault();return}if(de.equals(16))return V(de,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(de.equals(18))return Z(de,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(de){return 0}_keybindingLabelFor(de){const ce=this._keybindingService.lookupKeybinding(de);return ce?` (${ce.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new u.ContextScopedFindInput(null,this._contextViewProvider,{width:Y,label:k,placeholder:M,appendCaseSensitiveLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleRegexCommand),validation:j=>{if(j.length===0||!this._findInput.getRegex())return null;try{return new RegExp(j,"gu"),null}catch(re){return{content:re.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,f.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:h.defaultInputBoxStyles,toggleStyles:h.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(j=>this._onFindInputKeyDown(j))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(j=>{j.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),j.preventDefault())})),this._register(this._findInput.onRegexKeyDown(j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),j.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(j=>{this._tryUpdateHeight()&&this._showViewZone()})),s.isLinux&&this._register(this._findInput.onMouseDown(j=>this._onFindInputMouseDown(j))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new le({label:R+this._keybindingLabelFor(t.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,v.onUnexpectedError)}})),this._nextBtn=this._register(new le({label:B+this._keybindingLabelFor(t.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.NextMatchFindAction)).run().then(void 0,v.onUnexpectedError)}}));const ae=document.createElement("div");ae.className="find-part",ae.appendChild(this._findInput.domNode);const X=document.createElement("div");X.className="find-actions",ae.appendChild(X),X.appendChild(this._matchesCount),X.appendChild(this._prevBtn.domNode),X.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new y.Toggle({icon:p,title:T+this._keybindingLabelFor(t.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,d.asCssVariable)(d.inputActiveOptionBackground),inputActiveOptionBorder:(0,d.asCssVariable)(d.inputActiveOptionBorder),inputActiveOptionForeground:(0,d.asCssVariable)(d.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const j=this._codeEditor.getSelections();j.map(re=>(re.endColumn===1&&re.endLineNumber>re.startLineNumber&&(re=re.setEndPosition(re.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(re.endLineNumber-1))),re.isEmpty()?null:re)).filter(re=>!!re),j.length&&this._state.change({searchScope:j},!0)}}else this._state.change({searchScope:null},!0)})),X.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new le({label:N+this._keybindingLabelFor(t.FIND_IDS.CloseFindWidgetCommand),icon:l.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),j.preventDefault())}})),this._replaceInput=this._register(new u.ContextScopedReplaceInput(null,void 0,{label:A,placeholder:P,appendPreserveCaseLabel:this._keybindingLabelFor(t.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,f.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:h.defaultInputBoxStyles,toggleStyles:h.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(j=>this._onReplaceInputKeyDown(j))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(j=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(j=>{j.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),j.preventDefault())})),this._replaceBtn=this._register(new le({label:O+this._keybindingLabelFor(t.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:j=>{j.equals(1026)&&(this._closeBtn.focus(),j.preventDefault())}})),this._replaceAllBtn=this._register(new le({label:x+this._keybindingLabelFor(t.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const K=document.createElement("div");K.className="replace-part",K.appendChild(this._replaceInput.domNode);const z=document.createElement("div");z.className="replace-actions",K.appendChild(z),z.appendChild(this._replaceBtn.domNode),z.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new le({label:W,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=E,this._domNode.role="dialog",this._domNode.style.width=`${F}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ae),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(K),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Q=F;this._register(this._resizeSash.onDidStart(()=>{Q=L.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(j=>{this._resized=!0;const re=Q+j.startX-j.currentX;if(re<F)return;const oe=parseFloat(L.getComputedStyle(this._domNode).maxWidth)||0;re>oe||(this._domNode.style.width=`${re}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const j=L.getTotalWidth(this._domNode);if(j<F)return;let re=F;if(!this._resized||j===F){const oe=this._codeEditor.getLayoutInfo();re=oe.width-28-oe.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${re}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const de=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(de!==2)}}e.FindWidget=ee,ee.ID="editor.contrib.findWidget";class le extends S.Widget{constructor(de){super(),this._opts=de;let ce="button";this._opts.className&&(ce=ce+" "+this._opts.className),this._opts.icon&&(ce=ce+" "+c.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ce,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ae=>{this._opts.onTrigger(),ae.preventDefault()}),this.onkeydown(this._domNode,ae=>{var X,K;if(ae.equals(10)||ae.equals(3)){this._opts.onTrigger(),ae.preventDefault();return}(K=(X=this._opts).onKeyDown)===null||K===void 0||K.call(X,ae)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(de){this._domNode.classList.toggle("disabled",!de),this._domNode.setAttribute("aria-disabled",String(!de)),this._domNode.tabIndex=de?0:-1}setExpanded(de){this._domNode.setAttribute("aria-expanded",String(!!de)),de?(this._domNode.classList.remove(...c.ThemeIcon.asClassNameArray(b)),this._domNode.classList.add(...c.ThemeIcon.asClassNameArray(w))):(this._domNode.classList.remove(...c.ThemeIcon.asClassNameArray(w)),this._domNode.classList.add(...c.ThemeIcon.asClassNameArray(b)))}}e.SimpleButton=le,(0,o.registerThemingParticipant)((ue,de)=>{const ce=(we,Le)=>{Le&&de.addRule(`.monaco-editor ${we} { background-color: ${Le}; }`)};ce(".findMatch",ue.getColor(d.editorFindMatchHighlight)),ce(".currentFindMatch",ue.getColor(d.editorFindMatch)),ce(".findScope",ue.getColor(d.editorFindRangeHighlight));const ae=ue.getColor(d.editorWidgetBackground);ce(".find-widget",ae);const X=ue.getColor(d.widgetShadow);X&&de.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${X}; }`);const K=ue.getColor(d.widgetBorder);K&&de.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${K}; border-right: 1px solid ${K}; border-bottom: 1px solid ${K}; }`);const z=ue.getColor(d.editorFindMatchHighlightBorder);z&&de.addRule(`.monaco-editor .findMatch { border: 1px ${(0,a.isHighContrast)(ue.type)?"dotted":"solid"} ${z}; box-sizing: border-box; }`);const Q=ue.getColor(d.editorFindMatchBorder);Q&&de.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${Q}; padding: 1px; box-sizing: border-box; }`);const j=ue.getColor(d.editorFindRangeHighlightBorder);j&&de.addRule(`.monaco-editor .findScope { border: 1px ${(0,a.isHighContrast)(ue.type)?"dashed":"solid"} ${j}; }`);const re=ue.getColor(d.contrastBorder);re&&de.addRule(`.monaco-editor .find-widget { border: 1px solid ${re}; }`);const oe=ue.getColor(d.editorWidgetForeground);oe&&de.addRule(`.monaco-editor .find-widget { color: ${oe}; }`);const he=ue.getColor(d.errorForeground);he&&de.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${he}; }`);const me=ue.getColor(d.editorWidgetResizeBorder);if(me)de.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${me}; }`);else{const we=ue.getColor(d.editorWidgetBorder);we&&de.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${we}; }`)}const pe=ue.getColor(d.toolbarHoverBackground);pe&&de.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${pe} !important;
		}
	`);const ve=ue.getColor(d.focusBorder);ve&&de.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ve}; }`)})}),define(te[369],ie([1,0,14,2,10,16,78,22,49,193,882,883,884,656,30,102,15,58,34,48,67,89,23]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const h=524288;function p(W,U="single",F=!1){if(!W.hasModel())return null;const G=W.getSelection();if(U==="single"&&G.startLineNumber===G.endLineNumber||U==="multiple"){if(G.isEmpty()){const Y=W.getConfiguredWordAtPosition(G.getStartPosition());if(Y&&F===!1)return Y.word}else if(W.getModel().getValueLengthInRange(G)<h)return W.getModel().getValueInRange(G)}return null}e.getSelectionSearchString=p;let b=g=class extends I.Disposable{get editor(){return this._editor}static get(U){return U.getContribution(g.ID)}constructor(U,F,G,Y,ne){super(),this._editor=U,this._findWidgetVisible=v.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(F),this._contextKeyService=F,this._storageService=G,this._clipboardService=Y,this._notificationService=ne,this._updateHistoryDelayer=new L.Delayer(500),this._state=this._register(new s.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(se=>this._onStateChanged(se))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const se=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),se&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(U){this.saveQueryState(U),U.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),U.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(U){U.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),U.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),U.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),U.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!v.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const U=this._editor.getSelections();U.map(F=>(F.endColumn===1&&F.endLineNumber>F.startLineNumber&&(F=F.setEndPosition(F.endLineNumber-1,this._editor.getModel().getLineMaxColumn(F.endLineNumber-1))),F.isEmpty()?null:F)).filter(F=>!!F),U.length&&this._state.change({searchScope:U},!0)}}setSearchString(U){this._state.isRegex&&(U=y.escapeRegExpCharacters(U)),this._state.change({searchString:U},!1)}highlightFindOptions(U=!1){}_start(U,F){return be(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const G=Object.assign(Object.assign({},F),{isRevealed:!0});if(U.seedSearchStringFromSelection==="single"){const Y=p(this._editor,U.seedSearchStringFromSelection,U.seedSearchStringFromNonEmptySelection);Y&&(this._state.isRegex?G.searchString=y.escapeRegExpCharacters(Y):G.searchString=Y)}else if(U.seedSearchStringFromSelection==="multiple"&&!U.updateSearchScope){const Y=p(this._editor,U.seedSearchStringFromSelection);Y&&(G.searchString=Y)}if(!G.searchString&&U.seedSearchStringFromGlobalClipboard){const Y=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Y&&(G.searchString=Y)}if(U.forceRevealReplace||G.isReplaceRevealed?G.isReplaceRevealed=!0:this._findWidgetVisible.get()||(G.isReplaceRevealed=!1),U.updateSearchScope){const Y=this._editor.getSelections();Y.some(ne=>!ne.isEmpty())&&(G.searchScope=Y)}G.loop=U.loop,this._state.change(G,!1),this._model||(this._model=new v.FindModelBoundToEditorModel(this._editor,this._state))})}start(U,F){return this._start(U,F)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(U){return this._model?(this._model.moveToMatch(U),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var U;return this._model?!((U=this._editor.getModel())===null||U===void 0)&&U.isTooLargeForHeapOperation()?(this._notificationService.warn(n.localize(0,null)),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return be(this,void 0,void 0,function*(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(U){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(U)}};e.CommonFindController=b,b.ID="editor.contrib.findController",e.CommonFindController=b=g=Ie([ge(1,u.IContextKeyService),ge(2,c.IStorageService),ge(3,r.IClipboardService),ge(4,l.INotificationService)],b);let w=class extends b{constructor(U,F,G,Y,ne,se,J,q){super(U,G,J,q,se),this._contextViewService=F,this._keybindingService=Y,this._themeService=ne,this._widget=null,this._findOptionsWidget=null}_start(U,F){const G=Object.create(null,{_start:{get:()=>super._start}});return be(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const Y=this._editor.getSelection();let ne=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":ne=!0;break;case"never":ne=!1;break;case"multiline":{ne=!!Y&&Y.startLineNumber!==Y.endLineNumber;break}default:break}U.updateSearchScope=U.updateSearchScope||ne,yield G._start.call(this,U,F),this._widget&&(U.shouldFocus===2?this._widget.focusReplaceInput():U.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(U=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!U?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new i.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new C.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=w,e.FindController=w=Ie([ge(1,f.IContextViewService),ge(2,u.IContextKeyService),ge(3,d.IKeybindingService),ge(4,a.IThemeService),ge(5,l.INotificationService),ge(6,c.IStorageService),ge(7,r.IClipboardService)],w),e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:v.FIND_IDS.StartFindAction,label:n.localize(1,null),alias:"Find",precondition:u.ContextKeyExpr.or(m.EditorContextKeys.focus,u.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:n.localize(2,null),order:1}})),e.StartFindAction.addImplementation(0,(W,U,F)=>{const G=b.get(U);return G?G.start({forceRevealReplace:!1,seedSearchStringFromSelection:U.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:U.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:U.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:U.getOption(41).loop}):!1});const E={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:n.localize(3,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:n.localize(4,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:n.localize(5,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:n.localize(6,null)},findInSelection:{type:"boolean"}}}}]};class k extends D.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithArgs,label:n.localize(7,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:E})}run(U,F,G){return be(this,void 0,void 0,function*(){const Y=b.get(F);if(Y){const ne=G?{searchString:G.searchString,replaceString:G.replaceString,isReplaceRevealed:G.replaceString!==void 0,isRegex:G.isRegex,wholeWord:G.matchWholeWord,matchCase:G.isCaseSensitive,preserveCase:G.preserveCase}:{};yield Y.start({forceRevealReplace:!1,seedSearchStringFromSelection:Y.getState().searchString.length===0&&F.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:F.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:G?.findInSelection||!1,loop:F.getOption(41).loop},ne),Y.setGlobalBufferTerm(Y.getState().searchString)}})}}e.StartFindWithArgsAction=k;class M extends D.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithSelection,label:n.localize(8,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(U,F){return be(this,void 0,void 0,function*(){const G=b.get(F);G&&(yield G.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(41).loop}),G.setGlobalBufferTerm(G.getState().searchString))})}}e.StartFindWithSelectionAction=M;class R extends D.EditorAction{run(U,F){return be(this,void 0,void 0,function*(){const G=b.get(F);G&&!this._run(G)&&(yield G.start({forceRevealReplace:!1,seedSearchStringFromSelection:G.getState().searchString.length===0&&F.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:F.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(41).loop}),this._run(G))})}}e.MatchFindAction=R;class B extends R{constructor(){super({id:v.FIND_IDS.NextMatchFindAction,label:n.localize(9,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(U){return U.moveToNextMatch()?(U.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=B;class T extends R{constructor(){super({id:v.FIND_IDS.PreviousMatchFindAction,label:n.localize(10,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(U){return U.moveToPrevMatch()}}e.PreviousMatchFindAction=T;class N extends D.EditorAction{constructor(){super({id:v.FIND_IDS.GoToMatchFindAction,label:n.localize(11,null),alias:"Go to Match...",precondition:v.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(U,F,G){const Y=b.get(F);if(!Y)return;const ne=Y.getState().matchesCount;if(ne<1){U.get(l.INotificationService).notify({severity:l.Severity.Warning,message:n.localize(12,null)});return}const J=U.get(o.IQuickInputService).createInputBox();J.placeholder=n.localize(13,null,ne);const q=V=>{const Z=parseInt(V);if(isNaN(Z))return;const ee=Y.getState().matchesCount;if(Z>0&&Z<=ee)return Z-1;if(Z<0&&Z>=-ee)return ee+Z},H=V=>{const Z=q(V);if(typeof Z=="number"){J.validationMessage=void 0,Y.goToMatch(Z);const ee=Y.getState().currentMatch;ee&&this.addDecorations(F,ee)}else J.validationMessage=n.localize(14,null,Y.getState().matchesCount),this.clearDecorations(F)};J.onDidChangeValue(V=>{H(V)}),J.onDidAccept(()=>{const V=q(J.value);typeof V=="number"?(Y.goToMatch(V),J.hide()):J.validationMessage=n.localize(15,null,Y.getState().matchesCount)}),J.onDidHide(()=>{this.clearDecorations(F),J.dispose()}),J.show()}clearDecorations(U){U.changeDecorations(F=>{this._highlightDecorations=F.deltaDecorations(this._highlightDecorations,[])})}addDecorations(U,F){U.changeDecorations(G=>{this._highlightDecorations=G.deltaDecorations(this._highlightDecorations,[{range:F,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:F,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,a.themeColorFromId)(S.overviewRulerRangeHighlight),position:_.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=N;class A extends D.EditorAction{run(U,F){return be(this,void 0,void 0,function*(){const G=b.get(F);if(!G)return;const Y=p(F,"single",!1);Y&&G.setSearchString(Y),this._run(G)||(yield G.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(41).loop}),this._run(G))})}}e.SelectionMatchFindAction=A;class P extends A{constructor(){super({id:v.FIND_IDS.NextSelectionMatchFindAction,label:n.localize(16,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2109,weight:100}})}_run(U){return U.moveToNextMatch()}}e.NextSelectionMatchFindAction=P;class O extends A{constructor(){super({id:v.FIND_IDS.PreviousSelectionMatchFindAction,label:n.localize(17,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:3133,weight:100}})}_run(U){return U.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=O,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:v.FIND_IDS.StartFindReplaceAction,label:n.localize(18,null),alias:"Replace",precondition:u.ContextKeyExpr.or(m.EditorContextKeys.focus,u.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:n.localize(19,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(W,U,F)=>{if(!U.hasModel()||U.getOption(90))return!1;const G=b.get(U);if(!G)return!1;const Y=U.getSelection(),ne=G.isFindInputFocused(),se=!Y.isEmpty()&&Y.startLineNumber===Y.endLineNumber&&U.getOption(41).seedSearchStringFromSelection!=="never"&&!ne,J=ne||se?2:1;return G.start({forceRevealReplace:!0,seedSearchStringFromSelection:se?"single":"none",seedSearchStringFromNonEmptySelection:U.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:U.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:J,shouldAnimate:!0,updateSearchScope:!1,loop:U.getOption(41).loop})}),(0,D.registerEditorContribution)(b.ID,w,0),(0,D.registerEditorAction)(k),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(B),(0,D.registerEditorAction)(T),(0,D.registerEditorAction)(N),(0,D.registerEditorAction)(P),(0,D.registerEditorAction)(O);const x=D.EditorCommand.bindToContribution(b.get);(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.CloseFindWidgetCommand,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,u.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:W=>W.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleCaseSensitiveKeybinding.primary,mac:v.ToggleCaseSensitiveKeybinding.mac,win:v.ToggleCaseSensitiveKeybinding.win,linux:v.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:W=>W.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleWholeWordKeybinding.primary,mac:v.ToggleWholeWordKeybinding.mac,win:v.ToggleWholeWordKeybinding.win,linux:v.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:W=>W.toggleRegex(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleRegexKeybinding.primary,mac:v.ToggleRegexKeybinding.mac,win:v.ToggleRegexKeybinding.win,linux:v.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:W=>W.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.ToggleSearchScopeKeybinding.primary,mac:v.ToggleSearchScopeKeybinding.mac,win:v.ToggleSearchScopeKeybinding.win,linux:v.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:W=>W.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:v.TogglePreserveCaseKeybinding.primary,mac:v.TogglePreserveCaseKeybinding.mac,win:v.TogglePreserveCaseKeybinding.win,linux:v.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:100+5,kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:100+5,kbExpr:u.ContextKeyExpr.and(m.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new x({id:v.FIND_IDS.SelectAllMatchesAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:515}}))}),define(te[370],ie([1,0,26,49,37,659,31,77,23,27]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const C=(0,S.registerColor)("editor.foldBackground",{light:(0,S.transparent)(S.editorSelectionBackground,.3),dark:(0,S.transparent)(S.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,D.localize)(0,null),!0);(0,S.registerColor)("editorGutter.foldingControlForeground",{dark:S.iconForeground,light:S.iconForeground,hcDark:S.iconForeground,hcLight:S.iconForeground},(0,D.localize)(1,null)),e.foldingExpandedIcon=(0,m.registerIcon)("folding-expanded",L.Codicon.chevronDown,(0,D.localize)(2,null)),e.foldingCollapsedIcon=(0,m.registerIcon)("folding-collapsed",L.Codicon.chevronRight,(0,D.localize)(3,null)),e.foldingManualCollapsedIcon=(0,m.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,D.localize)(4,null)),e.foldingManualExpandedIcon=(0,m.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,D.localize)(5,null));const s={color:(0,_.themeColorFromId)(C),position:I.MinimapPosition.Inline};class i{constructor(t){this.editor=t,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(t,r,u){return r?i.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?t?this.showFoldingHighlights?i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:i.NO_CONTROLS_EXPANDED_RANGE_DECORATION:t?u?this.showFoldingHighlights?i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?u?i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:u?i.MANUALLY_EXPANDED_VISUAL_DECORATION:i.EXPANDED_VISUAL_DECORATION}changeDecorations(t){return this.editor.changeDecorations(t)}removeDecorations(t){this.editor.removeDecorations(t)}}e.FoldingDecorationProvider=i,i.COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.MANUALLY_COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:s,isWholeLine:!0}),i.EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+v.ThemeIcon.asClassName(e.foldingExpandedIcon)}),i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingExpandedIcon)}),i.MANUALLY_EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+v.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),i.NO_CONTROLS_EXPANDED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),i.HIDDEN_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(te[253],ie([1,0,14,19,9,62,2,10,20,120,16,22,29,32,295,546,296,658,15,370,180,297,48,74,59,18,6,25,21,50,28,448]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const B=new d.RawContextKey("foldingEnabled",!1);let T=R=class extends S.Disposable{static get(ae){return ae.getContribution(R.ID)}static getFoldingRangeProviders(ae,X){var K,z;const Q=ae.foldingRangeProvider.ordered(X);return(z=(K=R._foldingRangeSelector)===null||K===void 0?void 0:K.call(R,Q,X))!==null&&z!==void 0?z:Q}constructor(ae,X,K,z,Q,j){super(),this.contextKeyService=X,this.languageConfigurationService=K,this.languageFeaturesService=j,this.localToDispose=this._register(new S.DisposableStore),this.editor=ae,this._foldingLimitReporter=new N(ae);const re=this.editor.getOptions();this._isEnabled=re.get(43),this._useFoldingProviders=re.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=re.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=re.get(46),this.updateDebounceInfo=Q.for(j.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new l.FoldingDecorationProvider(ae),this.foldingDecorationProvider.showFoldingControls=re.get(109),this.foldingDecorationProvider.showFoldingHighlights=re.get(45),this.foldingEnabled=B.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(oe=>{if(oe.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),oe.hasChanged(47)&&this.onModelChanged(),oe.hasChanged(109)||oe.hasChanged(45)){const he=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=he.get(109),this.foldingDecorationProvider.showFoldingHighlights=he.get(45),this.triggerFoldingModelChanged()}oe.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),oe.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),oe.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const ae=this.editor.getModel();if(!ae||!this._isEnabled||ae.isTooLargeForTokenization())return{};if(this.foldingModel){const X=this.foldingModel.getMemento(),K=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:X,lineCount:ae.getLineCount(),provider:K,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ae){const X=this.editor.getModel();if(!(!X||!this._isEnabled||X.isTooLargeForTokenization()||!this.hiddenRangeModel)&&ae&&(this._currentModelHasFoldedImports=!!ae.foldedImports,ae.collapsedRegions&&ae.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(ae.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const ae=this.editor.getModel();!this._isEnabled||!ae||ae.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(ae,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new r.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(X=>this.onHiddenRangesChanges(X))),this.updateScheduler=new L.Delayer(this.updateDebounceInfo.get(ae)),this.cursorChangedScheduler=new L.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(X=>this.onDidChangeModelContent(X))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(X=>this.onEditorMouseDown(X))),this.localToDispose.add(this.editor.onMouseUp(X=>this.onEditorMouseUp(X))),this.localToDispose.add({dispose:()=>{var X,K;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(X=this.updateScheduler)===null||X===void 0||X.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(K=this.rangeProvider)===null||K===void 0||K.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var ae;(ae=this.rangeProvider)===null||ae===void 0||ae.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(ae){if(this.rangeProvider)return this.rangeProvider;const X=new u.IndentRangeProvider(ae,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=X,this._useFoldingProviders&&this.foldingModel){const K=R.getFoldingRangeProviders(this.languageFeaturesService,ae);K.length>0&&(this.rangeProvider=new c.SyntaxRangeProvider(ae,K,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,X))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(ae){var X;(X=this.hiddenRangeModel)===null||X===void 0||X.notifyChangeModelContent(ae),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ae=this.foldingModel;if(!ae)return null;const X=new h.StopWatch,K=this.getRangeProvider(ae.textModel),z=this.foldingRegionPromise=(0,L.createCancelablePromise)(Q=>K.compute(Q));return z.then(Q=>{if(Q&&z===this.foldingRegionPromise){let j;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const me=Q.setCollapsedAllOfType(i.FoldingRangeKind.Imports.value,!0);me&&(j=v.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=me)}const re=this.editor.getSelections(),oe=re?re.map(me=>me.startLineNumber):[];ae.update(Q,oe),j?.restore(this.editor);const he=this.updateDebounceInfo.update(ae.textModel,X.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=he)}return ae})}).then(void 0,ae=>((0,y.onUnexpectedError)(ae),null)))}onHiddenRangesChanges(ae){if(this.hiddenRangeModel&&ae.length&&!this._restoringViewState){const X=this.editor.getSelections();X&&this.hiddenRangeModel.adjustSelections(X)&&this.editor.setSelections(X)}this.editor.setHiddenAreas(ae,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ae=this.getFoldingModel();ae&&ae.then(X=>{if(X){const K=this.editor.getSelections();if(K&&K.length>0){const z=[];for(const Q of K){const j=Q.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(j)&&z.push(...X.getAllRegionsAtLine(j,re=>re.isCollapsed&&j>re.startLineNumber))}z.length&&(X.toggleCollapseState(z),this.reveal(K[0].getPosition()))}}}).then(void 0,y.onUnexpectedError)}onEditorMouseDown(ae){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ae.target||!ae.target.range||!ae.event.leftButton&&!ae.event.middleButton)return;const X=ae.target.range;let K=!1;switch(ae.target.type){case 4:{const z=ae.target.detail,Q=ae.target.element.offsetLeft;if(z.offsetX-Q<4)return;K=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ae.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const z=this.editor.getModel();if(z&&X.startColumn===z.getLineMaxColumn(X.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:X.startLineNumber,iconClicked:K}}onEditorMouseUp(ae){const X=this.foldingModel;if(!X||!this.mouseDownInfo||!ae.target)return;const K=this.mouseDownInfo.lineNumber,z=this.mouseDownInfo.iconClicked,Q=ae.target.range;if(!Q||Q.startLineNumber!==K)return;if(z){if(ae.target.type!==4)return}else{const re=this.editor.getModel();if(!re||Q.startColumn!==re.getLineMaxColumn(K))return}const j=X.getRegionAtLine(K);if(j&&j.startLineNumber===K){const re=j.isCollapsed;if(z||re){const oe=ae.event.altKey;let he=[];if(oe){const me=ve=>!ve.containedBy(j)&&!j.containedBy(ve),pe=X.getRegionsInside(null,me);for(const ve of pe)ve.isCollapsed&&he.push(ve);he.length===0&&(he=pe)}else{const me=ae.event.middleButton||ae.event.shiftKey;if(me)for(const pe of X.getRegionsInside(j))pe.isCollapsed===re&&he.push(pe);(re||!me||he.length===0)&&he.push(j)}X.toggleCollapseState(he),this.reveal({lineNumber:K,column:1})}}}reveal(ae){this.editor.revealPositionInCenterIfOutsideViewport(ae,0)}};e.FoldingController=T,T.ID="editor.contrib.folding",e.FoldingController=T=R=Ie([ge(1,d.IContextKeyService),ge(2,n.ILanguageConfigurationService),ge(3,a.INotificationService),ge(4,g.ILanguageFeatureDebounceService),ge(5,p.ILanguageFeaturesService)],T);class N{constructor(ae){this.editor=ae,this._onDidChange=new b.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(ae,X){(ae!==this._computed||X!==this._limited)&&(this._computed=ae,this._limited=X,this._onDidChange.fire())}}e.RangesLimitReporter=N;class A extends C.EditorAction{runEditorCommand(ae,X,K){const z=ae.get(n.ILanguageConfigurationService),Q=T.get(X);if(!Q)return;const j=Q.getFoldingModel();if(j)return this.reportTelemetry(ae,X),j.then(re=>{if(re){this.invoke(Q,re,X,K,z);const oe=X.getSelection();oe&&Q.reveal(oe.getStartPosition())}})}getSelectedLines(ae){const X=ae.getSelections();return X?X.map(K=>K.startLineNumber):[]}getLineNumbers(ae,X){return ae&&ae.selectionLines?ae.selectionLines.map(K=>K+1):this.getSelectedLines(X)}run(ae,X){}}function P(ce){if(!_.isUndefined(ce)){if(!_.isObject(ce))return!1;const ae=ce;if(!_.isUndefined(ae.levels)&&!_.isNumber(ae.levels)||!_.isUndefined(ae.direction)&&!_.isString(ae.direction)||!_.isUndefined(ae.selectionLines)&&(!Array.isArray(ae.selectionLines)||!ae.selectionLines.every(_.isNumber)))return!1}return!0}class O extends A{constructor(){super({id:"editor.unfold",label:f.localize(0,null),alias:"Unfold",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:P,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,X,K,z){const Q=z&&z.levels||1,j=this.getLineNumbers(z,K);z&&z.direction==="up"?(0,t.setCollapseStateLevelsUp)(X,!1,Q,j):(0,t.setCollapseStateLevelsDown)(X,!1,Q,j)}}class x extends A{constructor(){super({id:"editor.unfoldRecursively",label:f.localize(1,null),alias:"Unfold Recursively",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2142),weight:100}})}invoke(ae,X,K,z){(0,t.setCollapseStateLevelsDown)(X,!1,Number.MAX_VALUE,this.getSelectedLines(K))}}class W extends A{constructor(){super({id:"editor.fold",label:f.localize(2,null),alias:"Fold",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:P,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,X,K,z){const Q=this.getLineNumbers(z,K),j=z&&z.levels,re=z&&z.direction;typeof j!="number"&&typeof re!="string"?(0,t.setCollapseStateUp)(X,!0,Q):re==="up"?(0,t.setCollapseStateLevelsUp)(X,!0,j||1,Q):(0,t.setCollapseStateLevelsDown)(X,!0,j||1,Q)}}class U extends A{constructor(){super({id:"editor.toggleFold",label:f.localize(3,null),alias:"Toggle Fold",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2090),weight:100}})}invoke(ae,X,K){const z=this.getSelectedLines(K);(0,t.toggleCollapseState)(X,1,z)}}class F extends A{constructor(){super({id:"editor.foldRecursively",label:f.localize(4,null),alias:"Fold Recursively",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2140),weight:100}})}invoke(ae,X,K){const z=this.getSelectedLines(K);(0,t.setCollapseStateLevelsDown)(X,!0,Number.MAX_VALUE,z)}}class G extends A{constructor(){super({id:"editor.foldAllBlockComments",label:f.localize(5,null),alias:"Fold All Block Comments",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2138),weight:100}})}invoke(ae,X,K,z,Q){if(X.regions.hasTypes())(0,t.setCollapseStateForType)(X,i.FoldingRangeKind.Comment.value,!0);else{const j=K.getModel();if(!j)return;const re=Q.getLanguageConfiguration(j.getLanguageId()).comments;if(re&&re.blockCommentStartToken){const oe=new RegExp("^\\s*"+(0,m.escapeRegExpCharacters)(re.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(X,oe,!0)}}}}class Y extends A{constructor(){super({id:"editor.foldAllMarkerRegions",label:f.localize(6,null),alias:"Fold All Regions",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2077),weight:100}})}invoke(ae,X,K,z,Q){if(X.regions.hasTypes())(0,t.setCollapseStateForType)(X,i.FoldingRangeKind.Region.value,!0);else{const j=K.getModel();if(!j)return;const re=Q.getLanguageConfiguration(j.getLanguageId()).foldingRules;if(re&&re.markers&&re.markers.start){const oe=new RegExp(re.markers.start);(0,t.setCollapseStateForMatchingLines)(X,oe,!0)}}}}class ne extends A{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:f.localize(7,null),alias:"Unfold All Regions",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2078),weight:100}})}invoke(ae,X,K,z,Q){if(X.regions.hasTypes())(0,t.setCollapseStateForType)(X,i.FoldingRangeKind.Region.value,!1);else{const j=K.getModel();if(!j)return;const re=Q.getLanguageConfiguration(j.getLanguageId()).foldingRules;if(re&&re.markers&&re.markers.start){const oe=new RegExp(re.markers.start);(0,t.setCollapseStateForMatchingLines)(X,oe,!1)}}}}class se extends A{constructor(){super({id:"editor.foldAllExcept",label:f.localize(8,null),alias:"Fold All Except Selected",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2136),weight:100}})}invoke(ae,X,K){const z=this.getSelectedLines(K);(0,t.setCollapseStateForRest)(X,!0,z)}}class J extends A{constructor(){super({id:"editor.unfoldAllExcept",label:f.localize(9,null),alias:"Unfold All Except Selected",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2134),weight:100}})}invoke(ae,X,K){const z=this.getSelectedLines(K);(0,t.setCollapseStateForRest)(X,!1,z)}}class q extends A{constructor(){super({id:"editor.foldAll",label:f.localize(10,null),alias:"Fold All",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2069),weight:100}})}invoke(ae,X,K){(0,t.setCollapseStateLevelsDown)(X,!0)}}class H extends A{constructor(){super({id:"editor.unfoldAll",label:f.localize(11,null),alias:"Unfold All",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2088),weight:100}})}invoke(ae,X,K){(0,t.setCollapseStateLevelsDown)(X,!1)}}class V extends A{getFoldingLevel(){return parseInt(this.id.substr(V.ID_PREFIX.length))}invoke(ae,X,K){(0,t.setCollapseStateAtLevel)(X,this.getFoldingLevel(),!0,this.getSelectedLines(K))}}V.ID_PREFIX="editor.foldLevel",V.ID=ce=>V.ID_PREFIX+ce;class Z extends A{constructor(){super({id:"editor.gotoParentFold",label:f.localize(12,null),alias:"Go to Parent Fold",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,X,K){const z=this.getSelectedLines(K);if(z.length>0){const Q=(0,t.getParentFoldLine)(z[0],X);Q!==null&&K.setSelection({startLineNumber:Q,startColumn:1,endLineNumber:Q,endColumn:1})}}}class ee extends A{constructor(){super({id:"editor.gotoPreviousFold",label:f.localize(13,null),alias:"Go to Previous Folding Range",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,X,K){const z=this.getSelectedLines(K);if(z.length>0){const Q=(0,t.getPreviousFoldLine)(z[0],X);Q!==null&&K.setSelection({startLineNumber:Q,startColumn:1,endLineNumber:Q,endColumn:1})}}}class le extends A{constructor(){super({id:"editor.gotoNextFold",label:f.localize(14,null),alias:"Go to Next Folding Range",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,X,K){const z=this.getSelectedLines(K);if(z.length>0){const Q=(0,t.getNextFoldLine)(z[0],X);Q!==null&&K.setSelection({startLineNumber:Q,startColumn:1,endLineNumber:Q,endColumn:1})}}}class ue extends A{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:f.localize(15,null),alias:"Create Folding Range from Selection",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2135),weight:100}})}invoke(ae,X,K){var z;const Q=[],j=K.getSelections();if(j){for(const re of j){let oe=re.endLineNumber;re.endColumn===1&&--oe,oe>re.startLineNumber&&(Q.push({startLineNumber:re.startLineNumber,endLineNumber:oe,type:void 0,isCollapsed:!0,source:1}),K.setSelection({startLineNumber:re.startLineNumber,startColumn:1,endLineNumber:re.startLineNumber,endColumn:1}))}if(Q.length>0){Q.sort((oe,he)=>oe.startLineNumber-he.startLineNumber);const re=o.FoldingRegions.sanitizeAndMerge(X.regions,Q,(z=K.getModel())===null||z===void 0?void 0:z.getLineCount());X.updatePost(o.FoldingRegions.fromFoldRanges(re))}}}}class de extends A{constructor(){super({id:"editor.removeManualFoldingRanges",label:f.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2137),weight:100}})}invoke(ae,X,K){const z=K.getSelections();if(z){const Q=[];for(const j of z){const{startLineNumber:re,endLineNumber:oe}=j;Q.push(oe>=re?{startLineNumber:re,endLineNumber:oe}:{endLineNumber:oe,startLineNumber:re})}X.removeManualRanges(Q),ae.triggerFoldingModelChanged()}}}(0,C.registerEditorContribution)(T.ID,T,0),(0,C.registerEditorAction)(O),(0,C.registerEditorAction)(x),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(F),(0,C.registerEditorAction)(q),(0,C.registerEditorAction)(H),(0,C.registerEditorAction)(G),(0,C.registerEditorAction)(Y),(0,C.registerEditorAction)(ne),(0,C.registerEditorAction)(se),(0,C.registerEditorAction)(J),(0,C.registerEditorAction)(U),(0,C.registerEditorAction)(Z),(0,C.registerEditorAction)(ee),(0,C.registerEditorAction)(le),(0,C.registerEditorAction)(ue),(0,C.registerEditorAction)(de);for(let ce=1;ce<=7;ce++)(0,C.registerInstantiatedEditorAction)(new V({id:V.ID(ce),label:f.localize(17,null,ce),alias:`Fold Level ${ce}`,precondition:B,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2048|21+ce),weight:100}}));w.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",function(ce,...ae){return be(this,void 0,void 0,function*(){const[X]=ae;if(!(X instanceof E.URI))throw(0,y.illegalArgument)();const K=ce.get(p.ILanguageFeaturesService),z=ce.get(k.IModelService).getModel(X);if(!z)throw(0,y.illegalArgument)();const Q=ce.get(M.IConfigurationService);if(!Q.getValue("editor.folding",{resource:X}))return[];const j=ce.get(n.ILanguageConfigurationService),re=Q.getValue("editor.foldingStrategy",{resource:X}),oe={get limit(){return Q.getValue("editor.foldingMaximumRegions",{resource:X})},update:(we,Le)=>{}},he=new u.IndentRangeProvider(z,j,oe);let me=he;if(re!=="indentation"){const we=T.getFoldingRangeProviders(K,z);we.length&&(me=new c.SyntaxRangeProvider(z,we,()=>{},oe,he))}const pe=yield me.compute(I.CancellationToken.None),ve=[];try{if(pe)for(let we=0;we<pe.length;we++){const Le=pe.getType(we);ve.push({start:pe.getStartLineNumber(we),end:pe.getEndLineNumber(we),kind:Le?i.FoldingRangeKind.fromValue(Le):void 0})}return ve}finally{me.dispose()}})})}),define(te[371],ie([1,0,7,315,13,2,12,5,37,29,325,99,8,34,14,22,15,603,28,88]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l){"use strict";var o,c;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=e.ContentHoverWidget=e.ContentHoverController=void 0;const a=L.$;let g=o=class extends D.Disposable{constructor(A,P,O){super(),this._editor=A,this._instantiationService=P,this._keybindingService=O,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(M,this._editor)),this._participants=[];for(const x of s.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(x,this._editor));this._participants.sort((x,W)=>x.hoverOrdinal-W.hoverOrdinal),this._computer=new B(this._editor,this._participants),this._hoverOperation=this._register(new C.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(x=>{if(!this._computer.anchor)return;const W=x.hasLoadingMessage?this._addLoadingMessage(x.value):x.value;this._withResult(new h(this._computer.anchor,W,x.isComplete))})),this._register(L.addStandardDisposableListener(this._widget.getDomNode(),"keydown",x=>{x.equals(9)&&this.hide()})),this._register(v.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(A){if(this._widget.isResizing)return!0;const P=[];for(const x of this._participants)if(x.suggestHoverAnchor){const W=x.suggestHoverAnchor(A);W&&P.push(W)}const O=A.target;if(O.type===6&&P.push(new s.HoverRangeAnchor(0,O.range,A.event.posx,A.event.posy)),O.type===7){const x=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!O.detail.isAfterLines&&typeof O.detail.horizontalDistanceToText=="number"&&O.detail.horizontalDistanceToText<x&&P.push(new s.HoverRangeAnchor(0,O.range,A.event.posx,A.event.posy))}return P.length===0?this._startShowingOrUpdateHover(null,0,0,!1,A):(P.sort((x,W)=>W.priority-x.priority),this._startShowingOrUpdateHover(P[0],0,0,!1,A))}startShowingAtRange(A,P,O,x){this._startShowingOrUpdateHover(new s.HoverRangeAnchor(0,A,void 0,void 0),P,O,x,null)}_startShowingOrUpdateHover(A,P,O,x,W){return!this._widget.position||!this._currentResult?A?(this._startHoverOperationIfNecessary(A,P,O,x,!1),!0):!1:this._editor.getOption(60).sticky&&W&&this._widget.isMouseGettingCloser(W.event.posx,W.event.posy)?(A&&this._startHoverOperationIfNecessary(A,P,O,x,!0),!0):A?A&&this._currentResult.anchor.equals(A)?!0:A.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(A)),this._startHoverOperationIfNecessary(A,P,O,x,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(A,P,O,x,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(A,P,O,x,W){this._computer.anchor&&this._computer.anchor.equals(A)||(this._hoverOperation.cancel(),this._computer.anchor=A,this._computer.shouldFocus=x,this._computer.source=O,this._computer.insistOnKeepingHoverVisible=W,this._hoverOperation.start(P))}_setCurrentResult(A){this._currentResult!==A&&(A&&A.messages.length===0&&(A=null),this._currentResult=A,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(A){return A?this._widget.getDomNode().contains(A):!1}_addLoadingMessage(A){if(this._computer.anchor){for(const P of this._participants)if(P.createLoadingMessage){const O=P.createLoadingMessage(this._computer.anchor);if(O)return A.slice(0).concat([O])}}return A}_withResult(A){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!A.isComplete||this._computer.insistOnKeepingHoverVisible&&A.messages.length===0)||this._setCurrentResult(A)}_renderMessages(A,P){const{showAtPosition:O,showAtSecondaryPosition:x,highlightRange:W}=o.computeHoverRanges(this._editor,A.range,P),U=new D.DisposableStore,F=U.add(new R(this._keybindingService)),G=document.createDocumentFragment();let Y=null;const ne={fragment:G,statusBar:F,setColorPicker:J=>Y=J,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:J=>this._widget.setMinimumDimensions(J),hide:()=>this.hide()};for(const J of this._participants){const q=P.filter(H=>H.owner===J);q.length>0&&U.add(J.renderHoverParts(ne,q))}const se=P.some(J=>J.isBeforeContent);if(F.hasContent&&G.appendChild(F.hoverElement),G.hasChildNodes()){if(W){const J=this._editor.createDecorationsCollection();J.set([{range:W,options:o._DECORATION_OPTIONS}]),U.add((0,D.toDisposable)(()=>{J.clear()}))}this._widget.showAt(G,new b(Y,O,x,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,se,A.initialMousePosX,A.initialMousePosY,U))}else U.dispose()}static computeHoverRanges(A,P,O){let x=1;if(A.hasModel()){const Y=A._getViewModel(),ne=Y.coordinatesConverter,se=ne.convertModelRangeToViewRange(P),J=new S.Position(se.startLineNumber,Y.getLineMinColumn(se.startLineNumber));x=ne.convertViewPositionToModelPosition(J).column}const W=P.startLineNumber;let U=P.startColumn,F=O[0].range,G=null;for(const Y of O)F=m.Range.plusRange(F,Y.range),Y.range.startLineNumber===W&&Y.range.endLineNumber===W&&(U=Math.max(Math.min(U,Y.range.startColumn),x)),Y.forceShowAtRange&&(G=Y.range);return{showAtPosition:G?G.getStartPosition():new S.Position(W,P.startColumn),showAtSecondaryPosition:G?G.getStartPosition():new S.Position(W,U),highlightRange:F}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};e.ContentHoverController=g,g._DECORATION_OPTIONS=_.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=g=o=Ie([ge(1,i.IInstantiationService),ge(2,n.IKeybindingService)],g);class h{constructor(A,P,O){this.anchor=A,this.messages=P,this.isComplete=O}filter(A){const P=this.messages.filter(O=>O.isValidForHoverAnchor(A));return P.length===this.messages.length?this:new p(this,this.anchor,P,this.isComplete)}}class p extends h{constructor(A,P,O,x){super(P,O,x),this.original=A}filter(A){return this.original.filter(A)}}class b{constructor(A,P,O,x,W,U,F,G,Y,ne){this.colorPicker=A,this.showAtPosition=P,this.showAtSecondaryPosition=O,this.preferAbove=x,this.stoleFocus=W,this.source=U,this.isBeforeContent=F,this.initialMousePosX=G,this.initialMousePosY=Y,this.disposables=ne,this.closestMouseDistance=void 0}}const w=30,E=10,k=6;let M=c=class extends f.ResizableContentWidget{get isColorPickerVisible(){var A;return!!(!((A=this._visibleData)===null||A===void 0)&&A.colorPicker)}get isVisibleFromKeyboard(){var A;return((A=this._visibleData)===null||A===void 0?void 0:A.source)===1}get isVisible(){var A;return(A=this._hoverVisibleKey.get())!==null&&A!==void 0?A:!1}get isFocused(){var A;return(A=this._hoverFocusedKey.get())!==null&&A!==void 0?A:!1}constructor(A,P,O,x,W){const U=A.getOption(66)+8,F=150,G=new L.Dimension(F,U);super(A,G),this._configurationService=O,this._accessibilityService=x,this._keybindingService=W,this._hover=this._register(new I.HoverWidget),this._minimumSize=G,this._hoverVisibleKey=r.EditorContextKeys.hoverVisible.bindTo(P),this._hoverFocusedKey=r.EditorContextKeys.hoverFocused.bindTo(P),L.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(ne=>{ne.hasChanged(50)&&this._updateFont()}));const Y=this._register(L.trackFocus(this._resizableNode.domNode));this._register(Y.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(Y.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._layout(),this._editor.addContentWidget(this)}dispose(){var A;super.dispose(),(A=this._visibleData)===null||A===void 0||A.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return c.ID}static _applyDimensions(A,P,O){const x=typeof P=="number"?`${P}px`:P,W=typeof O=="number"?`${O}px`:O;A.style.width=x,A.style.height=W}_setContentsDomNodeDimensions(A,P){const O=this._hover.contentsDomNode;return c._applyDimensions(O,A,P)}_setContainerDomNodeDimensions(A,P){const O=this._hover.containerDomNode;return c._applyDimensions(O,A,P)}_setHoverWidgetDimensions(A,P){this._setContentsDomNodeDimensions(A,P),this._setContainerDomNodeDimensions(A,P),this._layoutContentWidget()}static _applyMaxDimensions(A,P,O){const x=typeof P=="number"?`${P}px`:P,W=typeof O=="number"?`${O}px`:O;A.style.maxWidth=x,A.style.maxHeight=W}_setHoverWidgetMaxDimensions(A,P){c._applyMaxDimensions(this._hover.contentsDomNode,A,P),c._applyMaxDimensions(this._hover.containerDomNode,A,P),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof A=="number"?`${A}px`:A),this._layoutContentWidget()}_hasHorizontalScrollbar(){const A=this._hover.scrollbar.getScrollDimensions();return A.scrollWidth>A.width}_adjustContentsBottomPadding(){const A=this._hover.contentsDomNode,P=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;A.style.paddingBottom!==P&&(A.style.paddingBottom=P)}_setAdjustedHoverWidgetDimensions(A){this._setHoverWidgetMaxDimensions("none","none");const P=A.width,O=A.height;this._setHoverWidgetDimensions(P,O),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(P,O-E))}_updateResizableNodeMaxDimensions(){var A,P;const O=(A=this._findMaximumRenderingWidth())!==null&&A!==void 0?A:1/0,x=(P=this._findMaximumRenderingHeight())!==null&&P!==void 0?P:1/0;this._resizableNode.maxSize=new L.Dimension(O,x),this._setHoverWidgetMaxDimensions(O,x)}_resize(A){var P,O;c._lastDimensions=new L.Dimension(A.width,A.height),this._setAdjustedHoverWidgetDimensions(A),this._resizableNode.layout(A.height,A.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(O=(P=this._visibleData)===null||P===void 0?void 0:P.colorPicker)===null||O===void 0||O.layout()}_findAvailableSpaceVertically(){var A;const P=(A=this._visibleData)===null||A===void 0?void 0:A.showAtPosition;if(P)return this._positionPreference===1?this._availableVerticalSpaceAbove(P):this._availableVerticalSpaceBelow(P)}_findMaximumRenderingHeight(){const A=this._findAvailableSpaceVertically();if(!A)return;let P=k;return Array.from(this._hover.contentsDomNode.children).forEach(O=>{P+=O.clientHeight}),this._hasHorizontalScrollbar()&&(P+=E),Math.min(A,P)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const A=Array.from(this._hover.contentsDomNode.children).some(P=>P.scrollWidth>P.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),A}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const A=this._isHoverTextOverflowing(),P=typeof this._contentWidth>"u"?0:this._contentWidth-2;return A||this._hover.containerDomNode.clientWidth<P?L.getClientArea(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(A,P){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=A,this._visibleData.initialMousePosY=P,!1;const O=L.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=T(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,O.left,O.top,O.width,O.height));const x=T(A,P,O.left,O.top,O.width,O.height);return x>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,x),!0)}_setHoverData(A){var P;(P=this._visibleData)===null||P===void 0||P.disposables.dispose(),this._visibleData=A,this._hoverVisibleKey.set(!!A),this._hover.containerDomNode.classList.toggle("hidden",!A)}_layout(){const{fontSize:A,lineHeight:P}=this._editor.getOption(50),O=this._hover.contentsDomNode;O.style.fontSize=`${A}px`,O.style.lineHeight=`${P/A}`,this._updateMaxDimensions()}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(P=>this._editor.applyFontInfo(P))}_updateContent(A){const P=this._hover.contentsDomNode;P.style.paddingBottom="",P.textContent="",P.appendChild(A)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const A=Math.max(this._editor.getLayoutInfo().height/4,250,c._lastDimensions.height),P=Math.max(this._editor.getLayoutInfo().width*.66,500,c._lastDimensions.width);this._setHoverWidgetMaxDimensions(P,A)}_render(A,P){this._setHoverData(P),this._updateFont(),this._updateContent(A),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var A;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(A=this._positionPreference)!==null&&A!==void 0?A:1]}:null}showAt(A,P){var O,x,W,U;if(!this._editor||!this._editor.hasModel())return;this._render(A,P);const F=L.getTotalHeight(this._hover.containerDomNode),G=P.showAtPosition;this._positionPreference=(O=this._findPositionPreference(F,G))!==null&&O!==void 0?O:1,this.onContentsChanged(),P.stoleFocus&&this._hover.containerDomNode.focus(),(x=P.colorPicker)===null||x===void 0||x.layout();const Y=(0,I.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(U=(W=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||W===void 0?void 0:W.getAriaLabel())!==null&&U!==void 0?U:"");Y&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+Y)}hide(){if(!this._visibleData)return;const A=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new L.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),A&&this._editor.focus()}_removeConstraintsRenderNormally(){const A=this._editor.getLayoutInfo();this._resizableNode.layout(A.height,A.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(A){var P;const O=this._hover.containerDomNode,x=this._hover.contentsDomNode,W=(P=this._findMaximumRenderingHeight())!==null&&P!==void 0?P:1/0;this._setContainerDomNodeDimensions(L.getTotalWidth(O),Math.min(W,A)),this._setContentsDomNodeDimensions(L.getTotalWidth(x),Math.min(W,A-E))}setMinimumDimensions(A){this._minimumSize=new L.Dimension(Math.max(this._minimumSize.width,A.width),Math.max(this._minimumSize.height,A.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const A=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new L.Dimension(A,this._minimumSize.height)}onContentsChanged(){var A;this._removeConstraintsRenderNormally();const P=this._hover.containerDomNode;let O=L.getTotalHeight(P),x=L.getTotalWidth(P);if(this._resizableNode.layout(O,x),this._setHoverWidgetDimensions(x,O),O=L.getTotalHeight(P),x=L.getTotalWidth(P),this._contentWidth=x,this._updateMinimumWidth(),this._resizableNode.layout(O,x),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(O)),!((A=this._visibleData)===null||A===void 0)&&A.showAtPosition){const W=L.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(W,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const A=this._hover.scrollbar.getScrollPosition().scrollTop,P=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:A-P.lineHeight})}scrollDown(){const A=this._hover.scrollbar.getScrollPosition().scrollTop,P=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:A+P.lineHeight})}scrollLeft(){const A=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:A-w})}scrollRight(){const A=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:A+w})}pageUp(){const A=this._hover.scrollbar.getScrollPosition().scrollTop,P=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:A-P})}pageDown(){const A=this._hover.scrollbar.getScrollPosition().scrollTop,P=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:A+P})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=M,M.ID="editor.contrib.resizableContentHoverWidget",M._lastDimensions=new L.Dimension(0,0),e.ContentHoverWidget=M=c=Ie([ge(1,u.IContextKeyService),ge(2,d.IConfigurationService),ge(3,l.IAccessibilityService),ge(4,n.IKeybindingService)],M);let R=class extends D.Disposable{get hasContent(){return this._hasContent}constructor(A){super(),this._keybindingService=A,this._hasContent=!1,this.hoverElement=a("div.hover-row.status-bar"),this.actionsElement=L.append(this.hoverElement,a("div.actions"))}addAction(A){const P=this._keybindingService.lookupKeybinding(A.commandId),O=P?P.getLabel():null;return this._hasContent=!0,this._register(I.HoverAction.render(this.actionsElement,A,O))}append(A){const P=L.append(this.actionsElement,A);return this._hasContent=!0,P}};e.EditorHoverStatusBar=R,e.EditorHoverStatusBar=R=Ie([ge(0,n.IKeybindingService)],R);class B{get anchor(){return this._anchor}set anchor(A){this._anchor=A}get shouldFocus(){return this._shouldFocus}set shouldFocus(A){this._shouldFocus=A}get source(){return this._source}set source(A){this._source=A}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(A){this._insistOnKeepingHoverVisible=A}constructor(A,P){this._editor=A,this._participants=P,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(A,P){if(P.type!==1&&!P.supportsMarkerHover)return[];const O=A.getModel(),x=P.range.startLineNumber;if(x>O.getLineCount())return[];const W=O.getLineMaxColumn(x);return A.getLineDecorations(x).filter(U=>{if(U.options.isWholeLine)return!0;const F=U.range.startLineNumber===x?U.range.startColumn:1,G=U.range.endLineNumber===x?U.range.endColumn:W;if(U.options.showIfCollapsed){if(F>P.range.startColumn+1||P.range.endColumn-1>G)return!1}else if(F>P.range.startColumn||P.range.endColumn>G)return!1;return!0})}computeAsync(A){const P=this._anchor;if(!this._editor.hasModel()||!P)return t.AsyncIterableObject.EMPTY;const O=B._getLineDecorations(this._editor,P);return t.AsyncIterableObject.merge(this._participants.map(x=>x.computeAsync?x.computeAsync(P,O,A):t.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const A=B._getLineDecorations(this._editor,this._anchor);let P=[];for(const O of this._participants)P=P.concat(O.computeSync(this._anchor,A));return(0,y.coalesce)(P)}}function T(N,A,P,O,x,W){const U=P+x/2,F=O+W/2,G=Math.max(Math.abs(N-U)-x/2,0),Y=Math.max(Math.abs(A-F)-W/2,0);return Math.sqrt(G*G+Y*Y)}}),define(te[885],ie([1,0,2,368,8,371,34,6,18,16,22,15,50,32,346,7,199]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";var u,f;Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let d=u=class extends L.Disposable{constructor(h,p,b,w,E,k,M){super(),this._editor=h,this._modelService=b,this._keybindingService=w,this._instantiationService=E,this._languageFeatureService=k,this._languageConfigurationService=M,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=C.EditorContextKeys.standaloneColorPickerVisible.bindTo(p),this._standaloneColorPickerFocused=C.EditorContextKeys.standaloneColorPickerFocused.bindTo(p)}showOrFocus(){var h;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(h=this._standaloneColorPickerWidget)===null||h===void 0||h.focus():this._standaloneColorPickerWidget=new c(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var h;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(h=this._standaloneColorPickerWidget)===null||h===void 0||h.hide(),this._editor.focus()}insertColor(){var h;(h=this._standaloneColorPickerWidget)===null||h===void 0||h.updateEditor(),this.hide()}static get(h){return h.getContribution(u.ID)}};e.StandaloneColorPickerController=d,d.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=d=u=Ie([ge(1,s.IContextKeyService),ge(2,i.IModelService),ge(3,S.IKeybindingService),ge(4,y.IInstantiationService),ge(5,_.ILanguageFeaturesService),ge(6,n.ILanguageConfigurationService)],d),(0,v.registerEditorContribution)(d.ID,d,1);const l=8,o=22;let c=f=class extends L.Disposable{constructor(h,p,b,w,E,k,M,R){var B;super(),this._editor=h,this._standaloneColorPickerVisible=p,this._standaloneColorPickerFocused=b,this._modelService=E,this._keybindingService=k,this._languageFeaturesService=M,this._languageConfigurationService=R,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new m.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=w.createInstance(I.StandaloneColorPickerParticipant,this._editor),this._position=(B=this._editor._getViewModel())===null||B===void 0?void 0:B.getPrimaryCursorState().modelState.position;const T=this._editor.getSelection(),N=T?{startLineNumber:T.startLineNumber,startColumn:T.startColumn,endLineNumber:T.endLineNumber,endColumn:T.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},A=this._register(r.trackFocus(this._body));this._register(A.onDidBlur(P=>{this.hide()})),this._register(A.onDidFocus(P=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(P=>{var O;const x=(O=P.target.element)===null||O===void 0?void 0:O.classList;x&&x.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(P=>{this._render(P.value,P.foundInEditor)})),this._start(N),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return f.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const h=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:h?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(h){return be(this,void 0,void 0,function*(){const p=yield this._computeAsync(h);p&&this._onResult.fire(new a(p.result,p.foundInEditor))})}_computeAsync(h){return be(this,void 0,void 0,function*(){if(!this._editor.hasModel())return null;const p={range:h,color:{red:0,green:0,blue:0,alpha:1}},b=yield this._standaloneColorPickerParticipant.createColorHover(p,new t.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return b?{result:b.colorHover,foundInEditor:b.foundInEditor}:null})}_render(h,p){const b=document.createDocumentFragment(),w=this._register(new D.EditorHoverStatusBar(this._keybindingService));let E;const k={fragment:b,statusBar:w,setColorPicker:x=>E=x,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=h,this._register(this._standaloneColorPickerParticipant.renderHoverParts(k,[h])),E===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(b),E.layout();const M=E.body,R=M.saturationBox.domNode.clientWidth,B=M.domNode.clientWidth-R-o-l,T=E.body.enterButton;T?.onClicked(()=>{this.updateEditor(),this.hide()});const N=E.header,A=N.pickedColorNode;A.style.width=R+l+"px";const P=N.originalColorNode;P.style.width=B+"px";const O=E.header.closeButton;O?.onClicked(()=>{this.hide()}),p&&(T&&(T.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(h.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=c,c.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=c=f=Ie([ge(3,y.IInstantiationService),ge(4,i.IModelService),ge(5,S.IKeybindingService),ge(6,_.ILanguageFeaturesService),ge(7,n.ILanguageConfigurationService)],c);class a{constructor(h,p){this.value=h,this.foundInEditor=p}}}),define(te[886],ie([1,0,16,646,885,22,30,199]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class m extends L.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,I.localize)(0,null),mnemonicTitle:(0,I.localize)(1,null),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:S.MenuId.CommandPalette}]})}runEditorCommand(s,i){var n;(n=y.StandaloneColorPickerController.get(i))===null||n===void 0||n.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=m;class _ extends L.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,I.localize)(2,null),alias:"Hide the Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(s,i){var n;(n=y.StandaloneColorPickerController.get(i))===null||n===void 0||n.hide()}}class v extends L.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,I.localize)(3,null),alias:"Insert Color with Standalone Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(s,i){var n;(n=y.StandaloneColorPickerController.get(i))===null||n===void 0||n.insertColor()}}(0,L.registerEditorAction)(_),(0,L.registerEditorAction)(v),(0,S.registerAction2)(m)}),define(te[887],ie([1,0,14,9,103,16,5,24,22,37,115,675,547,453]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});let t=n=class{static get(d){return d.getContribution(n.ID)}constructor(d,l){this.editor=d,this.editorWorkerService=l,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(d,l){var o;(o=this.currentRequest)===null||o===void 0||o.cancel();const c=this.editor.getSelection(),a=this.editor.getModel();if(!a||!c)return;let g=c;if(g.startLineNumber!==g.endLineNumber)return;const h=new y.EditorState(this.editor,5),p=a.uri;return this.editorWorkerService.canNavigateValueSet(p)?(this.currentRequest=(0,L.createCancelablePromise)(b=>this.editorWorkerService.navigateValueSet(p,g,l)),this.currentRequest.then(b=>{var w;if(!b||!b.range||!b.value||!h.validate(this.editor))return;const E=S.Range.lift(b.range);let k=b.range;const M=b.value.length-(g.endColumn-g.startColumn);k={startLineNumber:k.startLineNumber,startColumn:k.startColumn,endLineNumber:k.endLineNumber,endColumn:k.startColumn+b.value.length},M>1&&(g=new m.Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn+M-1));const R=new i.InPlaceReplaceCommand(E,g,b.value);this.editor.pushUndoStop(),this.editor.executeCommand(d,R),this.editor.pushUndoStop(),this.decorations.set([{range:k,options:n.DECORATION}]),(w=this.decorationRemover)===null||w===void 0||w.cancel(),this.decorationRemover=(0,L.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(I.onUnexpectedError)}).catch(I.onUnexpectedError)):Promise.resolve(void 0)}};t.ID="editor.contrib.inPlaceReplaceController",t.DECORATION=v.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),t=n=Ie([ge(1,C.IEditorWorkerService)],t);class r extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:s.localize(0,null),alias:"Replace with Previous Value",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(d,l){const o=t.get(l);return o?o.run(this.id,!1):Promise.resolve(void 0)}}class u extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:s.localize(1,null),alias:"Replace with Next Value",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(d,l){const o=t.get(l);return o?o.run(this.id,!0):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(t.ID,t,4),(0,D.registerEditorAction)(r),(0,D.registerEditorAction)(u)}),define(te[254],ie([1,0,7,14,26,2,10,27,5,37,8,456]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const s=v.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:S.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class i extends D.Disposable{constructor(r,u,f,d,l){super(),this.typeId=r,this.editor=u,this.range=f,this.delegate=l,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(d),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(r){this.domNode=L.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=r;const u=L.$("span.icon");this.domNode.append(u),u.classList.add(...m.ThemeIcon.asClassNameArray(y.Codicon.loading),"codicon-modifier-spin");const f=()=>{const d=this.editor.getOption(66);this.domNode.style.height=`${d}px`,this.domNode.style.width=`${Math.ceil(.8*d)}px`};f(),this._register(this.editor.onDidChangeConfiguration(d=>{(d.hasChanged(52)||d.hasChanged(66))&&f()})),this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,d=>{this.delegate.cancel()}))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}i.baseId="editor.widget.inlineProgressWidget";let n=class extends D.Disposable{constructor(r,u,f){super(),this.id=r,this._editor=u,this._instantiationService=f,this._showDelay=500,this._showPromise=this._register(new D.MutableDisposable),this._currentWidget=new D.MutableDisposable,this._operationIdPool=0,this._currentDecorations=u.createDecorationsCollection()}showWhile(r,u,f){return be(this,void 0,void 0,function*(){const d=this._operationIdPool++;this._currentOperation=d,this.clear(),this._showPromise.value=(0,I.disposableTimeout)(()=>{const l=_.Range.fromPositions(r);this._currentDecorations.set([{range:l,options:s}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(i,this.id,this._editor,l,u,f))},this._showDelay);try{return yield f}finally{this._currentOperation===d&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=n,e.InlineProgressManager=n=Ie([ge(2,C.IInstantiationService)],n)}),define(te[888],ie([1,0,7,13,14,170,2,107,17,169,183,345,130,5,18,335,103,254,651,102,15,8,85,67,339]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new o.RawContextKey("pasteWidgetVisible",!1,(0,d.localize)(0,null));const b="application/vnd.code.copyMetadata";let w=p=class extends S.Disposable{static get(M){return M.getContribution(p.ID)}constructor(M,R,B,T,N,A,P){super(),this._bulkEditService=B,this._clipboardService=T,this._languageFeaturesService=N,this._quickInputService=A,this._progressService=P,this._editor=M;const O=M.getContainerDomNode();this._register((0,L.addDisposableListener)(O,"copy",x=>this.handleCopy(x))),this._register((0,L.addDisposableListener)(O,"cut",x=>this.handleCopy(x))),this._register((0,L.addDisposableListener)(O,"paste",x=>this.handlePaste(x),!0)),this._pasteProgressManager=this._register(new f.InlineProgressManager("pasteIntoEditor",M,R)),this._postPasteWidgetManager=this._register(R.createInstance(h.PostEditWidgetManager,"pasteIntoEditor",M,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,d.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(M){this._editor.focus();try{this._pasteAsActionContext={preferredId:M},(0,L.getActiveDocument)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(84).enabled&&!this._editor.getOption(90)}handleCopy(M){var R,B;if(!this._editor.hasTextFocus()||(_.isWeb&&this._clipboardService.writeResources([]),!M.clipboardData||!this.isPasteAsEnabled()))return;const T=this._editor.getModel(),N=this._editor.getSelections();if(!T||!N?.length)return;const A=this._editor.getOption(37);let P=N;const O=N.length===1&&N[0].isEmpty();if(O){if(!A)return;P=[new n.Range(P[0].startLineNumber,1,P[0].startLineNumber,1+T.getLineLength(P[0].startLineNumber))]}const x=(R=this._editor._getViewModel())===null||R===void 0?void 0:R.getPlainTextToCopy(N,A,_.isWindows),U={multicursorText:Array.isArray(x)?x:null,pasteOnNewLine:O,mode:null},F=this._languageFeaturesService.documentPasteEditProvider.ordered(T).filter(J=>!!J.prepareDocumentPaste);if(!F.length){this.setCopyMetadata(M.clipboardData,{defaultPastePayload:U});return}const G=(0,s.toVSDataTransfer)(M.clipboardData),Y=F.flatMap(J=>{var q;return(q=J.copyMimeTypes)!==null&&q!==void 0?q:[]}),ne=(0,v.generateUuid)();this.setCopyMetadata(M.clipboardData,{id:ne,providerCopyMimeTypes:Y,defaultPastePayload:U});const se=(0,y.createCancelablePromise)(J=>be(this,void 0,void 0,function*(){const q=(0,I.coalesce)(yield Promise.all(F.map(H=>be(this,void 0,void 0,function*(){try{return yield H.prepareDocumentPaste(T,P,G,J)}catch(V){console.error(V);return}}))));q.reverse();for(const H of q)for(const[V,Z]of H)G.replace(V,Z);return G}));(B=this._currentCopyOperation)===null||B===void 0||B.dataTransferPromise.cancel(),this._currentCopyOperation={handle:ne,dataTransferPromise:se}}handlePaste(M){var R,B;return be(this,void 0,void 0,function*(){if(!M.clipboardData||!this._editor.hasTextFocus())return;(R=this._currentPasteOperation)===null||R===void 0||R.cancel(),this._currentPasteOperation=void 0;const T=this._editor.getModel(),N=this._editor.getSelections();if(!N?.length||!T||!this.isPasteAsEnabled())return;const A=this.fetchCopyMetadata(M),P=(0,s.toExternalVSDataTransfer)(M.clipboardData);P.delete(b);const O=[...M.clipboardData.types,...(B=A?.providerCopyMimeTypes)!==null&&B!==void 0?B:[],m.Mimes.uriList],x=this._languageFeaturesService.documentPasteEditProvider.ordered(T).filter(W=>{var U;return(U=W.pasteMimeTypes)===null||U===void 0?void 0:U.some(F=>(0,D.matchesMimeType)(F,O))});x.length&&(M.preventDefault(),M.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,x,N,P,A):this.doPasteInline(x,N,P,A))})}doPasteInline(M,R,B,T){const N=(0,y.createCancelablePromise)(A=>be(this,void 0,void 0,function*(){const P=this._editor;if(!P.hasModel())return;const O=P.getModel(),x=new u.EditorStateCancellationTokenSource(P,3,void 0,A);try{if(yield this.mergeInDataFromCopy(B,T,x.token),x.token.isCancellationRequested)return;const W=M.filter(F=>E(F,B));if(!W.length||W.length===1&&W[0].id==="text"){yield this.applyDefaultPasteHandler(B,T,x.token);return}const U=yield this.getPasteEdits(W,B,O,R,x.token);if(x.token.isCancellationRequested)return;if(U.length===1&&U[0].providerId==="text"){yield this.applyDefaultPasteHandler(B,T,x.token);return}if(U.length){const F=P.getOption(84).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(R,{activeEditIndex:0,allEdits:U},F,x.token)}yield this.applyDefaultPasteHandler(B,T,x.token)}finally{x.dispose(),this._currentPasteOperation===N&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(R[0].getEndPosition(),(0,d.localize)(2,null),N),this._currentPasteOperation=N}showPasteAsPick(M,R,B,T,N){const A=(0,y.createCancelablePromise)(P=>be(this,void 0,void 0,function*(){const O=this._editor;if(!O.hasModel())return;const x=O.getModel(),W=new u.EditorStateCancellationTokenSource(O,3,void 0,P);try{if(yield this.mergeInDataFromCopy(T,N,W.token),W.token.isCancellationRequested)return;let U=R.filter(ne=>E(ne,T));M&&(U=U.filter(ne=>ne.id===M));const F=yield this.getPasteEdits(U,T,x,B,W.token);if(W.token.isCancellationRequested||!F.length)return;let G;if(M)G=F.at(0);else{const ne=yield this._quickInputService.pick(F.map(se=>({label:se.label,description:se.providerId,detail:se.detail,edit:se})),{placeHolder:(0,d.localize)(3,null)});G=ne?.edit}if(!G)return;const Y=(0,r.createCombinedWorkspaceEdit)(x.uri,B,G);yield this._bulkEditService.apply(Y,{editor:this._editor})}finally{W.dispose(),this._currentPasteOperation===A&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,d.localize)(4,null)},()=>A)}setCopyMetadata(M,R){M.setData(b,JSON.stringify(R))}fetchCopyMetadata(M){var R;if(!M.clipboardData)return;const B=M.clipboardData.getData(b);if(B)try{return JSON.parse(B)}catch{return}const[T,N]=C.ClipboardEventUtils.getTextData(M.clipboardData);if(N)return{defaultPastePayload:{mode:N.mode,multicursorText:(R=N.multicursorText)!==null&&R!==void 0?R:null,pasteOnNewLine:!!N.isFromEmptySelection}}}mergeInDataFromCopy(M,R,B){var T;return be(this,void 0,void 0,function*(){if(R?.id&&((T=this._currentCopyOperation)===null||T===void 0?void 0:T.handle)===R.id){const N=yield this._currentCopyOperation.dataTransferPromise;if(B.isCancellationRequested)return;for(const[A,P]of N)M.replace(A,P)}if(!M.has(m.Mimes.uriList)){const N=yield this._clipboardService.readResources();if(B.isCancellationRequested)return;N.length&&M.append(m.Mimes.uriList,(0,D.createStringDataTransferItem)(D.UriList.create(N)))}})}getPasteEdits(M,R,B,T,N){return be(this,void 0,void 0,function*(){const A=yield(0,y.raceCancellation)(Promise.all(M.map(O=>be(this,void 0,void 0,function*(){var x;try{const W=yield(x=O.provideDocumentPasteEdits)===null||x===void 0?void 0:x.call(O,B,T,R,N);if(W)return Object.assign(Object.assign({},W),{providerId:O.id})}catch(W){console.error(W)}}))),N),P=(0,I.coalesce)(A??[]);return(0,r.sortEditsByYieldTo)(P)})}applyDefaultPasteHandler(M,R,B){var T,N,A;return be(this,void 0,void 0,function*(){const P=(T=M.get(m.Mimes.text))!==null&&T!==void 0?T:M.get("text");if(!P)return;const O=yield P.asString();if(B.isCancellationRequested)return;const x={text:O,pasteOnNewLine:(N=R?.defaultPastePayload.pasteOnNewLine)!==null&&N!==void 0?N:!1,multicursorText:(A=R?.defaultPastePayload.multicursorText)!==null&&A!==void 0?A:null,mode:null};this._editor.trigger("keyboard","paste",x)})}};e.CopyPasteController=w,w.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=w=p=Ie([ge(1,c.IInstantiationService),ge(2,i.IBulkEditService),ge(3,l.IClipboardService),ge(4,t.ILanguageFeaturesService),ge(5,g.IQuickInputService),ge(6,a.IProgressService)],w);function E(k,M){var R;return!!(!((R=k.pasteMimeTypes)===null||R===void 0)&&R.some(B=>M.matches(B)))}}),define(te[889],ie([1,0,13,14,170,2,345,5,18,288,750,103,254,654,28,15,344,8,335,339]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=e.defaultProviderConfig=void 0,e.defaultProviderConfig="editor.experimental.dropIntoEditor.defaultProvider",e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new r.RawContextKey("dropWidgetVisible",!1,(0,n.localize)(0,null));let c=o=class extends D.Disposable{static get(g){return g.getContribution(o.ID)}constructor(g,h,p,b,w){super(),this._configService=p,this._languageFeaturesService=b,this._treeViewsDragAndDropService=w,this.treeItemsTransfer=u.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(h.createInstance(i.InlineProgressManager,"dropIntoEditor",g)),this._postDropWidgetManager=this._register(h.createInstance(l.PostEditWidgetManager,"dropIntoEditor",g,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,n.localize)(1,null)})),this._register(g.onDropIntoEditor(E=>this.onDropIntoEditor(g,E.position,E.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(g,h,p){var b;return be(this,void 0,void 0,function*(){if(!p.dataTransfer||!g.hasModel())return;(b=this._currentOperation)===null||b===void 0||b.cancel(),g.focus(),g.setPosition(h);const w=(0,I.createCancelablePromise)(E=>be(this,void 0,void 0,function*(){const k=new s.EditorStateCancellationTokenSource(g,1,void 0,E);try{const M=yield this.extractDataTransferData(p);if(M.size===0||k.token.isCancellationRequested)return;const R=g.getModel();if(!R)return;const B=this._languageFeaturesService.documentOnDropEditProvider.ordered(R).filter(N=>N.dropMimeTypes?N.dropMimeTypes.some(A=>M.matches(A)):!0),T=yield this.getDropEdits(B,R,h,M,k);if(k.token.isCancellationRequested)return;if(T.length){const N=this.getInitialActiveEditIndex(R,T),A=g.getOption(36).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([m.Range.fromPositions(h)],{activeEditIndex:N,allEdits:T},A,E)}}finally{k.dispose(),this._currentOperation===w&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(h,(0,n.localize)(2,null),w),this._currentOperation=w})}getDropEdits(g,h,p,b,w){return be(this,void 0,void 0,function*(){const E=yield(0,I.raceCancellation)(Promise.all(g.map(M=>be(this,void 0,void 0,function*(){try{const R=yield M.provideDocumentOnDropEdits(h,p,b,w.token);if(R)return Object.assign(Object.assign({},R),{providerId:M.id})}catch(R){console.error(R)}}))),w.token),k=(0,L.coalesce)(E??[]);return(0,d.sortEditsByYieldTo)(k)})}getInitialActiveEditIndex(g,h){const p=this._configService.getValue(e.defaultProviderConfig,{resource:g.uri});for(const[b,w]of Object.entries(p)){const E=h.findIndex(k=>w===k.providerId&&k.handledMimeType&&(0,y.matchesMimeType)(b,[k.handledMimeType]));if(E>=0)return E}return 0}extractDataTransferData(g){return be(this,void 0,void 0,function*(){if(!g.dataTransfer)return new y.VSDataTransfer;const h=(0,S.toExternalVSDataTransfer)(g.dataTransfer);if(this.treeItemsTransfer.hasData(v.DraggedTreeItemsIdentifier.prototype)){const p=this.treeItemsTransfer.getData(v.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(p))for(const b of p){const w=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(b.identifier);if(w)for(const[E,k]of w)h.replace(E,k)}}return h})}};e.DropIntoEditorController=c,c.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=c=o=Ie([ge(1,f.IInstantiationService),ge(2,t.IConfigurationService),ge(3,_.ILanguageFeaturesService),ge(4,C.ITreeViewsDnDService)],c)}),define(te[890],ie([1,0,13,14,19,36,9,6,2,10,21,16,33,12,5,22,37,32,685,15,18,31,74,59,457]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new l.RawContextKey("LinkedEditingInputVisible",!1);const p="linked-editing-decoration";let b=h=class extends _.Disposable{static get(R){return R.getContribution(h.ID)}constructor(R,B,T,N,A){super(),this.languageConfigurationService=N,this._syncRangesToken=0,this._localToDispose=this._register(new _.DisposableStore),this._editor=R,this._providers=T.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(B),this._debounceInformation=A.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new _.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(P=>{(P.hasChanged(69)||P.hasChanged(92))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(R){const B=this._editor.getModel(),T=B!==null&&(this._editor.getOption(69)||this._editor.getOption(92))&&this._providers.has(B);if(T===this._enabled&&!R||(this._enabled=T,this.clearRanges(),this._localToDispose.clear(),!T||B===null))return;this._localToDispose.add(m.Event.runAndSubscribe(B.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(B.getLanguageId()).getWordDefinition()}));const N=new I.Delayer(this._debounceInformation.get(B)),A=()=>{var x;this._rangeUpdateTriggerPromise=N.trigger(()=>this.updateRanges(),(x=this._debounceDuration)!==null&&x!==void 0?x:this._debounceInformation.get(B))},P=new I.Delayer(0),O=x=>{this._rangeSyncTriggerPromise=P.trigger(()=>this._syncRanges(x))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{A()})),this._localToDispose.add(this._editor.onDidChangeModelContent(x=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const W=this._currentDecorations.getRange(0);if(W&&x.changes.every(U=>W.intersectRanges(U.range))){O(this._syncRangesToken);return}}A()})),this._localToDispose.add({dispose:()=>{N.dispose(),P.dispose()}}),this.updateRanges()}_syncRanges(R){if(!this._editor.hasModel()||R!==this._syncRangesToken||this._currentDecorations.length===0)return;const B=this._editor.getModel(),T=this._currentDecorations.getRange(0);if(!T||T.startLineNumber!==T.endLineNumber)return this.clearRanges();const N=B.getValueInRange(T);if(this._currentWordPattern){const P=N.match(this._currentWordPattern);if((P?P[0].length:0)!==N.length)return this.clearRanges()}const A=[];for(let P=1,O=this._currentDecorations.length;P<O;P++){const x=this._currentDecorations.getRange(P);if(x)if(x.startLineNumber!==x.endLineNumber)A.push({range:x,text:N});else{let W=B.getValueInRange(x),U=N,F=x.startColumn,G=x.endColumn;const Y=v.commonPrefixLength(W,U);F+=Y,W=W.substr(Y),U=U.substr(Y);const ne=v.commonSuffixLength(W,U);G-=ne,W=W.substr(0,W.length-ne),U=U.substr(0,U.length-ne),(F!==G||U.length!==0)&&A.push({range:new t.Range(x.startLineNumber,F,x.endLineNumber,G),text:U})}}if(A.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const P=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",A),this._editor._getViewModel().setPrevEditOperationType(P)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(R=!1){return be(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const B=this._editor.getPosition();if(!this._enabled&&!R||this._editor.getSelections().length>1){this.clearRanges();return}const T=this._editor.getModel(),N=T.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===N){if(B.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const P=this._currentDecorations.getRange(0);if(P&&P.containsPosition(B))return}}this.clearRanges(),this._currentRequestPosition=B,this._currentRequestModelVersion=N;const A=(0,I.createCancelablePromise)(P=>be(this,void 0,void 0,function*(){try{const O=new g.StopWatch(!1),x=yield k(this._providers,T,B,P);if(this._debounceInformation.update(T,O.elapsed()),A!==this._currentRequest||(this._currentRequest=null,N!==T.getVersionId()))return;let W=[];x?.ranges&&(W=x.ranges),this._currentWordPattern=x?.wordPattern||this._languageWordPattern;let U=!1;for(let G=0,Y=W.length;G<Y;G++)if(t.Range.containsPosition(W[G],B)){if(U=!0,G!==0){const ne=W[G];W.splice(G,1),W.unshift(ne)}break}if(!U){this.clearRanges();return}const F=W.map(G=>({range:G,options:h.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(F),this._syncRangesToken++}catch(O){(0,S.isCancellationError)(O)||(0,S.onUnexpectedError)(O),(this._currentRequest===A||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=A,A})}};e.LinkedEditingContribution=b,b.ID="editor.contrib.linkedEditing",b.DECORATION=u.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:p}),e.LinkedEditingContribution=b=h=Ie([ge(1,l.IContextKeyService),ge(2,o.ILanguageFeaturesService),ge(3,f.ILanguageConfigurationService),ge(4,a.ILanguageFeatureDebounceService)],b);class w extends s.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:d.localize(0,null),alias:"Start Linked Editing",precondition:l.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(R,B){const T=R.get(i.ICodeEditorService),[N,A]=Array.isArray(B)&&B||[void 0,void 0];return C.URI.isUri(N)&&n.Position.isIPosition(A)?T.openCodeEditor({resource:N},T.getActiveCodeEditor()).then(P=>{P&&(P.setPosition(A),P.invokeWithinContext(O=>(this.reportTelemetry(O,P),this.run(O,P))))},S.onUnexpectedError):super.runCommand(R,B)}run(R,B){const T=b.get(B);return T?Promise.resolve(T.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=w;const E=s.EditorCommand.bindToContribution(b.get);(0,s.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:M=>M.clearRanges(),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function k(M,R,B,T){const N=M.ordered(R);return(0,I.first)(N.map(A=>()=>be(this,void 0,void 0,function*(){try{return yield A.provideLinkedEditingRanges(R,B,T)}catch(P){(0,S.onUnexpectedExternalError)(P);return}})),A=>!!A&&L.isNonEmptyArray(A?.ranges))}e.editorLinkedEditingBackground=(0,c.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},d.localize(1,null)),(0,s.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(M,R,B)=>{const{linkedEditingRangeProvider:T}=M.get(o.ILanguageFeaturesService);return k(T,R,B,y.CancellationToken.None)}),(0,s.registerEditorContribution)(b.ID,b,1),(0,s.registerEditorAction)(w)}),define(te[891],ie([1,0,14,19,9,57,2,54,17,46,59,21,16,37,74,18,184,752,686,48,55,458]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let a=c=class extends S.Disposable{static get(E){return E.getContribution(c.ID)}constructor(E,k,M,R,B){super(),this.editor=E,this.openerService=k,this.notificationService=M,this.languageFeaturesService=R,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=B.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new L.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const T=this._register(new u.ClickLinkGesture(E));this._register(T.onMouseMoveOrRelevantKeyDown(([N,A])=>{this._onEditorMouseMove(N,A)})),this._register(T.onExecute(N=>{this.onEditorMouseUp(N)})),this._register(T.onCancel(N=>{this.cleanUpActiveLinkDecoration()})),this._register(E.onDidChangeConfiguration(N=>{N.hasChanged(70)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(E.onDidChangeModelContent(N=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(E.onDidChangeModel(N=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(E.onDidChangeModelLanguage(N=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(N=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return be(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(70))return;const E=this.editor.getModel();if(!E.isTooLargeForSyncing()&&this.providers.has(E)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,L.createCancelablePromise)(k=>(0,f.getLinks)(this.providers,E,k));try{const k=new C.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(E,k.elapsed()),E.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(k){(0,y.onUnexpectedError)(k)}finally{this.computePromise=null}}})}updateDecorations(E){const k=this.editor.getOption(77)==="altKey",M=[],R=Object.keys(this.currentOccurrences);for(const T of R){const N=this.currentOccurrences[T];M.push(N.decorationId)}const B=[];if(E)for(const T of E)B.push(h.decoration(T,k));this.editor.changeDecorations(T=>{const N=T.deltaDecorations(M,B);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let A=0,P=N.length;A<P;A++){const O=new h(E[A],N[A]);this.currentOccurrences[O.decorationId]=O}})}_onEditorMouseMove(E,k){const M=this.editor.getOption(77)==="altKey";if(this.isEnabled(E,k)){this.cleanUpActiveLinkDecoration();const R=this.getLinkOccurrence(E.target.position);R&&this.editor.changeDecorations(B=>{R.activate(B,M),this.activeLinkDecorationId=R.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const E=this.editor.getOption(77)==="altKey";if(this.activeLinkDecorationId){const k=this.currentOccurrences[this.activeLinkDecorationId];k&&this.editor.changeDecorations(M=>{k.deactivate(M,E)}),this.activeLinkDecorationId=null}}onEditorMouseUp(E){if(!this.isEnabled(E))return;const k=this.getLinkOccurrence(E.target.position);k&&this.openLinkOccurrence(k,E.hasSideBySideModifier,!0)}openLinkOccurrence(E,k,M=!1){if(!this.openerService)return;const{link:R}=E;R.resolve(I.CancellationToken.None).then(B=>{if(typeof B=="string"&&this.editor.hasModel()){const T=this.editor.getModel().uri;if(T.scheme===m.Schemas.file&&B.startsWith(`${m.Schemas.file}:`)){const N=s.URI.parse(B);if(N.scheme===m.Schemas.file){const A=v.originalFSPath(N);let P=null;A.startsWith("/./")?P=`.${A.substr(1)}`:A.startsWith("//./")&&(P=`.${A.substr(2)}`),P&&(B=v.joinPath(T,P))}}}return this.openerService.open(B,{openToSide:k,fromUserGesture:M,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},B=>{const T=B instanceof Error?B.message:B;T==="invalid"?this.notificationService.warn(d.localize(0,null,R.url.toString())):T==="missing"?this.notificationService.warn(d.localize(1,null)):(0,y.onUnexpectedError)(B)})}getLinkOccurrence(E){if(!this.editor.hasModel()||!E)return null;const k=this.editor.getModel().getDecorationsInRange({startLineNumber:E.lineNumber,startColumn:E.column,endLineNumber:E.lineNumber,endColumn:E.column},0,!0);for(const M of k){const R=this.currentOccurrences[M.id];if(R)return R}return null}isEnabled(E,k){return!!(E.target.type===6&&(E.hasTriggerModifier||k&&k.keyCodeIsTriggerKey))}stop(){var E;this.computeLinks.cancel(),this.activeLinksList&&((E=this.activeLinksList)===null||E===void 0||E.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=a,a.ID="editor.linkDetector",e.LinkDetector=a=c=Ie([ge(1,o.IOpenerService),ge(2,l.INotificationService),ge(3,r.ILanguageFeaturesService),ge(4,t.ILanguageFeatureDebounceService)],a);const g={general:n.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:n.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class h{static decoration(E,k){return{range:E.range,options:h._getOptions(E,k,!1)}}static _getOptions(E,k,M){const R=Object.assign({},M?g.active:g.general);return R.hoverMessage=p(E,k),R}constructor(E,k){this.link=E,this.decorationId=k}activate(E,k){E.changeDecorationOptions(this.decorationId,h._getOptions(this.link,k,!0))}deactivate(E,k){E.changeDecorationOptions(this.decorationId,h._getOptions(this.link,k,!1))}}function p(w,E){const k=w.url&&/^command:/i.test(w.url.toString()),M=w.tooltip?w.tooltip:k?d.localize(2,null):d.localize(3,null),R=E?_.isMacintosh?d.localize(4,null):d.localize(5,null):_.isMacintosh?d.localize(6,null):d.localize(7,null);if(w.url){let B="";if(/^command:/i.test(w.url.toString())){const N=w.url.toString().match(/^command:([^?#]+)/);if(N){const A=N[1];B=d.localize(8,null,A)}}return new D.MarkdownString("",!0).appendLink(w.url.toString(!0).replace(/ /g,"%20"),M,B).appendMarkdown(` (${R})`)}else return new D.MarkdownString().appendText(`${M} (${R})`)}class b extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:d.localize(9,null),alias:"Open Link",precondition:void 0})}run(E,k){const M=a.get(k);if(!M||!k.hasModel())return;const R=k.getSelections();for(const B of R){const T=M.getLinkOccurrence(B.getEndPosition());T&&M.openLinkOccurrence(T,!1)}}}(0,i.registerEditorContribution)(a.ID,a,1),(0,i.registerEditorAction)(b)}),define(te[892],ie([1,0,2,18,187,14,253,297,296,32,9,303,43]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var n;(function(c){c.OUTLINE_MODEL="outlineModel",c.FOLDING_PROVIDER_MODEL="foldingProviderModel",c.INDENTATION_MODEL="indentationModel"})(n||(n={}));var t;(function(c){c[c.VALID=0]="VALID",c[c.INVALID=1]="INVALID",c[c.CANCELED=2]="CANCELED"})(t||(t={}));let r=class extends L.Disposable{constructor(a,g,h,p){super(),this._editor=a,this._languageConfigurationService=g,this._languageFeaturesService=h,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new D.Delayer(300)),this._updateOperation=this._register(new L.DisposableStore);const b=new f(h),w=new o(this._editor,h),E=new l(this._editor,g);switch(p){case n.OUTLINE_MODEL:this._modelProviders.push(b),this._modelProviders.push(w),this._modelProviders.push(E);break;case n.FOLDING_PROVIDER_MODEL:this._modelProviders.push(w),this._modelProviders.push(E);break;case n.INDENTATION_MODEL:this._modelProviders.push(E);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(a,g,h){return be(this,void 0,void 0,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>be(this,void 0,void 0,function*(){for(const p of this._modelProviders){const{statusPromise:b,modelPromise:w}=p.computeStickyModel(a,g,h);this._modelPromise=w;const E=yield b;if(this._modelPromise!==w)return null;switch(E){case t.CANCELED:return this._updateOperation.clear(),null;case t.VALID:return p.stickyModel}}return null})).catch(p=>((0,C.onUnexpectedError)(p),null))})}};e.StickyModelProvider=r,e.StickyModelProvider=r=Ie([ge(1,v.ILanguageConfigurationService),ge(2,I.ILanguageFeaturesService)],r);class u{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,t.INVALID}computeStickyModel(a,g,h){if(h.isCancellationRequested||!this.isProviderValid(a))return{statusPromise:this._invalid(),modelPromise:null};const p=(0,D.createCancelablePromise)(b=>this.createModelFromProvider(a,g,b));return{statusPromise:p.then(b=>this.isModelValid(b)?h.isCancellationRequested?t.CANCELED:(this._stickyModel=this.createStickyModel(a,g,h,b),t.VALID):this._invalid()).then(void 0,b=>((0,C.onUnexpectedError)(b),t.CANCELED)),modelPromise:p}}isModelValid(a){return!0}isProviderValid(a){return!0}}let f=class extends u{constructor(a){super(),this._languageFeaturesService=a}createModelFromProvider(a,g,h){return y.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,a,h)}createStickyModel(a,g,h,p){var b;const{stickyOutlineElement:w,providerID:E}=this._stickyModelFromOutlineModel(p,(b=this._stickyModel)===null||b===void 0?void 0:b.outlineProviderId);return new s.StickyModel(a.uri,g,w,E)}isModelValid(a){return a&&a.children.size>0}_stickyModelFromOutlineModel(a,g){let h;if(i.Iterable.first(a.children.values())instanceof y.OutlineGroup){const E=i.Iterable.find(a.children.values(),k=>k.id===g);if(E)h=E.children;else{let k="",M=-1,R;for(const[B,T]of a.children.entries()){const N=this._findSumOfRangesOfGroup(T);N>M&&(R=T,M=N,k=T.id)}g=k,h=R.children}}else h=a.children;const p=[],b=Array.from(h.values()).sort((E,k)=>{const M=new s.StickyRange(E.symbol.range.startLineNumber,E.symbol.range.endLineNumber),R=new s.StickyRange(k.symbol.range.startLineNumber,k.symbol.range.endLineNumber);return this._comparator(M,R)});for(const E of b)p.push(this._stickyModelFromOutlineElement(E,E.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new s.StickyElement(void 0,p,void 0),providerID:g}}_stickyModelFromOutlineElement(a,g){const h=[];for(const b of a.children.values())if(b.symbol.selectionRange.startLineNumber!==b.symbol.range.endLineNumber)if(b.symbol.selectionRange.startLineNumber!==g)h.push(this._stickyModelFromOutlineElement(b,b.symbol.selectionRange.startLineNumber));else for(const w of b.children.values())h.push(this._stickyModelFromOutlineElement(w,b.symbol.selectionRange.startLineNumber));h.sort((b,w)=>this._comparator(b.range,w.range));const p=new s.StickyRange(a.symbol.selectionRange.startLineNumber,a.symbol.range.endLineNumber);return new s.StickyElement(p,h,void 0)}_comparator(a,g){return a.startLineNumber!==g.startLineNumber?a.startLineNumber-g.startLineNumber:g.endLineNumber-a.endLineNumber}_findSumOfRangesOfGroup(a){let g=0;for(const h of a.children.values())g+=this._findSumOfRangesOfGroup(h);return a instanceof y.OutlineElement?g+a.symbol.range.endLineNumber-a.symbol.selectionRange.startLineNumber:g}};f=Ie([ge(0,I.ILanguageFeaturesService)],f);class d extends u{constructor(a){super(),this._foldingLimitReporter=new S.RangesLimitReporter(a)}createStickyModel(a,g,h,p){const b=this._fromFoldingRegions(p);return new s.StickyModel(a.uri,g,b,void 0)}isModelValid(a){return a!==null}_fromFoldingRegions(a){const g=a.length,h=[],p=new s.StickyElement(void 0,[],void 0);for(let b=0;b<g;b++){const w=a.getParentIndex(b);let E;w!==-1?E=h[w]:E=p;const k=new s.StickyElement(new s.StickyRange(a.getStartLineNumber(b),a.getEndLineNumber(b)+1),[],E);E.children.push(k),h.push(k)}return p}}let l=class extends d{constructor(a,g){super(a),this._languageConfigurationService=g}createModelFromProvider(a,g,h){return new _.IndentRangeProvider(a,this._languageConfigurationService,this._foldingLimitReporter).compute(h)}};l=Ie([ge(1,v.ILanguageConfigurationService)],l);let o=class extends d{constructor(a,g){super(a),this._languageFeaturesService=g}isProviderValid(a){return S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,a).length>0}createModelFromProvider(a,g,h){const p=S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,a);return new m.SyntaxRangeProvider(a,p,()=>this.createModelFromProvider(a,g,h),this._foldingLimitReporter,void 0).compute(h)}};o=Ie([ge(1,I.ILanguageFeaturesService)],o)}),define(te[893],ie([1,0,2,18,19,14,13,6,32,892]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class C{constructor(n,t,r){this.startLineNumber=n,this.endLineNumber=t,this.nestingDepth=r}}e.StickyLineCandidate=C;let s=class extends L.Disposable{constructor(n,t,r){super(),this._languageFeaturesService=t,this._languageConfigurationService=r,this._onDidChangeStickyScroll=this._register(new m.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=n,this._sessionStore=this._register(new L.DisposableStore),this._updateSoon=this._register(new D.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(114)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(114),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new v.StickyModelProvider(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var n;return(n=this._model)===null||n===void 0?void 0:n.version}update(){var n;return be(this,void 0,void 0,function*(){(n=this._cts)===null||n===void 0||n.dispose(!0),this._cts=new y.CancellationTokenSource,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(n){return be(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=this._editor.getModel(),r=t.getVersionId(),u=yield this._stickyModelProvider.update(t,r,n);n.isCancellationRequested||(this._model=u)})}updateIndex(n){return n===-1?n=0:n<0&&(n=-n-2),n}getCandidateStickyLinesIntersectingFromStickyModel(n,t,r,u,f){if(t.children.length===0)return;let d=f;const l=[];for(let a=0;a<t.children.length;a++){const g=t.children[a];g.range&&l.push(g.range.startLineNumber)}const o=this.updateIndex((0,S.binarySearch)(l,n.startLineNumber,(a,g)=>a-g)),c=this.updateIndex((0,S.binarySearch)(l,n.startLineNumber+u,(a,g)=>a-g));for(let a=o;a<=c;a++){const g=t.children[a];if(!g)return;if(g.range){const h=g.range.startLineNumber,p=g.range.endLineNumber;n.startLineNumber<=p+1&&h-1<=n.endLineNumber&&h!==d&&(d=h,r.push(new C(h,p-1,u+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(n,g,r,u+1,h))}else this.getCandidateStickyLinesIntersectingFromStickyModel(n,g,r,u,f)}}getCandidateStickyLinesIntersecting(n){var t,r;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let u=[];this.getCandidateStickyLinesIntersectingFromStickyModel(n,this._model.element,u,0,-1);const f=(r=this._editor._getViewModel())===null||r===void 0?void 0:r.getHiddenAreas();if(f)for(const d of f)u=u.filter(l=>!(l.startLineNumber>=d.startLineNumber&&l.endLineNumber<=d.endLineNumber+1));return u}};e.StickyLineCandidateProvider=s,e.StickyLineCandidateProvider=s=Ie([ge(1,I.ILanguageFeaturesService),ge(2,_.ILanguageConfigurationService)],s)}),define(te[894],ie([1,0,7,90,13,2,27,249,161,12,101,149,114,370,465]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class t{constructor(h,p,b,w=null){this.startLineNumbers=h,this.endLineNumbers=p,this.lastLineRelativePosition=b,this.showEndForLine=w}equals(h){return!!h&&this.lastLineRelativePosition===h.lastLineRelativePosition&&this.showEndForLine===h.showEndForLine&&(0,y.equals)(this.startLineNumbers,h.startLineNumbers)&&(0,y.equals)(this.endLineNumbers,h.endLineNumbers)}}e.StickyScrollWidgetState=t;const r=(0,I.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:g=>g}),u="data-sticky-line-index",f="data-sticky-is-line",d="data-sticky-is-line-number",l="data-sticky-is-folding-icon";class o extends D.Disposable{constructor(h){super(),this._editor=h,this._foldingIconStore=new D.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(66),this._stickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",h instanceof _.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const p=()=>{this._linesDomNode.style.left=this._editor.getOption(114).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(b=>{b.hasChanged(114)&&p(),b.hasChanged(66)&&(this._lineHeight=this._editor.getOption(66))})),this._register(this._editor.onDidScrollChange(b=>{b.scrollLeftChanged&&p(),b.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{p(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),p(),this._register(this._editor.onDidLayoutChange(b=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getStickyLineForLine(h){return this._stickyLines.find(p=>p.lineNumber===h)}getCurrentLines(){return this._lineNumbers}setState(h,p,b=1/0){if((!this._previousState&&!h||this._previousState&&this._previousState.equals(h))&&b===1/0)return;this._previousState=h;const w=this._stickyLines;if(this._clearStickyWidget(),!h||!this._editor._getViewModel())return;if(h.startLineNumbers.length*this._lineHeight+h.lastLineRelativePosition>0){this._lastLineRelativePosition=h.lastLineRelativePosition;const k=[...h.startLineNumbers];h.showEndForLine!==null&&(k[h.showEndForLine]=h.endLineNumbers[h.showEndForLine]),this._lineNumbers=k}else this._lastLineRelativePosition=0,this._lineNumbers=[];this._renderRootNode(w,p,b)}_updateWidgetWidth(){const h=this._editor.getLayoutInfo(),p=h.contentLeft;this._lineNumbersDomNode.style.width=`${p}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-h.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${h.width-h.verticalScrollbarWidth}px`}_clearStickyWidget(){this._stickyLines=[],this._foldingIconStore.clear(),L.clearNode(this._lineNumbersDomNode),L.clearNode(this._linesDomNode),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(h){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${h?.5:0}s`)}_setFoldingIconsVisibility(h){for(const p of this._stickyLines){const b=p.foldingIcon;b&&b.setVisible(h?!0:b.isCollapsed)}}_renderRootNode(h,p,b=1/0){return be(this,void 0,void 0,function*(){const w=this._editor.getLayoutInfo();for(const[k,M]of this._lineNumbers.entries()){const R=h[k],B=M>=b||R?.lineNumber!==M?this._renderChildNode(k,M,p,w):this._updateTopAndZIndexOfStickyLine(R);B&&(this._linesDomNode.appendChild(B.lineDomNode),this._lineNumbersDomNode.appendChild(B.lineNumberDomNode),this._stickyLines.push(B))}p&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const E=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;if(E===0){this._clearStickyWidget();return}this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${E}px`,this._linesDomNodeScrollable.style.height=`${E}px`,this._rootDomNode.style.height=`${E}px`,this._rootDomNode.style.marginLeft="0px",this._updateMinContentWidth(),this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(109)==="mouseover"&&(this._foldingIconStore.add(L.addDisposableListener(this._lineNumbersDomNode,L.EventType.MOUSE_ENTER,p=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(L.addDisposableListener(this._lineNumbersDomNode,L.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(h,p,b,w){const E=this._editor._getViewModel();if(!E)return;const k=E.coordinatesConverter.convertModelPositionToViewPosition(new v.Position(p,1)).lineNumber,M=E.getViewLineRenderingData(k),R=this._editor.getOption(67);let B;try{B=s.LineDecoration.filter(M.inlineDecorations,k,M.minColumn,M.maxColumn)}catch{B=[]}const T=new i.RenderLineInput(!0,!0,M.content,M.continuesWithWrappedLine,M.isBasicASCII,M.containsRTL,0,M.tokens,B,M.tabSize,M.startVisibleColumn,1,1,1,500,"none",!0,!0,null),N=new C.StringBuilder(2e3),A=(0,i.renderViewLine)(T,N);let P;r?P=r.createHTML(N.build()):P=N.build();const O=document.createElement("span");O.setAttribute(u,String(h)),O.setAttribute(f,""),O.setAttribute("role","listitem"),O.tabIndex=0,O.className="sticky-line-content",O.classList.add(`stickyLine${p}`),O.style.lineHeight=`${this._lineHeight}px`,O.innerHTML=P;const x=document.createElement("span");x.setAttribute(u,String(h)),x.setAttribute(d,""),x.className="sticky-line-number",x.style.lineHeight=`${this._lineHeight}px`;const W=w.contentLeft;x.style.width=`${W}px`;const U=document.createElement("span");R.renderType===1||R.renderType===3&&p%10===0?U.innerText=p.toString():R.renderType===2&&(U.innerText=Math.abs(p-this._editor.getPosition().lineNumber).toString()),U.className="sticky-line-number-inner",U.style.lineHeight=`${this._lineHeight}px`,U.style.width=`${w.lineNumbersWidth}px`,U.style.paddingLeft=`${w.lineNumbersLeft}px`,x.appendChild(U);const F=this._renderFoldingIconForLine(b,p);F&&x.appendChild(F.domNode),this._editor.applyFontInfo(O),this._editor.applyFontInfo(U),x.style.lineHeight=`${this._lineHeight}px`,O.style.lineHeight=`${this._lineHeight}px`,x.style.height=`${this._lineHeight}px`,O.style.height=`${this._lineHeight}px`;const G=new c(h,p,O,x,F,A.characterMapping);return this._updateTopAndZIndexOfStickyLine(G)}_updateTopAndZIndexOfStickyLine(h){var p;const b=h.index,w=h.lineDomNode,E=h.lineNumberDomNode,k=b===this._lineNumbers.length-1,M="0",R="1";w.style.zIndex=k?M:R,E.style.zIndex=k?M:R;const B=`${b*this._lineHeight+this._lastLineRelativePosition+(!((p=h.foldingIcon)===null||p===void 0)&&p.isCollapsed?1:0)}px`,T=`${b*this._lineHeight}px`;return w.style.top=k?B:T,E.style.top=k?B:T,h}_renderFoldingIconForLine(h,p){const b=this._editor.getOption(109);if(!h||b==="never")return;const w=h.regions,E=w.findRange(p),k=w.getStartLineNumber(E);if(!(p===k))return;const R=w.isCollapsed(E),B=new a(R,k,w.getEndLineNumber(E),this._lineHeight);return B.setVisible(this._isOnGlyphMargin?!0:R||b==="always"),B.domNode.setAttribute(l,""),B}_updateMinContentWidth(){this._minContentWidthInPx=0;for(const h of this._stickyLines)h.lineDomNode.scrollWidth>this._minContentWidthInPx&&(this._minContentWidthInPx=h.lineDomNode.scrollWidth);this._minContentWidthInPx+=this._editor.getLayoutInfo().verticalScrollbarWidth}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(h){0<=h&&h<this._stickyLines.length&&this._stickyLines[h].lineDomNode.focus()}getEditorPositionFromNode(h){if(!h||h.children.length>0)return null;const p=this._getRenderedStickyLineFromChildDomNode(h);if(!p)return null;const b=(0,m.getColumnOfNodeOffset)(p.characterMapping,h,0);return new v.Position(p.lineNumber,b)}getLineNumberFromChildDomNode(h){var p,b;return(b=(p=this._getRenderedStickyLineFromChildDomNode(h))===null||p===void 0?void 0:p.lineNumber)!==null&&b!==void 0?b:null}_getRenderedStickyLineFromChildDomNode(h){const p=this.getLineIndexFromChildDomNode(h);return p===null||p<0||p>=this._stickyLines.length?null:this._stickyLines[p]}getLineIndexFromChildDomNode(h){const p=this._getAttributeValue(h,u);return p?parseInt(p,10):null}isInStickyLine(h){return this._getAttributeValue(h,f)!==void 0}isInFoldingIconDomNode(h){return this._getAttributeValue(h,l)!==void 0}_getAttributeValue(h,p){for(;h&&h!==this._rootDomNode;){const b=h.getAttribute(p);if(b!==null)return b;h=h.parentElement}}}e.StickyScrollWidget=o;class c{constructor(h,p,b,w,E,k){this.index=h,this.lineNumber=p,this.lineDomNode=b,this.lineNumberDomNode=w,this.foldingIcon=E,this.characterMapping=k}}class a{constructor(h,p,b,w){this.isCollapsed=h,this.foldingStartLine=p,this.foldingEndLine=b,this.dimension=w,this.domNode=document.createElement("div"),this.domNode.style.width=`${w}px`,this.domNode.style.height=`${w}px`,this.domNode.className=S.ThemeIcon.asClassName(h?n.foldingCollapsedIcon:n.foldingExpandedIcon)}setVisible(h){this.domNode.style.cursor=h?"pointer":"default",this.domNode.style.opacity=h?"1":"0"}}}),define(te[895],ie([1,0,7,113,14,9,6,2,139,10,161,865,703,15,8,89,31,86,23,223,133,348,860,104,45,171,466,248]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,u.registerColor)("editorSuggestWidget.background",{dark:u.editorWidgetBackground,light:u.editorWidgetBackground,hcDark:u.editorWidgetBackground,hcLight:u.editorWidgetBackground},i.localize(0,null)),(0,u.registerColor)("editorSuggestWidget.border",{dark:u.editorWidgetBorder,light:u.editorWidgetBorder,hcDark:u.editorWidgetBorder,hcLight:u.editorWidgetBorder},i.localize(1,null));const b=(0,u.registerColor)("editorSuggestWidget.foreground",{dark:u.editorForeground,light:u.editorForeground,hcDark:u.editorForeground,hcLight:u.editorForeground},i.localize(2,null));(0,u.registerColor)("editorSuggestWidget.selectedForeground",{dark:u.quickInputListFocusForeground,light:u.quickInputListFocusForeground,hcDark:u.quickInputListFocusForeground,hcLight:u.quickInputListFocusForeground},i.localize(3,null)),(0,u.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:u.quickInputListFocusIconForeground,light:u.quickInputListFocusIconForeground,hcDark:u.quickInputListFocusIconForeground,hcLight:u.quickInputListFocusIconForeground},i.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,u.registerColor)("editorSuggestWidget.selectedBackground",{dark:u.quickInputListFocusBackground,light:u.quickInputListFocusBackground,hcDark:u.quickInputListFocusBackground,hcLight:u.quickInputListFocusBackground},i.localize(5,null)),(0,u.registerColor)("editorSuggestWidget.highlightForeground",{dark:u.listHighlightForeground,light:u.listHighlightForeground,hcDark:u.listHighlightForeground,hcLight:u.listHighlightForeground},i.localize(6,null)),(0,u.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:u.listFocusHighlightForeground,light:u.listFocusHighlightForeground,hcDark:u.listFocusHighlightForeground,hcLight:u.listFocusHighlightForeground},i.localize(7,null)),(0,u.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,u.transparent)(b,.5),light:(0,u.transparent)(b,.5),hcDark:(0,u.transparent)(b,.5),hcLight:(0,u.transparent)(b,.5)},i.localize(8,null));class w{constructor(R,B){this._service=R,this._key=`suggestWidget.size/${B.getEditorType()}/${B instanceof C.EmbeddedCodeEditorWidget}`}restore(){var R;const B=(R=this._service.get(this._key,0))!==null&&R!==void 0?R:"";try{const T=JSON.parse(B);if(L.Dimension.is(T))return L.Dimension.lift(T)}catch{}}store(R){this._service.store(this._key,JSON.stringify(R),0,1)}reset(){this._service.remove(this._key,0)}}let E=p=class{constructor(R,B,T,N,A){this.editor=R,this._storageService=B,this._state=0,this._isAuto=!1,this._pendingLayout=new m.MutableDisposable,this._pendingShowDetails=new m.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new y.TimeoutTimer,this._disposables=new m.DisposableStore,this._onDidSelect=new S.PauseableEmitter,this._onDidFocus=new S.PauseableEmitter,this._onDidHide=new S.Emitter,this._onDidShow=new S.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new l.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new k(this,R),this._persistedSize=new w(B,R);class P{constructor(Y,ne,se=!1,J=!1){this.persistedSize=Y,this.currentSize=ne,this.persistHeight=se,this.persistWidth=J}}let O;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),O=new P(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(G=>{var Y,ne,se,J;if(this._resize(G.dimension.width,G.dimension.height),O&&(O.persistHeight=O.persistHeight||!!G.north||!!G.south,O.persistWidth=O.persistWidth||!!G.east||!!G.west),!!G.done){if(O){const{itemHeight:q,defaultSize:H}=this.getLayoutInfo(),V=Math.round(q/2);let{width:Z,height:ee}=this.element.size;(!O.persistHeight||Math.abs(O.currentSize.height-ee)<=V)&&(ee=(ne=(Y=O.persistedSize)===null||Y===void 0?void 0:Y.height)!==null&&ne!==void 0?ne:H.height),(!O.persistWidth||Math.abs(O.currentSize.width-Z)<=V)&&(Z=(J=(se=O.persistedSize)===null||se===void 0?void 0:se.width)!==null&&J!==void 0?J:H.width),this._persistedSize.store(new L.Dimension(Z,ee))}this._contentWidget.unlockPreference(),O=void 0}})),this._messageElement=L.append(this.element.domNode,L.$(".message")),this._listElement=L.append(this.element.domNode,L.$(".tree"));const x=this._disposables.add(A.createInstance(c.SuggestDetailsWidget,this.editor));x.onDidClose(this.toggleDetails,this,this._disposables),this._details=new c.SuggestDetailsOverlay(x,this.editor);const W=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);W();const U=A.createInstance(a.ItemRenderer,this.editor);this._disposables.add(U),this._disposables.add(U.onDidToggleDetails(()=>this.toggleDetails())),this._list=new I.List("SuggestWidget",this._listElement,{getHeight:G=>this.getLayoutInfo().itemHeight,getTemplateId:G=>"suggestion"},[U],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>i.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:G=>{let Y=G.textLabel;if(typeof G.completion.label!="string"){const{detail:q,description:H}=G.completion.label;q&&H?Y=i.localize(12,null,Y,q,H):q?Y=i.localize(13,null,Y,q):H&&(Y=i.localize(14,null,Y,H))}if(!G.isResolved||!this._isDetailsVisible())return Y;const{documentation:ne,detail:se}=G.completion,J=v.format("{0}{1}",se||"",ne?typeof ne=="string"?ne:ne.value:"");return i.localize(15,null,Y,J)}}}),this._list.style((0,g.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:u.activeContrastBorder})),this._status=A.createInstance(s.SuggestWidgetStatus,this.element.domNode,o.suggestWidgetStatusbarMenu);const F=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);F(),this._disposables.add(N.onDidColorThemeChange(G=>this._onThemeChange(G))),this._onThemeChange(N.getColorTheme()),this._disposables.add(this._list.onMouseDown(G=>this._onListMouseDownOrTap(G))),this._disposables.add(this._list.onTap(G=>this._onListMouseDownOrTap(G))),this._disposables.add(this._list.onDidChangeSelection(G=>this._onListSelection(G))),this._disposables.add(this._list.onDidChangeFocus(G=>this._onListFocus(G))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(G=>{G.hasChanged(117)&&(F(),W())})),this._ctxSuggestWidgetVisible=o.Context.Visible.bindTo(T),this._ctxSuggestWidgetDetailsVisible=o.Context.DetailsVisible.bindTo(T),this._ctxSuggestWidgetMultipleSuggestions=o.Context.MultipleSuggestions.bindTo(T),this._ctxSuggestWidgetHasFocusedSuggestion=o.Context.HasFocusedSuggestion.bindTo(T),this._disposables.add(L.addStandardDisposableListener(this._details.widget.domNode,"keydown",G=>{this._onDetailsKeydown.fire(G)})),this._disposables.add(this.editor.onMouseDown(G=>this._onEditorMouseDown(G)))}dispose(){var R;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(R=this._loadingTimeout)===null||R===void 0||R.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(R){this._details.widget.domNode.contains(R.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(R.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(R){typeof R.element>"u"||typeof R.index>"u"||(R.browserEvent.preventDefault(),R.browserEvent.stopPropagation(),this._select(R.element,R.index))}_onListSelection(R){R.elements.length&&this._select(R.elements[0],R.indexes[0])}_select(R,B){const T=this._completionModel;T&&(this._onDidSelect.fire({item:R,index:B,model:T}),this.editor.focus())}_onThemeChange(R){this._details.widget.borderWidth=(0,f.isHighContrast)(R.type)?2:1}_onListFocus(R){var B;if(this._ignoreFocusEvents)return;if(!R.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const T=R.elements[0],N=R.indexes[0];T!==this._focusedItem&&((B=this._currentSuggestionDetails)===null||B===void 0||B.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=T,this._list.reveal(N),this._currentSuggestionDetails=(0,y.createCancelablePromise)(A=>be(this,void 0,void 0,function*(){const P=(0,y.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),O=A.onCancellationRequested(()=>P.dispose());try{return yield T.resolve(A)}finally{P.dispose(),O.dispose()}})),this._currentSuggestionDetails.then(()=>{N>=this._list.length||T!==this._list.element(N)||(this._ignoreFocusEvents=!0,this._list.splice(N,1,[T]),this._list.setFocus([N]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,a.getAriaId)(N)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:T,index:N,model:this._completionModel})}_setState(R){if(this._state!==R)switch(this._state=R,this.element.domNode.classList.toggle("frozen",R===4),this.element.domNode.classList.remove("message"),R){case 0:L.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=p.LOADING_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,h.status)(p.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=p.NO_SUGGESTIONS_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,h.status)(p.NO_SUGGESTIONS_MESSAGE);break;case 3:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 4:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 5:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(R,B){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!R,this._isAuto||(this._loadingTimeout=(0,y.disposableTimeout)(()=>this._setState(1),B)))}showSuggestions(R,B,T,N,A){var P,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(P=this._loadingTimeout)===null||P===void 0||P.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==R&&(this._completionModel=R),T&&this._state!==2&&this._state!==0){this._setState(4);return}const x=this._completionModel.items.length,W=x===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(x>1),W){this._setState(N?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(T?4:3),this._list.reveal(B,0),this._list.setFocus(A?[]:[B])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=L.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,c.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(R){this._pendingShowDetails.value=L.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingShowDetails.clear(),this._details.show(),R?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var R;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(R=this._loadingTimeout)===null||R===void 0||R.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const B=this._persistedSize.restore(),T=Math.ceil(this.getLayoutInfo().itemHeight*4.3);B&&B.height<T&&this._persistedSize.store(B.with(void 0,T))}isFrozen(){return this._state===4}_afterRender(R){if(R===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(R){var B,T,N;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const A=L.getClientArea(this.element.domNode.ownerDocument.body),P=this.getLayoutInfo();R||(R=P.defaultSize);let O=R.height,x=R.width;if(this._status.element.style.height=`${P.itemHeight}px`,this._state===2||this._state===1)O=P.itemHeight+P.borderHeight,x=P.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new L.Dimension(x,O),this._contentWidget.setPreference(2);else{const W=A.width-P.borderHeight-2*P.horizontalPadding;x>W&&(x=W);const U=this._completionModel?this._completionModel.stats.pLabelLen*P.typicalHalfwidthCharacterWidth:x,F=P.statusBarHeight+this._list.contentHeight+P.borderHeight,G=P.itemHeight+P.statusBarHeight,Y=L.getDomNodePagePosition(this.editor.getDomNode()),ne=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),se=Y.top+ne.top+ne.height,J=Math.min(A.height-se-P.verticalPadding,F),q=Y.top+ne.top-P.verticalPadding,H=Math.min(q,F);let V=Math.min(Math.max(H,J)+P.borderHeight,F);O===((B=this._cappedHeight)===null||B===void 0?void 0:B.capped)&&(O=this._cappedHeight.wanted),O<G&&(O=G),O>V&&(O=V);const Z=150;O>J||this._forceRenderingAbove&&q>Z?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),V=H):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),V=J),this.element.preferredSize=new L.Dimension(U,P.defaultSize.height),this.element.maxSize=new L.Dimension(W,V),this.element.minSize=new L.Dimension(220,G),this._cappedHeight=O===F?{wanted:(N=(T=this._cappedHeight)===null||T===void 0?void 0:T.wanted)!==null&&N!==void 0?N:R.height,capped:O}:void 0}this._resize(x,O)}_resize(R,B){const{width:T,height:N}=this.element.maxSize;R=Math.min(T,R),B=Math.min(N,B);const{statusBarHeight:A}=this.getLayoutInfo();this._list.layout(B-A,R),this._listElement.style.height=`${B-A}px`,this.element.layout(B,R),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var R;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((R=this._contentWidget.getPosition())===null||R===void 0?void 0:R.preference[0])===2)}getLayoutInfo(){const R=this.editor.getOption(50),B=(0,_.clamp)(this.editor.getOption(119)||R.lineHeight,8,1e3),T=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:B,N=this._details.widget.borderWidth,A=2*N;return{itemHeight:B,statusBarHeight:T,borderWidth:N,borderHeight:A,typicalHalfwidthCharacterWidth:R.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new L.Dimension(430,T+12*B+A)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(R){this._storageService.store("expandSuggestionDocs",R,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=E,E.LOADING_MESSAGE=i.localize(9,null),E.NO_SUGGESTIONS_MESSAGE=i.localize(10,null),e.SuggestWidget=E=p=Ie([ge(1,r.IStorageService),ge(2,n.IContextKeyService),ge(3,d.IThemeService),ge(4,t.IInstantiationService)],E);class k{constructor(R,B){this._widget=R,this._editor=B,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:R,width:B}=this._widget.element.size,{borderWidth:T,horizontalPadding:N}=this._widget.getLayoutInfo();return new L.Dimension(B+2*T+N,R+2*T)}afterRender(R){this._widget._afterRender(R)}setPreference(R){this._preferenceLocked||(this._preference=R)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(R){this._position=R}}e.SuggestContentWidget=k}),define(te[372],ie([1,0,49,37,29,712,31,23,470]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionHighlightDecorationOptions=e.getHighlightDecorationOptions=void 0;const _=(0,S.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},D.localize(0,null),!0);(0,S.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},D.localize(1,null),!0),(0,S.registerColor)("editor.wordHighlightTextBackground",{light:_,dark:_,hcDark:_,hcLight:_},D.localize(2,null),!0);const v=(0,S.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(3,null));(0,S.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(4,null)),(0,S.registerColor)("editor.wordHighlightTextBorder",{light:v,dark:v,hcDark:v,hcLight:v},D.localize(5,null));const C=(0,S.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.localize(6,null),!0),s=(0,S.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},D.localize(7,null),!0),i=(0,S.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:S.overviewRulerSelectionHighlightForeground,light:S.overviewRulerSelectionHighlightForeground,hcDark:S.overviewRulerSelectionHighlightForeground,hcLight:S.overviewRulerSelectionHighlightForeground},D.localize(8,null),!0),n=I.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,m.themeColorFromId)(s),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),t=I.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,m.themeColorFromId)(i),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),r=I.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,m.themeColorFromId)(S.overviewRulerSelectionHighlightForeground),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),u=I.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),f=I.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,m.themeColorFromId)(C),position:L.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}});function d(o){return o===y.DocumentHighlightKind.Write?n:o===y.DocumentHighlightKind.Text?t:f}e.getHighlightDecorationOptions=d;function l(o){return o?u:r}e.getSelectionHighlightDecorationOptions=l,(0,m.registerThemingParticipant)((o,c)=>{const a=o.getColor(S.editorSelectionHighlight);a&&c.addRule(`.monaco-editor .selectionHighlight { background-color: ${a.transparent(.5)}; }`)})}),define(te[896],ie([1,0,45,14,62,2,16,206,5,24,22,369,688,30,15,18,372,8]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function l(F,G){const Y=G.filter(ne=>!F.find(se=>se.equals(ne)));if(Y.length>=1){const ne=Y.map(J=>`line ${J.viewState.position.lineNumber} column ${J.viewState.position.column}`).join(", "),se=Y.length===1?i.localize(0,null,ne):i.localize(1,null,ne);(0,L.status)(se)}}class o extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:i.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(3,null),order:2}})}run(G,Y,ne){if(!Y.hasModel())return;let se=!0;ne&&ne.logicalLine===!1&&(se=!1);const J=Y._getViewModel();if(J.cursorConfig.readOnly)return;J.model.pushStackElement();const q=J.getCursorStates();J.setCursorStates(ne.source,3,m.CursorMoveCommands.addCursorUp(J,q,se)),J.revealTopMostCursor(ne.source),l(q,J.getCursorStates())}}e.InsertCursorAbove=o;class c extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:i.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(5,null),order:3}})}run(G,Y,ne){if(!Y.hasModel())return;let se=!0;ne&&ne.logicalLine===!1&&(se=!1);const J=Y._getViewModel();if(J.cursorConfig.readOnly)return;J.model.pushStackElement();const q=J.getCursorStates();J.setCursorStates(ne.source,3,m.CursorMoveCommands.addCursorDown(J,q,se)),J.revealBottomMostCursor(ne.source),l(q,J.getCursorStates())}}e.InsertCursorBelow=c;class a extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:i.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(7,null),order:4}})}getCursorsForSelection(G,Y,ne){if(!G.isEmpty()){for(let se=G.startLineNumber;se<G.endLineNumber;se++){const J=Y.getLineMaxColumn(se);ne.push(new v.Selection(se,J,se,J))}G.endColumn>1&&ne.push(new v.Selection(G.endLineNumber,G.endColumn,G.endLineNumber,G.endColumn))}}run(G,Y){if(!Y.hasModel())return;const ne=Y.getModel(),se=Y.getSelections(),J=Y._getViewModel(),q=J.getCursorStates(),H=[];se.forEach(V=>this.getCursorsForSelection(V,ne,H)),H.length>0&&Y.setSelections(H),l(q,J.getCursorStates())}}class g extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:i.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(G,Y){if(!Y.hasModel())return;const ne=Y.getSelections(),se=Y.getModel().getLineCount(),J=[];for(let V=ne[0].startLineNumber;V<=se;V++)J.push(new v.Selection(V,ne[0].startColumn,V,ne[0].endColumn));const q=Y._getViewModel(),H=q.getCursorStates();J.length>0&&Y.setSelections(J),l(H,q.getCursorStates())}}class h extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:i.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(G,Y){if(!Y.hasModel())return;const ne=Y.getSelections(),se=[];for(let H=ne[0].startLineNumber;H>=1;H--)se.push(new v.Selection(H,ne[0].startColumn,H,ne[0].endColumn));const J=Y._getViewModel(),q=J.getCursorStates();se.length>0&&Y.setSelections(se),l(q,J.getCursorStates())}}class p{constructor(G,Y,ne){this.selections=G,this.revealRange=Y,this.revealScrollType=ne}}e.MultiCursorSessionResult=p;class b{static create(G,Y){if(!G.hasModel())return null;const ne=Y.getState();if(!G.hasTextFocus()&&ne.isRevealed&&ne.searchString.length>0)return new b(G,Y,!1,ne.searchString,ne.wholeWord,ne.matchCase,null);let se=!1,J,q;const H=G.getSelections();H.length===1&&H[0].isEmpty()?(se=!0,J=!0,q=!0):(J=ne.wholeWord,q=ne.matchCase);const V=G.getSelection();let Z,ee=null;if(V.isEmpty()){const le=G.getConfiguredWordAtPosition(V.getStartPosition());if(!le)return null;Z=le.word,ee=new v.Selection(V.startLineNumber,le.startColumn,V.startLineNumber,le.endColumn)}else Z=G.getModel().getValueInRange(V).replace(/\r\n/g,`
`);return new b(G,Y,se,Z,J,q,ee)}constructor(G,Y,ne,se,J,q,H){this._editor=G,this.findController=Y,this.isDisconnectedFromFindController=ne,this.searchText=se,this.wholeWord=J,this.matchCase=q,this.currentMatch=H}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const G=this._getNextMatch();if(!G)return null;const Y=this._editor.getSelections();return new p(Y.concat(G),G,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const G=this._getNextMatch();if(!G)return null;const Y=this._editor.getSelections();return new p(Y.slice(0,Y.length-1).concat(G),G,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const se=this.currentMatch;return this.currentMatch=null,se}this.findController.highlightFindOptions();const G=this._editor.getSelections(),Y=G[G.length-1],ne=this._editor.getModel().findNextMatch(this.searchText,Y.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return ne?new v.Selection(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const G=this._getPreviousMatch();if(!G)return null;const Y=this._editor.getSelections();return new p(Y.concat(G),G,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const G=this._getPreviousMatch();if(!G)return null;const Y=this._editor.getSelections();return new p(Y.slice(0,Y.length-1).concat(G),G,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const se=this.currentMatch;return this.currentMatch=null,se}this.findController.highlightFindOptions();const G=this._editor.getSelections(),Y=G[G.length-1],ne=this._editor.getModel().findPreviousMatch(this.searchText,Y.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return ne?new v.Selection(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn):null}selectAll(G){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const Y=this._editor.getModel();return G?Y.findMatches(this.searchText,G,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824):Y.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824)}}e.MultiCursorSession=b;class w extends D.Disposable{static get(G){return G.getContribution(w.ID)}constructor(G){super(),this._sessionDispose=this._register(new D.DisposableStore),this._editor=G,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(G){if(!this._session){const Y=b.create(this._editor,G);if(!Y)return;this._session=Y;const ne={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(ne.wholeWordOverride=1,ne.matchCaseOverride=1,ne.isRegexOverride=2),G.getState().change(ne,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(se=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(G.getState().onFindReplaceStateChange(se=>{(se.matchCase||se.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const G={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(G,!1)}this._session=null}_setSelections(G){this._ignoreSelectionChange=!0,this._editor.setSelections(G),this._ignoreSelectionChange=!1}_expandEmptyToWord(G,Y){if(!Y.isEmpty())return Y;const ne=this._editor.getConfiguredWordAtPosition(Y.getStartPosition());return ne?new v.Selection(Y.startLineNumber,ne.startColumn,Y.startLineNumber,ne.endColumn):Y}_applySessionResult(G){G&&(this._setSelections(G.selections),G.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(G.revealRange,G.revealScrollType))}getSession(G){return this._session}addSelectionToNextFindMatch(G){if(this._editor.hasModel()){if(!this._session){const Y=this._editor.getSelections();if(Y.length>1){const se=G.getState().matchCase;if(!O(this._editor.getModel(),Y,se)){const q=this._editor.getModel(),H=[];for(let V=0,Z=Y.length;V<Z;V++)H[V]=this._expandEmptyToWord(q,Y[V]);this._editor.setSelections(H);return}}}this._beginSessionIfNeeded(G),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(G){this._beginSessionIfNeeded(G),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(G){this._beginSessionIfNeeded(G),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(G){this._beginSessionIfNeeded(G),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(G){if(!this._editor.hasModel())return;let Y=null;const ne=G.getState();if(ne.isRevealed&&ne.searchString.length>0&&ne.isRegex){const se=this._editor.getModel();ne.searchScope?Y=se.findMatches(ne.searchString,ne.searchScope,ne.isRegex,ne.matchCase,ne.wholeWord?this._editor.getOption(129):null,!1,1073741824):Y=se.findMatches(ne.searchString,!0,ne.isRegex,ne.matchCase,ne.wholeWord?this._editor.getOption(129):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(G),!this._session)return;Y=this._session.selectAll(ne.searchScope)}if(Y.length>0){const se=this._editor.getSelection();for(let J=0,q=Y.length;J<q;J++){const H=Y[J];if(H.range.intersectRanges(se)){Y[J]=Y[0],Y[0]=H;break}}this._setSelections(Y.map(J=>new v.Selection(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn)))}}}e.MultiCursorSelectionController=w,w.ID="editor.contrib.multiCursorController";class E extends S.EditorAction{run(G,Y){const ne=w.get(Y);if(!ne)return;const se=Y._getViewModel();if(se){const J=se.getCursorStates(),q=s.CommonFindController.get(Y);if(q)this._run(ne,q);else{const H=G.get(f.IInstantiationService).createInstance(s.CommonFindController,Y);this._run(ne,H),H.dispose()}l(J,se.getCursorStates())}}}e.MultiCursorSelectionControllerAction=E;class k extends E{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:i.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(11,null),order:5}})}_run(G,Y){G.addSelectionToNextFindMatch(Y)}}e.AddSelectionToNextFindMatchAction=k;class M extends E{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:i.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(13,null),order:6}})}_run(G,Y){G.addSelectionToPreviousFindMatch(Y)}}e.AddSelectionToPreviousFindMatchAction=M;class R extends E{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:i.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:(0,y.KeyChord)(2089,2082),weight:100}})}_run(G,Y){G.moveSelectionToNextFindMatch(Y)}}e.MoveSelectionToNextFindMatchAction=R;class B extends E{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:i.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(G,Y){G.moveSelectionToPreviousFindMatch(Y)}}e.MoveSelectionToPreviousFindMatchAction=B;class T extends E{constructor(){super({id:"editor.action.selectHighlights",label:i.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(17,null),order:7}})}_run(G,Y){G.selectAll(Y)}}e.SelectHighlightsAction=T;class N extends E{constructor(){super({id:"editor.action.changeAll",label:i.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(G,Y){G.selectAll(Y)}}e.CompatChangeAll=N;class A{constructor(G,Y,ne,se,J){this._model=G,this._searchText=Y,this._matchCase=ne,this._wordSeparators=se,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,J&&this._model===J._model&&this._searchText===J._searchText&&this._matchCase===J._matchCase&&this._wordSeparators===J._wordSeparators&&this._modelVersionId===J._modelVersionId&&(this._cachedFindMatches=J._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(G=>G.range),this._cachedFindMatches.sort(_.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let P=d=class extends D.Disposable{constructor(G,Y){super(),this._languageFeaturesService=Y,this.editor=G,this._isEnabled=G.getOption(107),this._decorations=G.createDecorationsCollection(),this.updateSoon=this._register(new I.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(G.onDidChangeConfiguration(se=>{this._isEnabled=G.getOption(107)})),this._register(G.onDidChangeCursorSelection(se=>{this._isEnabled&&(se.selection.isEmpty()?se.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(G.onDidChangeModel(se=>{this._setState(null)})),this._register(G.onDidChangeModelContent(se=>{this._isEnabled&&this.updateSoon.schedule()}));const ne=s.CommonFindController.get(G);ne&&this._register(ne.getState().onFindReplaceStateChange(se=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(d._createState(this.state,this._isEnabled,this.editor))}static _createState(G,Y,ne){if(!Y||!ne.hasModel())return null;const se=ne.getSelection();if(se.startLineNumber!==se.endLineNumber)return null;const J=w.get(ne);if(!J)return null;const q=s.CommonFindController.get(ne);if(!q)return null;let H=J.getSession(q);if(!H){const ee=ne.getSelections();if(ee.length>1){const ue=q.getState().matchCase;if(!O(ne.getModel(),ee,ue))return null}H=b.create(ne,q)}if(!H||H.currentMatch||/^[ \t]+$/.test(H.searchText)||H.searchText.length>200)return null;const V=q.getState(),Z=V.matchCase;if(V.isRevealed){let ee=V.searchString;Z||(ee=ee.toLowerCase());let le=H.searchText;if(Z||(le=le.toLowerCase()),ee===le&&H.matchCase===V.matchCase&&H.wholeWord===V.wholeWord&&!V.isRegex)return null}return new A(ne.getModel(),H.searchText,H.matchCase,H.wholeWord?ne.getOption(129):null,G)}_setState(G){if(this.state=G,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const Y=this.editor.getModel();if(Y.isTooLargeForTokenization())return;const ne=this.state.findMatches(),se=this.editor.getSelections();se.sort(_.Range.compareRangesUsingStarts);const J=[];for(let V=0,Z=0,ee=ne.length,le=se.length;V<ee;){const ue=ne[V];if(Z>=le)J.push(ue),V++;else{const de=_.Range.compareRangesUsingStarts(ue,se[Z]);de<0?((se[Z].isEmpty()||!_.Range.areIntersecting(ue,se[Z]))&&J.push(ue),V++):(de>0||V++,Z++)}}const q=this._languageFeaturesService.documentHighlightProvider.has(Y)&&this.editor.getOption(80),H=J.map(V=>({range:V,options:(0,u.getSelectionHighlightDecorationOptions)(q)}));this._decorations.set(H)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=P,P.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=P=d=Ie([ge(1,r.ILanguageFeaturesService)],P);function O(F,G,Y){const ne=x(F,G[0],!Y);for(let se=1,J=G.length;se<J;se++){const q=G[se];if(q.isEmpty())return!1;const H=x(F,q,!Y);if(ne!==H)return!1}return!0}function x(F,G,Y){const ne=F.getValueInRange(G);return Y?ne.toLowerCase():ne}class W extends S.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:i.localize(19,null),description:{description:i.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(G,Y,ne){if(!Y.hasModel())return;const se=Y._getViewModel();if(se.cursorConfig.readOnly)return;se.model.pushStackElement();const J=Array.from(se.getCursorStates()),q=J.shift();q&&(J.push(q),se.setCursorStates(ne.source,3,J),se.revealPrimaryCursor(ne.source,!0),l(J,se.getCursorStates()))}}e.FocusNextCursor=W;class U extends S.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:i.localize(21,null),description:{description:i.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(G,Y,ne){if(!Y.hasModel())return;const se=Y._getViewModel();if(se.cursorConfig.readOnly)return;se.model.pushStackElement();const J=Array.from(se.getCursorStates()),q=J.pop();q&&(J.unshift(q),se.setCursorStates(ne.source,3,J),se.revealPrimaryCursor(ne.source,!0),l(J,se.getCursorStates()))}}e.FocusPreviousCursor=U,(0,S.registerEditorContribution)(w.ID,w,4),(0,S.registerEditorContribution)(P.ID,P,1),(0,S.registerEditorAction)(o),(0,S.registerEditorAction)(c),(0,S.registerEditorAction)(a),(0,S.registerEditorAction)(k),(0,S.registerEditorAction)(M),(0,S.registerEditorAction)(R),(0,S.registerEditorAction)(B),(0,S.registerEditorAction)(T),(0,S.registerEditorAction)(N),(0,S.registerEditorAction)(g),(0,S.registerEditorAction)(h),(0,S.registerEditorAction)(W),(0,S.registerEditorAction)(U)}),define(te[897],ie([1,0,45,13,14,19,9,2,16,5,22,29,713,15,18,372,43]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=e.getOccurrencesAtPosition=void 0;const d=new n.RawContextKey("hasWordHighlights",!1);function l(M,R,B,T){const N=M.ordered(R);return(0,y.first)(N.map(A=>()=>Promise.resolve(A.provideDocumentHighlights(R,B,T)).then(void 0,S.onUnexpectedExternalError)),I.isNonEmptyArray)}e.getOccurrencesAtPosition=l;class o{constructor(R,B,T){this._model=R,this._selection=B,this._wordSeparators=T,this._wordRange=this._getCurrentWordRange(R,B),this._result=null}get result(){return this._result||(this._result=(0,y.createCancelablePromise)(R=>this._compute(this._model,this._selection,this._wordSeparators,R))),this._result}_getCurrentWordRange(R,B){const T=R.getWordAtPosition(B.getPosition());return T?new v.Range(B.startLineNumber,T.startColumn,B.startLineNumber,T.endColumn):null}isValid(R,B,T){const N=B.startLineNumber,A=B.startColumn,P=B.endColumn,O=this._getCurrentWordRange(R,B);let x=!!(this._wordRange&&this._wordRange.equalsRange(O));for(let W=0,U=T.length;!x&&W<U;W++){const F=T.getRange(W);F&&F.startLineNumber===N&&F.startColumn<=A&&F.endColumn>=P&&(x=!0)}return x}cancel(){this.result.cancel()}}class c extends o{constructor(R,B,T,N){super(R,B,T),this._providers=N}_compute(R,B,T,N){return l(this._providers,R,B.getPosition(),N).then(A=>A||[])}}class a extends o{constructor(R,B,T){super(R,B,T),this._selectionIsEmpty=B.isEmpty()}_compute(R,B,T,N){return(0,y.timeout)(250,N).then(()=>{if(!B.isEmpty())return[];const A=R.getWordAtPosition(B.getPosition());return!A||A.word.length>1e3?[]:R.findMatches(A.word,!0,!1,!0,T,!1).map(O=>({range:O.range,kind:s.DocumentHighlightKind.Text}))})}isValid(R,B,T){const N=B.isEmpty();return this._selectionIsEmpty!==N?!1:super.isValid(R,B,T)}}function g(M,R,B,T){return M.has(R)?new c(R,B,T,M):new a(R,B,T)}(0,_.registerModelAndPositionCommand)("_executeDocumentHighlights",(M,R,B)=>{const T=M.get(t.ILanguageFeaturesService);return l(T.documentHighlightProvider,R,B,D.CancellationToken.None)});class h{constructor(R,B,T,N){this.toUnhook=new m.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=R,this.providers=B,this.linkedHighlighters=T,this._hasWordHighlights=d.bindTo(N),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(80),this.model=this.editor.getModel(),this.toUnhook.add(R.onDidChangeCursorPosition(A=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(A)})),this.toUnhook.add(R.onDidChangeModelContent(A=>{this._stopAll()})),this.toUnhook.add(R.onDidChangeConfiguration(A=>{const P=this.editor.getOption(80);this.occurrencesHighlight!==P&&(this.occurrencesHighlight=P,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(v.Range.compareRangesUsingStarts)}moveNext(){const R=this._getSortedHighlights(),T=(R.findIndex(A=>A.containsPosition(this.editor.getPosition()))+1)%R.length,N=R[T];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(N.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(N);const A=this._getWord();if(A){const P=this.editor.getModel().getLineContent(N.startLineNumber);(0,L.alert)(`${P}, ${T+1} of ${R.length} for '${A.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const R=this._getSortedHighlights(),T=(R.findIndex(A=>A.containsPosition(this.editor.getPosition()))-1+R.length)%R.length,N=R[T];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(N.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(N);const A=this._getWord();if(A){const P=this.editor.getModel().getLineContent(N.startLineNumber);(0,L.alert)(`${P}, ${T+1} of ${R.length} for '${A.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(R){if(!this.occurrencesHighlight){this._stopAll();return}if(R.reason!==3){this._stopAll();return}this._run()}_getWord(){const R=this.editor.getSelection(),B=R.startLineNumber,T=R.startColumn;return this.model.getWordAtPosition({lineNumber:B,column:T})}_run(){const R=this.editor.getSelection();if(R.startLineNumber!==R.endLineNumber){this._stopAll();return}const B=R.startColumn,T=R.endColumn,N=this._getWord();if(!N||N.startColumn>B||N.endColumn<T){this._stopAll();return}const A=this.workerRequest&&this.workerRequest.isValid(this.model,R,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),A)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const P=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=g(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(129)),this.workerRequest.result.then(O=>{P===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=O||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){const R=new Date().getTime(),B=this.lastCursorPositionChangeTime+250;R>=B?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},B-R)}renderDecorations(){this.renderDecorationsTimer=-1;const R=[];for(const B of this.workerRequestValue)B.range&&R.push({range:B.range,options:(0,r.getHighlightDecorationOptions)(B.kind)});this.decorations.set(R),this._hasWordHighlights.set(this.hasDecorations());for(const B of this.linkedHighlighters())B?.editor.getModel()===this.editor.getModel()&&(B._stopAll(),B.decorations.set(R),B._hasWordHighlights.set(B.hasDecorations()))}dispose(){this._stopAll(),this.toUnhook.dispose()}}let p=f=class extends m.Disposable{static get(R){return R.getContribution(f.ID)}constructor(R,B,T){super(),this.wordHighlighter=null,this.linkedContributions=new Set;const N=()=>{R.hasModel()&&!R.getModel().isTooLargeForTokenization()&&(this.wordHighlighter=new h(R,T.documentHighlightProvider,()=>u.Iterable.map(this.linkedContributions,A=>A.wordHighlighter),B))};this._register(R.onDidChangeModel(A=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),N()})),N()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var R;(R=this.wordHighlighter)===null||R===void 0||R.moveNext()}moveBack(){var R;(R=this.wordHighlighter)===null||R===void 0||R.moveBack()}restoreViewState(R){this.wordHighlighter&&R&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=p,p.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=p=f=Ie([ge(1,n.IContextKeyService),ge(2,t.ILanguageFeaturesService)],p);class b extends _.EditorAction{constructor(R,B){super(B),this._isNext=R}run(R,B){const T=p.get(B);T&&(this._isNext?T.moveNext():T.moveBack())}}class w extends b{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:i.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:d,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class E extends b{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:i.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:d,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class k extends _.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:i.localize(2,null),alias:"Trigger Symbol Highlight",precondition:d.toNegated(),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(R,B,T){const N=p.get(B);N&&N.restoreViewState(!0)}}(0,_.registerEditorContribution)(p.ID,p,0),(0,_.registerEditorAction)(w),(0,_.registerEditorAction)(E),(0,_.registerEditorAction)(k)}),define(te[898],ie([1,0,7,152,36,163,2,52,5,37,471]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const C=new y.Color(new y.RGBA(0,122,204)),s={showArrow:!0,showFrame:!0,className:"",frameColor:C,arrowColor:C,keepEditorSelection:!1},i="vs.editor.contrib.zoneWidget";class n{constructor(d,l,o,c,a,g,h,p){this.id="",this.domNode=d,this.afterLineNumber=l,this.afterColumn=o,this.heightInLines=c,this.showInHiddenAreas=h,this.ordinal=p,this._onDomNodeTop=a,this._onComputedHeight=g}onDomNodeTop(d){this._onDomNodeTop(d)}onComputedHeight(d){this._onComputedHeight(d)}}class t{constructor(d,l){this._id=d,this._domNode=l}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=t;class r{constructor(d){this._editor=d,this._ruleName=r._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),L.removeCSSRulesContainingSelector(this._ruleName)}set color(d){this._color!==d&&(this._color=d,this._updateStyle())}set height(d){this._height!==d&&(this._height=d,this._updateStyle())}_updateStyle(){L.removeCSSRulesContainingSelector(this._ruleName),L.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(d){d.column===1&&(d={lineNumber:d.lineNumber,column:2}),this._decorations.set([{range:_.Range.fromPositions(d),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}r._IdGenerator=new D.IdGenerator(".arrow-decoration-");class u{constructor(d,l={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=d,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=m.deepClone(l),m.mixin(this.options,s,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{const c=this._getWidth(o);this.domNode.style.width=c+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(c)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(d=>{this._viewZone&&d.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new r(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(d){d.frameColor&&(this.options.frameColor=d.frameColor),d.arrowColor&&(this.options.arrowColor=d.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const d=this.options.frameColor.toString();this.container.style.borderTopColor=d,this.container.style.borderBottomColor=d}if(this._arrow&&this.options.arrowColor){const d=this.options.arrowColor.toString();this._arrow.color=d}}_getWidth(d){return d.width-d.minimap.minimapWidth-d.verticalScrollbarWidth}_getLeft(d){return d.minimap.minimapWidth>0&&d.minimap.minimapLeft===0?d.minimap.minimapWidth:0}_onViewZoneTop(d){this.domNode.style.top=d+"px"}_onViewZoneHeight(d){var l;if(this.domNode.style.height=`${d}px`,this.container){const o=d-this._decoratingElementsHeight();this.container.style.height=`${o}px`;const c=this.editor.getLayoutInfo();this._doLayout(o,this._getWidth(c))}(l=this._resizeSash)===null||l===void 0||l.layout()}get position(){const d=this._positionMarkerId.getRange(0);if(d)return d.getStartPosition()}show(d,l){const o=_.Range.isIRange(d)?_.Range.lift(d):_.Range.fromPositions(d);this._isShowing=!0,this._showImpl(o,l),this._isShowing=!1,this._positionMarkerId.set([{range:o,options:v.ModelDecorationOptions.EMPTY}])}hide(){var d;this._viewZone&&(this.editor.changeViewZones(l=>{this._viewZone&&l.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(d=this._arrow)===null||d===void 0||d.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const d=this.editor.getOption(66);let l=0;if(this.options.showArrow){const o=Math.round(d/3);l+=2*o}if(this.options.showFrame){const o=Math.round(d/9);l+=2*o}return l}_showImpl(d,l){const o=d.getStartPosition(),c=this.editor.getLayoutInfo(),a=this._getWidth(c);this.domNode.style.width=`${a}px`,this.domNode.style.left=this._getLeft(c)+"px";const g=document.createElement("div");g.style.overflow="hidden";const h=this.editor.getOption(66);if(!this.options.allowUnlimitedHeight){const k=Math.max(12,this.editor.getLayoutInfo().height/h*.8);l=Math.min(l,k)}let p=0,b=0;if(this._arrow&&this.options.showArrow&&(p=Math.round(h/3),this._arrow.height=p,this._arrow.show(o)),this.options.showFrame&&(b=Math.round(h/9)),this.editor.changeViewZones(k=>{this._viewZone&&k.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new n(g,o.lineNumber,o.column,l,M=>this._onViewZoneTop(M),M=>this._onViewZoneHeight(M),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=k.addZone(this._viewZone),this._overlayWidget=new t(i+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const k=this.options.frameWidth?this.options.frameWidth:b;this.container.style.borderTopWidth=k+"px",this.container.style.borderBottomWidth=k+"px"}const w=l*h-this._decoratingElementsHeight();this.container&&(this.container.style.top=p+"px",this.container.style.height=w+"px",this.container.style.overflow="hidden"),this._doLayout(w,a),this.options.keepEditorSelection||this.editor.setSelection(d);const E=this.editor.getModel();if(E){const k=E.validateRange(new _.Range(d.startLineNumber,1,d.endLineNumber+1,1));this.revealRange(k,k.startLineNumber===E.getLineCount())}}revealRange(d,l){l?this.editor.revealLineNearTop(d.endLineNumber,0):this.editor.revealRange(d,0)}setCssClass(d,l){this.container&&(l&&this.container.classList.remove(l),this.container.classList.add(d))}_onWidth(d){}_doLayout(d,l){}_relayout(d){this._viewZone&&this._viewZone.heightInLines!==d&&this.editor.changeViewZones(l=>{this._viewZone&&(this._viewZone.heightInLines=d,l.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new I.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let d;this._disposables.add(this._resizeSash.onDidStart(l=>{this._viewZone&&(d={startY:l.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{d=void 0})),this._disposables.add(this._resizeSash.onDidChange(l=>{if(d){const o=(l.currentY-d.startY)/this.editor.getOption(66),c=o<0?Math.ceil(o):Math.floor(o),a=d.heightInLines+c;a>5&&a<35&&this._relayout(a)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const d=this.editor.getLayoutInfo();return d.width-d.minimap.minimapWidth}}e.ZoneWidget=u}),define(te[136],ie([1,0,7,73,41,26,27,36,6,52,16,33,161,898,691,160,15,47,8,31,462]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,d.createDecorator)("IPeekViewService"),(0,f.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(p,b){const w=this._widgets.get(p);w&&(w.listener.dispose(),w.widget.dispose());const E=()=>{const k=this._widgets.get(p);k&&k.widget===b&&(k.listener.dispose(),this._widgets.delete(p))};this._widgets.set(p,{widget:b,listener:b.onDidClose(E)})}},1);var o;(function(p){p.inPeekEditor=new u.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),p.notInPeekEditor=p.inPeekEditor.toNegated()})(o||(e.PeekContext=o={}));let c=class{constructor(b,w){b instanceof i.EmbeddedCodeEditorWidget&&o.inPeekEditor.bindTo(w)}dispose(){}};c.ID="editor.contrib.referenceController",c=Ie([ge(1,u.IContextKeyService)],c),(0,C.registerEditorContribution)(c.ID,c,0);function a(p){const b=p.get(s.ICodeEditorService).getFocusedCodeEditor();return b instanceof i.EmbeddedCodeEditorWidget?b.getParentEditor():b}e.getOuterEditor=a;const g={headerBackgroundColor:m.Color.white,primaryHeadingColor:m.Color.fromHex("#333333"),secondaryHeadingColor:m.Color.fromHex("#6c6c6cb3")};let h=class extends n.ZoneWidget{constructor(b,w,E){super(b,w),this.instantiationService=E,this._onDidClose=new _.Emitter,this.onDidClose=this._onDidClose.event,v.mixin(this.options,g,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(b){const w=this.options;b.headerBackgroundColor&&(w.headerBackgroundColor=b.headerBackgroundColor),b.primaryHeadingColor&&(w.primaryHeadingColor=b.primaryHeadingColor),b.secondaryHeadingColor&&(w.secondaryHeadingColor=b.secondaryHeadingColor),super.style(b)}_applyStyles(){super._applyStyles();const b=this.options;this._headElement&&b.headerBackgroundColor&&(this._headElement.style.backgroundColor=b.headerBackgroundColor.toString()),this._primaryHeading&&b.primaryHeadingColor&&(this._primaryHeading.style.color=b.primaryHeadingColor.toString()),this._secondaryHeading&&b.secondaryHeadingColor&&(this._secondaryHeading.style.color=b.secondaryHeadingColor.toString()),this._bodyElement&&b.frameColor&&(this._bodyElement.style.borderColor=b.frameColor.toString())}_fillContainer(b){this.setCssClass("peekview-widget"),this._headElement=L.$(".head"),this._bodyElement=L.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),b.appendChild(this._headElement),b.appendChild(this._bodyElement)}_fillHead(b,w){this._titleElement=L.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),L.addStandardDisposableListener(this._titleElement,"click",M=>this._onTitleClick(M))),L.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=L.$("span.filename"),this._secondaryHeading=L.$("span.dirname"),this._metaHeading=L.$("span.meta"),L.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=L.$(".peekview-actions");L.append(this._headElement,E);const k=this._getActionBarOptions();this._actionbarWidget=new I.ActionBar(E,k),this._disposables.add(this._actionbarWidget),w||this._actionbarWidget.push(new y.Action("peekview.close",t.localize(1,null),S.ThemeIcon.asClassName(D.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(b){}_getActionBarOptions(){return{actionViewItemProvider:r.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(b){}setTitle(b,w){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=b,this._primaryHeading.setAttribute("title",b),w?this._secondaryHeading.innerText=w:L.clearNode(this._secondaryHeading))}setMetaTitle(b){this._metaHeading&&(b?(this._metaHeading.innerText=b,L.show(this._metaHeading)):L.hide(this._metaHeading))}_doLayout(b,w){if(!this._isShowing&&b<0){this.dispose();return}const E=Math.ceil(this.editor.getOption(66)*1.2),k=Math.round(b-(E+2));this._doLayoutHead(E,w),this._doLayoutBody(k,w)}_doLayoutHead(b,w){this._headElement&&(this._headElement.style.height=`${b}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(b,w){this._bodyElement&&(this._bodyElement.style.height=`${b}px`)}};e.PeekViewWidget=h,e.PeekViewWidget=h=Ie([ge(2,d.IInstantiationService)],h),e.peekViewTitleBackground=(0,l.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},t.localize(2,null)),e.peekViewTitleForeground=(0,l.registerColor)("peekViewTitleLabel.foreground",{dark:m.Color.white,light:m.Color.black,hcDark:m.Color.white,hcLight:l.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,l.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,l.registerColor)("peekView.border",{dark:l.editorInfoForeground,light:l.editorInfoForeground,hcDark:l.contrastBorder,hcLight:l.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,l.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,l.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:m.Color.white,hcLight:l.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,l.registerColor)("peekViewResult.fileForeground",{dark:m.Color.white,light:"#1E1E1E",hcDark:m.Color.white,hcLight:l.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,l.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,l.registerColor)("peekViewResult.selectionForeground",{dark:m.Color.white,light:"#6C6C6C",hcDark:m.Color.white,hcLight:l.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,l.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:m.Color.black,hcLight:m.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,l.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,l.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(13,null)),e.peekViewResultsMatchHighlight=(0,l.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlight=(0,l.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,l.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:l.activeContrastBorder,hcLight:l.activeContrastBorder},t.localize(16,null))}),define(te[899],ie([1,0,7,84,13,36,6,2,46,10,5,136,664,160,30,15,8,158,94,55,788,31,23,449]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class h{constructor(O,x,W,U,F){this._openerService=U,this._labelService=F,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new m.DisposableStore,this._editor=x;const G=document.createElement("div");G.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),G.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),G.appendChild(this._relatedBlock),this._disposables.add(L.addStandardDisposableListener(this._relatedBlock,"click",Y=>{Y.preventDefault();const ne=this._relatedDiagnostics.get(Y.target);ne&&W(ne)})),this._scrollable=new I.ScrollableElement(G,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),O.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Y=>{G.style.left=`-${Y.scrollLeft}px`,G.style.top=`-${Y.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,m.dispose)(this._disposables)}update(O){const{source:x,message:W,relatedInformation:U,code:F}=O;let G=(x?.length||0)+2;F&&(typeof F=="string"?G+=F.length:G+=F.value.length);const Y=(0,v.splitLines)(W);this._lines=Y.length,this._longestLineLength=0;for(const H of Y)this._longestLineLength=Math.max(H.length+G,this._longestLineLength);L.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(O)),this._editor.applyFontInfo(this._messageBlock);let ne=this._messageBlock;for(const H of Y)ne=document.createElement("div"),ne.innerText=H,H===""&&(ne.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(ne);if(x||F){const H=document.createElement("span");if(H.classList.add("details"),ne.appendChild(H),x){const V=document.createElement("span");V.innerText=x,V.classList.add("source"),H.appendChild(V)}if(F)if(typeof F=="string"){const V=document.createElement("span");V.innerText=`(${F})`,V.classList.add("code"),H.appendChild(V)}else{this._codeLink=L.$("a.code-link"),this._codeLink.setAttribute("href",`${F.target.toString()}`),this._codeLink.onclick=Z=>{this._openerService.open(F.target,{allowCommands:!0}),Z.preventDefault(),Z.stopPropagation()};const V=L.append(this._codeLink,L.$("span"));V.innerText=F.value,H.appendChild(this._codeLink)}}if(L.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,y.isNonEmptyArray)(U)){const H=this._relatedBlock.appendChild(document.createElement("div"));H.style.paddingTop=`${Math.floor(this._editor.getOption(66)*.66)}px`,this._lines+=1;for(const V of U){const Z=document.createElement("div"),ee=document.createElement("a");ee.classList.add("filename"),ee.innerText=`${this._labelService.getUriBasenameLabel(V.resource)}(${V.startLineNumber}, ${V.startColumn}): `,ee.title=this._labelService.getUriLabel(V.resource),this._relatedDiagnostics.set(ee,V);const le=document.createElement("span");le.innerText=V.message,Z.appendChild(ee),Z.appendChild(le),this._lines+=1,H.appendChild(Z)}}const se=this._editor.getOption(50),J=Math.ceil(se.typicalFullwidthCharacterWidth*this._longestLineLength*.75),q=se.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:J,scrollHeight:q})}layout(O,x){this._scrollable.getDomNode().style.height=`${O}px`,this._scrollable.getDomNode().style.width=`${x}px`,this._scrollable.setScrollDimensions({width:x,height:O})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(O){let x="";switch(O.severity){case d.MarkerSeverity.Error:x=i.localize(0,null);break;case d.MarkerSeverity.Warning:x=i.localize(1,null);break;case d.MarkerSeverity.Info:x=i.localize(2,null);break;case d.MarkerSeverity.Hint:x=i.localize(3,null);break}let W=i.localize(4,null,x,O.startLineNumber+":"+O.startColumn);const U=this._editor.getModel();return U&&O.startLineNumber<=U.getLineCount()&&O.startLineNumber>=1&&(W=`${U.getLineContent(O.startLineNumber)}, ${W}`),W}}let p=g=class extends s.PeekViewWidget{constructor(O,x,W,U,F,G,Y){super(O,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},F),this._themeService=x,this._openerService=W,this._menuService=U,this._contextKeyService=G,this._labelService=Y,this._callOnDispose=new m.DisposableStore,this._onDidSelectRelatedInformation=new S.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=d.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(x.getColorTheme()),this._callOnDispose.add(x.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(O){this._backgroundColor=O.getColor(A);let x=k,W=M;this._severity===d.MarkerSeverity.Warning?(x=R,W=B):this._severity===d.MarkerSeverity.Info&&(x=T,W=N);const U=O.getColor(x),F=O.getColor(W);this.style({arrowColor:U,frameColor:U,headerBackgroundColor:F,primaryHeadingColor:O.getColor(s.peekViewTitleForeground),secondaryHeadingColor:O.getColor(s.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(O){super._fillHead(O),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(U=>this.editor.focus()));const x=[],W=this._menuService.createMenu(g.TitleMenu,this._contextKeyService);(0,n.createAndFillInActionBarActions)(W,void 0,x),this._actionbarWidget.push(x,{label:!1,icon:!0,index:0}),W.dispose()}_fillTitleIcon(O){this._icon=L.append(O,L.$(""))}_fillBody(O){this._parentContainer=O,O.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),O.appendChild(this._container),this._message=new h(this._container,this.editor,x=>this._onDidSelectRelatedInformation.fire(x),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(O,x,W){this._container.classList.remove("stale"),this._message.update(O),this._severity=O.severity,this._applyTheme(this._themeService.getColorTheme());const U=C.Range.lift(O),F=this.editor.getPosition(),G=F&&U.containsPosition(F)?F:U.getStartPosition();super.show(G,this.computeRequiredHeight());const Y=this.editor.getModel();if(Y){const ne=W>1?i.localize(5,null,x,W):i.localize(6,null,x,W);this.setTitle((0,_.basename)(Y.uri),ne)}this._icon.className=`codicon ${o.SeverityIcon.className(d.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(G,0),this.editor.focus()}updateMarker(O){this._container.classList.remove("stale"),this._message.update(O)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(O,x){super._doLayoutBody(O,x),this._heightInPixel=O,this._message.layout(O,x),this._container.style.height=`${O}px`}_onWidth(O){this._message.layout(this._heightInPixel,O)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=p,p.TitleMenu=new t.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=p=g=Ie([ge(1,a.IThemeService),ge(2,l.IOpenerService),ge(3,t.IMenuService),ge(4,u.IInstantiationService),ge(5,r.IContextKeyService),ge(6,f.ILabelService)],p);const b=(0,c.oneOf)(c.editorErrorForeground,c.editorErrorBorder),w=(0,c.oneOf)(c.editorWarningForeground,c.editorWarningBorder),E=(0,c.oneOf)(c.editorInfoForeground,c.editorInfoBorder),k=(0,c.registerColor)("editorMarkerNavigationError.background",{dark:b,light:b,hcDark:c.contrastBorder,hcLight:c.contrastBorder},i.localize(7,null)),M=(0,c.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,c.transparent)(k,.1),light:(0,c.transparent)(k,.1),hcDark:null,hcLight:null},i.localize(8,null)),R=(0,c.registerColor)("editorMarkerNavigationWarning.background",{dark:w,light:w,hcDark:c.contrastBorder,hcLight:c.contrastBorder},i.localize(9,null)),B=(0,c.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,c.transparent)(R,.1),light:(0,c.transparent)(R,.1),hcDark:"#0C141F",hcLight:(0,c.transparent)(R,.2)},i.localize(10,null)),T=(0,c.registerColor)("editorMarkerNavigationInfo.background",{dark:E,light:E,hcDark:c.contrastBorder,hcLight:c.contrastBorder},i.localize(11,null)),N=(0,c.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,c.transparent)(T,.1),light:(0,c.transparent)(T,.1),hcDark:null,hcLight:null},i.localize(12,null)),A=(0,c.registerColor)("editorMarkerNavigation.background",{dark:c.editorBackground,light:c.editorBackground,hcDark:c.editorBackground,hcLight:c.editorBackground},i.localize(13,null))}),define(te[373],ie([1,0,26,2,16,33,12,5,22,767,663,30,15,8,77,899]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let f=u=class{static get(b){return b.getContribution(u.ID)}constructor(b,w,E,k,M){this._markerNavigationService=w,this._contextKeyService=E,this._editorService=k,this._instantiationService=M,this._sessionDispoables=new I.DisposableStore,this._editor=b,this._widgetVisible=g.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(b){if(this._model&&this._model.matches(b))return this._model;let w=!1;return this._model&&(w=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(b),w&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(r.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(E=>{var k,M,R;(!(!((k=this._model)===null||k===void 0)&&k.selected)||!m.Range.containsPosition((M=this._model)===null||M===void 0?void 0:M.selected.marker,E.position))&&((R=this._model)===null||R===void 0||R.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const E=this._model.find(this._editor.getModel().uri,this._widget.position);E?this._widget.updateMarker(E.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(E=>{this._editorService.openCodeEditor({resource:E.resource,options:{pinned:!0,revealIfOpened:!0,selection:m.Range.lift(E).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(b=!0){this._cleanUp(),b&&this._editor.focus()}showAtMarker(b){if(this._editor.hasModel()){const w=this._getOrCreateModel(this._editor.getModel().uri);w.resetIndex(),w.move(!0,this._editor.getModel(),new S.Position(b.startLineNumber,b.startColumn)),w.selected&&this._widget.showAtMarker(w.selected.marker,w.selected.index,w.selected.total)}}nagivate(b,w){var E,k;return be(this,void 0,void 0,function*(){if(this._editor.hasModel()){const M=this._getOrCreateModel(w?void 0:this._editor.getModel().uri);if(M.move(b,this._editor.getModel(),this._editor.getPosition()),!M.selected)return;if(M.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const R=yield this._editorService.openCodeEditor({resource:M.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:M.selected.marker}},this._editor);R&&((E=u.get(R))===null||E===void 0||E.close(),(k=u.get(R))===null||k===void 0||k.nagivate(b,w))}else this._widget.showAtMarker(M.selected.marker,M.selected.index,M.selected.total)}})}};e.MarkerController=f,f.ID="editor.contrib.markerController",e.MarkerController=f=u=Ie([ge(1,v.IMarkerNavigationService),ge(2,i.IContextKeyService),ge(3,D.ICodeEditorService),ge(4,n.IInstantiationService)],f);class d extends y.EditorAction{constructor(b,w,E){super(E),this._next=b,this._multiFile=w}run(b,w){var E;return be(this,void 0,void 0,function*(){w.hasModel()&&((E=f.get(w))===null||E===void 0||E.nagivate(this._next,this._multiFile))})}}class l extends d{constructor(){super(!0,!1,{id:l.ID,label:l.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:l.LABEL,icon:(0,t.registerIcon)("marker-navigation-next",L.Codicon.arrowDown,C.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=l,l.ID="editor.action.marker.next",l.LABEL=C.localize(0,null);class o extends d{constructor(){super(!1,!1,{id:o.ID,label:o.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:(0,t.registerIcon)("marker-navigation-previous",L.Codicon.arrowUp,C.localize(3,null)),group:"navigation",order:2}})}}o.ID="editor.action.marker.prev",o.LABEL=C.localize(2,null);class c extends d{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:C.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:C.localize(5,null),group:"6_problem_nav",order:1}})}}class a extends d{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:C.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:C.localize(7,null),group:"6_problem_nav",order:2}})}}(0,y.registerEditorContribution)(f.ID,f,4),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(o),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(a);const g=new i.RawContextKey("markersNavigationVisible",!1),h=y.EditorCommand.bindToContribution(f.get);(0,y.registerEditorCommand)(new h({id:"closeMarkersNavigation",precondition:g,handler:p=>p.close(),kbOpts:{weight:100+50,kbExpr:_.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(te[900],ie([1,0,7,316,36,6,2,54,46,161,5,37,32,75,42,65,825,136,669,8,34,158,190,23,191,155,451]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class b{constructor(R,B){this._editor=R,this._model=B,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.DisposableStore,this._callOnModelChange=new S.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const R=this._editor.getModel();if(R){for(const B of this._model.references)if(B.uri.toString()===R.uri.toString()){this._addDecorations(B.parent);return}}}_addDecorations(R){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const B=[],T=[];for(let N=0,A=R.children.length;N<A;N++){const P=R.children[N];this._decorationIgnoreSet.has(P.id)||P.uri.toString()===this._editor.getModel().uri.toString()&&(B.push({range:P.range,options:b.DecorationOptions}),T.push(N))}this._editor.changeDecorations(N=>{const A=N.deltaDecorations([],B);for(let P=0;P<A.length;P++)this._decorations.set(A[P],R.children[T[P]])})}_onDecorationChanged(){const R=[],B=this._editor.getModel();if(B){for(const[T,N]of this._decorations){const A=B.getDecorationRange(T);if(!A)continue;let P=!1;if(!C.Range.equalsRange(A,N.range)){if(C.Range.spansMultipleLines(A))P=!0;else{const O=N.range.endColumn-N.range.startColumn,x=A.endColumn-A.startColumn;O!==x&&(P=!0)}P?(this._decorationIgnoreSet.add(N.id),R.push(T)):N.range=A}}for(let T=0,N=R.length;T<N;T++)this._decorations.delete(R[T]);this._editor.removeDecorations(R)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}b.DecorationOptions=s.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class w{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(R){let B,T;try{const N=JSON.parse(R);B=N.ratio,T=N.heightInLines}catch{}return{ratio:B||.7,heightInLines:T||18}}}e.LayoutData=w;class E extends a.WorkbenchAsyncDataTree{}let k=class extends f.PeekViewWidget{constructor(R,B,T,N,A,P,O,x,W,U,F,G){super(R,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},P),this._defaultTreeKeyboardSupport=B,this.layoutData=T,this._textModelResolverService=A,this._instantiationService=P,this._peekViewService=O,this._uriLabel=x,this._undoRedoService=W,this._keybindingService=U,this._languageService=F,this._languageConfigurationService=G,this._disposeOnNewModel=new S.DisposableStore,this._callOnDispose=new S.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new L.Dimension(0,0),this._applyTheme(N.getColorTheme()),this._callOnDispose.add(N.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(R,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.dispose)(this._preview),(0,S.dispose)(this._previewNotAvailableMessage),(0,S.dispose)(this._tree),(0,S.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(R){const B=R.getColor(f.peekViewBorder)||y.Color.transparent;this.style({arrowColor:B,frameColor:B,headerBackgroundColor:R.getColor(f.peekViewTitleBackground)||y.Color.transparent,primaryHeadingColor:R.getColor(f.peekViewTitleForeground),secondaryHeadingColor:R.getColor(f.peekViewTitleInfoForeground)})}show(R){super.show(R,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(R){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:R.ctrlKey||R.metaKey||R.altKey?"side":"open",source:"title"})}_fillBody(R){this.setCssClass("reference-zone-widget"),this._messageContainer=L.append(R,L.$("div.messages")),L.hide(this._messageContainer),this._splitView=new I.SplitView(R,{orientation:1}),this._previewContainer=L.append(R,L.$("div.preview.inline"));const B={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(v.EmbeddedCodeEditorWidget,this._previewContainer,B,{},this.editor),L.hide(this._previewContainer),this._previewNotAvailableMessage=new s.TextModel(d.localize(0,null),n.PLAINTEXT_LANGUAGE_ID,s.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=L.append(R,L.$("div.ref-tree.inline"));const T={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new u.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(u.StringRepresentationProvider),identityProvider:new u.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:f.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(L.addStandardDisposableListener(this._treeContainer,"keydown",A=>{A.equals(9)&&(this._keybindingService.dispatchEvent(A,A.target),A.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new u.Delegate,[this._instantiationService.createInstance(u.FileReferencesRenderer),this._instantiationService.createInstance(u.OneReferenceRenderer)],this._instantiationService.createInstance(u.DataSource),T),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:A=>{this._preview.layout({height:this._dim.height,width:A})}},I.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:A=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${A}px`,this._tree.layout(this._dim.height,A)}},I.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const N=(A,P)=>{A instanceof p.OneReference&&(P==="show"&&this._revealReference(A,!1),this._onDidSelectReference.fire({element:A,kind:P,source:"tree"}))};this._tree.onDidOpen(A=>{A.sideBySide?N(A.element,"side"):A.editorOptions.pinned?N(A.element,"goto"):N(A.element,"show")}),L.hide(this._treeContainer)}_onWidth(R){this._dim&&this._doLayoutBody(this._dim.height,R)}_doLayoutBody(R,B){super._doLayoutBody(R,B),this._dim=new L.Dimension(B,R),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(B),this._splitView.resizeView(0,B*this.layoutData.ratio)}setSelection(R){return this._revealReference(R,!0).then(()=>{this._model&&(this._tree.setSelection([R]),this._tree.setFocus([R]))})}setModel(R){return this._disposeOnNewModel.clear(),this._model=R,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=d.localize(1,null),L.show(this._messageContainer),Promise.resolve(void 0)):(L.hide(this._messageContainer),this._decorationsManager=new b(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(R=>this._tree.rerender(R))),this._disposeOnNewModel.add(this._preview.onMouseDown(R=>{const{event:B,target:T}=R;if(B.detail!==2)return;const N=this._getFocusedReference();N&&this._onDidSelectReference.fire({element:{uri:N.uri,range:T.range},kind:B.ctrlKey||B.metaKey||B.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),L.show(this._treeContainer),L.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[R]=this._tree.getFocus();if(R instanceof p.OneReference)return R;if(R instanceof p.FileReferences&&R.children.length>0)return R.children[0]}revealReference(R){return be(this,void 0,void 0,function*(){yield this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:"goto",source:"tree"})})}_revealReference(R,B){return be(this,void 0,void 0,function*(){if(this._revealedReference===R)return;this._revealedReference=R,R.uri.scheme!==m.Schemas.inMemory?this.setTitle((0,_.basenameOrAuthority)(R.uri),this._uriLabel.getUriLabel((0,_.dirname)(R.uri))):this.setTitle(d.localize(2,null));const T=this._textModelResolverService.createModelReference(R.uri);this._tree.getInput()===R.parent?this._tree.reveal(R):(B&&this._tree.reveal(R.parent),yield this._tree.expand(R.parent),this._tree.reveal(R));const N=yield T;if(!this._model){N.dispose();return}(0,S.dispose)(this._previewModelReference);const A=N.object;if(A){const P=this._preview.getModel()===A.textEditorModel?0:1,O=C.Range.lift(R.range).collapseToStart();this._previewModelReference=N,this._preview.setModel(A.textEditorModel),this._preview.setSelection(O),this._preview.revealRangeInCenter(O,P)}else this._preview.setModel(this._previewNotAvailableMessage),N.dispose()})}};e.ReferenceWidget=k,e.ReferenceWidget=k=Ie([ge(3,g.IThemeService),ge(4,r.ITextModelService),ge(5,l.IInstantiationService),ge(6,f.IPeekViewService),ge(7,c.ILabelService),ge(8,h.IUndoRedoService),ge(9,o.IKeybindingService),ge(10,t.ILanguageService),ge(11,i.ILanguageConfigurationService)],k)}),define(te[374],ie([1,0,14,9,62,2,33,12,5,136,667,25,28,15,8,117,190,48,89,155,900]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new n.RawContextKey("referenceSearchVisible",!1,C.localize(0,null));let a=c=class{static get(p){return p.getContribution(c.ID)}constructor(p,b,w,E,k,M,R,B){this._defaultTreeKeyboardSupport=p,this._editor=b,this._editorService=E,this._notificationService=k,this._instantiationService=M,this._storageService=R,this._configurationService=B,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(w)}dispose(){var p,b;this._referenceSearchVisible.reset(),this._disposables.dispose(),(p=this._widget)===null||p===void 0||p.dispose(),(b=this._model)===null||b===void 0||b.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(p,b,w){let E;if(this._widget&&(E=this._widget.position),this.closeWidget(),E&&p.containsPosition(E))return;this._peekMode=w,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const k="peekViewLayout",M=o.LayoutData.fromJSON(this._storageService.get(k,0,"{}"));this._widget=this._instantiationService.createInstance(o.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,M),this._widget.setTitle(C.localize(1,null)),this._widget.show(p),this._disposables.add(this._widget.onDidClose(()=>{b.cancel(),this._widget&&(this._storageService.store(k,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(B=>{const{element:T,kind:N}=B;if(T)switch(N){case"open":(B.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(T,!1,!1);break;case"side":this.openReference(T,!0,!1);break;case"goto":w?this._gotoReference(T,!0):this.openReference(T,!1,!0);break}}));const R=++this._requestIdPool;b.then(B=>{var T;if(R!==this._requestIdPool||!this._widget){B.dispose();return}return(T=this._model)===null||T===void 0||T.dispose(),this._model=B,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(C.localize(2,null,this._model.title,this._model.references.length));const N=this._editor.getModel().uri,A=new m.Position(p.startLineNumber,p.startColumn),P=this._model.nearestReference(N,A);if(P)return this._widget.setSelection(P).then(()=>{this._widget&&this._editor.getOption(86)==="editor"&&this._widget.focusOnPreviewEditor()})}})},B=>{this._notificationService.error(B)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(p){return be(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const b=this._widget.position;if(!b)return;const w=this._model.nearestReference(this._editor.getModel().uri,b);if(!w)return;const E=this._model.nextOrPreviousReference(w,p),k=this._editor.hasTextFocus(),M=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(E),yield this._gotoReference(E,!1),k?this._editor.focus():this._widget&&M&&this._widget.focusOnPreviewEditor()})}revealReference(p){return be(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(p))})}closeWidget(p=!0){var b,w;(b=this._widget)===null||b===void 0||b.dispose(),(w=this._model)===null||w===void 0||w.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,p&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(p,b){var w;(w=this._widget)===null||w===void 0||w.hide(),this._ignoreModelChangeEvent=!0;const E=_.Range.lift(p.range).collapseToStart();return this._editorService.openCodeEditor({resource:p.uri,options:{selection:E,selectionSource:"code.jump",pinned:b}},this._editor).then(k=>{var M;if(this._ignoreModelChangeEvent=!1,!k||!this._widget){this.closeWidget();return}if(this._editor===k)this._widget.show(E),this._widget.focusOnReferenceTree();else{const R=c.get(k),B=this._model.clone();this.closeWidget(),k.focus(),R?.toggleWidget(E,(0,L.createCancelablePromise)(T=>Promise.resolve(B)),(M=this._peekMode)!==null&&M!==void 0?M:!1)}},k=>{this._ignoreModelChangeEvent=!1,(0,I.onUnexpectedError)(k)})}openReference(p,b,w){b||this.closeWidget();const{uri:E,range:k}=p;this._editorService.openCodeEditor({resource:E,options:{selection:k,selectionSource:"code.jump",pinned:w}},this._editor,b)}};e.ReferencesController=a,a.ID="editor.contrib.referencesController",e.ReferencesController=a=c=Ie([ge(2,n.IContextKeyService),ge(3,S.ICodeEditorService),ge(4,f.INotificationService),ge(5,t.IInstantiationService),ge(6,d.IStorageService),ge(7,i.IConfigurationService)],a);function g(h,p){const b=(0,v.getOuterEditor)(h);if(!b)return;const w=a.get(b);w&&p(w)}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,y.KeyChord)(2089,60),when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(h){g(h,p=>{p.changeFocusBetweenPreviewAndReferences()})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(h){g(h,p=>{p.goToNextOrPreviousReference(!0)})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(h){g(h,p=>{p.goToNextOrPreviousReference(!1)})}}),s.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),s.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),s.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),s.CommandsRegistry.registerCommand("closeReferenceSearch",h=>g(h,p=>p.closeWidget())),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:n.ContextKeyExpr.and(v.PeekContext.inPeekEditor,n.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,u.WorkbenchListFocusContextKey,u.WorkbenchTreeElementCanCollapse.negate(),u.WorkbenchTreeElementCanExpand.negate()),handler(h){var p;const w=(p=h.get(u.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(w)&&w[0]instanceof l.OneReference&&g(h,E=>E.revealReference(w[0]))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,u.WorkbenchListFocusContextKey,u.WorkbenchTreeElementCanCollapse.negate(),u.WorkbenchTreeElementCanExpand.negate()),handler(h){var p;const w=(p=h.get(u.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(w)&&w[0]instanceof l.OneReference&&g(h,E=>E.openReference(w[0],!0,!0))}}),s.CommandsRegistry.registerCommand("openReference",h=>{var p;const w=(p=h.get(u.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(w)&&w[0]instanceof l.OneReference&&g(h,E=>E.openReference(w[0],!1,!0))})}),define(te[255],ie([1,0,45,14,62,20,21,103,175,16,33,161,12,5,22,29,374,155,805,189,136,665,30,25,15,8,48,85,246,18,43,237]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M,R){"use strict";var B,T,N,A,P,O,x,W;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,a.MenuRegistry.appendMenuItem(a.MenuId.EditorContext,{submenu:a.MenuId.EditorContextPeek,title:c.localize(0,null),group:"navigation",order:100});class U{static is(V){return!V||typeof V!="object"?!1:!!(V instanceof U||i.Position.isIPosition(V.position)&&V.model)}constructor(V,Z){this.model=V,this.position=Z}}e.SymbolNavigationAnchor=U;class F extends v.EditorAction2{static all(){return F._allSymbolNavigationCommands.values()}static _patchConfig(V){const Z=Object.assign(Object.assign({},V),{f1:!0});if(Z.menu)for(const ee of M.Iterable.wrap(Z.menu))(ee.id===a.MenuId.EditorContext||ee.id===a.MenuId.EditorContextPeek)&&(ee.when=h.ContextKeyExpr.and(V.precondition,ee.when));return Z}constructor(V,Z){super(F._patchConfig(Z)),this.configuration=V,F._allSymbolNavigationCommands.set(Z.id,this)}runEditorCommand(V,Z,ee,le){if(!Z.hasModel())return Promise.resolve(void 0);const ue=V.get(b.INotificationService),de=V.get(C.ICodeEditorService),ce=V.get(w.IEditorProgressService),ae=V.get(d.ISymbolNavigationService),X=V.get(k.ILanguageFeaturesService),K=V.get(p.IInstantiationService),z=Z.getModel(),Q=Z.getPosition(),j=U.is(ee)?ee:new U(z,Q),re=new m.EditorStateCancellationTokenSource(Z,5),oe=(0,I.raceCancellation)(this._getLocationModel(X,j.model,j.position,re.token),re.token).then(he=>be(this,void 0,void 0,function*(){var me;if(!he||re.token.isCancellationRequested)return;(0,L.alert)(he.ariaMessage);let pe;if(he.referenceAt(z.uri,Q)){const we=this._getAlternativeCommand(Z);!F._activeAlternativeCommands.has(we)&&F._allSymbolNavigationCommands.has(we)&&(pe=F._allSymbolNavigationCommands.get(we))}const ve=he.references.length;if(ve===0){if(!this.configuration.muteMessage){const we=z.getWordAtPosition(Q);(me=l.MessageController.get(Z))===null||me===void 0||me.showMessage(this._getNoResultFoundMessage(we),Q)}}else if(ve===1&&pe)F._activeAlternativeCommands.add(this.desc.id),K.invokeFunction(we=>pe.runEditorCommand(we,Z,ee,le).finally(()=>{F._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(de,ae,Z,he,le)}),he=>{ue.error(he)}).finally(()=>{re.dispose()});return ce.showWhile(oe,250),oe}_onResult(V,Z,ee,le,ue){return be(this,void 0,void 0,function*(){const de=this._getGoToPreference(ee);if(!(ee instanceof s.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||de==="peek"&&le.references.length>1))this._openInPeek(ee,le,ue);else{const ce=le.firstReference(),ae=le.references.length>1&&de==="gotoAndPeek",X=yield this._openReference(ee,V,ce,this.configuration.openToSide,!ae);ae&&X?this._openInPeek(X,le,ue):le.dispose(),de==="goto"&&Z.put(ce)}})}_openReference(V,Z,ee,le,ue){return be(this,void 0,void 0,function*(){let de;if((0,r.isLocationLink)(ee)&&(de=ee.targetSelectionRange),de||(de=ee.range),!de)return;const ce=yield Z.openCodeEditor({resource:ee.uri,options:{selection:n.Range.collapseToStart(de),selectionRevealType:3,selectionSource:"code.jump"}},V,le);if(ce){if(ue){const ae=ce.getModel(),X=ce.createDecorationsCollection([{range:de,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{ce.getModel()===ae&&X.clear()},350)}return ce}})}_openInPeek(V,Z,ee){const le=u.ReferencesController.get(V);le&&V.hasModel()?le.toggleWidget(ee??V.getSelection(),(0,I.createCancelablePromise)(ue=>Promise.resolve(Z)),this.configuration.openInPeek):Z.dispose()}}e.SymbolNavigationAction=F,F._allSymbolNavigationCommands=new Map,F._activeAlternativeCommands=new Set;class G extends F{_getLocationModel(V,Z,ee,le){return be(this,void 0,void 0,function*(){return new f.ReferencesModel(yield(0,E.getDefinitionsAtPosition)(V.definitionProvider,Z,ee,le),c.localize(1,null))})}_getNoResultFoundMessage(V){return V&&V.word?c.localize(2,null,V.word):c.localize(3,null)}_getAlternativeCommand(V){return V.getOption(58).alternativeDefinitionCommand}_getGoToPreference(V){return V.getOption(58).multipleDefinitions}}e.DefinitionAction=G,(0,a.registerAction2)((B=class extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:B.id,title:{value:c.localize(4,null),original:"Go to Definition",mnemonicTitle:c.localize(5,null)},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:h.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,R.IsWebContext),primary:2118,weight:100}],menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.1},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),g.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",B.id)}},B.id="editor.action.revealDefinition",B)),(0,a.registerAction2)((T=class extends G{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:T.id,title:{value:c.localize(6,null),original:"Open Definition to the Side"},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,70),weight:100},{when:h.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,R.IsWebContext),primary:(0,y.KeyChord)(2089,2118),weight:100}]}),g.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",T.id)}},T.id="editor.action.revealDefinitionAside",T)),(0,a.registerAction2)((N=class extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:N.id,title:{value:c.localize(7,null),original:"Peek Definition"},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:2}}),g.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",N.id)}},N.id="editor.action.peekDefinition",N));class Y extends F{_getLocationModel(V,Z,ee,le){return be(this,void 0,void 0,function*(){return new f.ReferencesModel(yield(0,E.getDeclarationsAtPosition)(V.declarationProvider,Z,ee,le),c.localize(8,null))})}_getNoResultFoundMessage(V){return V&&V.word?c.localize(9,null,V.word):c.localize(10,null)}_getAlternativeCommand(V){return V.getOption(58).alternativeDeclarationCommand}_getGoToPreference(V){return V.getOption(58).multipleDeclarations}}(0,a.registerAction2)((A=class extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:A.id,title:{value:c.localize(11,null),original:"Go to Declaration",mnemonicTitle:c.localize(12,null)},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.3},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(V){return V&&V.word?c.localize(13,null,V.word):c.localize(14,null)}},A.id="editor.action.revealDeclaration",A)),(0,a.registerAction2)(class extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:c.localize(15,null),original:"Peek Declaration"},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:3}})}});class ne extends F{_getLocationModel(V,Z,ee,le){return be(this,void 0,void 0,function*(){return new f.ReferencesModel(yield(0,E.getTypeDefinitionsAtPosition)(V.typeDefinitionProvider,Z,ee,le),c.localize(16,null))})}_getNoResultFoundMessage(V){return V&&V.word?c.localize(17,null,V.word):c.localize(18,null)}_getAlternativeCommand(V){return V.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(V){return V.getOption(58).multipleTypeDefinitions}}(0,a.registerAction2)((P=class extends ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:P.ID,title:{value:c.localize(19,null),original:"Go to Type Definition",mnemonicTitle:c.localize(20,null)},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.4},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},P.ID="editor.action.goToTypeDefinition",P)),(0,a.registerAction2)((O=class extends ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:O.ID,title:{value:c.localize(21,null),original:"Peek Type Definition"},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class se extends F{_getLocationModel(V,Z,ee,le){return be(this,void 0,void 0,function*(){return new f.ReferencesModel(yield(0,E.getImplementationsAtPosition)(V.implementationProvider,Z,ee,le),c.localize(22,null))})}_getNoResultFoundMessage(V){return V&&V.word?c.localize(23,null,V.word):c.localize(24,null)}_getAlternativeCommand(V){return V.getOption(58).alternativeImplementationCommand}_getGoToPreference(V){return V.getOption(58).multipleImplementations}}(0,a.registerAction2)((x=class extends se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:x.ID,title:{value:c.localize(25,null),original:"Go to Implementations",mnemonicTitle:c.localize(26,null)},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.45},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},x.ID="editor.action.goToImplementation",x)),(0,a.registerAction2)((W=class extends se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:W.ID,title:{value:c.localize(27,null),original:"Peek Implementations"},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:5}})}},W.ID="editor.action.peekImplementation",W));class J extends F{_getNoResultFoundMessage(V){return V?c.localize(28,null,V.word):c.localize(29,null)}_getAlternativeCommand(V){return V.getOption(58).alternativeReferenceCommand}_getGoToPreference(V){return V.getOption(58).multipleReferences}}(0,a.registerAction2)(class extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:c.localize(30,null),original:"Go to References",mnemonicTitle:c.localize(31,null)},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:a.MenuId.EditorContext,group:"navigation",order:1.45},{id:a.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(V,Z,ee,le){return be(this,void 0,void 0,function*(){return new f.ReferencesModel(yield(0,E.getReferencesAtPosition)(V.referenceProvider,Z,ee,!0,le),c.localize(32,null))})}}),(0,a.registerAction2)(class extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:c.localize(33,null),original:"Peek References"},precondition:h.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:a.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(V,Z,ee,le){return be(this,void 0,void 0,function*(){return new f.ReferencesModel(yield(0,E.getReferencesAtPosition)(V.referenceProvider,Z,ee,!1,le),c.localize(34,null))})}});class q extends F{constructor(V,Z,ee){super(V,{id:"editor.action.goToLocation",title:{value:c.localize(35,null),original:"Go to Any Symbol"},precondition:h.ContextKeyExpr.and(o.PeekContext.notInPeekEditor,t.EditorContextKeys.isInWalkThroughSnippet.toNegated())}),this._references=Z,this._gotoMultipleBehaviour=ee}_getLocationModel(V,Z,ee,le){return be(this,void 0,void 0,function*(){return new f.ReferencesModel(this._references,c.localize(36,null))})}_getNoResultFoundMessage(V){return V&&c.localize(37,null,V.word)||""}_getGoToPreference(V){var Z;return(Z=this._gotoMultipleBehaviour)!==null&&Z!==void 0?Z:V.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}g.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(H,V,Z,ee,le,ue,de)=>be(void 0,void 0,void 0,function*(){(0,D.assertType)(S.URI.isUri(V)),(0,D.assertType)(i.Position.isIPosition(Z)),(0,D.assertType)(Array.isArray(ee)),(0,D.assertType)(typeof le>"u"||typeof le=="string"),(0,D.assertType)(typeof de>"u"||typeof de=="boolean");const ce=H.get(C.ICodeEditorService),ae=yield ce.openCodeEditor({resource:V},ce.getFocusedCodeEditor());if((0,_.isCodeEditor)(ae))return ae.setPosition(Z),ae.revealPositionInCenterIfOutsideViewport(Z,0),ae.invokeWithinContext(X=>{const K=new class extends q{_getNoResultFoundMessage(z){return ue||super._getNoResultFoundMessage(z)}}({muteMessage:!ue,openInPeek:!!de,openToSide:!1},ee,le);X.get(p.IInstantiationService).invokeFunction(K.run.bind(K),ae)})})}),g.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(H,V,Z,ee,le)=>be(void 0,void 0,void 0,function*(){H.get(g.ICommandService).executeCommand("editor.action.goToLocations",V,Z,ee,le,void 0,!0)})}),g.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(H,V,Z)=>{(0,D.assertType)(S.URI.isUri(V)),(0,D.assertType)(i.Position.isIPosition(Z));const ee=H.get(k.ILanguageFeaturesService),le=H.get(C.ICodeEditorService);return le.openCodeEditor({resource:V},le.getFocusedCodeEditor()).then(ue=>{if(!(0,_.isCodeEditor)(ue)||!ue.hasModel())return;const de=u.ReferencesController.get(ue);if(!de)return;const ce=(0,I.createCancelablePromise)(X=>(0,E.getReferencesAtPosition)(ee.referenceProvider,ue.getModel(),i.Position.lift(Z),!1,X).then(K=>new f.ReferencesModel(K,c.localize(38,null)))),ae=new n.Range(Z.lineNumber,Z.column,Z.lineNumber,Z.column);return Promise.resolve(de.toggleWidget(ae,ce,!1))})}}),g.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(te[375],ie([1,0,14,9,57,2,103,16,5,42,65,184,136,666,15,255,246,18,37,450]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let o=l=class{constructor(a,g,h,p){this.textModelResolverService=g,this.languageService=h,this.languageFeaturesService=p,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=a,this.linkDecorations=this.editor.createDecorationsCollection();const b=new s.ClickLinkGesture(a);this.toUnhook.add(b),this.toUnhook.add(b.onMouseMoveOrRelevantKeyDown(([w,E])=>{this.startFindDefinitionFromMouse(w,E??void 0)})),this.toUnhook.add(b.onExecute(w=>{this.isEnabled(w)&&this.gotoDefinition(w.target.position,w.hasSideBySideModifier).catch(E=>{(0,I.onUnexpectedError)(E)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(b.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(a){return a.getContribution(l.ID)}startFindDefinitionFromCursor(a){return be(this,void 0,void 0,function*(){yield this.startFindDefinition(a),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(g=>{g&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(a,g){if(a.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(a,g)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const h=a.target.position;this.startFindDefinition(h)}startFindDefinition(a){var g;return be(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const h=a?(g=this.editor.getModel())===null||g===void 0?void 0:g.getWordAtPosition(a):null;if(!h){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===h.startColumn&&this.currentWordAtPosition.endColumn===h.endColumn&&this.currentWordAtPosition.word===h.word)return;this.currentWordAtPosition=h;const p=new S.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,L.createCancelablePromise)(E=>this.findDefinition(a,E));let b;try{b=yield this.previousPromise}catch(E){(0,I.onUnexpectedError)(E);return}if(!b||!b.length||!p.validate(this.editor)){this.removeLinkDecorations();return}const w=b[0].originSelectionRange?_.Range.lift(b[0].originSelectionRange):new _.Range(a.lineNumber,h.startColumn,a.lineNumber,h.endColumn);if(b.length>1){let E=w;for(const{originSelectionRange:k}of b)k&&(E=_.Range.plusRange(E,k));this.addDecoration(E,new y.MarkdownString().appendText(n.localize(0,null,b.length)))}else{const E=b[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(k=>{if(!k.object||!k.object.textEditorModel){k.dispose();return}const{object:{textEditorModel:M}}=k,{startLineNumber:R}=E.range;if(R<1||R>M.getLineCount()){k.dispose();return}const B=this.getPreviewValue(M,R,E),T=this.languageService.guessLanguageIdByFilepathOrFirstLine(M.uri);this.addDecoration(w,B?new y.MarkdownString().appendCodeblock(T||"",B):void 0),k.dispose()})}})}getPreviewValue(a,g,h){let p=h.range;return p.endLineNumber-p.startLineNumber>=l.MAX_SOURCE_PREVIEW_LINES&&(p=this.getPreviewRangeBasedOnIndentation(a,g)),this.stripIndentationFromPreviewRange(a,g,p)}stripIndentationFromPreviewRange(a,g,h){let b=a.getLineFirstNonWhitespaceColumn(g);for(let E=g+1;E<h.endLineNumber;E++){const k=a.getLineFirstNonWhitespaceColumn(E);b=Math.min(b,k)}return a.getValueInRange(h).replace(new RegExp(`^\\s{${b-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(a,g){const h=a.getLineFirstNonWhitespaceColumn(g),p=Math.min(a.getLineCount(),g+l.MAX_SOURCE_PREVIEW_LINES);let b=g+1;for(;b<p;b++){const w=a.getLineFirstNonWhitespaceColumn(b);if(h===w)break}return new _.Range(g,1,b+1,1)}addDecoration(a,g){const h={range:a,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:g}};this.linkDecorations.set([h])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(a,g){var h;return this.editor.hasModel()&&a.isLeftClick&&a.isNoneOrSingleMouseDown&&a.target.type===6&&!(((h=a.target.detail.injectedText)===null||h===void 0?void 0:h.options)instanceof d.ModelDecorationInjectedTextOptions)&&(a.hasTriggerModifier||(g?g.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(a,g){const h=this.editor.getModel();return h?(0,u.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,h,a,g):Promise.resolve(null)}gotoDefinition(a,g){return this.editor.setPosition(a),this.editor.invokeWithinContext(h=>{const p=!g&&this.editor.getOption(87)&&!this.isInPeekEditor(h);return new r.DefinitionAction({openToSide:g,openInPeek:p,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(h)})}isInPeekEditor(a){const g=a.get(t.IContextKeyService);return i.PeekContext.inPeekEditor.getValue(g)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=o,o.ID="editor.contrib.gotodefinitionatposition",o.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=o=l=Ie([ge(1,C.ITextModelService),ge(2,v.ILanguageService),ge(3,f.ILanguageFeaturesService)],o),(0,m.registerEditorContribution)(o.ID,o,2)}),define(te[901],ie([1,0,7,13,14,9,2,46,5,18,233,135,252,112,373,674,94,55,85]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const l=L.$;class o{constructor(h,p,b){this.owner=h,this.range=p,this.marker=b}isValidForHoverAnchor(h){return h.type===1&&this.range.startColumn<=h.range.startColumn&&this.range.endColumn>=h.range.endColumn}}e.MarkerHover=o;const c={type:1,filter:{include:n.CodeActionKind.QuickFix},triggerAction:n.CodeActionTriggerSource.QuickFixHover};let a=class{constructor(h,p,b,w){this._editor=h,this._markerDecorationsService=p,this._openerService=b,this._languageFeaturesService=w,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(h,p){if(!this._editor.hasModel()||h.type!==1&&!h.supportsMarkerHover)return[];const b=this._editor.getModel(),w=h.range.startLineNumber,E=b.getLineMaxColumn(w),k=[];for(const M of p){const R=M.range.startLineNumber===w?M.range.startColumn:1,B=M.range.endLineNumber===w?M.range.endColumn:E,T=this._markerDecorationsService.getMarker(b.uri,M);if(!T)continue;const N=new _.Range(h.range.startLineNumber,R,h.range.startLineNumber,B);k.push(new o(this,N,T))}return k}renderHoverParts(h,p){if(!p.length)return S.Disposable.None;const b=new S.DisposableStore;p.forEach(E=>h.fragment.appendChild(this.renderMarkerHover(E,b)));const w=p.length===1?p[0]:p.sort((E,k)=>u.MarkerSeverity.compare(E.marker.severity,k.marker.severity))[0];return this.renderMarkerStatusbar(h,w,b),b}renderMarkerHover(h,p){const b=l("div.hover-row"),w=L.append(b,l("div.marker.hover-contents")),{source:E,message:k,code:M,relatedInformation:R}=h.marker;this._editor.applyFontInfo(w);const B=L.append(w,l("span"));if(B.style.whiteSpace="pre-wrap",B.innerText=k,E||M)if(M&&typeof M!="string"){const T=l("span");if(E){const O=L.append(T,l("span"));O.innerText=E}const N=L.append(T,l("a.code-link"));N.setAttribute("href",M.target.toString()),p.add(L.addDisposableListener(N,"click",O=>{this._openerService.open(M.target,{allowCommands:!0}),O.preventDefault(),O.stopPropagation()}));const A=L.append(N,l("span"));A.innerText=M.value;const P=L.append(w,T);P.style.opacity="0.6",P.style.paddingLeft="6px"}else{const T=L.append(w,l("span"));T.style.opacity="0.6",T.style.paddingLeft="6px",T.innerText=E&&M?`${E}(${M})`:E||`(${M})`}if((0,I.isNonEmptyArray)(R))for(const{message:T,resource:N,startLineNumber:A,startColumn:P}of R){const O=L.append(w,l("div"));O.style.marginTop="8px";const x=L.append(O,l("a"));x.innerText=`${(0,m.basename)(N)}(${A}, ${P}): `,x.style.cursor="pointer",p.add(L.addDisposableListener(x,"click",U=>{U.stopPropagation(),U.preventDefault(),this._openerService&&this._openerService.open(N,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:A,startColumn:P}}}).catch(D.onUnexpectedError)}));const W=L.append(O,l("span"));W.innerText=T,this._editor.applyFontInfo(W)}return b}renderMarkerStatusbar(h,p,b){if((p.marker.severity===u.MarkerSeverity.Error||p.marker.severity===u.MarkerSeverity.Warning||p.marker.severity===u.MarkerSeverity.Info)&&h.statusBar.addAction({label:r.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{var w;h.hide(),(w=t.MarkerController.get(this._editor))===null||w===void 0||w.showAtMarker(p.marker),this._editor.focus()}}),!this._editor.getOption(90)){const w=h.statusBar.append(l("div"));this.recentMarkerCodeActionsInfo&&(u.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===u.IMarkerData.makeKey(p.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(w.textContent=r.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const E=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?S.Disposable.None:b.add((0,y.disposableTimeout)(()=>w.textContent=r.localize(2,null),200));w.textContent||(w.textContent=String.fromCharCode(160));const k=this.getCodeActions(p.marker);b.add((0,S.toDisposable)(()=>k.cancel())),k.then(M=>{if(E.dispose(),this.recentMarkerCodeActionsInfo={marker:p.marker,hasCodeActions:M.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){M.dispose(),w.textContent=r.localize(3,null);return}w.style.display="none";let R=!1;b.add((0,S.toDisposable)(()=>{R||M.dispose()})),h.statusBar.addAction({label:r.localize(4,null),commandId:s.quickFixCommandId,run:B=>{R=!0;const T=i.CodeActionController.get(this._editor),N=L.getDomNodePagePosition(B);h.hide(),T?.showCodeActions(c,M,{x:N.left,y:N.top,width:N.width,height:N.height})}})},D.onUnexpectedError)}}getCodeActions(h){return(0,y.createCancelablePromise)(p=>(0,s.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new _.Range(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn),c,d.Progress.None,p))}};e.MarkerHoverParticipant=a,e.MarkerHoverParticipant=a=Ie([ge(1,C.IMarkerDecorationsService),ge(2,f.IOpenerService),ge(3,v.ILanguageFeaturesService)],a)}),define(te[376],ie([1,0,62,2,16,5,22,42,375,371,782,8,55,31,23,99,247,901,251,34,672,14,452]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;const g=!1;let h=a=class extends I.Disposable{static get(P){return P.getContribution(a.ID)}constructor(P,O,x,W,U){super(),this._editor=P,this._instantiationService=O,this._openerService=x,this._languageService=W,this._keybindingService=U,this._toUnhook=new I.DisposableStore,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._reactToEditorMouseMoveRunner=this._register(new c.RunOnceScheduler(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookEvents(),this._register(this._editor.onDidChangeConfiguration(F=>{F.hasChanged(60)&&(this._unhookEvents(),this._hookEvents())})),this._register(this._editor.onMouseLeave(()=>{this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}))}_hookEvents(){const P=()=>this._hideWidgets(),O=this._editor.getOption(60);this._isHoverEnabled=O.enabled,this._isHoverSticky=O.sticky,this._hidingDelay=O.hidingDelay,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(x=>this._onEditorMouseDown(x))),this._toUnhook.add(this._editor.onMouseUp(x=>this._onEditorMouseUp(x))),this._toUnhook.add(this._editor.onMouseMove(x=>this._onEditorMouseMove(x))),this._toUnhook.add(this._editor.onKeyDown(x=>this._onKeyDown(x)))):(this._toUnhook.add(this._editor.onMouseMove(x=>this._onEditorMouseMove(x))),this._toUnhook.add(this._editor.onKeyDown(x=>this._onKeyDown(x)))),this._toUnhook.add(this._editor.onMouseLeave(x=>this._onEditorMouseLeave(x))),this._toUnhook.add(this._editor.onDidChangeModel(P)),this._toUnhook.add(this._editor.onDidScrollChange(x=>this._onEditorScrollChanged(x)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(P){(P.scrollTopChanged||P.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(P){var O;this._isMouseDown=!0;const x=P.target;if(x.type===9&&x.detail===v.ContentHoverWidget.ID){this._hoverClicked=!0;return}x.type===12&&x.detail===C.MarginHoverWidget.ID||(x.type!==12&&(this._hoverClicked=!1),!((O=this._contentWidget)===null||O===void 0)&&O.widget.isResizing||this._hideWidgets())}_onEditorMouseUp(P){this._isMouseDown=!1}_onEditorMouseLeave(P){var O,x;const W=P.event.browserEvent.relatedTarget;!((O=this._contentWidget)===null||O===void 0)&&O.widget.isResizing||!((x=this._contentWidget)===null||x===void 0)&&x.containsNode(W)||g||this._hideWidgets()}_isMouseOverWidget(P){var O,x,W,U,F;const G=P.target;return!!(this._isHoverSticky&&G.type===9&&G.detail===v.ContentHoverWidget.ID||this._isHoverSticky&&(!((O=this._contentWidget)===null||O===void 0)&&O.containsNode((x=P.event.browserEvent.view)===null||x===void 0?void 0:x.document.activeElement))&&!(!((U=(W=P.event.browserEvent.view)===null||W===void 0?void 0:W.getSelection())===null||U===void 0)&&U.isCollapsed)||!this._isHoverSticky&&G.type===9&&G.detail===v.ContentHoverWidget.ID&&(!((F=this._contentWidget)===null||F===void 0)&&F.isColorPickerVisible)||this._isHoverSticky&&G.type===12&&G.detail===C.MarginHoverWidget.ID)}_onEditorMouseMove(P){var O,x,W,U;if(this._mouseMoveEvent=P,!((O=this._contentWidget)===null||O===void 0)&&O.isFocused||!((x=this._contentWidget)===null||x===void 0)&&x.isResizing||this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&(!((W=this._contentWidget)===null||W===void 0)&&W.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(P)){this._reactToEditorMouseMoveRunner.cancel();return}if(!((U=this._contentWidget)===null||U===void 0)&&U.isVisible&&this._isHoverSticky&&this._hidingDelay>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(this._hidingDelay);return}this._reactToEditorMouseMove(P)}_reactToEditorMouseMove(P){var O,x,W;if(!P)return;const U=P.target,F=(O=U.element)===null||O===void 0?void 0:O.classList.contains("colorpicker-color-decoration"),G=this._editor.getOption(146);if(F&&(G==="click"&&!this._hoverActivatedByColorDecoratorClick||G==="hover"&&!this._isHoverEnabled&&!g||G==="clickAndHover"&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!F&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(P)){(x=this._glyphWidget)===null||x===void 0||x.hide();return}if(U.type===2&&U.position){(W=this._contentWidget)===null||W===void 0||W.hide(),this._glyphWidget||(this._glyphWidget=new C.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(U.position.lineNumber);return}g||this._hideWidgets()}_onKeyDown(P){var O;if(!this._editor.hasModel())return;const x=this._keybindingService.softDispatch(P,this._editor.getDomNode()),W=x.kind===1||x.kind===2&&x.commandId==="editor.action.showHover"&&((O=this._contentWidget)===null||O===void 0?void 0:O.isVisible);P.keyCode!==5&&P.keyCode!==6&&P.keyCode!==57&&P.keyCode!==4&&!W&&this._hideWidgets()}_hideWidgets(){var P,O,x;g||this._isMouseDown&&this._hoverClicked&&(!((P=this._contentWidget)===null||P===void 0)&&P.isColorPickerVisible)||d.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,(O=this._glyphWidget)===null||O===void 0||O.hide(),(x=this._contentWidget)===null||x===void 0||x.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(v.ContentHoverController,this._editor)),this._contentWidget}showContentHover(P,O,x,W,U=!1){this._hoverActivatedByColorDecoratorClick=U,this._getOrCreateContentWidget().startShowingAtRange(P,O,x,W)}focus(){var P;(P=this._contentWidget)===null||P===void 0||P.focus()}scrollUp(){var P;(P=this._contentWidget)===null||P===void 0||P.scrollUp()}scrollDown(){var P;(P=this._contentWidget)===null||P===void 0||P.scrollDown()}scrollLeft(){var P;(P=this._contentWidget)===null||P===void 0||P.scrollLeft()}scrollRight(){var P;(P=this._contentWidget)===null||P===void 0||P.scrollRight()}pageUp(){var P;(P=this._contentWidget)===null||P===void 0||P.pageUp()}pageDown(){var P;(P=this._contentWidget)===null||P===void 0||P.pageDown()}goToTop(){var P;(P=this._contentWidget)===null||P===void 0||P.goToTop()}goToBottom(){var P;(P=this._contentWidget)===null||P===void 0||P.goToBottom()}get isColorPickerVisible(){var P;return(P=this._contentWidget)===null||P===void 0?void 0:P.isColorPickerVisible}get isHoverVisible(){var P;return(P=this._contentWidget)===null||P===void 0?void 0:P.isVisible}dispose(){var P,O;super.dispose(),this._unhookEvents(),this._toUnhook.dispose(),(P=this._glyphWidget)===null||P===void 0||P.dispose(),(O=this._contentWidget)===null||O===void 0||O.dispose()}};e.ModesHoverController=h,h.ID="editor.contrib.hover",e.ModesHoverController=h=a=Ie([ge(1,s.IInstantiationService),ge(2,i.IOpenerService),ge(3,m.ILanguageService),ge(4,l.IKeybindingService)],h);class p extends y.EditorAction{constructor(){super({id:"editor.action.showHover",label:o.localize(0,null),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2087),weight:100}})}run(P,O,x){if(!O.hasModel())return;const W=h.get(O);if(!W)return;const U=O.getPosition(),F=new D.Range(U.lineNumber,U.column,U.lineNumber,U.column),G=O.getOption(2)===2||!!x?.focus;W.isHoverVisible?W.focus():W.showContentHover(F,1,1,G)}}class b extends y.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:o.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(P,O){const x=h.get(O);if(!x)return;const W=O.getPosition();if(!W)return;const U=new D.Range(W.lineNumber,W.column,W.lineNumber,W.column),F=_.GotoDefinitionAtPositionEditorContribution.get(O);if(!F)return;F.startFindDefinitionFromCursor(W).then(()=>{x.showContentHover(U,1,1,!0)})}}class w extends y.EditorAction{constructor(){super({id:"editor.action.scrollUpHover",label:o.localize(2,null),alias:"Scroll Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:16,weight:100}})}run(P,O){const x=h.get(O);x&&x.scrollUp()}}class E extends y.EditorAction{constructor(){super({id:"editor.action.scrollDownHover",label:o.localize(3,null),alias:"Scroll Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:18,weight:100}})}run(P,O){const x=h.get(O);x&&x.scrollDown()}}class k extends y.EditorAction{constructor(){super({id:"editor.action.scrollLeftHover",label:o.localize(4,null),alias:"Scroll Left Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:15,weight:100}})}run(P,O){const x=h.get(O);x&&x.scrollLeft()}}class M extends y.EditorAction{constructor(){super({id:"editor.action.scrollRightHover",label:o.localize(5,null),alias:"Scroll Right Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:17,weight:100}})}run(P,O){const x=h.get(O);x&&x.scrollRight()}}class R extends y.EditorAction{constructor(){super({id:"editor.action.pageUpHover",label:o.localize(6,null),alias:"Page Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100}})}run(P,O){const x=h.get(O);x&&x.pageUp()}}class B extends y.EditorAction{constructor(){super({id:"editor.action.pageDownHover",label:o.localize(7,null),alias:"Page Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100}})}run(P,O){const x=h.get(O);x&&x.pageDown()}}class T extends y.EditorAction{constructor(){super({id:"editor.action.goToTopHover",label:o.localize(8,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(P,O){const x=h.get(O);x&&x.goToTop()}}class N extends y.EditorAction{constructor(){super({id:"editor.action.goToBottomHover",label:o.localize(9,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(P,O){const x=h.get(O);x&&x.goToBottom()}}(0,y.registerEditorContribution)(h.ID,h,2),(0,y.registerEditorAction)(p),(0,y.registerEditorAction)(b),(0,y.registerEditorAction)(w),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(k),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(R),(0,y.registerEditorAction)(B),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(N),r.HoverParticipantRegistry.register(u.MarkdownHoverParticipant),r.HoverParticipantRegistry.register(f.MarkerHoverParticipant),(0,t.registerThemingParticipant)((A,P)=>{const O=A.getColor(n.editorHoverBorder);O&&(P.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${O.transparent(.5)}; }`),P.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${O.transparent(.5)}; }`),P.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${O.transparent(.5)}; }`))})}),define(te[902],ie([1,0,2,16,5,367,368,376,99]),function($,e,L,I,y,D,S,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class v extends L.Disposable{constructor(s){super(),this._editor=s,this._register(s.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(s){const i=this._editor.getOption(146);if(i!=="click"&&i!=="clickAndHover")return;const n=s.target;if(n.type!==6||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!n.range)return;const t=this._editor.getContribution(m.ModesHoverController.ID);if(t&&!t.isColorPickerVisible){const r=new y.Range(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);t.showContentHover(r,1,0,!1,!0)}}}e.ColorContribution=v,v.ID="editor.contrib.colorContribution",(0,I.registerEditorContribution)(v.ID,v,2),_.HoverParticipantRegistry.register(S.ColorHoverParticipant)}),define(te[377],ie([1,0,7,41,19,169,5,65,255,136,30,25,15,58,8,48]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function u(d,l,o,c){var a;return be(this,void 0,void 0,function*(){const g=d.get(m.ITextModelService),h=d.get(n.IContextMenuService),p=d.get(s.ICommandService),b=d.get(t.IInstantiationService),w=d.get(r.INotificationService);if(yield c.item.resolve(y.CancellationToken.None),!c.part.location)return;const E=c.part.location,k=[],M=new Set(C.MenuRegistry.getMenuItems(C.MenuId.EditorContext).map(B=>(0,C.isIMenuItem)(B)?B.command.id:(0,D.generateUuid)()));for(const B of _.SymbolNavigationAction.all())M.has(B.desc.id)&&k.push(new I.Action(B.desc.id,C.MenuItemAction.label(B.desc,{renderShortTitle:!0}),void 0,!0,()=>be(this,void 0,void 0,function*(){const T=yield g.createModelReference(E.uri);try{const N=new _.SymbolNavigationAnchor(T.object.textEditorModel,S.Range.getStartPosition(E.range)),A=c.item.anchor.range;yield b.invokeFunction(B.runEditorCommand.bind(B),l,N,A)}finally{T.dispose()}})));if(c.part.command){const{command:B}=c.part;k.push(new I.Separator),k.push(new I.Action(B.id,B.title,void 0,!0,()=>be(this,void 0,void 0,function*(){var T;try{yield p.executeCommand(B.id,...(T=B.arguments)!==null&&T!==void 0?T:[])}catch(N){w.notify({severity:r.Severity.Error,source:c.item.provider.displayName,message:N})}})))}const R=l.getOption(126);h.showContextMenu({domForShadowRoot:R&&(a=l.getDomNode())!==null&&a!==void 0?a:void 0,getAnchor:()=>{const B=L.getDomNodePagePosition(o);return{x:B.left,y:B.top+B.height+8}},getActions:()=>k,onHide:()=>{l.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=u;function f(d,l,o,c){return be(this,void 0,void 0,function*(){const g=yield d.get(m.ITextModelService).createModelReference(c.uri);yield o.invokeWithinContext(h=>be(this,void 0,void 0,function*(){const p=l.hasSideBySideModifier,b=h.get(i.IContextKeyService),w=v.PeekContext.inPeekEditor.getValue(b),E=!p&&o.getOption(87)&&!w;return new _.DefinitionAction({openToSide:p,openInPeek:E,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(h,new _.SymbolNavigationAnchor(g.object.textEditorModel,S.Range.getStartPosition(c.range)),S.Range.lift(c.range))})),g.dispose()})}e.goToDefinitionWithLocation=f}),define(te[378],ie([1,0,7,13,14,19,9,2,56,20,21,159,120,39,71,5,29,49,37,74,18,65,184,326,377,25,47,8,48,31,23]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class B{constructor(){this._entries=new _.LRUCache(50)}get(W){const U=B._key(W);return this._entries.get(U)}set(W,U){const F=B._key(W);this._entries.set(F,U)}static _key(W){return`${W.uri.toString()}/${W.getVersionId()}`}}const T=(0,w.createDecorator)("IInlayHintsCache");(0,b.registerSingleton)(T,B,1);class N{constructor(W,U){this.item=W,this.index=U}get part(){const W=this.item.hint.label;return typeof W=="string"?{label:W}:W[this.index]}}e.RenderedInlayHintLabelPart=N;class A{constructor(W,U){this.part=W,this.hasTriggerModifier=U}}let P=R=class{static get(W){var U;return(U=W.getContribution(R.ID))!==null&&U!==void 0?U:void 0}constructor(W,U,F,G,Y,ne,se){this._editor=W,this._languageFeaturesService=U,this._inlayHintsCache=G,this._commandService=Y,this._notificationService=ne,this._instaService=se,this._disposables=new m.DisposableStore,this._sessionDisposables=new m.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new s.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=F.for(U.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(U.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(W.onDidChangeModel(()=>this._update())),this._disposables.add(W.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(W.onDidChangeConfiguration(J=>{J.hasChanged(139)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const W=this._editor.getOption(139);if(W.enabled==="off")return;const U=this._editor.getModel();if(!U||!this._languageFeaturesService.inlayHintsProvider.has(U))return;const F=this._inlayHintsCache.get(U);F&&this._updateHintsDecorators([U.getFullModelRange()],F),this._sessionDisposables.add((0,m.toDisposable)(()=>{U.isDisposed()||this._cacheHintsForFastRestore(U)}));let G;const Y=new Set,ne=new y.RunOnceScheduler(()=>be(this,void 0,void 0,function*(){const se=Date.now();G?.dispose(!0),G=new D.CancellationTokenSource;const J=U.onWillDispose(()=>G?.cancel());try{const q=G.token,H=yield g.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,U,this._getHintsRanges(),q);if(ne.delay=this._debounceInfo.update(U,Date.now()-se),q.isCancellationRequested){H.dispose();return}for(const V of H.provider)typeof V.onDidChangeInlayHints=="function"&&!Y.has(V)&&(Y.add(V),this._sessionDisposables.add(V.onDidChangeInlayHints(()=>{ne.isScheduled()||ne.schedule()})));this._sessionDisposables.add(H),this._updateHintsDecorators(H.ranges,H.items),this._cacheHintsForFastRestore(U)}catch(q){(0,S.onUnexpectedError)(q)}finally{G.dispose(),J.dispose()}}),this._debounceInfo.get(U));if(this._sessionDisposables.add(ne),this._sessionDisposables.add((0,m.toDisposable)(()=>G?.dispose(!0))),ne.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(se=>{(se.scrollTopChanged||!ne.isScheduled())&&ne.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(se=>{const J=Math.max(ne.delay,1250);ne.schedule(J)})),W.enabled==="on")this._activeRenderMode=0;else{let se,J;W.enabled==="onUnlessPressed"?(se=0,J=1):(se=1,J=0),this._activeRenderMode=se,this._sessionDisposables.add(L.ModifierKeyEmitter.getInstance().event(q=>{if(!this._editor.hasModel())return;const H=q.altKey&&q.ctrlKey&&!(q.shiftKey||q.metaKey)?J:se;if(H!==this._activeRenderMode){this._activeRenderMode=H;const V=this._editor.getModel(),Z=this._copyInlayHintsWithCurrentAnchor(V);this._updateHintsDecorators([V.getFullModelRange()],Z),ne.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ne.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const W=new m.DisposableStore,U=W.add(new a.ClickLinkGesture(this._editor)),F=new m.DisposableStore;return W.add(F),W.add(U.onMouseMoveOrRelevantKeyDown(G=>{const[Y]=G,ne=this._getInlayHintLabelPart(Y),se=this._editor.getModel();if(!ne||!se){F.clear();return}const J=new D.CancellationTokenSource;F.add((0,m.toDisposable)(()=>J.dispose(!0))),ne.item.resolve(J.token),this._activeInlayHintPart=ne.part.command||ne.part.location?new A(ne,Y.hasTriggerModifier):void 0;const q=se.validatePosition(ne.item.hint.position).lineNumber,H=new r.Range(q,1,q,se.getLineMaxColumn(q)),V=this._getInlineHintsForRange(H);this._updateHintsDecorators([H],V),F.add((0,m.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([H],V)}))})),W.add(U.onCancel(()=>F.clear())),W.add(U.onExecute(G=>be(this,void 0,void 0,function*(){const Y=this._getInlayHintLabelPart(G);if(Y){const ne=Y.part;ne.location?this._instaService.invokeFunction(h.goToDefinitionWithLocation,G,this._editor,ne.location):u.Command.is(ne.command)&&(yield this._invokeCommand(ne.command,Y.item))}}))),W}_getInlineHintsForRange(W){const U=new Set;for(const F of this._decorationsMetadata.values())W.containsRange(F.item.anchor.range)&&U.add(F.item);return Array.from(U)}_installDblClickGesture(W){return this._editor.onMouseUp(U=>be(this,void 0,void 0,function*(){if(U.event.detail!==2)return;const F=this._getInlayHintLabelPart(U);if(F&&(U.event.preventDefault(),yield F.item.resolve(D.CancellationToken.None),(0,I.isNonEmptyArray)(F.item.hint.textEdits))){const G=F.item.hint.textEdits.map(Y=>t.EditOperation.replace(r.Range.lift(Y.range),Y.text));this._editor.executeEdits("inlayHint.default",G),W()}}))}_installContextMenu(){return this._editor.onContextMenu(W=>be(this,void 0,void 0,function*(){if(!(W.event.target instanceof HTMLElement))return;const U=this._getInlayHintLabelPart(W);U&&(yield this._instaService.invokeFunction(h.showGoToContextMenu,this._editor,W.event.target,U))}))}_getInlayHintLabelPart(W){var U;if(W.target.type!==6)return;const F=(U=W.target.detail.injectedText)===null||U===void 0?void 0:U.options;if(F instanceof d.ModelDecorationInjectedTextOptions&&F?.attachedData instanceof N)return F.attachedData}_invokeCommand(W,U){var F;return be(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(W.id,...(F=W.arguments)!==null&&F!==void 0?F:[])}catch(G){this._notificationService.notify({severity:E.Severity.Error,source:U.provider.displayName,message:G})}})}_cacheHintsForFastRestore(W){const U=this._copyInlayHintsWithCurrentAnchor(W);this._inlayHintsCache.set(W,U)}_copyInlayHintsWithCurrentAnchor(W){const U=new Map;for(const[F,G]of this._decorationsMetadata){if(U.has(G.item))continue;const Y=W.getDecorationRange(F);if(Y){const ne=new g.InlayHintAnchor(Y,G.item.anchor.direction),se=G.item.with({anchor:ne});U.set(G.item,se)}}return Array.from(U.values())}_getHintsRanges(){const U=this._editor.getModel(),F=this._editor.getVisibleRangesPlusViewportAboveBelow(),G=[];for(const Y of F.sort(r.Range.compareRangesUsingStarts)){const ne=U.validateRange(new r.Range(Y.startLineNumber-30,Y.startColumn,Y.endLineNumber+30,Y.endColumn));G.length===0||!r.Range.areIntersectingOrTouching(G[G.length-1],ne)?G.push(ne):G[G.length-1]=r.Range.plusRange(G[G.length-1],ne)}return G}_updateHintsDecorators(W,U){var F,G;const Y=[],ne=(ue,de,ce,ae,X)=>{const K={content:ce,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:de.className,cursorStops:ae,attachedData:X};Y.push({item:ue,classNameRef:de,decoration:{range:ue.anchor.range,options:{description:"InlayHint",showIfCollapsed:ue.anchor.range.isEmpty(),collapseOnReplaceEdit:!ue.anchor.range.isEmpty(),stickiness:0,[ue.anchor.direction]:this._activeRenderMode===0?K:void 0}}})},se=(ue,de)=>{const ce=this._ruleFactory.createClassNameRef({width:`${J/3|0}px`,display:"inline-block"});ne(ue,ce,"\u200A",de?f.InjectedTextCursorStops.Right:f.InjectedTextCursorStops.None)},{fontSize:J,fontFamily:q,padding:H,isUniform:V}=this._getLayoutInfo(),Z="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Z,q);for(const ue of U){ue.hint.paddingLeft&&se(ue,!1);const de=typeof ue.hint.label=="string"?[{label:ue.hint.label}]:ue.hint.label;for(let ce=0;ce<de.length;ce++){const ae=de[ce],X=ce===0,K=ce===de.length-1,z={fontSize:`${J}px`,fontFamily:`var(${Z}), ${n.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:V?"baseline":"middle",unicodeBidi:"isolate"};(0,I.isNonEmptyArray)(ue.hint.textEdits)&&(z.cursor="default"),this._fillInColors(z,ue.hint),(ae.command||ae.location)&&((F=this._activeInlayHintPart)===null||F===void 0?void 0:F.part.item)===ue&&this._activeInlayHintPart.part.index===ce&&(z.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(z.color=(0,M.themeColorFromId)(k.editorActiveLinkForeground),z.cursor="pointer")),H&&(X&&K?(z.padding=`1px ${Math.max(1,J/4)|0}px`,z.borderRadius=`${J/4|0}px`):X?(z.padding=`1px 0 1px ${Math.max(1,J/4)|0}px`,z.borderRadius=`${J/4|0}px 0 0 ${J/4|0}px`):K?(z.padding=`1px ${Math.max(1,J/4)|0}px 1px 0`,z.borderRadius=`0 ${J/4|0}px ${J/4|0}px 0`):z.padding="1px 0 1px 0"),ne(ue,this._ruleFactory.createClassNameRef(z),O(ae.label),K&&!ue.hint.paddingRight?f.InjectedTextCursorStops.Right:f.InjectedTextCursorStops.None,new N(ue,ce))}if(ue.hint.paddingRight&&se(ue,!0),Y.length>R._MAX_DECORATORS)break}const ee=[];for(const ue of W)for(const{id:de}of(G=this._editor.getDecorationsInRange(ue))!==null&&G!==void 0?G:[]){const ce=this._decorationsMetadata.get(de);ce&&(ee.push(de),ce.classNameRef.dispose(),this._decorationsMetadata.delete(de))}const le=i.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(ue=>{const de=ue.deltaDecorations(ee,Y.map(ce=>ce.decoration));for(let ce=0;ce<de.length;ce++){const ae=Y[ce];this._decorationsMetadata.set(de[ce],ae)}}),le.restore(this._editor)}_fillInColors(W,U){U.kind===u.InlayHintKind.Parameter?(W.backgroundColor=(0,M.themeColorFromId)(k.editorInlayHintParameterBackground),W.color=(0,M.themeColorFromId)(k.editorInlayHintParameterForeground)):U.kind===u.InlayHintKind.Type?(W.backgroundColor=(0,M.themeColorFromId)(k.editorInlayHintTypeBackground),W.color=(0,M.themeColorFromId)(k.editorInlayHintTypeForeground)):(W.backgroundColor=(0,M.themeColorFromId)(k.editorInlayHintBackground),W.color=(0,M.themeColorFromId)(k.editorInlayHintForeground))}_getLayoutInfo(){const W=this._editor.getOption(139),U=W.padding,F=this._editor.getOption(52),G=this._editor.getOption(49);let Y=W.fontSize;(!Y||Y<5||Y>F)&&(Y=F);const ne=W.fontFamily||G;return{fontSize:Y,fontFamily:ne,padding:U,isUniform:!U&&ne===G&&Y===F}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const W of this._decorationsMetadata.values())W.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=P,P.ID="editor.contrib.InlayHints",P._MAX_DECORATORS=1500,e.InlayHintsController=P=R=Ie([ge(1,o.ILanguageFeaturesService),ge(2,l.ILanguageFeatureDebounceService),ge(3,T),ge(4,p.ICommandService),ge(5,E.INotificationService),ge(6,w.IInstantiationService)],P);function O(x){const W="\xA0";return x.replace(/[ \t]/g,W)}p.CommandsRegistry.registerCommand("_executeInlayHintProvider",(x,...W)=>be(void 0,void 0,void 0,function*(){const[U,F]=W;(0,v.assertType)(C.URI.isUri(U)),(0,v.assertType)(r.Range.isIRange(F));const{inlayHintsProvider:G}=x.get(o.ILanguageFeaturesService),Y=yield x.get(c.ITextModelService).createModelReference(U);try{const ne=yield g.InlayHintsFragments.create(G,Y.object.textEditorModel,[r.Range.lift(F)],D.CancellationToken.None),se=ne.items.map(J=>J.hint);return setTimeout(()=>ne.dispose(),0),se}finally{Y.dispose()}}))});var yt=this&&this.__asyncValues||function($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=$[Symbol.asyncIterator],L;return e?e.call($):($=typeof __values=="function"?__values($):$[Symbol.iterator](),L={},I("next"),I("throw"),I("return"),L[Symbol.asyncIterator]=function(){return this},L);function I(D){L[D]=$[D]&&function(S){return new Promise(function(m,_){S=$[D](S),y(m,_,S.done,S.value)})}}function y(D,S,m,_){Promise.resolve(_).then(function(v){D({value:v,done:m})},S)}};define(te[903],ie([1,0,14,57,12,37,99,42,65,356,247,378,28,55,18,677,17,326,13]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class l extends S.HoverForeignElementAnchor{constructor(a,g,h,p){super(10,g,a.item.anchor.range,h,p,!0),this.part=a}}let o=class extends C.MarkdownHoverParticipant{constructor(a,g,h,p,b,w){super(a,g,h,p,w),this._resolverService=b,this.hoverOrdinal=6}suggestHoverAnchor(a){var g;if(!s.InlayHintsController.get(this._editor)||a.target.type!==6)return null;const p=(g=a.target.detail.injectedText)===null||g===void 0?void 0:g.options;return p instanceof D.ModelDecorationInjectedTextOptions&&p.attachedData instanceof s.RenderedInlayHintLabelPart?new l(p.attachedData,this,a.event.posx,a.event.posy):null}computeSync(){return[]}computeAsync(a,g,h){return a instanceof l?new L.AsyncIterableObject(p=>be(this,void 0,void 0,function*(){var b,w,E,k;const{part:M}=a;if(yield M.item.resolve(h),h.isCancellationRequested)return;let R;typeof M.item.hint.tooltip=="string"?R=new I.MarkdownString().appendText(M.item.hint.tooltip):M.item.hint.tooltip&&(R=M.item.hint.tooltip),R&&p.emitOne(new C.MarkdownHover(this,a.range,[R],!1,0)),(0,d.isNonEmptyArray)(M.item.hint.textEdits)&&p.emitOne(new C.MarkdownHover(this,a.range,[new I.MarkdownString().appendText((0,r.localize)(0,null))],!1,10001));let B;if(typeof M.part.tooltip=="string"?B=new I.MarkdownString().appendText(M.part.tooltip):M.part.tooltip&&(B=M.part.tooltip),B&&p.emitOne(new C.MarkdownHover(this,a.range,[B],!1,1)),M.part.location||M.part.command){let O;const W=this._editor.getOption(77)==="altKey"?u.isMacintosh?(0,r.localize)(1,null):(0,r.localize)(2,null):u.isMacintosh?(0,r.localize)(3,null):(0,r.localize)(4,null);M.part.location&&M.part.command?O=new I.MarkdownString().appendText((0,r.localize)(5,null,W)):M.part.location?O=new I.MarkdownString().appendText((0,r.localize)(6,null,W)):M.part.command&&(O=new I.MarkdownString(`[${(0,r.localize)(7,null)}](${(0,f.asCommandLink)(M.part.command)} "${M.part.command.title}") (${W})`,{isTrusted:!0})),O&&p.emitOne(new C.MarkdownHover(this,a.range,[O],!1,1e4))}const T=yield this._resolveInlayHintLabelPartHover(M,h);try{for(var N=!0,A=yt(T),P;P=yield A.next(),b=P.done,!b;N=!0){k=P.value,N=!1;const O=k;p.emitOne(O)}}catch(O){w={error:O}}finally{try{!N&&!b&&(E=A.return)&&(yield E.call(A))}finally{if(w)throw w.error}}})):L.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(a,g){return be(this,void 0,void 0,function*(){if(!a.part.location)return L.AsyncIterableObject.EMPTY;const{uri:h,range:p}=a.part.location,b=yield this._resolverService.createModelReference(h);try{const w=b.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(w)?(0,v.getHover)(this._languageFeaturesService.hoverProvider,w,new y.Position(p.startLineNumber,p.startColumn),g).filter(E=>!(0,I.isEmptyMarkdownString)(E.hover.contents)).map(E=>new C.MarkdownHover(this,a.item.anchor.range,E.hover.contents,!1,2+E.ordinal)):L.AsyncIterableObject.EMPTY}finally{b.dispose()}})}};e.InlayHintsHover=o,e.InlayHintsHover=o=Ie([ge(1,m.ILanguageService),ge(2,n.IOpenerService),ge(3,i.IConfigurationService),ge(4,_.ITextModelService),ge(5,t.ILanguageFeaturesService)],o)}),define(te[904],ie([1,0,16,99,378,903]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.InlayHintsController.ID,y.InlayHintsController,1),I.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(te[379],ie([1,0,2,18,894,893,8,58,30,15,22,184,5,246,377,12,19,32,74,7,303,60,253,295]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let p=h=class extends L.Disposable{constructor(w,E,k,M,R,B,T){super(),this._editor=w,this._contextMenuService=E,this._languageFeaturesService=k,this._instaService=M,this._contextKeyService=T,this._sessionStore=new L.DisposableStore,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new y.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new D.StickyLineCandidateProvider(this._editor,k,R),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new y.StickyScrollWidgetState([],[],0),this._readConfiguration();const N=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(P=>{(P.hasChanged(114)||P.hasChanged(72)||P.hasChanged(66)||P.hasChanged(109))&&this._readConfiguration()})),this._register(l.addDisposableListener(N,l.EventType.CONTEXT_MENU,P=>be(this,void 0,void 0,function*(){this._onContextMenu(P)}))),this._stickyScrollFocusedContextKey=C.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=C.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const A=this._register(l.trackFocus(N));this._register(A.onDidBlur(P=>{this._positionRevealed===!1&&N.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(A.onDidFocus(P=>{this.focus()})),this._registerMouseListeners(),this._register(l.addDisposableListener(N,l.EventType.MOUSE_DOWN,P=>{this._onMouseDown=!0}))}static get(w){return w.getContribution(h.ID)}_disposeFocusStickyScrollStore(){var w;this._stickyScrollFocusedContextKey.set(!1),(w=this._focusDisposableStore)===null||w===void 0||w.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new L.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(w){this._focusedStickyElementIndex=w?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const w=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:w[this._focusedStickyElementIndex],column:1})}_revealPosition(w){this._reveaInEditor(w,()=>this._editor.revealPosition(w))}_revealLineInCenterIfOutsideViewport(w){this._reveaInEditor(w,()=>this._editor.revealLineInCenterIfOutsideViewport(w.lineNumber,0))}_reveaInEditor(w,E){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,E(),this._editor.setSelection(i.Range.fromPositions(w)),this._editor.focus()}_registerMouseListeners(){const w=this._register(new L.DisposableStore),E=this._register(new s.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:R=>{const B=this._stickyScrollWidget.getEditorPositionFromNode(R.target.element);return B?B.lineNumber:0}})),k=R=>{if(!this._editor.hasModel()||R.target.type!==12||R.target.detail!==this._stickyScrollWidget.getId())return null;const B=R.target.element;if(!B||B.innerText!==B.innerHTML)return null;const T=this._stickyScrollWidget.getEditorPositionFromNode(B);return T?{range:new i.Range(T.lineNumber,T.column,T.lineNumber,T.column+B.innerText.length),textElement:B}:null},M=this._stickyScrollWidget.getDomNode();this._register(l.addStandardDisposableListener(M,l.EventType.CLICK,R=>{if(R.ctrlKey||R.altKey||R.metaKey||!R.leftButton)return;if(R.shiftKey){const A=this._stickyScrollWidget.getLineIndexFromChildDomNode(R.target);if(A===null)return;const P=new r.Position(this._endLineNumbers[A],1);this._revealLineInCenterIfOutsideViewport(P);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(R.target)){const A=this._stickyScrollWidget.getLineNumberFromChildDomNode(R.target);this._toggleFoldingRegionForLine(A);return}if(!this._stickyScrollWidget.isInStickyLine(R.target))return;let N=this._stickyScrollWidget.getEditorPositionFromNode(R.target);if(!N){const A=this._stickyScrollWidget.getLineNumberFromChildDomNode(R.target);if(A===null)return;N=new r.Position(A,1)}this._revealPosition(N)})),this._register(l.addStandardDisposableListener(M,l.EventType.MOUSE_MOVE,R=>{if(R.shiftKey){const B=this._stickyScrollWidget.getLineIndexFromChildDomNode(R.target);if(B===null||this._showEndForLine!==null&&this._showEndForLine===B)return;this._showEndForLine=B,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(l.addDisposableListener(M,l.EventType.MOUSE_LEAVE,R=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(E.onMouseMoveOrRelevantKeyDown(([R,B])=>{const T=k(R);if(!T||!R.hasTriggerModifier||!this._editor.hasModel()){w.clear();return}const{range:N,textElement:A}=T;if(!N.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=N,w.clear();else if(A.style.textDecoration==="underline")return;const P=new u.CancellationTokenSource;w.add((0,L.toDisposable)(()=>P.dispose(!0)));let O;(0,n.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new r.Position(N.startLineNumber,N.startColumn+1),P.token).then(x=>{if(!P.token.isCancellationRequested)if(x.length!==0){this._candidateDefinitionsLength=x.length;const W=A;O!==W?(w.clear(),O=W,O.style.textDecoration="underline",w.add((0,L.toDisposable)(()=>{O.style.textDecoration="none"}))):O||(O=W,O.style.textDecoration="underline",w.add((0,L.toDisposable)(()=>{O.style.textDecoration="none"})))}else w.clear()})})),this._register(E.onCancel(()=>{w.clear()})),this._register(E.onExecute(R=>be(this,void 0,void 0,function*(){if(R.target.type!==12||R.target.detail!==this._stickyScrollWidget.getId())return;const B=this._stickyScrollWidget.getEditorPositionFromNode(R.target.element);B&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:B.lineNumber,column:1})),this._instaService.invokeFunction(t.goToDefinitionWithLocation,R,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))})))}_onContextMenu(w){const E=new c.StandardMouseEvent(w);this._contextMenuService.showContextMenu({menuId:_.MenuId.StickyScrollContext,getAnchor:()=>E})}_toggleFoldingRegionForLine(w){if(!this._foldingModel||w===null)return;const E=this._stickyScrollWidget.getStickyLineForLine(w),k=E?.foldingIcon;if(!k)return;(0,g.toggleCollapseState)(this._foldingModel,Number.MAX_VALUE,[w]),k.isCollapsed=!k.isCollapsed;const M=(k.isCollapsed?this._editor.getTopForLineNumber(k.foldingEndLine):this._editor.getTopForLineNumber(k.foldingStartLine))-this._editor.getOption(66)*E.index+1;this._editor.setScrollTop(M),this._renderStickyScroll(w)}_readConfiguration(){const w=this._editor.getOption(114);if(w.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else w.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(k=>{k.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(k=>this._onTokensChange(k))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(67).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll()}))}_needsUpdate(w){const E=this._stickyScrollWidget.getCurrentLines();for(const k of E)for(const M of w.ranges)if(k>=M.fromLineNumber&&k<=M.toLineNumber)return!0;return!1}_onTokensChange(w){this._needsUpdate(w)&&this._renderStickyScroll(-1)}_onDidResize(){const E=this._editor.getLayoutInfo().height/this._editor.getOption(66);this._maxStickyLines=Math.round(E*.25)}_renderStickyScroll(w=1/0){var E,k;return be(this,void 0,void 0,function*(){const M=this._editor.getModel();if(!M||M.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null,w);return}const R=this._stickyLineCandidateProvider.getVersionId();if(R===void 0||R===M.getVersionId())if(this._foldingModel=(k=yield(E=a.FoldingController.get(this._editor))===null||E===void 0?void 0:E.getFoldingModel())!==null&&k!==void 0?k:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,w);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,w),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const B=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,w),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(B)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}})}findScrollWidgetState(){const w=this._editor.getOption(66),E=Math.min(this._maxStickyLines,this._editor.getOption(114).maxLineCount),k=this._editor.getScrollTop();let M=0;const R=[],B=[],T=this._editor.getVisibleRanges();if(T.length!==0){const N=new o.StickyRange(T[0].startLineNumber,T[T.length-1].endLineNumber),A=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(N);for(const P of A){const O=P.startLineNumber,x=P.endLineNumber,W=P.nestingDepth;if(x-O>0){const U=(W-1)*w,F=W*w,G=this._editor.getBottomForLineNumber(O)-k,Y=this._editor.getTopForLineNumber(x)-k,ne=this._editor.getBottomForLineNumber(x)-k;if(U>Y&&U<=ne){R.push(O),B.push(x+1),M=ne-F;break}else F>G&&F<=ne&&(R.push(O),B.push(x+1));if(R.length===E)break}}}return this._endLineNumbers=B,new y.StickyScrollWidgetState(R,B,M,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=p,p.ID="store.contrib.stickyScrollController",e.StickyScrollController=p=h=Ie([ge(1,m.IContextMenuService),ge(2,I.ILanguageFeaturesService),ge(3,S.IInstantiationService),ge(4,f.ILanguageConfigurationService),ge(5,d.ILanguageFeatureDebounceService),ge(6,v.IContextKeyService)],p)}),define(te[905],ie([1,0,16,700,742,30,28,15,22,379]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class C extends D.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,I.localize)(0,null),mnemonicTitle:(0,I.localize)(1,null),original:"Toggle Sticky Scroll"},category:y.Categories.View,toggled:{condition:m.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,I.localize)(2,null),mnemonicTitle:(0,I.localize)(3,null)},menu:[{id:D.MenuId.CommandPalette},{id:D.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:D.MenuId.StickyScrollContext}]})}run(d){return be(this,void 0,void 0,function*(){const l=d.get(S.IConfigurationService),o=!l.getValue("editor.stickyScroll.enabled");return l.updateValue("editor.stickyScroll.enabled",o)})}}e.ToggleStickyScroll=C;const s=100;class i extends L.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,I.localize)(4,null),mnemonicTitle:(0,I.localize)(5,null),original:"Focus Sticky Scroll"},precondition:m.ContextKeyExpr.and(m.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),_.EditorContextKeys.stickyScrollVisible),menu:[{id:D.MenuId.CommandPalette}]})}runEditorCommand(d,l){var o;(o=v.StickyScrollController.get(l))===null||o===void 0||o.focus()}}e.FocusStickyScroll=i;class n extends L.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,I.localize)(6,null),original:"Select next sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:18}})}runEditorCommand(d,l){var o;(o=v.StickyScrollController.get(l))===null||o===void 0||o.focusNext()}}e.SelectNextStickyScrollLine=n;class t extends L.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,I.localize)(7,null),original:"Select previous sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:16}})}runEditorCommand(d,l){var o;(o=v.StickyScrollController.get(l))===null||o===void 0||o.focusPrevious()}}e.SelectPreviousStickyScrollLine=t;class r extends L.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,I.localize)(8,null),original:"Go to focused sticky scroll line"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:3}})}runEditorCommand(d,l){var o;(o=v.StickyScrollController.get(l))===null||o===void 0||o.goToFocused()}}e.GoToStickyScrollLine=r;class u extends L.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,I.localize)(9,null),original:"Select Editor"},precondition:_.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:9}})}runEditorCommand(d,l){var o;(o=v.StickyScrollController.get(l))===null||o===void 0||o.selectEditor()}}e.SelectEditor=u}),define(te[906],ie([1,0,16,905,379,30]),function($,e,L,I,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.StickyScrollController.ID,y.StickyScrollController,1),(0,D.registerAction2)(I.ToggleStickyScroll),(0,D.registerAction2)(I.FocusStickyScroll),(0,D.registerAction2)(I.SelectPreviousStickyScrollLine),(0,D.registerAction2)(I.SelectNextStickyScrollLine),(0,D.registerAction2)(I.GoToStickyScrollLine),(0,D.registerAction2)(I.SelectEditor)}),define(te[907],ie([1,0,16,33,374,28,15,8,48,89]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let C=class extends y.ReferencesController{constructor(i,n,t,r,u,f,d){super(!0,i,n,t,r,u,f,d)}};e.StandaloneReferencesController=C,e.StandaloneReferencesController=C=Ie([ge(1,S.IContextKeyService),ge(2,I.ICodeEditorService),ge(3,_.INotificationService),ge(4,m.IInstantiationService),ge(5,v.IStorageService),ge(6,D.IConfigurationService)],C),(0,L.registerEditorContribution)(y.ReferencesController.ID,C,4)}),define(te[908],ie([1,0,9,2,54,98,739,157,47,48,191]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const s=!1;function i(g){return g.scheme===y.Schemas.file?g.fsPath:g.path}let n=0;class t{constructor(h,p,b,w,E,k,M){this.id=++n,this.type=0,this.actual=h,this.label=h.label,this.confirmBeforeUndo=h.confirmBeforeUndo||!1,this.resourceLabel=p,this.strResource=b,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=w,this.groupOrder=E,this.sourceId=k,this.sourceOrder=M,this.isValid=!0}setValid(h){this.isValid=h}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class r{constructor(h,p){this.resourceLabel=h,this.reason=p}}class u{constructor(){this.elements=new Map}createMessage(){const h=[],p=[];for(const[,w]of this.elements)(w.reason===0?h:p).push(w.resourceLabel);const b=[];return h.length>0&&b.push(S.localize(0,null,h.join(", "))),p.length>0&&b.push(S.localize(1,null,p.join(", "))),b.join(`
`)}get size(){return this.elements.size}has(h){return this.elements.has(h)}set(h,p){this.elements.set(h,p)}delete(h){return this.elements.delete(h)}}class f{constructor(h,p,b,w,E,k,M){this.id=++n,this.type=1,this.actual=h,this.label=h.label,this.confirmBeforeUndo=h.confirmBeforeUndo||!1,this.resourceLabels=p,this.strResources=b,this.groupId=w,this.groupOrder=E,this.sourceId=k,this.sourceOrder=M,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(h,p,b){this.removedResources||(this.removedResources=new u),this.removedResources.has(p)||this.removedResources.set(p,new r(h,b))}setValid(h,p,b){b?this.invalidatedResources&&(this.invalidatedResources.delete(p),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new u),this.invalidatedResources.has(p)||this.invalidatedResources.set(p,new r(h,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(h,p){this.resourceLabel=h,this.strResource=p,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const h of this._past)h.type===1&&h.removeResource(this.resourceLabel,this.strResource,0);for(const h of this._future)h.type===1&&h.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const h=[];h.push(`* ${this.strResource}:`);for(let p=0;p<this._past.length;p++)h.push(`   * [UNDO] ${this._past[p]}`);for(let p=this._future.length-1;p>=0;p--)h.push(`   * [REDO] ${this._future[p]}`);return h.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(h,p){h.type===1?h.setValid(this.resourceLabel,this.strResource,p):h.setValid(p)}setElementsValidFlag(h,p){for(const b of this._past)p(b.actual)&&this._setElementValidFlag(b,h);for(const b of this._future)p(b.actual)&&this._setElementValidFlag(b,h)}pushElement(h){for(const p of this._future)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(h),this.versionId++}createSnapshot(h){const p=[];for(let b=0,w=this._past.length;b<w;b++)p.push(this._past[b].id);for(let b=this._future.length-1;b>=0;b--)p.push(this._future[b].id);return new C.ResourceEditStackSnapshot(h,p)}restoreSnapshot(h){const p=h.elements.length;let b=!0,w=0,E=-1;for(let M=0,R=this._past.length;M<R;M++,w++){const B=this._past[M];b&&(w>=p||B.id!==h.elements[w])&&(b=!1,E=0),!b&&B.type===1&&B.removeResource(this.resourceLabel,this.strResource,0)}let k=-1;for(let M=this._future.length-1;M>=0;M--,w++){const R=this._future[M];b&&(w>=p||R.id!==h.elements[w])&&(b=!1,k=M),!b&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),k!==-1&&(this._future=this._future.slice(k+1)),this.versionId++}getElements(){const h=[],p=[];for(const b of this._past)h.push(b.actual);for(const b of this._future)p.push(b.actual);return{past:h,future:p}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(h,p){for(let b=this._past.length-1;b>=0;b--)if(this._past[b]===h){p.has(this.strResource)?this._past[b]=p.get(this.strResource):this._past.splice(b,1);break}this.versionId++}splitFutureWorkspaceElement(h,p){for(let b=this._future.length-1;b>=0;b--)if(this._future[b]===h){p.has(this.strResource)?this._future[b]=p.get(this.strResource):this._future.splice(b,1);break}this.versionId++}moveBackward(h){this._past.pop(),this._future.push(h),this.versionId++}moveForward(h){this._future.pop(),this._past.push(h),this.versionId++}}class l{constructor(h){this.editStacks=h,this._versionIds=[];for(let p=0,b=this.editStacks.length;p<b;p++)this._versionIds[p]=this.editStacks[p].versionId}isValid(){for(let h=0,p=this.editStacks.length;h<p;h++)if(this._versionIds[h]!==this.editStacks[h].versionId)return!1;return!0}}const o=new d("","");o.locked=!0;let c=class{constructor(h,p){this._dialogService=h,this._notificationService=p,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(h){for(const p of this._uriComparisonKeyComputers)if(p[0]===h.scheme)return p[1].getComparisonKey(h);return h.toString()}_print(h){console.log("------------------------------------"),console.log(`AFTER ${h}: `);const p=[];for(const b of this._editStacks)p.push(b[1].toString());console.log(p.join(`
`))}pushElement(h,p=C.UndoRedoGroup.None,b=C.UndoRedoSource.None){if(h.type===0){const w=i(h.resource),E=this.getUriComparisonKey(h.resource);this._pushElement(new t(h,w,E,p.id,p.nextOrder(),b.id,b.nextOrder()))}else{const w=new Set,E=[],k=[];for(const M of h.resources){const R=i(M),B=this.getUriComparisonKey(M);w.has(B)||(w.add(B),E.push(R),k.push(B))}E.length===1?this._pushElement(new t(h,E[0],k[0],p.id,p.nextOrder(),b.id,b.nextOrder())):this._pushElement(new f(h,E,k,p.id,p.nextOrder(),b.id,b.nextOrder()))}s&&this._print("pushElement")}_pushElement(h){for(let p=0,b=h.strResources.length;p<b;p++){const w=h.resourceLabels[p],E=h.strResources[p];let k;this._editStacks.has(E)?k=this._editStacks.get(E):(k=new d(w,E),this._editStacks.set(E,k)),k.pushElement(h)}}getLastElement(h){const p=this.getUriComparisonKey(h);if(this._editStacks.has(p)){const b=this._editStacks.get(p);if(b.hasFutureElements())return null;const w=b.getClosestPastElement();return w?w.actual:null}return null}_splitPastWorkspaceElement(h,p){const b=h.actual.split(),w=new Map;for(const E of b){const k=i(E.resource),M=this.getUriComparisonKey(E.resource),R=new t(E,k,M,0,0,0,0);w.set(R.strResource,R)}for(const E of h.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(h,w)}}_splitFutureWorkspaceElement(h,p){const b=h.actual.split(),w=new Map;for(const E of b){const k=i(E.resource),M=this.getUriComparisonKey(E.resource),R=new t(E,k,M,0,0,0,0);w.set(R.strResource,R)}for(const E of h.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(h,w)}}removeElements(h){const p=typeof h=="string"?h:this.getUriComparisonKey(h);this._editStacks.has(p)&&(this._editStacks.get(p).dispose(),this._editStacks.delete(p)),s&&this._print("removeElements")}setElementsValidFlag(h,p,b){const w=this.getUriComparisonKey(h);this._editStacks.has(w)&&this._editStacks.get(w).setElementsValidFlag(p,b),s&&this._print("setElementsValidFlag")}createSnapshot(h){const p=this.getUriComparisonKey(h);return this._editStacks.has(p)?this._editStacks.get(p).createSnapshot(h):new C.ResourceEditStackSnapshot(h,[])}restoreSnapshot(h){const p=this.getUriComparisonKey(h.resource);if(this._editStacks.has(p)){const b=this._editStacks.get(p);b.restoreSnapshot(h),!b.hasPastElements()&&!b.hasFutureElements()&&(b.dispose(),this._editStacks.delete(p))}s&&this._print("restoreSnapshot")}getElements(h){const p=this.getUriComparisonKey(h);return this._editStacks.has(p)?this._editStacks.get(p).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(h){if(!h)return[null,null];let p=null,b=null;for(const[w,E]of this._editStacks){const k=E.getClosestPastElement();k&&k.sourceId===h&&(!p||k.sourceOrder>p.sourceOrder)&&(p=k,b=w)}return[p,b]}canUndo(h){if(h instanceof C.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(h.id);return!!b}const p=this.getUriComparisonKey(h);return this._editStacks.has(p)?this._editStacks.get(p).hasPastElements():!1}_onError(h,p){(0,L.onUnexpectedError)(h);for(const b of p.strResources)this.removeElements(b);this._notificationService.error(h)}_acquireLocks(h){for(const p of h.editStacks)if(p.locked)throw new Error("Cannot acquire edit stack lock");for(const p of h.editStacks)p.locked=!0;return()=>{for(const p of h.editStacks)p.locked=!1}}_safeInvokeWithLocks(h,p,b,w,E){const k=this._acquireLocks(b);let M;try{M=p()}catch(R){return k(),w.dispose(),this._onError(R,h)}return M?M.then(()=>(k(),w.dispose(),E()),R=>(k(),w.dispose(),this._onError(R,h))):(k(),w.dispose(),E())}_invokeWorkspacePrepare(h){return be(this,void 0,void 0,function*(){if(typeof h.actual.prepareUndoRedo>"u")return I.Disposable.None;const p=h.actual.prepareUndoRedo();return typeof p>"u"?I.Disposable.None:p})}_invokeResourcePrepare(h,p){if(h.actual.type!==1||typeof h.actual.prepareUndoRedo>"u")return p(I.Disposable.None);const b=h.actual.prepareUndoRedo();return b?(0,I.isDisposable)(b)?p(b):b.then(w=>p(w)):p(I.Disposable.None)}_getAffectedEditStacks(h){const p=[];for(const b of h.strResources)p.push(this._editStacks.get(b)||o);return new l(p)}_tryToSplitAndUndo(h,p,b,w){if(p.canSplit())return this._splitPastWorkspaceElement(p,b),this._notificationService.warn(w),new a(this._undo(h,0,!0));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(w),new a}_checkWorkspaceUndo(h,p,b,w){if(p.removedResources)return this._tryToSplitAndUndo(h,p,p.removedResources,S.localize(2,null,p.label,p.removedResources.createMessage()));if(w&&p.invalidatedResources)return this._tryToSplitAndUndo(h,p,p.invalidatedResources,S.localize(3,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const M of b.editStacks)M.getClosestPastElement()!==p&&E.push(M.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(h,p,null,S.localize(4,null,p.label,E.join(", ")));const k=[];for(const M of b.editStacks)M.locked&&k.push(M.resourceLabel);return k.length>0?this._tryToSplitAndUndo(h,p,null,S.localize(5,null,p.label,k.join(", "))):b.isValid()?null:this._tryToSplitAndUndo(h,p,null,S.localize(6,null,p.label))}_workspaceUndo(h,p,b){const w=this._getAffectedEditStacks(p),E=this._checkWorkspaceUndo(h,p,w,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(h,p,w,b)}_isPartOfUndoGroup(h){if(!h.groupId)return!1;for(const[,p]of this._editStacks){const b=p.getClosestPastElement();if(b){if(b===h){const w=p.getSecondClosestPastElement();if(w&&w.groupId===h.groupId)return!0}if(b.groupId===h.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(h,p,b,w){return be(this,void 0,void 0,function*(){if(p.canSplit()&&!this._isPartOfUndoGroup(p)){let M;(function(T){T[T.All=0]="All",T[T.This=1]="This",T[T.Cancel=2]="Cancel"})(M||(M={}));const{result:R}=yield this._dialogService.prompt({type:D.default.Info,message:S.localize(7,null,p.label),buttons:[{label:S.localize(8,null,b.editStacks.length),run:()=>M.All},{label:S.localize(9,null),run:()=>M.This}],cancelButton:{run:()=>M.Cancel}});if(R===M.Cancel)return;if(R===M.This)return this._splitPastWorkspaceElement(p,null),this._undo(h,0,!0);const B=this._checkWorkspaceUndo(h,p,b,!1);if(B)return B.returnValue;w=!0}let E;try{E=yield this._invokeWorkspacePrepare(p)}catch(M){return this._onError(M,p)}const k=this._checkWorkspaceUndo(h,p,b,!0);if(k)return E.dispose(),k.returnValue;for(const M of b.editStacks)M.moveBackward(p);return this._safeInvokeWithLocks(p,()=>p.actual.undo(),b,E,()=>this._continueUndoInGroup(p.groupId,w))})}_resourceUndo(h,p,b){if(!p.isValid){h.flushAllElements();return}if(h.locked){const w=S.localize(10,null,p.label);this._notificationService.warn(w);return}return this._invokeResourcePrepare(p,w=>(h.moveBackward(p),this._safeInvokeWithLocks(p,()=>p.actual.undo(),new l([h]),w,()=>this._continueUndoInGroup(p.groupId,b))))}_findClosestUndoElementInGroup(h){if(!h)return[null,null];let p=null,b=null;for(const[w,E]of this._editStacks){const k=E.getClosestPastElement();k&&k.groupId===h&&(!p||k.groupOrder>p.groupOrder)&&(p=k,b=w)}return[p,b]}_continueUndoInGroup(h,p){if(!h)return;const[,b]=this._findClosestUndoElementInGroup(h);if(b)return this._undo(b,0,p)}undo(h){if(h instanceof C.UndoRedoSource){const[,p]=this._findClosestUndoElementWithSource(h.id);return p?this._undo(p,h.id,!1):void 0}return typeof h=="string"?this._undo(h,0,!1):this._undo(this.getUriComparisonKey(h),0,!1)}_undo(h,p=0,b){if(!this._editStacks.has(h))return;const w=this._editStacks.get(h),E=w.getClosestPastElement();if(!E)return;if(E.groupId){const[M,R]=this._findClosestUndoElementInGroup(E.groupId);if(E!==M&&R)return this._undo(R,p,b)}if((E.sourceId!==p||E.confirmBeforeUndo)&&!b)return this._confirmAndContinueUndo(h,p,E);try{return E.type===1?this._workspaceUndo(h,E,b):this._resourceUndo(w,E,b)}finally{s&&this._print("undo")}}_confirmAndContinueUndo(h,p,b){return be(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:S.localize(11,null,b.label),primaryButton:S.localize(12,null),cancelButton:S.localize(13,null)})).confirmed)return this._undo(h,p,!0)})}_findClosestRedoElementWithSource(h){if(!h)return[null,null];let p=null,b=null;for(const[w,E]of this._editStacks){const k=E.getClosestFutureElement();k&&k.sourceId===h&&(!p||k.sourceOrder<p.sourceOrder)&&(p=k,b=w)}return[p,b]}canRedo(h){if(h instanceof C.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(h.id);return!!b}const p=this.getUriComparisonKey(h);return this._editStacks.has(p)?this._editStacks.get(p).hasFutureElements():!1}_tryToSplitAndRedo(h,p,b,w){if(p.canSplit())return this._splitFutureWorkspaceElement(p,b),this._notificationService.warn(w),new a(this._redo(h));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(w),new a}_checkWorkspaceRedo(h,p,b,w){if(p.removedResources)return this._tryToSplitAndRedo(h,p,p.removedResources,S.localize(14,null,p.label,p.removedResources.createMessage()));if(w&&p.invalidatedResources)return this._tryToSplitAndRedo(h,p,p.invalidatedResources,S.localize(15,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const M of b.editStacks)M.getClosestFutureElement()!==p&&E.push(M.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(h,p,null,S.localize(16,null,p.label,E.join(", ")));const k=[];for(const M of b.editStacks)M.locked&&k.push(M.resourceLabel);return k.length>0?this._tryToSplitAndRedo(h,p,null,S.localize(17,null,p.label,k.join(", "))):b.isValid()?null:this._tryToSplitAndRedo(h,p,null,S.localize(18,null,p.label))}_workspaceRedo(h,p){const b=this._getAffectedEditStacks(p),w=this._checkWorkspaceRedo(h,p,b,!1);return w?w.returnValue:this._executeWorkspaceRedo(h,p,b)}_executeWorkspaceRedo(h,p,b){return be(this,void 0,void 0,function*(){let w;try{w=yield this._invokeWorkspacePrepare(p)}catch(k){return this._onError(k,p)}const E=this._checkWorkspaceRedo(h,p,b,!0);if(E)return w.dispose(),E.returnValue;for(const k of b.editStacks)k.moveForward(p);return this._safeInvokeWithLocks(p,()=>p.actual.redo(),b,w,()=>this._continueRedoInGroup(p.groupId))})}_resourceRedo(h,p){if(!p.isValid){h.flushAllElements();return}if(h.locked){const b=S.localize(19,null,p.label);this._notificationService.warn(b);return}return this._invokeResourcePrepare(p,b=>(h.moveForward(p),this._safeInvokeWithLocks(p,()=>p.actual.redo(),new l([h]),b,()=>this._continueRedoInGroup(p.groupId))))}_findClosestRedoElementInGroup(h){if(!h)return[null,null];let p=null,b=null;for(const[w,E]of this._editStacks){const k=E.getClosestFutureElement();k&&k.groupId===h&&(!p||k.groupOrder<p.groupOrder)&&(p=k,b=w)}return[p,b]}_continueRedoInGroup(h){if(!h)return;const[,p]=this._findClosestRedoElementInGroup(h);if(p)return this._redo(p)}redo(h){if(h instanceof C.UndoRedoSource){const[,p]=this._findClosestRedoElementWithSource(h.id);return p?this._redo(p):void 0}return typeof h=="string"?this._redo(h):this._redo(this.getUriComparisonKey(h))}_redo(h){if(!this._editStacks.has(h))return;const p=this._editStacks.get(h),b=p.getClosestFutureElement();if(b){if(b.groupId){const[w,E]=this._findClosestRedoElementInGroup(b.groupId);if(b!==w&&E)return this._redo(E)}try{return b.type===1?this._workspaceRedo(h,b):this._resourceRedo(p,b)}finally{s&&this._print("redo")}}}};e.UndoRedoService=c,e.UndoRedoService=c=Ie([ge(0,m.IDialogService),ge(1,v.INotificationService)],c);class a{constructor(h){this.returnValue=h}}(0,_.registerSingleton)(C.IUndoRedoService,c,1)}),define(te[162],ie([1,0,740,92,197,21,8]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandaloneEditorWorkspace=e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isEmptyWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,S.createDecorator)("contextService");function m(t){const r=t;return typeof r?.id=="string"&&D.URI.isUri(r.uri)}e.isSingleFolderWorkspaceIdentifier=m;function _(t){const r=t;return typeof r?.id=="string"&&!m(t)&&!C(t)}e.isEmptyWorkspaceIdentifier=_,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function v(t,r){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,I.basename)(t)}:r?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const u=t;return u.configuration?{id:u.id,configPath:u.configuration}:u.folders.length===1?{id:u.id,uri:u.folders[0].uri}:{id:u.id}}e.toWorkspaceIdentifier=v;function C(t){const r=t;return typeof r?.id=="string"&&D.URI.isUri(r.configPath)}e.isWorkspaceIdentifier=C;class s{constructor(r,u,f,d,l){this._id=r,this._transient=f,this._configuration=d,this._ignorePathCasing=l,this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=u}get folders(){return this._folders}set folders(r){this._folders=r,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(r){this._configuration=r}getFolder(r){return r&&this._foldersMap.findSubstr(r)||null}updateFoldersMap(){this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const r of this.folders)this._foldersMap.set(r.uri,r)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=s;class i{constructor(r,u){this.raw=u,this.uri=r.uri,this.index=r.index,this.name=r.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=i,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,L.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function n(t){return t.id===e.STANDALONE_EDITOR_WORKSPACE_ID}e.isStandaloneEditorWorkspace=n}),define(te[909],ie([1,0,7,129,41,2,17,16,22,648,30,15,58,34,28,162]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let f=u=class{static get(o){return o.getContribution(u.ID)}constructor(o,c,a,g,h,p,b,w){this._contextMenuService=c,this._contextViewService=a,this._contextKeyService=g,this._keybindingService=h,this._menuService=p,this._configurationService=b,this._workspaceContextService=w,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=o,this._toDispose.add(this._editor.onContextMenu(E=>this._onContextMenu(E))),this._toDispose.add(this._editor.onMouseWheel(E=>{if(this._contextMenuIsBeingShownCount>0){const k=this._contextViewService.getContextViewElement(),M=E.srcElement;M.shadowRoot&&L.getShadowRoot(k)===M.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(E=>{this._editor.getOption(24)&&E.keyCode===58&&(E.preventDefault(),E.stopPropagation(),this.showContextMenu())}))}_onContextMenu(o){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),o.target.position&&!this._editor.getSelection().containsPosition(o.target.position)&&this._editor.setPosition(o.target.position);return}if(o.target.type===12||o.target.type===6&&o.target.detail.injectedText)return;if(o.event.preventDefault(),o.event.stopPropagation(),o.target.type===11)return this._showScrollbarContextMenu(o.event);if(o.target.type!==6&&o.target.type!==7&&o.target.type!==1)return;if(this._editor.focus(),o.target.position){let a=!1;for(const g of this._editor.getSelections())if(g.containsPosition(o.target.position)){a=!0;break}a||this._editor.setPosition(o.target.position)}let c=null;o.target.type!==1&&(c=o.event),this.showContextMenu(c)}showContextMenu(o){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const c=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?C.MenuId.SimpleEditorContext:C.MenuId.EditorContext);c.length>0&&this._doShowContextMenu(c,o)}_getMenuActions(o,c){const a=[],g=this._menuService.createMenu(c,this._contextKeyService),h=g.getActions({arg:o.uri});g.dispose();for(const p of h){const[,b]=p;let w=0;for(const E of b)if(E instanceof C.SubmenuItemAction){const k=this._getMenuActions(o,E.item.submenu);k.length>0&&(a.push(new y.SubmenuAction(E.id,E.label,k)),w++)}else a.push(E),w++;w&&a.push(new y.Separator)}return a.length&&a.pop(),a}_doShowContextMenu(o,c=null){if(!this._editor.hasModel())return;const a=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let g=c;if(!g){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const p=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),b=L.getDomNodePagePosition(this._editor.getDomNode()),w=b.left+p.left,E=b.top+p.top+p.height;g={x:w,y:E}}const h=this._editor.getOption(126)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:h?this._editor.getDomNode():void 0,getAnchor:()=>g,getActions:()=>o,getActionViewItem:p=>{const b=this._keybindingFor(p);if(b)return new I.ActionViewItem(p,p,{label:!0,keybinding:b.getLabel(),isMenu:!0});const w=p;return typeof w.getActionViewItem=="function"?w.getActionViewItem():new I.ActionViewItem(p,p,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:p=>this._keybindingFor(p),onHide:p=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:a})}})}_showScrollbarContextMenu(o){if(!this._editor.hasModel()||(0,r.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const c=this._editor.getOption(72);let a=0;const g=E=>({id:`menu-action-${++a}`,label:E.label,tooltip:"",class:void 0,enabled:typeof E.enabled>"u"?!0:E.enabled,checked:E.checked,run:E.run}),h=(E,k)=>new y.SubmenuAction(`menu-action-${++a}`,E,k,void 0),p=(E,k,M,R,B)=>{if(!k)return g({label:E,enabled:k,run:()=>{}});const T=A=>()=>{this._configurationService.updateValue(M,A)},N=[];for(const A of B)N.push(g({label:A.label,checked:R===A.value,run:T(A.value)}));return h(E,N)},b=[];b.push(g({label:v.localize(0,null),checked:c.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!c.enabled)}})),b.push(new y.Separator),b.push(g({label:v.localize(1,null),enabled:c.enabled,checked:c.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!c.renderCharacters)}})),b.push(p(v.localize(2,null),c.enabled,"editor.minimap.size",c.size,[{label:v.localize(3,null),value:"proportional"},{label:v.localize(4,null),value:"fill"},{label:v.localize(5,null),value:"fit"}])),b.push(p(v.localize(6,null),c.enabled,"editor.minimap.showSlider",c.showSlider,[{label:v.localize(7,null),value:"mouseover"},{label:v.localize(8,null),value:"always"}]));const w=this._editor.getOption(126)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:w?this._editor.getDomNode():void 0,getAnchor:()=>o,getActions:()=>b,onHide:E=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(o){return this._keybindingService.lookupKeybinding(o.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=f,f.ID="editor.contrib.contextmenu",e.ContextMenuController=f=u=Ie([ge(1,i.IContextMenuService),ge(2,i.IContextViewService),ge(3,s.IContextKeyService),ge(4,n.IKeybindingService),ge(5,C.IMenuService),ge(6,t.IConfigurationService),ge(7,r.IWorkspaceContextService)],f);class d extends m.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:v.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(o,c){var a;(a=f.get(c))===null||a===void 0||a.showContextMenu()}}(0,m.registerEditorContribution)(f.ID,f,2),(0,m.registerEditorAction)(d)}),define(te[380],ie([1,0,13,170,2,107,54,46,21,18,652,162]),function($,e,L,I,y,D,S,m,_,v,C,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=void 0;const i=(0,C.localize)(0,null);class n{provideDocumentPasteEdits(c,a,g,h){return be(this,void 0,void 0,function*(){const p=yield this.getEdit(g,h);return p?{insertText:p.insertText,label:p.label,detail:p.detail,handledMimeType:p.handledMimeType,yieldTo:p.yieldTo}:void 0})}provideDocumentOnDropEdits(c,a,g,h){return be(this,void 0,void 0,function*(){const p=yield this.getEdit(g,h);return p?{insertText:p.insertText,label:p.label,handledMimeType:p.handledMimeType,yieldTo:p.yieldTo}:void 0})}}class t extends n{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[D.Mimes.text],this.pasteMimeTypes=[D.Mimes.text]}getEdit(c,a){return be(this,void 0,void 0,function*(){const g=c.get(D.Mimes.text);if(!g||c.has(D.Mimes.uriList))return;const h=yield g.asString();return{handledMimeType:D.Mimes.text,label:(0,C.localize)(1,null),detail:i,insertText:h}})}}class r extends n{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(c,a){return be(this,void 0,void 0,function*(){const g=yield f(c);if(!g.length||a.isCancellationRequested)return;let h=0;const p=g.map(({uri:w,originalText:E})=>w.scheme===S.Schemas.file?w.fsPath:(h++,E)).join(" ");let b;return h>0?b=g.length>1?(0,C.localize)(2,null):(0,C.localize)(3,null):b=g.length>1?(0,C.localize)(4,null):(0,C.localize)(5,null),{handledMimeType:D.Mimes.uriList,insertText:p,label:b,detail:i}})}}let u=class extends n{constructor(c){super(),this._workspaceContextService=c,this.id="relativePath",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(c,a){return be(this,void 0,void 0,function*(){const g=yield f(c);if(!g.length||a.isCancellationRequested)return;const h=(0,L.coalesce)(g.map(({uri:p})=>{const b=this._workspaceContextService.getWorkspaceFolder(p);return b?(0,m.relativePath)(b.uri,p):void 0}));if(h.length)return{handledMimeType:D.Mimes.uriList,insertText:h.join(" "),label:g.length>1?(0,C.localize)(6,null):(0,C.localize)(7,null),detail:i}})}};u=Ie([ge(0,s.IWorkspaceContextService)],u);function f(o){return be(this,void 0,void 0,function*(){const c=o.get(D.Mimes.uriList);if(!c)return[];const a=yield c.asString(),g=[];for(const h of I.UriList.parse(a))try{g.push({uri:_.URI.parse(h),originalText:h})}catch{}return g})}let d=class extends y.Disposable{constructor(c,a){super(),this._register(c.documentOnDropEditProvider.register("*",new t)),this._register(c.documentOnDropEditProvider.register("*",new r)),this._register(c.documentOnDropEditProvider.register("*",new u(a)))}};e.DefaultDropProvidersFeature=d,e.DefaultDropProvidersFeature=d=Ie([ge(0,v.ILanguageFeaturesService),ge(1,s.IWorkspaceContextService)],d);let l=class extends y.Disposable{constructor(c,a){super(),this._register(c.documentPasteEditProvider.register("*",new t)),this._register(c.documentPasteEditProvider.register("*",new r)),this._register(c.documentPasteEditProvider.register("*",new u(a)))}};e.DefaultPasteProvidersFeature=l,e.DefaultPasteProvidersFeature=l=Ie([ge(0,v.ILanguageFeaturesService),ge(1,s.IWorkspaceContextService)],l)}),define(te[910],ie([1,0,16,147,888,380,650]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.CopyPasteController.ID,y.CopyPasteController,0),(0,I.registerEditorFeature)(D.DefaultPasteProvidersFeature),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:y.changePasteTypeCommandId,precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(m,_,v){var C;return(C=y.CopyPasteController.get(_))===null||C===void 0?void 0:C.changePasteType()}}),(0,L.registerEditorAction)(class extends L.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:S.localize(0,null),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:S.localize(1,null)}}}}]}})}run(m,_,v){var C;const s=typeof v?.id=="string"?v.id:void 0;return(C=y.CopyPasteController.get(_))===null||C===void 0?void 0:C.pasteAs(s)}})}),define(te[911],ie([1,0,16,240,147,380,653,95,35,889]),function($,e,L,I,y,D,S,m,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(v.DropIntoEditorController.ID,v.DropIntoEditorController,2),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:v.changeDropTypeCommandId,precondition:v.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(C,s,i){var n;(n=v.DropIntoEditorController.get(s))===null||n===void 0||n.changeDropType()}}),(0,y.registerEditorFeature)(D.DefaultDropProvidersFeature),_.Registry.as(m.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},I.editorConfigurationBaseNode),{properties:{[v.defaultProviderConfig]:{type:"object",scope:5,description:S.localize(0,null),default:{},additionalProperties:{type:"string"}}}}))}),define(te[912],ie([1,0,574,92,46,10,169,32,127,699,162]),function($,e,L,I,y,D,S,m,_,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class s{constructor(o){this._delegates=o}resolve(o){for(const c of this._delegates){const a=c.resolve(o);if(a!==void 0)return a}}}e.CompositeSnippetVariableResolver=s;class i{constructor(o,c,a,g){this._model=o,this._selection=c,this._selectionIdx=a,this._overtypingCapturer=g}resolve(o){const{name:c}=o;if(c==="SELECTION"||c==="TM_SELECTED_TEXT"){let a=this._model.getValueInRange(this._selection)||void 0,g=this._selection.startLineNumber!==this._selection.endLineNumber;if(!a&&this._overtypingCapturer){const h=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);h&&(a=h.value,g=h.multiline)}if(a&&g&&o.snippet){const h=this._model.getLineContent(this._selection.startLineNumber),p=(0,D.getLeadingWhitespace)(h,0,this._selection.startColumn-1);let b=p;o.snippet.walk(E=>E===o?!1:(E instanceof _.Text&&(b=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const w=(0,D.commonPrefixLength)(b,p);a=a.replace(/(\r\n|\r|\n)(.*)/g,(E,k,M)=>`${k}${b.substr(w)}${M}`)}return a}else{if(c==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(c==="TM_CURRENT_WORD"){const a=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return a&&a.word||void 0}else{if(c==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(c==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(c==="CURSOR_INDEX")return String(this._selectionIdx);if(c==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=i;class n{constructor(o,c){this._labelService=o,this._model=c}resolve(o){const{name:c}=o;if(c==="TM_FILENAME")return I.basename(this._model.uri.fsPath);if(c==="TM_FILENAME_BASE"){const a=I.basename(this._model.uri.fsPath),g=a.lastIndexOf(".");return g<=0?a:a.slice(0,g)}else{if(c==="TM_DIRECTORY")return I.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,y.dirname)(this._model.uri));if(c==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(c==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=n;class t{constructor(o,c,a,g){this._readClipboardText=o,this._selectionIdx=c,this._selectionCount=a,this._spread=g}resolve(o){if(o.name!=="CLIPBOARD")return;const c=this._readClipboardText();if(c){if(this._spread){const a=c.split(/\r\n|\n|\r/).filter(g=>!(0,D.isFalsyOrWhitespace)(g));if(a.length===this._selectionCount)return a[this._selectionIdx]}return c}}}e.ClipboardBasedVariableResolver=t;let r=class{constructor(o,c,a){this._model=o,this._selection=c,this._languageConfigurationService=a}resolve(o){const{name:c}=o,a=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),g=this._languageConfigurationService.getLanguageConfiguration(a).comments;if(g){if(c==="LINE_COMMENT")return g.lineCommentToken||void 0;if(c==="BLOCK_COMMENT_START")return g.blockCommentStartToken||void 0;if(c==="BLOCK_COMMENT_END")return g.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=r,e.CommentBasedVariableResolver=r=Ie([ge(2,m.ILanguageConfigurationService)],r);class u{constructor(){this._date=new Date}resolve(o){const{name:c}=o;if(c==="CURRENT_YEAR")return String(this._date.getFullYear());if(c==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(c==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(c==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(c==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(c==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(c==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(c==="CURRENT_DAY_NAME")return u.dayNames[this._date.getDay()];if(c==="CURRENT_DAY_NAME_SHORT")return u.dayNamesShort[this._date.getDay()];if(c==="CURRENT_MONTH_NAME")return u.monthNames[this._date.getMonth()];if(c==="CURRENT_MONTH_NAME_SHORT")return u.monthNamesShort[this._date.getMonth()];if(c==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(c==="CURRENT_TIMEZONE_OFFSET"){const a=this._date.getTimezoneOffset(),g=a>0?"-":"+",h=Math.trunc(Math.abs(a/60)),p=h<10?"0"+h:h,b=Math.abs(a)-h*60,w=b<10?"0"+b:b;return g+p+":"+w}}}e.TimeBasedVariableResolver=u,u.dayNames=[v.localize(0,null),v.localize(1,null),v.localize(2,null),v.localize(3,null),v.localize(4,null),v.localize(5,null),v.localize(6,null)],u.dayNamesShort=[v.localize(7,null),v.localize(8,null),v.localize(9,null),v.localize(10,null),v.localize(11,null),v.localize(12,null),v.localize(13,null)],u.monthNames=[v.localize(14,null),v.localize(15,null),v.localize(16,null),v.localize(17,null),v.localize(18,null),v.localize(19,null),v.localize(20,null),v.localize(21,null),v.localize(22,null),v.localize(23,null),v.localize(24,null),v.localize(25,null)],u.monthNamesShort=[v.localize(26,null),v.localize(27,null),v.localize(28,null),v.localize(29,null),v.localize(30,null),v.localize(31,null),v.localize(32,null),v.localize(33,null),v.localize(34,null),v.localize(35,null),v.localize(36,null),v.localize(37,null)];class f{constructor(o){this._workspaceService=o}resolve(o){if(!this._workspaceService)return;const c=(0,C.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,C.isEmptyWorkspaceIdentifier)(c)){if(o.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(c);if(o.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(c)}}_resolveWorkspaceName(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return I.basename(o.uri.path);let c=I.basename(o.configPath.path);return c.endsWith(C.WORKSPACE_EXTENSION)&&(c=c.substr(0,c.length-C.WORKSPACE_EXTENSION.length-1)),c}_resoveWorkspacePath(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return(0,L.normalizeDriveLetter)(o.uri.fsPath);const c=I.basename(o.configPath.path);let a=o.configPath.fsPath;return a.endsWith(c)&&(a=a.substr(0,a.length-c.length-1)),a?(0,L.normalizeDriveLetter)(a):"/"}}e.WorkspaceBasedVariableResolver=f;class d{resolve(o){const{name:c}=o;if(c==="RANDOM")return Math.random().toString().slice(-6);if(c==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(c==="UUID")return(0,S.generateUuid)()}}e.RandomBasedVariableResolver=d}),define(te[381],ie([1,0,13,2,10,71,5,24,32,37,158,162,127,912,464]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class r{constructor(l,o,c){this._editor=l,this._snippet=o,this._snippetLineLeadingWhitespace=c,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,L.groupBy)(o.placeholders,i.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(l){this._offset=l.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const l=this._editor.getModel();this._editor.changeDecorations(o=>{for(const c of this._snippet.placeholders){const a=this._snippet.offset(c),g=this._snippet.fullLen(c),h=S.Range.fromPositions(l.getPositionAt(this._offset+a),l.getPositionAt(this._offset+a+g)),p=c.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,b=o.addDecoration(h,p);this._placeholderDecorations.set(c,b)}})}move(l){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const a=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const h=this._placeholderDecorations.get(g),p=this._editor.getModel().getDecorationRange(h),b=this._editor.getModel().getValueInRange(p),w=g.transform.resolve(b).split(/\r\n|\r|\n/);for(let E=1;E<w.length;E++)w[E]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+w[E]);a.push(D.EditOperation.replace(p,w.join(this._editor.getModel().getEOL())))}a.length>0&&this._editor.executeEdits("snippet.placeholderTransform",a)}let o=!1;l===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,o=!0):l===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,o=!0);const c=this._editor.getModel().changeDecorations(a=>{const g=new Set,h=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const b=this._placeholderDecorations.get(p),w=this._editor.getModel().getDecorationRange(b);h.push(new m.Selection(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn)),o=o&&this._hasPlaceholderBeenCollapsed(p),a.changeDecorationOptions(b,p.isFinalTabstop?r._decor.activeFinal:r._decor.active),g.add(p);for(const E of this._snippet.enclosingPlaceholders(p)){const k=this._placeholderDecorations.get(E);a.changeDecorationOptions(k,E.isFinalTabstop?r._decor.activeFinal:r._decor.active),g.add(E)}}for(const[p,b]of this._placeholderDecorations)g.has(p)||a.changeDecorationOptions(b,p.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return h});return o?this.move(l):c??[]}_hasPlaceholderBeenCollapsed(l){let o=l;for(;o;){if(o instanceof i.Placeholder){const c=this._placeholderDecorations.get(o);if(this._editor.getModel().getDecorationRange(c).isEmpty()&&o.toString().length>0)return!0}o=o.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[l]=this._snippet.placeholders;if(l.isFinalTabstop&&this._snippet.rightMostDescendant===l)return!0}return!1}computePossibleSelections(){const l=new Map;for(const o of this._placeholderGroups){let c;for(const a of o){if(a.isFinalTabstop)break;c||(c=[],l.set(a.index,c));const g=this._placeholderDecorations.get(a),h=this._editor.getModel().getDecorationRange(g);if(!h){l.delete(a.index);break}c.push(h)}}return l}get activeChoice(){if(!this._placeholderDecorations)return;const l=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!l?.choice)return;const o=this._placeholderDecorations.get(l);if(!o)return;const c=this._editor.getModel().getDecorationRange(o);if(c)return{range:c,choice:l.choice}}get hasChoice(){let l=!1;return this._snippet.walk(o=>(l=o instanceof i.Choice,!l)),l}merge(l){const o=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(c=>{for(const a of this._placeholderGroups[this._placeholderGroupsIdx]){const g=l.shift();console.assert(g._offset!==-1),console.assert(!g._placeholderDecorations);const h=g._snippet.placeholderInfo.last.index;for(const b of g._snippet.placeholderInfo.all)b.isFinalTabstop?b.index=a.index+(h+1)/this._nestingLevel:b.index=a.index+b.index/this._nestingLevel;this._snippet.replace(a,g._snippet.children);const p=this._placeholderDecorations.get(a);c.removeDecoration(p),this._placeholderDecorations.delete(a);for(const b of g._snippet.placeholders){const w=g._snippet.offset(b),E=g._snippet.fullLen(b),k=S.Range.fromPositions(o.getPositionAt(g._offset+w),o.getPositionAt(g._offset+w+E)),M=c.addDecoration(k,r._decor.inactive);this._placeholderDecorations.set(b,M)}}this._placeholderGroups=(0,L.groupBy)(this._snippet.placeholders,i.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:v.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:v.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const u={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let f=t=class{static adjustWhitespace(l,o,c,a,g){const h=l.getLineContent(o.lineNumber),p=(0,y.getLeadingWhitespace)(h,0,o.column-1);let b;return a.walk(w=>{if(!(w instanceof i.Text)||w.parent instanceof i.Choice||g&&!g.has(w))return!0;const E=w.value.split(/\r\n|\r|\n/);if(c){const M=a.offset(w);if(M===0)E[0]=l.normalizeIndentation(E[0]);else{b=b??a.toString();const R=b.charCodeAt(M-1);(R===10||R===13)&&(E[0]=l.normalizeIndentation(p+E[0]))}for(let R=1;R<E.length;R++)E[R]=l.normalizeIndentation(p+E[R])}const k=E.join(l.getEOL());return k!==w.value&&(w.parent.replace(w,[new i.Text(k)]),b=void 0),!0}),p}static adjustSelection(l,o,c,a){if(c!==0||a!==0){const{positionLineNumber:g,positionColumn:h}=o,p=h-c,b=h+a,w=l.validateRange({startLineNumber:g,startColumn:p,endLineNumber:g,endColumn:b});o=m.Selection.createWithDirection(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn,o.getDirection())}return o}static createEditsAndSnippetsFromSelections(l,o,c,a,g,h,p,b,w){const E=[],k=[];if(!l.hasModel())return{edits:E,snippets:k};const M=l.getModel(),R=l.invokeWithinContext(x=>x.get(s.IWorkspaceContextService)),B=l.invokeWithinContext(x=>new n.ModelBasedVariableResolver(x.get(C.ILabelService),M)),T=()=>p,N=M.getValueInRange(t.adjustSelection(M,l.getSelection(),c,0)),A=M.getValueInRange(t.adjustSelection(M,l.getSelection(),0,a)),P=M.getLineFirstNonWhitespaceColumn(l.getSelection().positionLineNumber),O=l.getSelections().map((x,W)=>({selection:x,idx:W})).sort((x,W)=>S.Range.compareRangesUsingStarts(x.selection,W.selection));for(const{selection:x,idx:W}of O){let U=t.adjustSelection(M,x,c,0),F=t.adjustSelection(M,x,0,a);N!==M.getValueInRange(U)&&(U=x),A!==M.getValueInRange(F)&&(F=x);const G=x.setStartPosition(U.startLineNumber,U.startColumn).setEndPosition(F.endLineNumber,F.endColumn),Y=new i.SnippetParser().parse(o,!0,g),ne=G.getStartPosition(),se=t.adjustWhitespace(M,ne,h||W>0&&P!==M.getLineFirstNonWhitespaceColumn(x.positionLineNumber),Y);Y.resolveVariables(new n.CompositeSnippetVariableResolver([B,new n.ClipboardBasedVariableResolver(T,W,O.length,l.getOption(78)==="spread"),new n.SelectionBasedVariableResolver(M,x,W,b),new n.CommentBasedVariableResolver(M,x,w),new n.TimeBasedVariableResolver,new n.WorkspaceBasedVariableResolver(R),new n.RandomBasedVariableResolver])),E[W]=D.EditOperation.replace(G,Y.toString()),E[W].identifier={major:W,minor:0},E[W]._isTracked=!0,k[W]=new r(l,Y,se)}return{edits:E,snippets:k}}static createEditsAndSnippetsFromEdits(l,o,c,a,g,h,p){if(!l.hasModel()||o.length===0)return{edits:[],snippets:[]};const b=[],w=l.getModel(),E=new i.SnippetParser,k=new i.TextmateSnippet,M=new n.CompositeSnippetVariableResolver([l.invokeWithinContext(B=>new n.ModelBasedVariableResolver(B.get(C.ILabelService),w)),new n.ClipboardBasedVariableResolver(()=>g,0,l.getSelections().length,l.getOption(78)==="spread"),new n.SelectionBasedVariableResolver(w,l.getSelection(),0,h),new n.CommentBasedVariableResolver(w,l.getSelection(),p),new n.TimeBasedVariableResolver,new n.WorkspaceBasedVariableResolver(l.invokeWithinContext(B=>B.get(s.IWorkspaceContextService))),new n.RandomBasedVariableResolver]);o=o.sort((B,T)=>S.Range.compareRangesUsingStarts(B.range,T.range));let R=0;for(let B=0;B<o.length;B++){const{range:T,template:N}=o[B];if(B>0){const W=o[B-1].range,U=S.Range.fromPositions(W.getEndPosition(),T.getStartPosition()),F=new i.Text(w.getValueInRange(U));k.appendChild(F),R+=F.value.length}const A=E.parseFragment(N,k);t.adjustWhitespace(w,T.getStartPosition(),!0,k,new Set(A)),k.resolveVariables(M);const P=k.toString(),O=P.slice(R);R=P.length;const x=D.EditOperation.replace(T,O);x.identifier={major:B,minor:0},x._isTracked=!0,b.push(x)}return E.ensureFinalTabstop(k,c,!0),{edits:b,snippets:[new r(l,k,"")]}}constructor(l,o,c=u,a){this._editor=l,this._template=o,this._options=c,this._languageConfigurationService=a,this._templateMerges=[],this._snippets=[]}dispose(){(0,I.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:l,snippets:o}=typeof this._template=="string"?t.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):t.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=o,this._editor.executeEdits("snippet",l,c=>{const a=c.filter(g=>!!g.identifier);for(let g=0;g<o.length;g++)o[g].initialize(a[g].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):a.map(g=>m.Selection.fromPositions(g.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(l,o=u){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,l]);const{edits:c,snippets:a}=t.createEditsAndSnippetsFromSelections(this._editor,l,o.overwriteBefore,o.overwriteAfter,!0,o.adjustWhitespace,o.clipboardText,o.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",c,g=>{const h=g.filter(b=>!!b.identifier);for(let b=0;b<a.length;b++)a[b].initialize(h[b].textChange);const p=a[0].isTrivialSnippet;if(!p){for(const b of this._snippets)b.merge(a);console.assert(a.length===0)}return this._snippets[0].hasPlaceholder&&!p?this._move(void 0):h.map(b=>m.Selection.fromPositions(b.range.getEndPosition()))})}next(){const l=this._move(!0);this._editor.setSelections(l),this._editor.revealPositionInCenterIfOutsideViewport(l[0].getPosition())}prev(){const l=this._move(!1);this._editor.setSelections(l),this._editor.revealPositionInCenterIfOutsideViewport(l[0].getPosition())}_move(l){const o=[];for(const c of this._snippets){const a=c.move(l);o.push(...a)}return o}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const l=this._editor.getSelections();if(l.length<this._snippets.length)return!1;const o=new Map;for(const c of this._snippets){const a=c.computePossibleSelections();if(o.size===0)for(const[g,h]of a){h.sort(S.Range.compareRangesUsingStarts);for(const p of l)if(h[0].containsRange(p)){o.set(g,[]);break}}if(o.size===0)return!1;o.forEach((g,h)=>{g.push(...a.get(h))})}l.sort(S.Range.compareRangesUsingStarts);for(const[c,a]of o){if(a.length!==l.length){o.delete(c);continue}a.sort(S.Range.compareRangesUsingStarts);for(let g=0;g<a.length;g++)if(!a[g].containsRange(l[g])){o.delete(c);continue}}return o.size>0}};e.SnippetSession=f,e.SnippetSession=f=t=Ie([ge(3,_.ILanguageConfigurationService)],f)}),define(te[194],ie([1,0,2,20,16,12,22,32,18,133,698,15,66,381]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const r={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=t=class{static get(l){return l.getContribution(t.ID)}constructor(l,o,c,a,g){this._editor=l,this._logService=o,this._languageFeaturesService=c,this._languageConfigurationService=g,this._snippetListener=new L.DisposableStore,this._modelVersionId=-1,this._inSnippet=t.InSnippetMode.bindTo(a),this._hasNextTabstop=t.HasNextTabstop.bindTo(a),this._hasPrevTabstop=t.HasPrevTabstop.bindTo(a)}dispose(){var l;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(l=this._session)===null||l===void 0||l.dispose(),this._snippetListener.dispose()}insert(l,o){try{this._doInsert(l,typeof o>"u"?r:Object.assign(Object.assign({},r),o))}catch(c){this.cancel(),this._logService.error(c),this._logService.error("snippet_error"),this._logService.error("insert_template=",l),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(l,o){var c;if(this._editor.hasModel()){if(this._snippetListener.clear(),o.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof l!="string"&&this.cancel(),this._session?((0,I.assertType)(typeof l=="string"),this._session.merge(l,o)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new n.SnippetSession(this._editor,l,o,this._languageConfigurationService),this._session.insert()),o.undoStopAfter&&this._editor.getModel().pushStackElement(),!((c=this._session)===null||c===void 0)&&c.hasChoice){const a={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(E,k)=>{if(!this._session||E!==this._editor.getModel()||!D.Position.equals(this._editor.getPosition(),k))return;const{activeChoice:M}=this._session;if(!M||M.choice.options.length===0)return;const R=E.getValueInRange(M.range),B=!!M.choice.options.find(N=>N.value===R),T=[];for(let N=0;N<M.choice.options.length;N++){const A=M.choice.options[N];T.push({kind:13,label:A.value,insertText:A.value,sortText:"a".repeat(N+1),range:M.range,filterText:B?`${R}_${A.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,C.localize)(3,null)}})}return{suggestions:T}}},g=this._editor.getModel();let h,p=!1;const b=()=>{h?.dispose(),p=!1},w=()=>{p||(h=this._languageFeaturesService.completionProvider.register({language:g.getLanguageId(),pattern:g.uri.fsPath,scheme:g.uri.scheme,exclusive:!0},a),this._snippetListener.add(h),p=!0)};this._choiceCompletions={provider:a,enable:w,disable:b}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(a=>a.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var l;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:o}=this._session;if(!o||!this._choiceCompletions){(l=this._choiceCompletions)===null||l===void 0||l.disable(),this._currentChoice=void 0;return}this._currentChoice!==o.choice&&(this._currentChoice=o.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,v.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(l=!1){var o;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(o=this._session)===null||o===void 0||o.dispose(),this._session=void 0,this._modelVersionId=-1,l&&this._editor.setSelections([this._editor.getSelection()])}prev(){var l;(l=this._session)===null||l===void 0||l.prev(),this._updateState()}next(){var l;(l=this._session)===null||l===void 0||l.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=u,u.ID="snippetController2",u.InSnippetMode=new s.RawContextKey("inSnippetMode",!1,(0,C.localize)(0,null)),u.HasNextTabstop=new s.RawContextKey("hasNextTabstop",!1,(0,C.localize)(1,null)),u.HasPrevTabstop=new s.RawContextKey("hasPrevTabstop",!1,(0,C.localize)(2,null)),e.SnippetController2=u=t=Ie([ge(1,i.ILogService),ge(2,_.ILanguageFeaturesService),ge(3,s.IContextKeyService),ge(4,m.ILanguageConfigurationService)],u),(0,y.registerEditorContribution)(u.ID,u,4);const f=y.EditorCommand.bindToContribution(u.get);(0,y.registerEditorCommand)(new f({id:"jumpToNextSnippetPlaceholder",precondition:s.ContextKeyExpr.and(u.InSnippetMode,u.HasNextTabstop),handler:d=>d.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,y.registerEditorCommand)(new f({id:"jumpToPrevSnippetPlaceholder",precondition:s.ContextKeyExpr.and(u.InSnippetMode,u.HasPrevTabstop),handler:d=>d.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1026}})),(0,y.registerEditorCommand)(new f({id:"leaveSnippet",precondition:u.InSnippetMode,handler:d=>d.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new f({id:"acceptSnippet",precondition:u.InSnippetMode,handler:d=>d.finish()}))}),define(te[913],ie([1,0,68,9,2,40,20,71,12,5,29,32,215,780,150,194,25,8]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsModel=e.VersionIdChangeReason=void 0;var d;(function(o){o[o.Undo=0]="Undo",o[o.Redo=1]="Redo",o[o.AcceptWord=2]="AcceptWord",o[o.Other=3]="Other"})(d||(e.VersionIdChangeReason=d={}));let l=class extends y.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(c,a,g,h,p,b,w,E,k,M,R,B){super(),this.textModel=c,this.selectedSuggestItem=a,this.cursorPosition=g,this.textModelVersionId=h,this._debounceValue=p,this._suggestPreviewEnabled=b,this._suggestPreviewMode=w,this._inlineSuggestMode=E,this._enabled=k,this._instantiationService=M,this._commandService=R,this._languageConfigurationService=B,this._source=this._register(this._instantiationService.createInstance(n.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,D.observableValue)(this,!1),this._forceUpdate=(0,D.observableSignal)("forceUpdate"),this._selectedInlineCompletionId=(0,D.observableValue)(this,void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([d.Redo,d.Undo,d.AcceptWord]),this._fetchInlineCompletions=(0,D.derivedHandleChanges)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:C.InlineCompletionTriggerKind.Automatic}),handleChange:(N,A)=>(N.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(N.change)?A.preserveCurrentCompletion=!0:N.didChange(this._forceUpdate)&&(A.inlineCompletionTriggerKind=N.change),!0)},(N,A)=>{if(this._forceUpdate.read(N),!(this._enabled.read(N)&&this.selectedSuggestItem.read(N)||this._isActive.read(N))){this._source.cancelUpdate();return}this.textModelVersionId.read(N);const O=this.selectedInlineCompletion.get(),x=A.preserveCurrentCompletion||O?.forwardStable?O:void 0,W=this._source.suggestWidgetInlineCompletions.get(),U=this.selectedSuggestItem.read(N);if(W&&!U){const Y=this._source.inlineCompletions.get();(0,D.transaction)(ne=>{Y&&W.request.versionId>Y.request.versionId&&this._source.inlineCompletions.set(W.clone(),ne),this._source.clearSuggestWidgetInlineCompletions(ne)})}const F=this.cursorPosition.read(N),G={triggerKind:A.inlineCompletionTriggerKind,selectedSuggestionInfo:U?.toSelectedSuggestionInfo()};return this._source.fetch(F,G,x)}),this._filteredInlineCompletionItems=(0,D.derived)(this,N=>{const A=this._source.inlineCompletions.read(N);if(!A)return[];const P=this.cursorPosition.read(N);return A.inlineCompletions.filter(x=>x.isVisible(this.textModel,P,N))}),this.selectedInlineCompletionIndex=(0,D.derived)(this,N=>{const A=this._selectedInlineCompletionId.read(N),P=this._filteredInlineCompletionItems.read(N),O=this._selectedInlineCompletionId===void 0?-1:P.findIndex(x=>x.semanticId===A);return O===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):O}),this.selectedInlineCompletion=(0,D.derived)(this,N=>{const A=this._filteredInlineCompletionItems.read(N),P=this.selectedInlineCompletionIndex.read(N);return A[P]}),this.lastTriggerKind=this._source.inlineCompletions.map(N=>N?.request.context.triggerKind),this.inlineCompletionsCount=(0,D.derived)(this,N=>{if(this.lastTriggerKind.read(N)===C.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(N).length}),this.state=(0,D.derivedOpts)({owner:this,equalityComparer:(N,A)=>!N||!A?N===A:(0,i.ghostTextOrReplacementEquals)(N.ghostText,A.ghostText)&&N.inlineCompletion===A.inlineCompletion&&N.suggestItem===A.suggestItem},N=>{var A;const P=this.textModel,O=this.selectedSuggestItem.read(N);if(O){const x=O.toSingleTextEdit().removeCommonPrefix(P),W=this._computeAugmentedCompletion(x,N);if(!this._suggestPreviewEnabled.read(N)&&!W)return;const F=(A=W?.edit)!==null&&A!==void 0?A:x,G=W?W.edit.text.length-x.text.length:0,Y=this._suggestPreviewMode.read(N),ne=this.cursorPosition.read(N),se=F.computeGhostText(P,Y,ne,G);return{ghostText:se??new i.GhostText(F.range.endLineNumber,[]),inlineCompletion:W?.completion,suggestItem:O}}else{if(!this._isActive.read(N))return;const x=this.selectedInlineCompletion.read(N);if(!x)return;const W=x.toSingleTextEdit(N),U=this._inlineSuggestMode.read(N),F=this.cursorPosition.read(N),G=W.computeGhostText(P,U,F);return G?{ghostText:G,inlineCompletion:x,suggestItem:void 0}:void 0}}),this.ghostText=(0,D.derivedOpts)({owner:this,equalityComparer:i.ghostTextOrReplacementEquals},N=>{const A=this.state.read(N);if(A)return A.ghostText}),this._register((0,D.recomputeInitiallyAndOnChange)(this._fetchInlineCompletions));let T;this._register((0,D.autorun)(N=>{var A,P;const O=this.state.read(N),x=O?.inlineCompletion;if(x?.semanticId!==T?.semanticId&&(T=x,x)){const W=x.inlineCompletion,U=W.source;(P=(A=U.provider).handleItemDidShow)===null||P===void 0||P.call(A,U.inlineCompletions,W.sourceInlineCompletion,W.insertText)}}))}trigger(c){return be(this,void 0,void 0,function*(){this._isActive.set(!0,c),yield this._fetchInlineCompletions.get()})}triggerExplicitly(c){return be(this,void 0,void 0,function*(){(0,D.subtransaction)(c,a=>{this._isActive.set(!0,a),this._forceUpdate.trigger(a,C.InlineCompletionTriggerKind.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(c){(0,D.subtransaction)(c,a=>{this._isActive.set(!1,a),this._source.clear(a)})}_computeAugmentedCompletion(c,a){const g=this.textModel,h=this._source.suggestWidgetInlineCompletions.read(a),p=h?h.inlineCompletions:[this.selectedInlineCompletion.read(a)].filter(S.isDefined);return(0,L.mapFindFirst)(p,w=>{let E=w.toSingleTextEdit(a);return E=E.removeCommonPrefix(g,v.Range.fromPositions(E.range.getStartPosition(),c.range.getEndPosition())),E.augments(c)?{edit:E,completion:w}:void 0})}_deltaSelectedInlineCompletionIndex(c){return be(this,void 0,void 0,function*(){yield this.triggerExplicitly();const a=this._filteredInlineCompletionItems.get()||[];if(a.length>0){const g=(this.selectedInlineCompletionIndex.get()+c+a.length)%a.length;this._selectedInlineCompletionId.set(a[g].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return be(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return be(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(c){var a;return be(this,void 0,void 0,function*(){if(c.getModel()!==this.textModel)throw new I.BugIndicatingError;const g=this.state.get();if(!g||g.ghostText.isEmpty()||!g.inlineCompletion)return;const h=g.inlineCompletion.toInlineCompletion(void 0);c.pushUndoStop(),h.snippetInfo?(c.executeEdits("inlineSuggestion.accept",[m.EditOperation.replaceMove(h.range,""),...h.additionalTextEdits]),c.setPosition(h.snippetInfo.range.getStartPosition()),(a=r.SnippetController2.get(c))===null||a===void 0||a.insert(h.snippetInfo.snippet,{undoStopBefore:!1})):c.executeEdits("inlineSuggestion.accept",[m.EditOperation.replaceMove(h.range,h.insertText),...h.additionalTextEdits]),h.command&&h.source.addRef(),(0,D.transaction)(p=>{this._source.clear(p),this._isActive.set(!1,p)}),h.command&&(yield this._commandService.executeCommand(h.command.id,...h.command.arguments||[]).then(void 0,I.onUnexpectedExternalError),h.source.removeRef())})}acceptNextWord(c){return be(this,void 0,void 0,function*(){yield this._acceptNext(c,(a,g)=>{const h=this.textModel.getLanguageIdAtPosition(a.lineNumber,a.column),p=this._languageConfigurationService.getLanguageConfiguration(h),b=new RegExp(p.wordDefinition.source,p.wordDefinition.flags.replace("g","")),w=g.match(b);let E=0;w&&w.index!==void 0?w.index===0?E=w[0].length:E=w.index:E=g.length;const M=/\s+/g.exec(g);return M&&M.index!==void 0&&M.index+M[0].length<E&&(E=M.index+M[0].length),E})})}acceptNextLine(c){return be(this,void 0,void 0,function*(){yield this._acceptNext(c,(a,g)=>{const h=g.match(/\n/);return h&&h.index!==void 0?h.index+1:g.length})})}_acceptNext(c,a){return be(this,void 0,void 0,function*(){if(c.getModel()!==this.textModel)throw new I.BugIndicatingError;const g=this.state.get();if(!g||g.ghostText.isEmpty()||!g.inlineCompletion)return;const h=g.ghostText,p=g.inlineCompletion.toInlineCompletion(void 0);if(p.snippetInfo||p.filterText!==p.insertText){yield this.accept(c);return}const b=h.parts[0],w=new _.Position(h.lineNumber,b.column),E=b.lines.join(`
`),k=a(w,E);if(k===E.length&&h.parts.length===1){this.accept(c);return}const M=E.substring(0,k);this._isAcceptingPartially=!0;try{c.pushUndoStop(),c.executeEdits("inlineSuggestion.accept",[m.EditOperation.replace(v.Range.fromPositions(w),M)]);const R=(0,t.lengthOfText)(M);c.setPosition((0,t.addPositions)(w,R))}finally{this._isAcceptingPartially=!1}if(p.source.provider.handlePartialAccept){const R=v.Range.fromPositions(p.range.getStartPosition(),(0,t.addPositions)(w,(0,t.lengthOfText)(M))),B=c.getModel().getValueInRange(R,1);p.source.provider.handlePartialAccept(p.source.inlineCompletions,p.sourceInlineCompletion,B.length)}})}handleSuggestAccepted(c){var a,g;const h=c.toSingleTextEdit().removeCommonPrefix(this.textModel),p=this._computeAugmentedCompletion(h,void 0);if(!p)return;const b=p.completion.inlineCompletion;(g=(a=b.source.provider).handlePartialAccept)===null||g===void 0||g.call(a,b.source.inlineCompletions,b.sourceInlineCompletion,h.text.length)}};e.InlineCompletionsModel=l,e.InlineCompletionsModel=l=Ie([ge(9,f.IInstantiationService),ge(10,u.ICommandService),ge(11,s.ILanguageConfigurationService)],l)}),define(te[914],ie([1,0,14,19,9,6,2,10,24,115,305,102,28,15,66,76,304,133,18,69,20,235,194,238]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class p{static shouldAutoTrigger(M){if(!M.hasModel())return!1;const R=M.getModel(),B=M.getPosition();R.tokenization.tokenizeIfCheap(B.lineNumber);const T=R.getWordAtPosition(B);return!(!T||T.endColumn!==B.column&&T.startColumn+1!==B.column||!isNaN(Number(T.word)))}constructor(M,R,B){this.leadingLineContent=M.getLineContent(R.lineNumber).substr(0,R.column-1),this.leadingWord=M.getWordUntilPosition(R),this.lineNumber=R.lineNumber,this.column=R.column,this.triggerOptions=B}}e.LineContext=p;function b(k,M,R){if(!M.getContextKeyValue(c.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const B=M.getContextKeyValue(c.InlineCompletionContextKeys.suppressSuggestions.key);return B!==void 0?!B:!k.getOption(62).suppressSuggestions}function w(k,M,R){if(!M.getContextKeyValue("inlineSuggestionVisible"))return!0;const B=M.getContextKeyValue(c.InlineCompletionContextKeys.suppressSuggestions.key);return B!==void 0?!B:!k.getOption(62).suppressSuggestions}let E=h=class{constructor(M,R,B,T,N,A,P,O,x){this._editor=M,this._editorWorkerService=R,this._clipboardService=B,this._telemetryService=T,this._logService=N,this._contextKeyService=A,this._configurationService=P,this._languageFeaturesService=O,this._envService=x,this._toDispose=new S.DisposableStore,this._triggerCharacterListener=new S.DisposableStore,this._triggerQuickSuggest=new L.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new S.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new _.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let W=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{W=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{W=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(U=>{W||this._onCursorChange(U)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!W&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,S.dispose)(this._triggerCharacterListener),(0,S.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;const M=new Map;for(const B of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const T of B.triggerCharacters||[]){let N=M.get(T);N||(N=new Set,N.add((0,f.getSnippetSuggestSupport)()),M.set(T,N)),N.add(B)}const R=B=>{var T;if(!w(this._editor,this._contextKeyService,this._configurationService)||p.shouldAutoTrigger(this._editor))return;if(!B){const P=this._editor.getPosition();B=this._editor.getModel().getLineContent(P.lineNumber).substr(0,P.column-1)}let N="";(0,m.isLowSurrogate)(B.charCodeAt(B.length-1))?(0,m.isHighSurrogate)(B.charCodeAt(B.length-2))&&(N=B.substr(B.length-2)):N=B.charAt(B.length-1);const A=M.get(N);if(A){const P=new Map;if(this._completionModel)for(const[O,x]of this._completionModel.getItemsByProvider())A.has(O)||P.set(O,x);this.trigger({auto:!0,triggerKind:1,triggerCharacter:N,retrigger:!!this._completionModel,clipboardText:(T=this._completionModel)===null||T===void 0?void 0:T.clipboardText,completionOptions:{providerFilter:A,providerItemsToReuse:P}})}};this._triggerCharacterListener.add(this._editor.onDidType(R)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>R()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(M=!1){var R;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(R=this._requestToken)===null||R===void 0||R.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:M}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(M){if(!this._editor.hasModel())return;const R=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!M.selection.isEmpty()||M.reason!==0&&M.reason!==3||M.source!=="keyboard"&&M.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&M.reason===0?(R.containsRange(this._currentSelection)||R.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&M.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var M;f.QuickSuggestionsOptions.isAllOff(this._editor.getOption(88))||this._editor.getOption(117).snippetsPreventQuickSuggestions&&(!((M=a.SnippetController2.get(this._editor))===null||M===void 0)&&M.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!p.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const R=this._editor.getModel(),B=this._editor.getPosition(),T=this._editor.getOption(88);if(!f.QuickSuggestionsOptions.isAllOff(T)){if(!f.QuickSuggestionsOptions.isAllOn(T)){R.tokenization.tokenizeIfCheap(B.lineNumber);const N=R.tokenization.getLineTokens(B.lineNumber),A=N.getStandardTokenType(N.findTokenIndexAtOffset(Math.max(B.column-1-1,0)));if(f.QuickSuggestionsOptions.valueFor(T,A)!=="on")return}b(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(R)&&this.trigger({auto:!0})}},this._editor.getOption(89)))}_refilterCompletionItems(){(0,o.assertType)(this._editor.hasModel()),(0,o.assertType)(this._triggerState!==void 0);const M=this._editor.getModel(),R=this._editor.getPosition(),B=new p(M,R,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(B)}trigger(M){var R,B,T,N,A,P;if(!this._editor.hasModel())return;const O=this._editor.getModel(),x=new p(O,this._editor.getPosition(),M);this.cancel(M.retrigger),this._triggerState=M,this._onDidTrigger.fire({auto:M.auto,shy:(R=M.shy)!==null&&R!==void 0?R:!1,position:this._editor.getPosition()}),this._context=x;let W={triggerKind:(B=M.triggerKind)!==null&&B!==void 0?B:0};M.triggerCharacter&&(W={triggerKind:1,triggerCharacter:M.triggerCharacter}),this._requestToken=new I.CancellationTokenSource;const U=this._editor.getOption(111);let F=1;switch(U){case"top":F=0;break;case"bottom":F=2;break}const{itemKind:G,showDeprecated:Y}=h._createSuggestFilter(this._editor),ne=new f.CompletionOptions(F,(N=(T=M.completionOptions)===null||T===void 0?void 0:T.kindFilter)!==null&&N!==void 0?N:G,(A=M.completionOptions)===null||A===void 0?void 0:A.providerFilter,(P=M.completionOptions)===null||P===void 0?void 0:P.providerItemsToReuse,Y),se=C.WordDistance.create(this._editorWorkerService,this._editor),J=(0,f.provideSuggestionItems)(this._languageFeaturesService.completionProvider,O,this._editor.getPosition(),ne,W,this._requestToken.token);Promise.all([J,se]).then(([q,H])=>be(this,void 0,void 0,function*(){var V;if((V=this._requestToken)===null||V===void 0||V.dispose(),!this._editor.hasModel())return;let Z=M?.clipboardText;if(!Z&&q.needsClipboard&&(Z=yield this._clipboardService.readText()),this._triggerState===void 0)return;const ee=this._editor.getModel(),le=new p(ee,this._editor.getPosition(),M),ue=Object.assign(Object.assign({},l.FuzzyScoreOptions.default),{firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly});if(this._completionModel=new u.CompletionModel(q.items,this._context.column,{leadingLineContent:le.leadingLineContent,characterCountDelta:le.column-this._context.column},H,this._editor.getOption(117),this._editor.getOption(111),ue,Z),this._completionDisposables.add(q.disposable),this._onNewContext(le),this._reportDurationsTelemetry(q.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const de of q.items)de.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${de.provider._debugDisplayName}`,de.completion)})).catch(y.onUnexpectedError)}_reportDurationsTelemetry(M){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(M)}),this._logService.debug("suggest.durations.json",M)})}static _createSuggestFilter(M){const R=new Set;M.getOption(111)==="none"&&R.add(27);const T=M.getOption(117);return T.showMethods||R.add(0),T.showFunctions||R.add(1),T.showConstructors||R.add(2),T.showFields||R.add(3),T.showVariables||R.add(4),T.showClasses||R.add(5),T.showStructs||R.add(6),T.showInterfaces||R.add(7),T.showModules||R.add(8),T.showProperties||R.add(9),T.showEvents||R.add(10),T.showOperators||R.add(11),T.showUnits||R.add(12),T.showValues||R.add(13),T.showConstants||R.add(14),T.showEnums||R.add(15),T.showEnumMembers||R.add(16),T.showKeywords||R.add(17),T.showWords||R.add(18),T.showColors||R.add(19),T.showFiles||R.add(20),T.showReferences||R.add(21),T.showColors||R.add(22),T.showFolders||R.add(23),T.showTypeParameters||R.add(24),T.showSnippets||R.add(27),T.showUsers||R.add(25),T.showIssues||R.add(26),{itemKind:R,showDeprecated:T.showDeprecated}}_onNewContext(M){if(this._context){if(M.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,m.getLeadingWhitespace)(M.leadingLineContent)!==(0,m.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(M.column<this._context.column){M.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(M.leadingWord.word.length!==0&&M.leadingWord.startColumn>this._context.leadingWord.startColumn){if(p.shouldAutoTrigger(this._editor)&&this._context){const B=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:B}})}return}if(M.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&M.leadingWord.word.length!==0){const R=new Map,B=new Set;for(const[T,N]of this._completionModel.getItemsByProvider())N.length>0&&N[0].container.incomplete?B.add(T):R.set(T,N);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:B,providerItemsToReuse:R}})}else{const R=this._completionModel.lineContext;let B=!1;if(this._completionModel.lineContext={leadingLineContent:M.leadingLineContent,characterCountDelta:M.column-this._context.column},this._completionModel.items.length===0){const T=p.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(T&&this._context.leadingWord.endColumn<M.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=R,B=this._completionModel.items.length>0,B&&M.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:M.triggerOptions,isFrozen:B})}}}}};e.SuggestModel=E,e.SuggestModel=E=h=Ie([ge(1,v.IEditorWorkerService),ge(2,s.IClipboardService),ge(3,r.ITelemetryService),ge(4,t.ILogService),ge(5,n.IContextKeyService),ge(6,i.IConfigurationService),ge(7,d.ILanguageFeaturesService),ge(8,g.IEnvironmentService)],E)}),define(te[382],ie([1,0,45,13,14,19,9,6,118,2,17,59,20,120,16,71,12,5,22,194,127,351,756,702,25,15,8,66,133,755,551,914,552,895,76,46,141]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M,R,B,T,N,A,P){"use strict";var O;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const x=!1;class W{constructor(J,q){if(this._model=J,this._position=q,J.getLineMaxColumn(q.lineNumber)!==q.column){const V=J.getOffsetAt(q),Z=J.getPositionAt(V+1);this._marker=J.deltaDecorations([],[{range:f.Range.fromPositions(q,Z),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(J){if(this._model.isDisposed()||this._position.lineNumber!==J.lineNumber)return 0;if(this._marker){const q=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(q.getStartPosition())-this._model.getOffsetAt(J)}else return this._model.getLineMaxColumn(J.lineNumber)-J.column}}let U=O=class{static get(J){return J.getContribution(O.ID)}constructor(J,q,H,V,Z,ee,le){this._memoryService=q,this._commandService=H,this._contextKeyService=V,this._instantiationService=Z,this._logService=ee,this._telemetryService=le,this._lineSuffix=new v.MutableDisposable,this._toDispose=new v.DisposableStore,this._selectors=new F(ae=>ae.priority),this._onWillInsertSuggestItem=new m.Emitter,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=J,this.model=Z.createInstance(R.SuggestModel,this.editor),this._selectors.register({priority:0,select:(ae,X,K)=>this._memoryService.select(ae,X,K)});const ue=E.Context.InsertMode.bindTo(V);ue.set(J.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>ue.set(J.getOption(117).insertMode))),this.widget=this._toDispose.add(new y.IdleValue(()=>{const ae=this._instantiationService.createInstance(T.SuggestWidget,this.editor);this._toDispose.add(ae),this._toDispose.add(ae.onDidSelect(j=>this._insertSuggestion(j,0),this));const X=new M.CommitCharacterController(this.editor,ae,this.model,j=>this._insertSuggestion(j,2));this._toDispose.add(X);const K=E.Context.MakesTextEdit.bindTo(this._contextKeyService),z=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Q=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,v.toDisposable)(()=>{K.reset(),z.reset(),Q.reset()})),this._toDispose.add(ae.onDidFocus(({item:j})=>{const re=this.editor.getPosition(),oe=j.editStart.column,he=re.column;let me=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!j.completion.additionalTextEdits&&!(j.completion.insertTextRules&4)&&he-oe===j.completion.insertText.length&&(me=this.editor.getModel().getValueInRange({startLineNumber:re.lineNumber,startColumn:oe,endLineNumber:re.lineNumber,endColumn:he})!==j.completion.insertText),K.set(me),z.set(!u.Position.equals(j.editInsertEnd,j.editReplaceEnd)),Q.set(!!j.provider.resolveCompletionItem||!!j.completion.documentation||j.completion.detail!==j.completion.label)})),this._toDispose.add(ae.onDetailsKeyDown(j=>{if(j.toKeyCodeChord().equals(new _.KeyCodeChord(!0,!1,!1,!1,33))||C.isMacintosh&&j.toKeyCodeChord().equals(new _.KeyCodeChord(!1,!1,!1,!0,33))){j.stopPropagation();return}j.toKeyCodeChord().isModifierKey()||this.editor.focus()})),ae})),this._overtypingCapturer=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new B.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new k.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(Z.createInstance(a.WordContextKey,J)),this._toDispose.add(this.model.onDidTrigger(ae=>{this.widget.value.showTriggered(ae.auto,ae.shy?250:50),this._lineSuffix.value=new W(this.editor.getModel(),ae.position)})),this._toDispose.add(this.model.onDidSuggest(ae=>{if(ae.triggerOptions.shy)return;let X=-1;for(const z of this._selectors.itemsOrderedByPriorityDesc)if(X=z.select(this.editor.getModel(),this.editor.getPosition(),ae.completionModel.items),X!==-1)break;X===-1&&(X=0);let K=!1;if(ae.triggerOptions.auto){const z=this.editor.getOption(117);z.selectionMode==="never"||z.selectionMode==="always"?K=z.selectionMode==="never":z.selectionMode==="whenTriggerCharacter"?K=ae.triggerOptions.triggerKind!==1:z.selectionMode==="whenQuickSuggestion"&&(K=ae.triggerOptions.triggerKind===1&&!ae.triggerOptions.refilter)}this.widget.value.showSuggestions(ae.completionModel,X,ae.isFrozen,ae.triggerOptions.auto,K)})),this._toDispose.add(this.model.onDidCancel(ae=>{ae.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{x||(this.model.cancel(),this.model.clear())}));const de=E.Context.AcceptSuggestionsOnEnter.bindTo(V),ce=()=>{const ae=this.editor.getOption(1);de.set(ae==="on"||ae==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>ce())),ce()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(J,q){if(!J||!J.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const H=l.SnippetController2.get(this.editor);if(!H)return;this._onWillInsertSuggestItem.fire({item:J.item});const V=this.editor.getModel(),Z=V.getAlternativeVersionId(),{item:ee}=J,le=[],ue=new D.CancellationTokenSource;q&1||this.editor.pushUndoStop();const de=this.getOverwriteInfo(ee,!!(q&8));this._memoryService.memorize(V,this.editor.getPosition(),ee);const ce=ee.isResolved;let ae=-1,X=-1;if(Array.isArray(ee.completion.additionalTextEdits)){this.model.cancel();const z=n.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ee.completion.additionalTextEdits.map(Q=>r.EditOperation.replaceMove(f.Range.lift(Q.range),Q.text))),z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ce){const z=new s.StopWatch;let Q;const j=V.onDidChangeContent(me=>{if(me.isFlush){ue.cancel(),j.dispose();return}for(const pe of me.changes){const ve=f.Range.getEndPosition(pe.range);(!Q||u.Position.isBefore(ve,Q))&&(Q=ve)}}),re=q;q|=2;let oe=!1;const he=this.editor.onWillType(()=>{he.dispose(),oe=!0,re&2||this.editor.pushUndoStop()});le.push(ee.resolve(ue.token).then(()=>{if(!ee.completion.additionalTextEdits||ue.token.isCancellationRequested)return;if(Q&&ee.completion.additionalTextEdits.some(pe=>u.Position.isBefore(Q,f.Range.getStartPosition(pe.range))))return!1;oe&&this.editor.pushUndoStop();const me=n.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ee.completion.additionalTextEdits.map(pe=>r.EditOperation.replaceMove(f.Range.lift(pe.range),pe.text))),me.restoreRelativeVerticalPositionOfCursor(this.editor),(oe||!(re&2))&&this.editor.pushUndoStop(),!0}).then(me=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",z.elapsed(),me),X=me===!0?1:me===!1?0:-2}).finally(()=>{j.dispose(),he.dispose()}))}let{insertText:K}=ee.completion;if(ee.completion.insertTextRules&4||(K=o.SnippetParser.escape(K)),this.model.cancel(),H.insert(K,{overwriteBefore:de.overwriteBefore,overwriteAfter:de.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ee.completion.insertTextRules&1),clipboardText:J.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),q&2||this.editor.pushUndoStop(),ee.completion.command)if(ee.completion.command.id===G.id)this.model.trigger({auto:!0,retrigger:!0});else{const z=new s.StopWatch;le.push(this._commandService.executeCommand(ee.completion.command.id,...ee.completion.command.arguments?[...ee.completion.command.arguments]:[]).catch(Q=>{ee.completion.extensionId?(0,S.onUnexpectedExternalError)(Q):(0,S.onUnexpectedError)(Q)}).finally(()=>{ae=z.elapsed()}))}q&4&&this._alternatives.value.set(J,z=>{for(ue.cancel();V.canUndo();){Z!==V.getAlternativeVersionId()&&V.undo(),this._insertSuggestion(z,3|(q&8?8:0));break}}),this._alertCompletionItem(ee),Promise.all(le).finally(()=>{this._reportSuggestionAcceptedTelemetry(ee,V,ce,ae,X),this.model.clear(),ue.dispose()})}_reportSuggestionAcceptedTelemetry(J,q,H,V,Z){var ee,le,ue;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(le=(ee=J.extensionId)===null||ee===void 0?void 0:ee.value)!==null&&le!==void 0?le:"unknown",providerId:(ue=J.provider._debugDisplayName)!==null&&ue!==void 0?ue:"unknown",kind:J.completion.kind,basenameHash:(0,P.hash)((0,A.basename)(q.uri)).toString(16),languageId:q.getLanguageId(),fileExtension:(0,A.extname)(q.uri),resolveInfo:J.provider.resolveCompletionItem?H?1:0:-1,resolveDuration:J.resolveDuration,commandDuration:V,additionalEditsAsync:Z})}getOverwriteInfo(J,q){(0,i.assertType)(this.editor.hasModel());let H=this.editor.getOption(117).insertMode==="replace";q&&(H=!H);const V=J.position.column-J.editStart.column,Z=(H?J.editReplaceEnd.column:J.editInsertEnd.column)-J.position.column,ee=this.editor.getPosition().column-J.position.column,le=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:V+ee,overwriteAfter:Z+le}}_alertCompletionItem(J){if((0,I.isNonEmptyArray)(J.completion.additionalTextEdits)){const q=g.localize(0,null,J.textLabel,J.completion.additionalTextEdits.length);(0,L.alert)(q)}}triggerSuggest(J,q,H){this.editor.hasModel()&&(this.model.trigger({auto:q??!1,completionOptions:{providerFilter:J,kindFilter:H?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(J){if(!this.editor.hasModel())return;const q=this.editor.getPosition(),H=()=>{q.equals(this.editor.getPosition())&&this._commandService.executeCommand(J.fallback)},V=Z=>{if(Z.completion.insertTextRules&4||Z.completion.additionalTextEdits)return!0;const ee=this.editor.getPosition(),le=Z.editStart.column,ue=ee.column;return ue-le!==Z.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ee.lineNumber,startColumn:le,endLineNumber:ee.lineNumber,endColumn:ue})!==Z.completion.insertText};m.Event.once(this.model.onDidTrigger)(Z=>{const ee=[];m.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,v.dispose)(ee),H()},void 0,ee),this.model.onDidSuggest(({completionModel:le})=>{if((0,v.dispose)(ee),le.items.length===0){H();return}const ue=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),le.items),de=le.items[ue];if(!V(de)){H();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ue,item:de,model:le},7)},void 0,ee)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(q,0),this.editor.focus()}acceptSelectedSuggestion(J,q){const H=this.widget.value.getFocusedItem();let V=0;J&&(V|=4),q&&(V|=8),this._insertSuggestion(H,V)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(J){return this._selectors.register(J)}};e.SuggestController=U,U.ID="editor.contrib.suggestController",e.SuggestController=U=O=Ie([ge(1,c.ISuggestMemoryService),ge(2,h.ICommandService),ge(3,p.IContextKeyService),ge(4,b.IInstantiationService),ge(5,w.ILogService),ge(6,N.ITelemetryService)],U);class F{constructor(J){this.prioritySelector=J,this._items=new Array}register(J){if(this._items.indexOf(J)!==-1)throw new Error("Value is already registered");return this._items.push(J),this._items.sort((q,H)=>this.prioritySelector(H)-this.prioritySelector(q)),{dispose:()=>{const q=this._items.indexOf(J);q>=0&&this._items.splice(q,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class G extends t.EditorAction{constructor(){super({id:G.id,label:g.localize(1,null),alias:"Trigger Suggest",precondition:p.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasCompletionItemProvider,E.Context.Visible.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(J,q,H){const V=U.get(q);if(!V)return;let Z;H&&typeof H=="object"&&H.auto===!0&&(Z=!0),V.triggerSuggest(void 0,Z,void 0)}}e.TriggerSuggestAction=G,G.id="editor.action.triggerSuggest",(0,t.registerEditorContribution)(U.ID,U,2),(0,t.registerEditorAction)(G);const Y=100+90,ne=t.EditorCommand.bindToContribution(U.get);(0,t.registerEditorCommand)(new ne({id:"acceptSelectedSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler(se){se.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:p.ContextKeyExpr.and(E.Context.Visible,d.EditorContextKeys.textInputFocus),weight:Y},{primary:3,kbExpr:p.ContextKeyExpr.and(E.Context.Visible,d.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:Y}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:g.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:g.localize(3,null),group:"left",order:1,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:g.localize(4,null),group:"left",order:1,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,t.registerEditorCommand)(new ne({id:"acceptAlternativeSelectedSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,d.EditorContextKeys.textInputFocus,E.Context.HasFocusedSuggestion),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(se){se.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:g.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:g.localize(6,null)}]})),h.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,t.registerEditorCommand)(new ne({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:se=>se.cancelSuggestWidget(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,t.registerEditorCommand)(new ne({id:"selectNextSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:se=>se.selectNextSuggestion(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,t.registerEditorCommand)(new ne({id:"selectNextPageSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:se=>se.selectNextPageSuggestion(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,t.registerEditorCommand)(new ne({id:"selectLastSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:se=>se.selectLastSuggestion()})),(0,t.registerEditorCommand)(new ne({id:"selectPrevSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:se=>se.selectPrevSuggestion(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,t.registerEditorCommand)(new ne({id:"selectPrevPageSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:se=>se.selectPrevPageSuggestion(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,t.registerEditorCommand)(new ne({id:"selectFirstSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:se=>se.selectFirstSuggestion()})),(0,t.registerEditorCommand)(new ne({id:"focusSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:se=>se.focusSuggestion(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,t.registerEditorCommand)(new ne({id:"focusAndAcceptSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:se=>{se.focusSuggestion(),se.acceptSelectedSuggestion(!0,!1)}})),(0,t.registerEditorCommand)(new ne({id:"toggleSuggestionDetails",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler:se=>se.toggleSuggestionDetails(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:p.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:g.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:p.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:g.localize(8,null)}]})),(0,t.registerEditorCommand)(new ne({id:"toggleExplainMode",precondition:E.Context.Visible,handler:se=>se.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,t.registerEditorCommand)(new ne({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:se=>se.toggleSuggestionFocus(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,t.registerEditorCommand)(new ne({id:"insertBestCompletion",precondition:p.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,p.ContextKeyExpr.equals("config.editor.tabCompletion","on"),a.WordContextKey.AtEnd,E.Context.Visible.toNegated(),k.SuggestAlternatives.OtherSuggestions.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:(se,J)=>{se.triggerSuggestAndAcceptBest((0,i.isObject)(J)?Object.assign({fallback:"tab"},J):{fallback:"tab"})},kbOpts:{weight:Y,primary:2}})),(0,t.registerEditorCommand)(new ne({id:"insertNextSuggestion",precondition:p.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,p.ContextKeyExpr.equals("config.editor.tabCompletion","on"),k.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:se=>se.acceptNextSuggestion(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:2}})),(0,t.registerEditorCommand)(new ne({id:"insertPrevSuggestion",precondition:p.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,p.ContextKeyExpr.equals("config.editor.tabCompletion","on"),k.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:se=>se.acceptPrevSuggestion(),kbOpts:{weight:Y,kbExpr:d.EditorContextKeys.textInputFocus,primary:1026}})),(0,t.registerEditorAction)(class extends t.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:g.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(se,J){var q;(q=U.get(J))===null||q===void 0||q.resetWidgetSize()}})}),define(te[915],ie([1,0,6,2,12,5,29,127,381,382,40,300,13,68]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class t extends I.Disposable{get selectedItem(){return this._selectedItem}constructor(d,l,o,c){super(),this.editor=d,this.suggestControllerPreselector=l,this.checkModelVersion=o,this.onWillAccept=c,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,C.observableValue)(this,void 0),this._register(d.onKeyDown(g=>{g.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(d.onKeyUp(g=>{g.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const a=v.SuggestController.get(this.editor);if(a){this._register(a.registerSelector({priority:100,select:(p,b,w)=>{var E;(0,C.transaction)(N=>this.checkModelVersion(N));const k=this.editor.getModel();if(!k)return-1;const M=(E=this.suggestControllerPreselector())===null||E===void 0?void 0:E.removeCommonPrefix(k);if(!M)return-1;const R=y.Position.lift(b),B=w.map((N,A)=>{const O=r.fromSuggestion(a,k,R,N,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(k),x=M.augments(O);return{index:A,valid:x,prefixLength:O.text.length,suggestItem:N}}).filter(N=>N&&N.valid&&N.prefixLength>0),T=(0,n.findFirstMaxBy)(B,(0,i.compareBy)(N=>N.prefixLength,i.numberComparator));return T?T.index:-1}}));let g=!1;const h=()=>{g||(g=!0,this._register(a.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(a.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(a.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(L.Event.once(a.model.onDidTrigger)(p=>{h()})),this._register(a.onWillInsertSuggestItem(p=>{const b=this.editor.getPosition(),w=this.editor.getModel();if(!b||!w)return;const E=r.fromSuggestion(a,w,b,p.item,this.isShiftKeyPressed);this.onWillAccept(E)}))}this.update(this._isActive)}update(d){const l=this.getSuggestItemInfo();(this._isActive!==d||!u(this._currentSuggestItemInfo,l))&&(this._isActive=d,this._currentSuggestItemInfo=l,(0,C.transaction)(o=>{this.checkModelVersion(o),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,o)}))}getSuggestItemInfo(){const d=v.SuggestController.get(this.editor);if(!d||!this.isSuggestWidgetVisible)return;const l=d.widget.value.getFocusedItem(),o=this.editor.getPosition(),c=this.editor.getModel();if(!(!l||!o||!c))return r.fromSuggestion(d,c,o,l.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const d=v.SuggestController.get(this.editor);d?.stopForceRenderingAbove()}forceRenderingAbove(){const d=v.SuggestController.get(this.editor);d?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=t;class r{static fromSuggestion(d,l,o,c,a){let{insertText:g}=c.completion,h=!1;if(c.completion.insertTextRules&4){const b=new m.SnippetParser().parse(g);b.children.length<100&&_.SnippetSession.adjustWhitespace(l,o,!0,b),g=b.toString(),h=!0}const p=d.getOverwriteInfo(c,a);return new r(D.Range.fromPositions(o.delta(0,-p.overwriteBefore),o.delta(0,Math.max(p.overwriteAfter,0))),g,c.completion.kind,h)}constructor(d,l,o,c){this.range=d,this.insertText=l,this.completionItemKind=o,this.isSnippetText=c}equals(d){return this.range.equalsRange(d.range)&&this.insertText===d.insertText&&this.completionItemKind===d.completionItemKind&&this.isSnippetText===d.isSnippetText}toSelectedSuggestionInfo(){return new S.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new s.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=r;function u(f,d){return f===d?!0:!f||!d?!1:f.equals(d)}}),define(te[256],ie([1,0,45,6,2,40,188,12,74,18,214,751,235,251,913,915,681,156,25,28,15,8,34]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let h=g=class extends y.Disposable{static get(b){return b.getContribution(g.ID)}constructor(b,w,E,k,M,R,B,T,N){super(),this.editor=b,this.instantiationService=w,this.contextKeyService=E,this.configurationService=k,this.commandService=M,this.debounceService=R,this.languageFeaturesService=B,this.audioCueService=T,this._keybindingService=N,this.model=(0,D.disposableObservableValue)("inlineCompletionModel",void 0),this.textModelVersionId=(0,D.observableValue)(this,-1),this.cursorPosition=(0,D.observableValue)(this,new m.Position(1,1)),this.suggestWidgetAdaptor=this._register(new r.SuggestWidgetAdaptor(this.editor,()=>{var O,x;return(x=(O=this.model.get())===null||O===void 0?void 0:O.selectedInlineCompletion.get())===null||x===void 0?void 0:x.toSingleTextEdit(void 0)},O=>this.updateObservables(O,t.VersionIdChangeReason.Other),O=>{(0,D.transaction)(x=>{var W;this.updateObservables(x,t.VersionIdChangeReason.Other),(W=this.model.get())===null||W===void 0||W.handleSuggestAccepted(O)})})),this._enabled=(0,D.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this.ghostTextWidget=this._register(this.instantiationService.createInstance(s.GhostTextWidget,this.editor,{ghostText:this.model.map((O,x)=>O?.ghostText.read(x)),minReservedLineCount:(0,D.constObservable)(0),targetTextModel:this.model.map(O=>O?.textModel)})),this._debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(new i.InlineCompletionContextKeys(this.contextKeyService,this.model)),this._register(I.Event.runAndSubscribe(b.onDidChangeModel,()=>(0,D.transaction)(O=>{this.model.set(void 0,O),this.updateObservables(O,t.VersionIdChangeReason.Other);const x=b.getModel();if(x){const W=w.createInstance(t.InlineCompletionsModel,x,this.suggestWidgetAdaptor.selectedItem,this.cursorPosition,this.textModelVersionId,this._debounceValue,(0,D.observableFromEvent)(b.onDidChangeConfiguration,()=>b.getOption(117).preview),(0,D.observableFromEvent)(b.onDidChangeConfiguration,()=>b.getOption(117).previewMode),(0,D.observableFromEvent)(b.onDidChangeConfiguration,()=>b.getOption(62).mode),this._enabled);this.model.set(W,O)}})));const A=O=>{var x;return O.isUndoing?t.VersionIdChangeReason.Undo:O.isRedoing?t.VersionIdChangeReason.Redo:!((x=this.model.get())===null||x===void 0)&&x.isAcceptingPartially?t.VersionIdChangeReason.AcceptWord:t.VersionIdChangeReason.Other};this._register(b.onDidChangeModelContent(O=>(0,D.transaction)(x=>this.updateObservables(x,A(O))))),this._register(b.onDidChangeCursorPosition(O=>(0,D.transaction)(x=>{var W;this.updateObservables(x,t.VersionIdChangeReason.Other),(O.reason===3||O.source==="api")&&((W=this.model.get())===null||W===void 0||W.stop(x))}))),this._register(b.onDidType(()=>(0,D.transaction)(O=>{var x;this.updateObservables(O,t.VersionIdChangeReason.Other),this._enabled.get()&&((x=this.model.get())===null||x===void 0||x.trigger(O))}))),this._register(this.commandService.onDidExecuteCommand(O=>{new Set([S.CoreEditingCommands.Tab.id,S.CoreEditingCommands.DeleteLeft.id,S.CoreEditingCommands.DeleteRight.id,C.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(O.commandId)&&b.hasTextFocus()&&this._enabled.get()&&(0,D.transaction)(W=>{var U;(U=this.model.get())===null||U===void 0||U.trigger(W)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.contextKeyService.getContextKeyValue("accessibleViewIsShown")||this.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||b.getOption(62).keepOnBlur||n.InlineSuggestionHintsContentWidget.dropDownVisible||(0,D.transaction)(O=>{var x;(x=this.model.get())===null||x===void 0||x.stop(O)})})),this._register((0,D.autorun)(O=>{var x;const W=(x=this.model.read(O))===null||x===void 0?void 0:x.state.read(O);W?.suggestItem?W.ghostText.lineCount>=2&&this.suggestWidgetAdaptor.forceRenderingAbove():this.suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,y.toDisposable)(()=>{this.suggestWidgetAdaptor.stopForceRenderingAbove()}));let P;this._register((0,D.autorun)(O=>{const x=this.model.read(O),W=x?.state.read(O);if(!x||!W||!W.inlineCompletion){P=void 0;return}if(W.inlineCompletion.semanticId!==P){P=W.inlineCompletion.semanticId;const U=x.textModel.getLineContent(W.ghostText.lineNumber);this.audioCueService.playAudioCue(f.AudioCue.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(W.ghostText.renderForScreenReader(U))})}})),this._register(new n.InlineCompletionsHintsWidget(this.editor,this.model,this.instantiationService)),this._register(this.configurationService.onDidChangeConfiguration(O=>{O.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})}provideScreenReaderUpdate(b){const w=this.contextKeyService.getContextKeyValue("accessibleViewIsShown"),E=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let k;!w&&E&&this.editor.getOption(147)&&(k=(0,u.localize)(0,null,E.getAriaLabel())),k?(0,L.alert)(b+", "+k):(0,L.alert)(b)}updateObservables(b,w){var E,k;const M=this.editor.getModel();this.textModelVersionId.set((E=M?.getVersionId())!==null&&E!==void 0?E:-1,b,w),this.cursorPosition.set((k=this.editor.getPosition())!==null&&k!==void 0?k:new m.Position(1,1),b)}shouldShowHoverAt(b){var w;const E=(w=this.model.get())===null||w===void 0?void 0:w.ghostText.get();return E?E.parts.some(k=>b.containsPosition(new m.Position(E.lineNumber,k.column))):!1}shouldShowHoverAtViewZone(b){return this.ghostTextWidget.ownsViewZone(b)}};e.InlineCompletionsController=h,h.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=h=g=Ie([ge(1,c.IInstantiationService),ge(2,o.IContextKeyService),ge(3,l.IConfigurationService),ge(4,d.ICommandService),ge(5,_.ILanguageFeatureDebounceService),ge(6,v.ILanguageFeaturesService),ge(7,f.IAudioCueService),ge(8,a.IKeybindingService)],h)}),define(te[916],ie([1,0,40,16,22,214,235,256,133,678,30,28,15]),function($,e,L,I,y,D,S,m,_,v,C,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class n extends I.EditorAction{constructor(){super({id:n.ID,label:v.localize(0,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(a,g){var h;return be(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);(h=p?.model.get())===null||h===void 0||h.next()})}}e.ShowNextInlineSuggestionAction=n,n.ID=D.showNextInlineSuggestionActionId;class t extends I.EditorAction{constructor(){super({id:t.ID,label:v.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(a,g){var h;return be(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);(h=p?.model.get())===null||h===void 0||h.previous()})}}e.ShowPreviousInlineSuggestionAction=t,t.ID=D.showPreviousInlineSuggestionActionId;class r extends I.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:v.localize(2,null),alias:"Trigger Inline Suggestion",precondition:y.EditorContextKeys.writable})}run(a,g){var h;return be(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);(h=p?.model.get())===null||h===void 0||h.triggerExplicitly()})}}e.TriggerInlineSuggestionAction=r;class u extends I.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:v.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065,kbExpr:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:C.MenuId.InlineSuggestionToolbar,title:v.localize(4,null),group:"primary",order:2}]})}run(a,g){var h;return be(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);yield(h=p?.model.get())===null||h===void 0?void 0:h.acceptNextWord(p.editor)})}}e.AcceptNextWordOfInlineCompletion=u;class f extends I.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:v.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:i.ContextKeyExpr.and(y.EditorContextKeys.writable,S.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:C.MenuId.InlineSuggestionToolbar,title:v.localize(6,null),group:"secondary",order:2}]})}run(a,g){var h;return be(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);yield(h=p?.model.get())===null||h===void 0?void 0:h.acceptNextLine(p.editor)})}}e.AcceptNextLineOfInlineCompletion=f;class d extends I.EditorAction{constructor(){super({id:D.inlineSuggestCommitId,label:v.localize(7,null),alias:"Accept Inline Suggestion",precondition:S.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:C.MenuId.InlineSuggestionToolbar,title:v.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:i.ContextKeyExpr.and(S.InlineCompletionContextKeys.inlineSuggestionVisible,y.EditorContextKeys.tabMovesFocus.toNegated(),S.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,_.Context.Visible.toNegated(),y.EditorContextKeys.hoverFocused.toNegated())}})}run(a,g){var h;return be(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(g);p&&((h=p.model.get())===null||h===void 0||h.accept(p.editor),p.editor.focus())})}}e.AcceptInlineCompletion=d;class l extends I.EditorAction{constructor(){super({id:l.ID,label:v.localize(9,null),alias:"Hide Inline Suggestion",precondition:S.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(a,g){return be(this,void 0,void 0,function*(){const h=m.InlineCompletionsController.get(g);(0,L.transaction)(p=>{var b;(b=h?.model.get())===null||b===void 0||b.stop(p)})})}}e.HideInlineCompletion=l,l.ID="editor.action.inlineSuggest.hide";class o extends C.Action2{constructor(){super({id:o.ID,title:v.localize(10,null),f1:!1,precondition:void 0,menu:[{id:C.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:i.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}run(a,g){return be(this,void 0,void 0,function*(){const h=a.get(s.IConfigurationService),b=h.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";h.updateValue("editor.inlineSuggest.showToolbar",b)})}}e.ToggleAlwaysShowInlineSuggestionToolbar=o,o.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(te[917],ie([1,0,7,57,2,40,5,42,99,256,251,116,679,88,8,55,76]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class f{constructor(o,c,a){this.owner=o,this.range=c,this.controller=a}isValidForHoverAnchor(o){return o.type===1&&this.range.startColumn<=o.range.startColumn&&this.range.endColumn>=o.range.endColumn}}e.InlineCompletionsHover=f;let d=class{constructor(o,c,a,g,h,p){this._editor=o,this._languageService=c,this._openerService=a,this.accessibilityService=g,this._instantiationService=h,this._telemetryService=p,this.hoverOrdinal=4}suggestHoverAnchor(o){const c=v.InlineCompletionsController.get(this._editor);if(!c)return null;const a=o.target;if(a.type===8){const g=a.detail;if(c.shouldShowHoverAtViewZone(g.viewZoneId))return new _.HoverForeignElementAnchor(1e3,this,S.Range.fromPositions(this._editor.getModel().validatePosition(g.positionBefore||g.position)),o.event.posx,o.event.posy,!1)}return a.type===7&&c.shouldShowHoverAt(a.range)?new _.HoverForeignElementAnchor(1e3,this,a.range,o.event.posx,o.event.posy,!1):a.type===6&&a.detail.mightBeForeignElement&&c.shouldShowHoverAt(a.range)?new _.HoverForeignElementAnchor(1e3,this,a.range,o.event.posx,o.event.posy,!1):null}computeSync(o,c){if(this._editor.getOption(62).showToolbar==="always")return[];const a=v.InlineCompletionsController.get(this._editor);return a&&a.shouldShowHoverAt(o.range)?[new f(this,o.range,a)]:[]}renderHoverParts(o,c){const a=new y.DisposableStore,g=c[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(o,g,a);const h=g.controller.model.get(),p=this._instantiationService.createInstance(C.InlineSuggestionHintsContentWidget,this._editor,!1,(0,D.constObservable)(null),h.selectedInlineCompletionIndex,h.inlineCompletionsCount,h.selectedInlineCompletion.map(b=>{var w;return(w=b?.inlineCompletion.source.inlineCompletions.commands)!==null&&w!==void 0?w:[]}));return o.fragment.appendChild(p.getDomNode()),h.triggerExplicitly(),a.add(p),a}renderScreenReaderText(o,c,a){const g=L.$,h=g("div.hover-row.markdown-hover"),p=L.append(h,g("div.hover-contents",{["aria-live"]:"assertive"})),b=a.add(new s.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),w=E=>{a.add(b.onDidRenderAsync(()=>{p.className="hover-contents code-hover-contents",o.onContentsChanged()}));const k=i.localize(0,null),M=a.add(b.render(new I.MarkdownString().appendText(k).appendCodeblock("text",E)));p.replaceChildren(M.element)};a.add((0,D.autorun)(E=>{var k;const M=(k=c.controller.model.read(E))===null||k===void 0?void 0:k.ghostText.read(E);if(M){const R=this._editor.getModel().getLineContent(M.lineNumber);w(M.renderForScreenReader(R))}else L.reset(p)})),o.fragment.appendChild(h)}};e.InlineCompletionsHoverParticipant=d,e.InlineCompletionsHoverParticipant=d=Ie([ge(1,m.ILanguageService),ge(2,r.IOpenerService),ge(3,n.IAccessibilityService),ge(4,t.IInstantiationService),ge(5,u.ITelemetryService)],d)}),define(te[918],ie([1,0,16,99,916,917,256,30]),function($,e,L,I,y,D,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(S.InlineCompletionsController.ID,S.InlineCompletionsController,3),(0,L.registerEditorAction)(y.TriggerInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowNextInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowPreviousInlineSuggestionAction),(0,L.registerEditorAction)(y.AcceptNextWordOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptNextLineOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptInlineCompletion),(0,L.registerEditorAction)(y.HideInlineCompletion),(0,m.registerAction2)(y.ToggleAlwaysShowInlineSuggestionToolbar),I.HoverParticipantRegistry.register(D.InlineCompletionsHoverParticipant)}),define(te[383],ie([1,0,8]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,L.createDecorator)("workspaceTrustManagementService")}),define(te[919],ie([1,0,14,26,57,2,17,10,16,39,37,289,115,42,329,99,247,833,710,28,8,55,67,77,383,469]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,g.registerIcon)("extensions-warning-message",I.Codicon.warning,d.localize(0,null));let p=class extends D.Disposable{constructor(se,J,q,H){super(),this._editor=se,this._editorWorkerService=J,this._workspaceTrustService=q,this._highlighter=null,this._bannerClosed=!1,this._updateState=V=>{if(V&&V.hasMore){if(this._bannerClosed)return;const Z=Math.max(V.ambiguousCharacterCount,V.nonBasicAsciiCharacterCount,V.invisibleCharacterCount);let ee;if(V.nonBasicAsciiCharacterCount>=Z)ee={message:d.localize(1,null),command:new W};else if(V.ambiguousCharacterCount>=Z)ee={message:d.localize(2,null),command:new O};else if(V.invisibleCharacterCount>=Z)ee={message:d.localize(3,null),command:new x};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ee.message,icon:e.warningIcon,actions:[{label:ee.command.shortLabel,href:`command:${ee.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(H.createInstance(f.BannerController,se)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=se.getOption(124),this._register(q.onDidChangeTrust(V=>{this._updateHighlighter()})),this._register(se.onDidChangeConfiguration(V=>{V.hasChanged(124)&&(this._options=se.getOption(124),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const se=b(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([se.nonBasicASCII,se.ambiguousCharacters,se.invisibleCharacters].every(q=>q===!1))return;const J={nonBasicASCII:se.nonBasicASCII,ambiguousCharacters:se.ambiguousCharacters,invisibleCharacters:se.invisibleCharacters,includeComments:se.includeComments,includeStrings:se.includeStrings,allowedCodePoints:Object.keys(se.allowedCharacters).map(q=>q.codePointAt(0)),allowedLocales:Object.keys(se.allowedLocales).map(q=>q==="_os"?new Intl.NumberFormat().resolvedOptions().locale:q==="_vscode"?S.language:q)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new w(this._editor,J,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,J,this._updateState)}getDecorationInfo(se){return this._highlighter?this._highlighter.getDecorationInfo(se):null}};e.UnicodeHighlighter=p,p.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=p=Ie([ge(1,i.IEditorWorkerService),ge(2,h.IWorkspaceTrustManagementService),ge(3,o.IInstantiationService)],p);function b(ne,se){return{nonBasicASCII:se.nonBasicASCII===v.inUntrustedWorkspace?!ne:se.nonBasicASCII,ambiguousCharacters:se.ambiguousCharacters,invisibleCharacters:se.invisibleCharacters,includeComments:se.includeComments===v.inUntrustedWorkspace?!ne:se.includeComments,includeStrings:se.includeStrings===v.inUntrustedWorkspace?!ne:se.includeStrings,allowedCharacters:se.allowedCharacters,allowedLocales:se.allowedLocales}}let w=class extends D.Disposable{constructor(se,J,q,H){super(),this._editor=se,this._options=J,this._updateState=q,this._editorWorkerService=H,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const se=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(J=>{if(this._model.isDisposed()||this._model.getVersionId()!==se)return;this._updateState(J);const q=[];if(!J.hasMore)for(const H of J.ranges)q.push({range:H,options:N.instance.getDecorationFromOptions(this._options)});this._decorations.set(q)})}getDecorationInfo(se){if(!this._decorations.has(se))return null;const J=this._editor.getModel();if(!(0,t.isModelDecorationVisible)(J,se))return null;const q=J.getValueInRange(se.range);return{reason:T(q,this._options),inComment:(0,t.isModelDecorationInComment)(J,se),inString:(0,t.isModelDecorationInString)(J,se)}}};w=Ie([ge(3,i.IEditorWorkerService)],w);class E extends D.Disposable{constructor(se,J,q){super(),this._editor=se,this._options=J,this._updateState=q,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const se=this._editor.getVisibleRanges(),J=[],q={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const H of se){const V=s.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,H);for(const Z of V.ranges)q.ranges.push(Z);q.ambiguousCharacterCount+=q.ambiguousCharacterCount,q.invisibleCharacterCount+=q.invisibleCharacterCount,q.nonBasicAsciiCharacterCount+=q.nonBasicAsciiCharacterCount,q.hasMore=q.hasMore||V.hasMore}if(!q.hasMore)for(const H of q.ranges)J.push({range:H,options:N.instance.getDecorationFromOptions(this._options)});this._updateState(q),this._decorations.set(J)}getDecorationInfo(se){if(!this._decorations.has(se))return null;const J=this._editor.getModel(),q=J.getValueInRange(se.range);return(0,t.isModelDecorationVisible)(J,se)?{reason:T(q,this._options),inComment:(0,t.isModelDecorationInComment)(J,se),inString:(0,t.isModelDecorationInString)(J,se)}:null}}let k=class{constructor(se,J,q){this._editor=se,this._languageService=J,this._openerService=q,this.hoverOrdinal=5}computeSync(se,J){if(!this._editor.hasModel()||se.type!==1)return[];const q=this._editor.getModel(),H=this._editor.getContribution(p.ID);if(!H)return[];const V=[],Z=new Set;let ee=300;for(const le of J){const ue=H.getDecorationInfo(le);if(!ue)continue;const ce=q.getValueInRange(le.range).codePointAt(0),ae=R(ce);let X;switch(ue.reason.kind){case 0:{(0,m.isBasicASCII)(ue.reason.confusableWith)?X=d.localize(4,null,ae,R(ue.reason.confusableWith.codePointAt(0))):X=d.localize(5,null,ae,R(ue.reason.confusableWith.codePointAt(0)));break}case 1:X=d.localize(6,null,ae);break;case 2:X=d.localize(7,null,ae);break}if(Z.has(X))continue;Z.add(X);const K={codePoint:ce,reason:ue.reason,inComment:ue.inComment,inString:ue.inString},z=d.localize(8,null),Q=`command:${U.ID}?${encodeURIComponent(JSON.stringify(K))}`,j=new y.MarkdownString("",!0).appendMarkdown(X).appendText(" ").appendLink(Q,z);V.push(new u.MarkdownHover(this,le.range,[j],!1,ee++))}return V}renderHoverParts(se,J){return(0,u.renderMarkdownHovers)(se,J,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=k,e.UnicodeHighlighterHoverParticipant=k=Ie([ge(1,n.ILanguageService),ge(2,c.IOpenerService)],k);function M(ne){return`U+${ne.toString(16).padStart(4,"0")}`}function R(ne){let se=`\`${M(ne)}\``;return m.InvisibleCharacters.isInvisibleCharacter(ne)||(se+=` "${`${B(ne)}`}"`),se}function B(ne){return ne===96?"`` ` ``":"`"+String.fromCodePoint(ne)+"`"}function T(ne,se){return s.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(ne,se)}class N{constructor(){this.map=new Map}getDecorationFromOptions(se){return this.getDecoration(!se.includeComments,!se.includeStrings)}getDecoration(se,J){const q=`${se}${J}`;let H=this.map.get(q);return H||(H=C.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:se,hideInStringTokens:J}),this.map.set(q,H)),H}}N.instance=new N;class A extends _.EditorAction{constructor(){super({id:O.ID,label:d.localize(10,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=d.localize(9,null)}run(se,J,q){return be(this,void 0,void 0,function*(){const H=se?.get(l.IConfigurationService);H&&this.runAction(H)})}runAction(se){return be(this,void 0,void 0,function*(){yield se.updateValue(v.unicodeHighlightConfigKeys.includeComments,!1,2)})}}e.DisableHighlightingInCommentsAction=A;class P extends _.EditorAction{constructor(){super({id:O.ID,label:d.localize(12,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=d.localize(11,null)}run(se,J,q){return be(this,void 0,void 0,function*(){const H=se?.get(l.IConfigurationService);H&&this.runAction(H)})}runAction(se){return be(this,void 0,void 0,function*(){yield se.updateValue(v.unicodeHighlightConfigKeys.includeStrings,!1,2)})}}e.DisableHighlightingInStringsAction=P;class O extends _.EditorAction{constructor(){super({id:O.ID,label:d.localize(14,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=d.localize(13,null)}run(se,J,q){return be(this,void 0,void 0,function*(){const H=se?.get(l.IConfigurationService);H&&this.runAction(H)})}runAction(se){return be(this,void 0,void 0,function*(){yield se.updateValue(v.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)})}}e.DisableHighlightingOfAmbiguousCharactersAction=O,O.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class x extends _.EditorAction{constructor(){super({id:x.ID,label:d.localize(16,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=d.localize(15,null)}run(se,J,q){return be(this,void 0,void 0,function*(){const H=se?.get(l.IConfigurationService);H&&this.runAction(H)})}runAction(se){return be(this,void 0,void 0,function*(){yield se.updateValue(v.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)})}}e.DisableHighlightingOfInvisibleCharactersAction=x,x.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class W extends _.EditorAction{constructor(){super({id:W.ID,label:d.localize(18,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=d.localize(17,null)}run(se,J,q){return be(this,void 0,void 0,function*(){const H=se?.get(l.IConfigurationService);H&&this.runAction(H)})}runAction(se){return be(this,void 0,void 0,function*(){yield se.updateValue(v.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class U extends _.EditorAction{constructor(){super({id:U.ID,label:d.localize(19,null),alias:"Show Exclude Options",precondition:void 0})}run(se,J,q){return be(this,void 0,void 0,function*(){const{codePoint:H,reason:V,inString:Z,inComment:ee}=q,le=String.fromCodePoint(H),ue=se.get(a.IQuickInputService),de=se.get(l.IConfigurationService);function ce(K){return m.InvisibleCharacters.isInvisibleCharacter(K)?d.localize(20,null,M(K)):d.localize(21,null,`${M(K)} "${le}"`)}const ae=[];if(V.kind===0)for(const K of V.notAmbiguousInLocales)ae.push({label:d.localize(22,null,K),run:()=>be(this,void 0,void 0,function*(){G(de,[K])})});if(ae.push({label:ce(H),run:()=>F(de,[H])}),ee){const K=new A;ae.push({label:K.label,run:()=>be(this,void 0,void 0,function*(){return K.runAction(de)})})}else if(Z){const K=new P;ae.push({label:K.label,run:()=>be(this,void 0,void 0,function*(){return K.runAction(de)})})}if(V.kind===0){const K=new O;ae.push({label:K.label,run:()=>be(this,void 0,void 0,function*(){return K.runAction(de)})})}else if(V.kind===1){const K=new x;ae.push({label:K.label,run:()=>be(this,void 0,void 0,function*(){return K.runAction(de)})})}else if(V.kind===2){const K=new W;ae.push({label:K.label,run:()=>be(this,void 0,void 0,function*(){return K.runAction(de)})})}else Y(V);const X=yield ue.pick(ae,{title:d.localize(23,null)});X&&(yield X.run())})}}e.ShowExcludeOptions=U,U.ID="editor.action.unicodeHighlight.showExcludeOptions";function F(ne,se){return be(this,void 0,void 0,function*(){const J=ne.getValue(v.unicodeHighlightConfigKeys.allowedCharacters);let q;typeof J=="object"&&J?q=J:q={};for(const H of se)q[String.fromCodePoint(H)]=!0;yield ne.updateValue(v.unicodeHighlightConfigKeys.allowedCharacters,q,2)})}function G(ne,se){var J;return be(this,void 0,void 0,function*(){const q=(J=ne.inspect(v.unicodeHighlightConfigKeys.allowedLocales).user)===null||J===void 0?void 0:J.value;let H;typeof q=="object"&&q?H=Object.assign({},q):H={};for(const V of se)H[V]=!0;yield ne.updateValue(v.unicodeHighlightConfigKeys.allowedLocales,H,2)})}function Y(ne){throw new Error(`Unexpected value: ${ne}`)}(0,_.registerEditorAction)(O),(0,_.registerEditorAction)(x),(0,_.registerEditorAction)(W),(0,_.registerEditorAction)(U),(0,_.registerEditorContribution)(p.ID,p,1),r.HoverParticipantRegistry.register(k)}),define(te[920],ie([1,0,188,192,874,795,875,796,797,798,877,879,902,886,799,909,800,880,910,911,369,253,803,804,770,918,254,255,375,373,376,806,904,887,807,808,890,891,809,896,832,857,858,859,811,194,906,382,812,813,784,919,814,897,357,815,810,93,171]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(te[257],ie([1,0,10,7,44,6,118,2,17,98,21,130,240,71,12,5,50,65,185,25,28,349,15,157,8,761,34,340,117,341,762,158,48,85,76,162,132,93,46,33,66,383,58,764,779,866,47,769,115,241,42,852,233,871,868,364,131,763,88,30,790,765,102,758,232,759,186,190,94,768,55,67,89,783,156,766,147,9,238,32,363,342,908,74,853,749]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M,R,B,T,N,A,P,O,x,W,U,F,G,Y,ne,se,J,q,H,V,Z,ee,le,ue,de,ce,ae,X,K,z,Q,j,re,oe,he,me,pe,ve,we,Le,Ee,Ae,Re,Be,ye,De,fe,Ce,Me){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class Pe{constructor(Ne){this.disposed=!1,this.model=Ne,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Se=class{constructor(Ne){this.modelService=Ne}createModelReference(Ne){const xe=this.modelService.getModel(Ne);return xe?Promise.resolve(new m.ImmortalReference(new Pe(xe))):Promise.reject(new Error("Model not found"))}};Se=Ie([ge(0,u.IModelService)],Se);class _e{show(){return _e.NULL_PROGRESS_RUNNER}showWhile(Ne,xe){return be(this,void 0,void 0,function*(){yield Ne})}}_e.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class ke{withProgress(Ne,xe,ze){return xe({report:()=>{}})}}class Oe{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class We{confirm(Ne){return be(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(Ne.message,Ne.detail),checkboxChecked:!1}})}doConfirm(Ne,xe){let ze=Ne;return xe&&(ze=ze+`

`+xe),window.confirm(ze)}prompt(Ne){var xe,ze;return be(this,void 0,void 0,function*(){let Ke;if(this.doConfirm(Ne.message,Ne.detail)){const Qe=[...(xe=Ne.buttons)!==null&&xe!==void 0?xe:[]];Ne.cancelButton&&typeof Ne.cancelButton!="string"&&typeof Ne.cancelButton!="boolean"&&Qe.push(Ne.cancelButton),Ke=yield(ze=Qe[0])===null||ze===void 0?void 0:ze.run({checkboxChecked:!1})}return{result:Ke}})}error(Ne,xe){return be(this,void 0,void 0,function*(){yield this.prompt({type:v.default.Error,message:Ne,detail:xe})})}}class qe{info(Ne){return this.notify({severity:v.default.Info,message:Ne})}warn(Ne){return this.notify({severity:v.default.Warning,message:Ne})}error(Ne){return this.notify({severity:v.default.Error,message:Ne})}notify(Ne){switch(Ne.severity){case v.default.Error:console.error(Ne.message);break;case v.default.Warning:console.warn(Ne.message);break;default:console.log(Ne.message);break}return qe.NO_OP}prompt(Ne,xe,ze,Ke){return qe.NO_OP}status(Ne,xe){return m.Disposable.None}}e.StandaloneNotificationService=qe,qe.NO_OP=new B.NoOpNotification;let Ge=class{constructor(Ne){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Ne}executeCommand(Ne,...xe){const ze=l.CommandsRegistry.getCommand(Ne);if(!ze)return Promise.reject(new Error(`command '${Ne}' not found`));try{this._onWillExecuteCommand.fire({commandId:Ne,args:xe});const Ke=this._instantiationService.invokeFunction.apply(this._instantiationService,[ze.handler,...xe]);return this._onDidExecuteCommand.fire({commandId:Ne,args:xe}),Promise.resolve(Ke)}catch(Ke){return Promise.reject(Ke)}}};e.StandaloneCommandService=Ge,e.StandaloneCommandService=Ge=Ie([ge(0,h.IInstantiationService)],Ge);let je=class extends p.AbstractKeybindingService{constructor(Ne,xe,ze,Ke,Xe,Qe){super(Ne,xe,ze,Ke,Xe),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const rt=lt=>{const wt=new m.DisposableStore;wt.add(I.addDisposableListener(lt,I.EventType.KEY_DOWN,Dt=>{const Lt=new y.StandardKeyboardEvent(Dt);this._dispatch(Lt,Lt.target)&&(Lt.preventDefault(),Lt.stopPropagation())})),wt.add(I.addDisposableListener(lt,I.EventType.KEY_UP,Dt=>{const Lt=new y.StandardKeyboardEvent(Dt);this._singleModifierDispatch(Lt,Lt.target)&&Lt.preventDefault()})),this._domNodeListeners.push(new it(lt,wt))},Je=lt=>{for(let wt=0;wt<this._domNodeListeners.length;wt++){const Dt=this._domNodeListeners[wt];Dt.domNode===lt&&(this._domNodeListeners.splice(wt,1),Dt.dispose())}},et=lt=>{lt.getOption(61)||rt(lt.getContainerDomNode())},tt=lt=>{lt.getOption(61)||Je(lt.getContainerDomNode())};this._register(Qe.onCodeEditorAdd(et)),this._register(Qe.onCodeEditorRemove(tt)),Qe.listCodeEditors().forEach(et);const ct=lt=>{rt(lt.getContainerDomNode())},St=lt=>{Je(lt.getContainerDomNode())};this._register(Qe.onDiffEditorAdd(ct)),this._register(Qe.onDiffEditorRemove(St)),Qe.listDiffEditors().forEach(ct)}addDynamicKeybinding(Ne,xe,ze,Ke){return(0,m.combinedDisposable)(l.CommandsRegistry.registerCommand(Ne,ze),this.addDynamicKeybindings([{keybinding:xe,command:Ne,when:Ke}]))}addDynamicKeybindings(Ne){const xe=Ne.map(ze=>{var Ke;return{keybinding:(0,S.decodeKeybinding)(ze.keybinding,_.OS),command:(Ke=ze.command)!==null&&Ke!==void 0?Ke:null,commandArgs:ze.commandArgs,when:ze.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(xe),this.updateResolver(),(0,m.toDisposable)(()=>{for(let ze=0;ze<this._dynamicKeybindings.length;ze++)if(this._dynamicKeybindings[ze]===xe[0]){this._dynamicKeybindings.splice(ze,xe.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Ne=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),xe=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new w.KeybindingResolver(Ne,xe,ze=>this._log(ze))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Ne,xe){const ze=[];let Ke=0;for(const Xe of Ne){const Qe=Xe.when||void 0,rt=Xe.keybinding;if(!rt)ze[Ke++]=new k.ResolvedKeybindingItem(void 0,Xe.command,Xe.commandArgs,Qe,xe,null,!1);else{const Je=M.USLayoutResolvedKeybinding.resolveKeybinding(rt,_.OS);for(const et of Je)ze[Ke++]=new k.ResolvedKeybindingItem(et,Xe.command,Xe.commandArgs,Qe,xe,null,!1)}}return ze}resolveKeyboardEvent(Ne){const xe=new S.KeyCodeChord(Ne.ctrlKey,Ne.shiftKey,Ne.altKey,Ne.metaKey,Ne.keyCode);return new M.USLayoutResolvedKeybinding([xe],_.OS)}};e.StandaloneKeybindingService=je,e.StandaloneKeybindingService=je=Ie([ge(0,a.IContextKeyService),ge(1,l.ICommandService),ge(2,N.ITelemetryService),ge(3,B.INotificationService),ge(4,U.ILogService),ge(5,W.ICodeEditorService)],je);class it extends m.Disposable{constructor(Ne,xe){super(),this.domNode=Ne,this._register(xe)}}function Ze(Ue){return Ue&&typeof Ue=="object"&&(!Ue.overrideIdentifier||typeof Ue.overrideIdentifier=="string")&&(!Ue.resource||Ue.resource instanceof C.URI)}class dt{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const Ne=new Be.DefaultConfiguration;this._configuration=new c.Configuration(Ne.reload(),new c.ConfigurationModel,new c.ConfigurationModel,new c.ConfigurationModel),Ne.dispose()}getValue(Ne,xe){const ze=typeof Ne=="string"?Ne:void 0,Ke=Ze(Ne)?Ne:Ze(xe)?xe:{};return this._configuration.getValue(ze,Ke,void 0)}updateValues(Ne){const xe={data:this._configuration.toData()},ze=[];for(const Ke of Ne){const[Xe,Qe]=Ke;this.getValue(Xe)!==Qe&&(this._configuration.updateValue(Xe,Qe),ze.push(Xe))}if(ze.length>0){const Ke=new c.ConfigurationChangeEvent({keys:ze,overrides:[]},xe,this._configuration);Ke.source=8,Ke.sourceConfig=null,this._onDidChangeConfiguration.fire(Ke)}return Promise.resolve()}updateValue(Ne,xe,ze,Ke){return this.updateValues([[Ne,xe]])}inspect(Ne,xe={}){return this._configuration.inspect(Ne,xe,void 0)}}e.StandaloneConfigurationService=dt;let at=class{constructor(Ne,xe,ze){this.configurationService=Ne,this.modelService=xe,this.languageService=ze,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(Ke=>{this._onDidChangeConfiguration.fire({affectedKeys:Ke.affectedKeys,affectsConfiguration:(Xe,Qe)=>Ke.affectsConfiguration(Qe)})})}getValue(Ne,xe,ze){const Ke=t.Position.isIPosition(xe)?xe:null,Xe=Ke?typeof ze=="string"?ze:void 0:typeof xe=="string"?xe:void 0,Qe=Ne?this.getLanguage(Ne,Ke):void 0;return typeof Xe>"u"?this.configurationService.getValue({resource:Ne,overrideIdentifier:Qe}):this.configurationService.getValue(Xe,{resource:Ne,overrideIdentifier:Qe})}getLanguage(Ne,xe){const ze=this.modelService.getModel(Ne);return ze?xe?ze.getLanguageIdAtPosition(xe.lineNumber,xe.column):ze.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Ne)}};at=Ie([ge(0,o.IConfigurationService),ge(1,u.IModelService),ge(2,Z.ILanguageService)],at);let nt=class{constructor(Ne){this.configurationService=Ne}getEOL(Ne,xe){const ze=this.configurationService.getValue("files.eol",{overrideIdentifier:xe,resource:Ne});return ze&&typeof ze=="string"&&ze!=="auto"?ze:_.isLinux||_.isMacintosh?`
`:`\r
`}};nt=Ie([ge(0,o.IConfigurationService)],nt);class Ct{publicLog2(){}}class ht{constructor(){const Ne=C.URI.from({scheme:ht.SCHEME,authority:"model",path:"/"});this.workspace={id:A.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new A.WorkspaceFolder({uri:Ne,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Ne){return Ne&&Ne.scheme===ht.SCHEME?this.workspace.folders[0]:null}}ht.SCHEME="inmemory";function bt(Ue,Ne,xe){if(!Ne||!(Ue instanceof dt))return;const ze=[];Object.keys(Ne).forEach(Ke=>{(0,i.isEditorConfigurationKey)(Ke)&&ze.push([`editor.${Ke}`,Ne[Ke]]),xe&&(0,i.isDiffEditorConfigurationKey)(Ke)&&ze.push([`diffEditor.${Ke}`,Ne[Ke]])}),ze.length>0&&Ue.updateValues(ze)}e.updateConfigurationService=bt;let ft=class{constructor(Ne){this._modelService=Ne}hasPreviewHandler(){return!1}apply(Ne,xe){return be(this,void 0,void 0,function*(){const ze=Array.isArray(Ne)?Ne:s.ResourceEdit.convert(Ne),Ke=new Map;for(const rt of ze){if(!(rt instanceof s.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const Je=this._modelService.getModel(rt.resource);if(!Je)throw new Error("bad edit - model not found");if(typeof rt.versionId=="number"&&Je.getVersionId()!==rt.versionId)throw new Error("bad state - model changed in the meantime");let et=Ke.get(Je);et||(et=[],Ke.set(Je,et)),et.push(n.EditOperation.replaceMove(r.Range.lift(rt.textEdit.range),rt.textEdit.text))}let Xe=0,Qe=0;for(const[rt,Je]of Ke)rt.pushStackElement(),rt.pushEditOperations([],Je,()=>[]),rt.pushStackElement(),Qe+=1,Xe+=Je.length;return{ariaSummary:L.format(O.StandaloneServicesNLS.bulkEditServiceSummary,Xe,Qe),isApplied:Xe>0}})}};ft=Ie([ge(0,u.IModelService)],ft);class _t{getUriLabel(Ne,xe){return Ne.scheme==="file"?Ne.fsPath:Ne.path}getUriBasenameLabel(Ne){return(0,x.basename)(Ne)}}let He=class extends Y.ContextViewService{constructor(Ne,xe){super(Ne),this._codeEditorService=xe}showContextView(Ne,xe,ze){if(!xe){const Ke=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Ke&&(xe=Ke.getContainerDomNode())}return super.showContextView(Ne,xe,ze)}};He=Ie([ge(0,P.ILayoutService),ge(1,W.ICodeEditorService)],He);class Te{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Fe extends ne.LanguageService{constructor(){super()}}class Ve extends De.LogService{constructor(){super(new U.ConsoleLogger)}}let Ye=class extends se.ContextMenuService{constructor(Ne,xe,ze,Ke,Xe,Qe){super(Ne,xe,ze,Ke,Xe,Qe),this.configure({blockMouse:!1})}};Ye=Ie([ge(0,N.ITelemetryService),ge(1,B.INotificationService),ge(2,G.IContextViewService),ge(3,b.IKeybindingService),ge(4,z.IMenuService),ge(5,a.IContextKeyService)],Ye);class st{playAudioCue(Ne,xe){return be(this,void 0,void 0,function*(){})}}(0,J.registerSingleton)(o.IConfigurationService,dt,0),(0,J.registerSingleton)(d.ITextResourceConfigurationService,at,0),(0,J.registerSingleton)(d.ITextResourcePropertiesService,nt,0),(0,J.registerSingleton)(A.IWorkspaceContextService,ht,0),(0,J.registerSingleton)(R.ILabelService,_t,0),(0,J.registerSingleton)(N.ITelemetryService,Ct,0),(0,J.registerSingleton)(g.IDialogService,We,0),(0,J.registerSingleton)(Me.IEnvironmentService,Oe,0),(0,J.registerSingleton)(B.INotificationService,qe,0),(0,J.registerSingleton)(we.IMarkerService,Le.MarkerService,0),(0,J.registerSingleton)(Z.ILanguageService,Fe,0),(0,J.registerSingleton)(ae.IStandaloneThemeService,ce.StandaloneThemeService,0),(0,J.registerSingleton)(U.ILogService,Ve,0),(0,J.registerSingleton)(u.IModelService,ue.ModelService,0),(0,J.registerSingleton)(le.IMarkerDecorationsService,ee.MarkerDecorationsService,0),(0,J.registerSingleton)(a.IContextKeyService,oe.ContextKeyService,0),(0,J.registerSingleton)(T.IProgressService,ke,0),(0,J.registerSingleton)(T.IEditorProgressService,_e,0),(0,J.registerSingleton)(Re.IStorageService,Re.InMemoryStorageService,0),(0,J.registerSingleton)(H.IEditorWorkerService,V.EditorWorkerService,0),(0,J.registerSingleton)(s.IBulkEditService,ft,0),(0,J.registerSingleton)(F.IWorkspaceTrustManagementService,Te,0),(0,J.registerSingleton)(f.ITextModelService,Se,0),(0,J.registerSingleton)(K.IAccessibilityService,X.AccessibilityService,0),(0,J.registerSingleton)(ve.IListService,ve.ListService,0),(0,J.registerSingleton)(l.ICommandService,Ge,0),(0,J.registerSingleton)(b.IKeybindingService,je,0),(0,J.registerSingleton)(Ae.IQuickInputService,de.StandaloneQuickInputService,0),(0,J.registerSingleton)(G.IContextViewService,He,0),(0,J.registerSingleton)(Ee.IOpenerService,q.OpenerService,0),(0,J.registerSingleton)(re.IClipboardService,j.BrowserClipboardService,0),(0,J.registerSingleton)(G.IContextMenuService,Ye,0),(0,J.registerSingleton)(z.IMenuService,Q.MenuService,0),(0,J.registerSingleton)(ye.IAudioCueService,st,0);var ot;(function(Ue){const Ne=new pe.ServiceCollection;for(const[Je,et]of(0,J.getSingletonServiceDescriptors)())Ne.set(Je,et);const xe=new me.InstantiationService(Ne,!0);Ne.set(h.IInstantiationService,xe);function ze(Je){Ke||Qe({});const et=Ne.get(Je);if(!et)throw new Error("Missing service "+Je);return et instanceof he.SyncDescriptor?xe.invokeFunction(tt=>tt.get(Je)):et}Ue.get=ze;let Ke=!1;const Xe=new D.Emitter;function Qe(Je){if(Ke)return xe;Ke=!0;for(const[tt,ct]of(0,J.getSingletonServiceDescriptors)())Ne.get(tt)||Ne.set(tt,ct);for(const tt in Je)if(Je.hasOwnProperty(tt)){const ct=(0,h.createDecorator)(tt);Ne.get(ct)instanceof he.SyncDescriptor&&Ne.set(ct,Je[tt])}const et=(0,fe.getEditorFeatures)();for(const tt of et)try{xe.createInstance(tt)}catch(ct){(0,Ce.onUnexpectedError)(ct)}return Xe.fire(),xe}Ue.initialize=Qe;function rt(Je){if(Ke)return Je();const et=new m.DisposableStore,tt=et.add(Xe.event(()=>{tt.dispose(),et.add(Je())}));return et}Ue.withServices=rt})(ot||(e.StandaloneServices=ot={}))}),define(te[921],ie([1,0,45,2,33,192,280,257,131,30,25,28,15,58,8,34,48,23,88,93,102,85,50,42,363,75,32,18,366,156]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor2=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let M=0,R=!1;function B(x){if(!x){if(R)return;R=!0}L.setARIAContainer(x||document.body)}let T=class extends D.CodeEditorWidget{constructor(W,U,F,G,Y,ne,se,J,q,H,V,Z){const ee=Object.assign({},U);ee.ariaLabel=ee.ariaLabel||l.StandaloneCodeEditorNLS.editorViewAccessibleLabel,ee.ariaLabel=ee.ariaLabel+";"+l.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(W,ee,{},F,G,Y,ne,J,q,H,V,Z),se instanceof m.StandaloneKeybindingService?this._standaloneKeybindingService=se:this._standaloneKeybindingService=null,B(ee.ariaContainerElement)}addCommand(W,U,F){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const G="DYNAMIC_"+ ++M,Y=i.ContextKeyExpr.deserialize(F);return this._standaloneKeybindingService.addDynamicKeybinding(G,W,U,Y),G}createContextKey(W,U){return this._contextKeyService.createKey(W,U)}addAction(W){if(typeof W.id!="string"||typeof W.label!="string"||typeof W.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),I.Disposable.None;const U=W.id,F=W.label,G=i.ContextKeyExpr.and(i.ContextKeyExpr.equals("editorId",this.getId()),i.ContextKeyExpr.deserialize(W.precondition)),Y=W.keybindings,ne=i.ContextKeyExpr.and(G,i.ContextKeyExpr.deserialize(W.keybindingContext)),se=W.contextMenuGroupId||null,J=W.contextMenuOrder||0,q=(ee,...le)=>Promise.resolve(W.run(this,...le)),H=new I.DisposableStore,V=this.getId()+":"+U;if(H.add(C.CommandsRegistry.registerCommand(V,q)),se){const ee={command:{id:V,title:F},when:G,group:se,order:J};H.add(v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,ee))}if(Array.isArray(Y))for(const ee of Y)H.add(this._standaloneKeybindingService.addDynamicKeybinding(V,ee,q,ne));const Z=new S.InternalEditorAction(V,F,F,G,(...ee)=>Promise.resolve(W.run(this,...ee)),this._contextKeyService);return this._actions.set(U,Z),H.add((0,I.toDisposable)(()=>{this._actions.delete(U)})),H}_triggerCommand(W,U){if(this._codeEditorService instanceof h.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(W,U)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(W,U)}};e.StandaloneCodeEditor=T,e.StandaloneCodeEditor=T=Ie([ge(2,t.IInstantiationService),ge(3,y.ICodeEditorService),ge(4,C.ICommandService),ge(5,i.IContextKeyService),ge(6,r.IKeybindingService),ge(7,f.IThemeService),ge(8,u.INotificationService),ge(9,d.IAccessibilityService),ge(10,b.ILanguageConfigurationService),ge(11,w.ILanguageFeaturesService)],T);let N=class extends T{constructor(W,U,F,G,Y,ne,se,J,q,H,V,Z,ee,le,ue){const de=Object.assign({},U);(0,m.updateConfigurationService)(H,de,!1);const ce=J.registerEditorContainer(W);typeof de.theme=="string"&&J.setTheme(de.theme),typeof de.autoDetectHighContrast<"u"&&J.setAutoDetectHighContrast(!!de.autoDetectHighContrast);const ae=de.model;delete de.model,super(W,de,F,G,Y,ne,se,J,q,V,le,ue),this._configurationService=H,this._standaloneThemeService=J,this._register(ce);let X;if(typeof ae>"u"){const K=ee.getLanguageIdByMimeType(de.language)||de.language||p.PLAINTEXT_LANGUAGE_ID;X=P(Z,ee,de.value||"",K,void 0),this._ownsModel=!0}else X=ae,this._ownsModel=!1;if(this._attachModel(X),X){const K={oldModelUrl:null,newModelUrl:X.uri};this._onDidChangeModel.fire(K)}}dispose(){super.dispose()}updateOptions(W){(0,m.updateConfigurationService)(this._configurationService,W,!1),typeof W.theme=="string"&&this._standaloneThemeService.setTheme(W.theme),typeof W.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!W.autoDetectHighContrast),super.updateOptions(W)}_postDetachModelCleanup(W){super._postDetachModelCleanup(W),W&&this._ownsModel&&(W.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=N,e.StandaloneEditor=N=Ie([ge(2,t.IInstantiationService),ge(3,y.ICodeEditorService),ge(4,C.ICommandService),ge(5,i.IContextKeyService),ge(6,r.IKeybindingService),ge(7,_.IStandaloneThemeService),ge(8,u.INotificationService),ge(9,s.IConfigurationService),ge(10,d.IAccessibilityService),ge(11,a.IModelService),ge(12,g.ILanguageService),ge(13,b.ILanguageConfigurationService),ge(14,w.ILanguageFeaturesService)],N);let A=class extends E.DiffEditorWidget{constructor(W,U,F,G,Y,ne,se,J,q,H,V,Z){const ee=Object.assign({},U);(0,m.updateConfigurationService)(J,ee,!0);const le=ne.registerEditorContainer(W);typeof ee.theme=="string"&&ne.setTheme(ee.theme),typeof ee.autoDetectHighContrast<"u"&&ne.setAutoDetectHighContrast(!!ee.autoDetectHighContrast),super(W,ee,{},G,F,Y,Z,H),this._configurationService=J,this._standaloneThemeService=ne,this._register(le)}dispose(){super.dispose()}updateOptions(W){(0,m.updateConfigurationService)(this._configurationService,W,!0),typeof W.theme=="string"&&this._standaloneThemeService.setTheme(W.theme),typeof W.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!W.autoDetectHighContrast),super.updateOptions(W)}_createInnerEditor(W,U,F){return W.createInstance(T,U,F)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(W,U,F){return this.getModifiedEditor().addCommand(W,U,F)}createContextKey(W,U){return this.getModifiedEditor().createContextKey(W,U)}addAction(W){return this.getModifiedEditor().addAction(W)}};e.StandaloneDiffEditor2=A,e.StandaloneDiffEditor2=A=Ie([ge(2,t.IInstantiationService),ge(3,i.IContextKeyService),ge(4,y.ICodeEditorService),ge(5,_.IStandaloneThemeService),ge(6,u.INotificationService),ge(7,s.IConfigurationService),ge(8,n.IContextMenuService),ge(9,c.IEditorProgressService),ge(10,o.IClipboardService),ge(11,k.IAudioCueService)],A);function P(x,W,U,F,G){if(U=U||"",!F){const Y=U.indexOf(`
`);let ne=U;return Y!==-1&&(ne=U.substring(0,Y)),O(x,U,W.createByFilepathOrFirstLine(G||null,ne),G)}return O(x,U,W.createById(F),G)}e.createTextModel=P;function O(x,W,U,F){return x.createModel(W,U,F)}}),define(te[922],ie([1,0,2,10,21,328,16,33,774,39,143,231,174,29,42,32,75,154,49,50,209,753,921,257,131,30,25,15,34,94,55,475]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r,u,f,d,l,o,c,a,g,h,p,b,w,E,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerEditorOpener=e.registerLinkOpener=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.addKeybindingRules=e.addKeybindingRule=e.addEditorAction=e.addCommand=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function R(me,pe,ve){return g.StandaloneServices.initialize(ve||{}).createInstance(a.StandaloneEditor,me,pe)}e.create=R;function B(me){return g.StandaloneServices.get(m.ICodeEditorService).onCodeEditorAdd(ve=>{me(ve)})}e.onDidCreateEditor=B;function T(me){return g.StandaloneServices.get(m.ICodeEditorService).onDiffEditorAdd(ve=>{me(ve)})}e.onDidCreateDiffEditor=T;function N(){return g.StandaloneServices.get(m.ICodeEditorService).listCodeEditors()}e.getEditors=N;function A(){return g.StandaloneServices.get(m.ICodeEditorService).listDiffEditors()}e.getDiffEditors=A;function P(me,pe,ve){return g.StandaloneServices.initialize(ve||{}).createInstance(a.StandaloneDiffEditor2,me,pe)}e.createDiffEditor=P;function O(me){if(typeof me.id!="string"||typeof me.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return b.CommandsRegistry.registerCommand(me.id,me.run)}e.addCommand=O;function x(me){if(typeof me.id!="string"||typeof me.label!="string"||typeof me.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const pe=w.ContextKeyExpr.deserialize(me.precondition),ve=(Le,...Ee)=>S.EditorCommand.runEditorCommand(Le,Ee,pe,(Ae,Re,Be)=>Promise.resolve(me.run(Re,...Be))),we=new L.DisposableStore;if(we.add(b.CommandsRegistry.registerCommand(me.id,ve)),me.contextMenuGroupId){const Le={command:{id:me.id,title:me.label},when:pe,group:me.contextMenuGroupId,order:me.contextMenuOrder||0};we.add(p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,Le))}if(Array.isArray(me.keybindings)){const Le=g.StandaloneServices.get(E.IKeybindingService);if(!(Le instanceof g.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Ee=w.ContextKeyExpr.and(pe,w.ContextKeyExpr.deserialize(me.keybindingContext));we.add(Le.addDynamicKeybindings(me.keybindings.map(Ae=>({keybinding:Ae,command:me.id,when:Ee}))))}}return we}e.addEditorAction=x;function W(me){return U([me])}e.addKeybindingRule=W;function U(me){const pe=g.StandaloneServices.get(E.IKeybindingService);return pe instanceof g.StandaloneKeybindingService?pe.addDynamicKeybindings(me.map(ve=>({keybinding:ve.keybinding,command:ve.command,commandArgs:ve.commandArgs,when:w.ContextKeyExpr.deserialize(ve.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),L.Disposable.None)}e.addKeybindingRules=U;function F(me,pe,ve){const we=g.StandaloneServices.get(t.ILanguageService),Le=we.getLanguageIdByMimeType(pe)||pe;return(0,a.createTextModel)(g.StandaloneServices.get(l.IModelService),we,me,Le,ve)}e.createModel=F;function G(me,pe){const ve=g.StandaloneServices.get(t.ILanguageService),we=ve.getLanguageIdByMimeType(pe)||pe||u.PLAINTEXT_LANGUAGE_ID;me.setLanguage(ve.createById(we))}e.setModelLanguage=G;function Y(me,pe,ve){me&&g.StandaloneServices.get(k.IMarkerService).changeOne(pe,me.uri,ve)}e.setModelMarkers=Y;function ne(me){g.StandaloneServices.get(k.IMarkerService).changeAll(me,[])}e.removeAllMarkers=ne;function se(me){return g.StandaloneServices.get(k.IMarkerService).read(me)}e.getModelMarkers=se;function J(me){return g.StandaloneServices.get(k.IMarkerService).onMarkerChanged(me)}e.onDidChangeMarkers=J;function q(me){return g.StandaloneServices.get(l.IModelService).getModel(me)}e.getModel=q;function H(){return g.StandaloneServices.get(l.IModelService).getModels()}e.getModels=H;function V(me){return g.StandaloneServices.get(l.IModelService).onModelAdded(me)}e.onDidCreateModel=V;function Z(me){return g.StandaloneServices.get(l.IModelService).onModelRemoved(me)}e.onWillDisposeModel=Z;function ee(me){return g.StandaloneServices.get(l.IModelService).onModelLanguageChanged(ve=>{me({model:ve.model,oldLanguage:ve.oldLanguageId})})}e.onDidChangeModelLanguage=ee;function le(me){return(0,_.createWebWorker)(g.StandaloneServices.get(l.IModelService),g.StandaloneServices.get(r.ILanguageConfigurationService),me)}e.createWebWorker=le;function ue(me,pe){const ve=g.StandaloneServices.get(t.ILanguageService),we=g.StandaloneServices.get(h.IStandaloneThemeService);return c.Colorizer.colorizeElement(we,ve,me,pe).then(()=>{we.registerEditorContainer(me)})}e.colorizeElement=ue;function de(me,pe,ve){const we=g.StandaloneServices.get(t.ILanguageService);return g.StandaloneServices.get(h.IStandaloneThemeService).registerEditorContainer(document.body),c.Colorizer.colorize(we,me,pe,ve)}e.colorize=de;function ce(me,pe,ve=4){return g.StandaloneServices.get(h.IStandaloneThemeService).registerEditorContainer(document.body),c.Colorizer.colorizeModelLine(me,pe,ve)}e.colorizeModelLine=ce;function ae(me){const pe=n.TokenizationRegistry.get(me);return pe||{getInitialState:()=>f.NullState,tokenize:(ve,we,Le)=>(0,f.nullTokenize)(me,Le)}}function X(me,pe){n.TokenizationRegistry.getOrCreate(pe);const ve=ae(pe),we=(0,I.splitLines)(me),Le=[];let Ee=ve.getInitialState();for(let Ae=0,Re=we.length;Ae<Re;Ae++){const Be=we[Ae],ye=ve.tokenize(Be,!0,Ee);Le[Ae]=ye.tokens,Ee=ye.endState}return Le}e.tokenize=X;function K(me,pe){g.StandaloneServices.get(h.IStandaloneThemeService).defineTheme(me,pe)}e.defineTheme=K;function z(me){g.StandaloneServices.get(h.IStandaloneThemeService).setTheme(me)}e.setTheme=z;function Q(){D.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=Q;function j(me,pe){return b.CommandsRegistry.registerCommand({id:me,handler:pe})}e.registerCommand=j;function re(me){return g.StandaloneServices.get(M.IOpenerService).registerOpener({open(ve){return be(this,void 0,void 0,function*(){return typeof ve=="string"&&(ve=y.URI.parse(ve)),me.open(ve)})}})}e.registerLinkOpener=re;function oe(me){return g.StandaloneServices.get(m.ICodeEditorService).registerCodeEditorOpenHandler((ve,we,Le)=>be(this,void 0,void 0,function*(){var Ee;if(!we)return null;const Ae=(Ee=ve.options)===null||Ee===void 0?void 0:Ee.selection;let Re;return Ae&&typeof Ae.endLineNumber=="number"&&typeof Ae.endColumn=="number"?Re=Ae:Ae&&(Re={lineNumber:Ae.startLineNumber,column:Ae.startColumn}),(yield me.openCodeEditor(we,ve.resource,Re))?we:null}))}e.registerEditorOpener=oe;function he(){return{create:R,getEditors:N,getDiffEditors:A,onDidCreateEditor:B,onDidCreateDiffEditor:T,createDiffEditor:P,addCommand:O,addEditorAction:x,addKeybindingRule:W,addKeybindingRules:U,createModel:F,setModelLanguage:G,setModelMarkers:Y,getModelMarkers:se,removeAllMarkers:ne,onDidChangeMarkers:J,getModels:H,getModel:q,onDidCreateModel:V,onWillDisposeModel:Z,onDidChangeModelLanguage:ee,createWebWorker:le,colorizeElement:ue,colorize:de,colorizeModelLine:ce,tokenize:X,defineTheme:K,setTheme:z,remeasureFonts:Q,registerCommand:j,registerLinkOpener:re,registerEditorOpener:oe,AccessibilitySupport:o.AccessibilitySupport,ContentWidgetPositionPreference:o.ContentWidgetPositionPreference,CursorChangeReason:o.CursorChangeReason,DefaultEndOfLine:o.DefaultEndOfLine,EditorAutoIndentStrategy:o.EditorAutoIndentStrategy,EditorOption:o.EditorOption,EndOfLinePreference:o.EndOfLinePreference,EndOfLineSequence:o.EndOfLineSequence,MinimapPosition:o.MinimapPosition,MouseTargetType:o.MouseTargetType,OverlayWidgetPositionPreference:o.OverlayWidgetPositionPreference,OverviewRulerLane:o.OverviewRulerLane,GlyphMarginLane:o.GlyphMarginLane,RenderLineNumbersType:o.RenderLineNumbersType,RenderMinimap:o.RenderMinimap,ScrollbarVisibility:o.ScrollbarVisibility,ScrollType:o.ScrollType,TextEditorCursorBlinkingStyle:o.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:o.TextEditorCursorStyle,TrackedRangeStickiness:o.TrackedRangeStickiness,WrappingIndent:o.WrappingIndent,InjectedTextCursorStops:o.InjectedTextCursorStops,PositionAffinity:o.PositionAffinity,ConfigurationChangedEvent:v.ConfigurationChangedEvent,BareFontInfo:s.BareFontInfo,FontInfo:s.FontInfo,TextModelResolvedOptions:d.TextModelResolvedOptions,FindMatch:d.FindMatch,ApplyUpdateResult:v.ApplyUpdateResult,EditorZoom:C.EditorZoom,EditorType:i.EditorType,EditorOptions:v.EditorOptions}}e.createMonacoEditorAPI=he}),define(te[923],ie([1,0,36,5,29,32,75,42,209,257,553,338,131,94,18,28]),function($,e,L,I,y,D,S,m,_,v,C,s,i,n,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguageEncountered=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function u(K){S.ModesRegistry.registerLanguage(K)}e.register=u;function f(){let K=[];return K=K.concat(S.ModesRegistry.getLanguages()),K}e.getLanguages=f;function d(K){return v.StandaloneServices.get(m.ILanguageService).languageIdCodec.encodeLanguageId(K)}e.getEncodedLanguageId=d;function l(K,z){return v.StandaloneServices.withServices(()=>{const j=v.StandaloneServices.get(m.ILanguageService).onDidRequestRichLanguageFeatures(re=>{re===K&&(j.dispose(),z())});return j})}e.onLanguage=l;function o(K,z){return v.StandaloneServices.withServices(()=>{const j=v.StandaloneServices.get(m.ILanguageService).onDidRequestBasicLanguageFeatures(re=>{re===K&&(j.dispose(),z())});return j})}e.onLanguageEncountered=o;function c(K,z){if(!v.StandaloneServices.get(m.ILanguageService).isRegisteredLanguageId(K))throw new Error(`Cannot set configuration for unknown language ${K}`);return v.StandaloneServices.get(D.ILanguageConfigurationService).register(K,z,100)}e.setLanguageConfiguration=c;class a{constructor(z,Q){this._languageId=z,this._actual=Q}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(z,Q,j){if(typeof this._actual.tokenize=="function")return g.adaptTokenize(this._languageId,this._actual,z,j);throw new Error("Not supported!")}tokenizeEncoded(z,Q,j){const re=this._actual.tokenizeEncoded(z,j);return new y.EncodedTokenizationResult(re.tokens,re.endState)}}e.EncodedTokenizationSupportAdapter=a;class g{constructor(z,Q,j,re){this._languageId=z,this._actual=Q,this._languageService=j,this._standaloneThemeService=re}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(z,Q){const j=[];let re=0;for(let oe=0,he=z.length;oe<he;oe++){const me=z[oe];let pe=me.startIndex;oe===0?pe=0:pe<re&&(pe=re),j[oe]=new y.Token(pe,me.scopes,Q),re=pe}return j}static adaptTokenize(z,Q,j,re){const oe=Q.tokenize(j,re),he=g._toClassicTokens(oe.tokens,z);let me;return oe.endState.equals(re)?me=re:me=oe.endState,new y.TokenizationResult(he,me)}tokenize(z,Q,j){return g.adaptTokenize(this._languageId,this._actual,z,j)}_toBinaryTokens(z,Q){const j=z.encodeLanguageId(this._languageId),re=this._standaloneThemeService.getColorTheme().tokenTheme,oe=[];let he=0,me=0;for(let ve=0,we=Q.length;ve<we;ve++){const Le=Q[ve],Ee=re.match(j,Le.scopes)|1024;if(he>0&&oe[he-1]===Ee)continue;let Ae=Le.startIndex;ve===0?Ae=0:Ae<me&&(Ae=me),oe[he++]=Ae,oe[he++]=Ee,me=Ae}const pe=new Uint32Array(he);for(let ve=0;ve<he;ve++)pe[ve]=oe[ve];return pe}tokenizeEncoded(z,Q,j){const re=this._actual.tokenize(z,j),oe=this._toBinaryTokens(this._languageService.languageIdCodec,re.tokens);let he;return re.endState.equals(j)?he=j:he=re.endState,new y.EncodedTokenizationResult(oe,he)}}e.TokenizationSupportAdapter=g;function h(K){return typeof K.getInitialState=="function"}function p(K){return"tokenizeEncoded"in K}function b(K){return K&&typeof K.then=="function"}function w(K){const z=v.StandaloneServices.get(i.IStandaloneThemeService);if(K){const Q=[null];for(let j=1,re=K.length;j<re;j++)Q[j]=L.Color.fromHex(K[j]);z.setColorMapOverride(Q)}else z.setColorMapOverride(null)}e.setColorMap=w;function E(K,z){return p(z)?new a(K,z):new g(K,z,v.StandaloneServices.get(m.ILanguageService),v.StandaloneServices.get(i.IStandaloneThemeService))}function k(K,z){const Q=new y.LazyTokenizationSupport(()=>be(this,void 0,void 0,function*(){const j=yield Promise.resolve(z.create());return j?h(j)?E(K,j):new s.MonarchTokenizer(v.StandaloneServices.get(m.ILanguageService),v.StandaloneServices.get(i.IStandaloneThemeService),K,(0,C.compile)(K,j),v.StandaloneServices.get(r.IConfigurationService)):null}));return y.TokenizationRegistry.registerFactory(K,Q)}e.registerTokensProviderFactory=k;function M(K,z){if(!v.StandaloneServices.get(m.ILanguageService).isRegisteredLanguageId(K))throw new Error(`Cannot set tokens provider for unknown language ${K}`);return b(z)?k(K,{create:()=>z}):y.TokenizationRegistry.register(K,E(K,z))}e.setTokensProvider=M;function R(K,z){const Q=j=>new s.MonarchTokenizer(v.StandaloneServices.get(m.ILanguageService),v.StandaloneServices.get(i.IStandaloneThemeService),K,(0,C.compile)(K,j),v.StandaloneServices.get(r.IConfigurationService));return b(z)?k(K,{create:()=>z}):y.TokenizationRegistry.register(K,Q(z))}e.setMonarchTokensProvider=R;function B(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).referenceProvider.register(K,z)}e.registerReferenceProvider=B;function T(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).renameProvider.register(K,z)}e.registerRenameProvider=T;function N(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).signatureHelpProvider.register(K,z)}e.registerSignatureHelpProvider=N;function A(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).hoverProvider.register(K,{provideHover:(j,re,oe)=>{const he=j.getWordAtPosition(re);return Promise.resolve(z.provideHover(j,re,oe)).then(me=>{if(me)return!me.range&&he&&(me.range=new I.Range(re.lineNumber,he.startColumn,re.lineNumber,he.endColumn)),me.range||(me.range=new I.Range(re.lineNumber,re.column,re.lineNumber,re.column)),me})}})}e.registerHoverProvider=A;function P(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentSymbolProvider.register(K,z)}e.registerDocumentSymbolProvider=P;function O(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentHighlightProvider.register(K,z)}e.registerDocumentHighlightProvider=O;function x(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).linkedEditingRangeProvider.register(K,z)}e.registerLinkedEditingRangeProvider=x;function W(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).definitionProvider.register(K,z)}e.registerDefinitionProvider=W;function U(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).implementationProvider.register(K,z)}e.registerImplementationProvider=U;function F(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).typeDefinitionProvider.register(K,z)}e.registerTypeDefinitionProvider=F;function G(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).codeLensProvider.register(K,z)}e.registerCodeLensProvider=G;function Y(K,z,Q){return v.StandaloneServices.get(t.ILanguageFeaturesService).codeActionProvider.register(K,{providedCodeActionKinds:Q?.providedCodeActionKinds,documentation:Q?.documentation,provideCodeActions:(re,oe,he,me)=>{const ve=v.StandaloneServices.get(n.IMarkerService).read({resource:re.uri}).filter(we=>I.Range.areIntersectingOrTouching(we,oe));return z.provideCodeActions(re,oe,{markers:ve,only:he.only,trigger:he.trigger},me)},resolveCodeAction:z.resolveCodeAction})}e.registerCodeActionProvider=Y;function ne(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentFormattingEditProvider.register(K,z)}e.registerDocumentFormattingEditProvider=ne;function se(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(K,z)}e.registerDocumentRangeFormattingEditProvider=se;function J(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).onTypeFormattingEditProvider.register(K,z)}e.registerOnTypeFormattingEditProvider=J;function q(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).linkProvider.register(K,z)}e.registerLinkProvider=q;function H(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).completionProvider.register(K,z)}e.registerCompletionItemProvider=H;function V(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).colorProvider.register(K,z)}e.registerColorProvider=V;function Z(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).foldingRangeProvider.register(K,z)}e.registerFoldingRangeProvider=Z;function ee(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).declarationProvider.register(K,z)}e.registerDeclarationProvider=ee;function le(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).selectionRangeProvider.register(K,z)}e.registerSelectionRangeProvider=le;function ue(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentSemanticTokensProvider.register(K,z)}e.registerDocumentSemanticTokensProvider=ue;function de(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(K,z)}e.registerDocumentRangeSemanticTokensProvider=de;function ce(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlineCompletionsProvider.register(K,z)}e.registerInlineCompletionsProvider=ce;function ae(K,z){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlayHintsProvider.register(K,z)}e.registerInlayHintsProvider=ae;function X(){return{register:u,getLanguages:f,onLanguage:l,onLanguageEncountered:o,getEncodedLanguageId:d,setLanguageConfiguration:c,setColorMap:w,registerTokensProviderFactory:k,setTokensProvider:M,setMonarchTokensProvider:R,registerReferenceProvider:B,registerRenameProvider:T,registerCompletionItemProvider:H,registerSignatureHelpProvider:N,registerHoverProvider:A,registerDocumentSymbolProvider:P,registerDocumentHighlightProvider:O,registerLinkedEditingRangeProvider:x,registerDefinitionProvider:W,registerImplementationProvider:U,registerTypeDefinitionProvider:F,registerCodeLensProvider:G,registerCodeActionProvider:Y,registerDocumentFormattingEditProvider:ne,registerDocumentRangeFormattingEditProvider:se,registerOnTypeFormattingEditProvider:J,registerLinkProvider:q,registerColorProvider:V,registerFoldingRangeProvider:Z,registerDeclarationProvider:ee,registerSelectionRangeProvider:le,registerDocumentSemanticTokensProvider:ue,registerDocumentRangeSemanticTokensProvider:de,registerInlineCompletionsProvider:ce,registerInlayHintsProvider:ae,DocumentHighlightKind:_.DocumentHighlightKind,CompletionItemKind:_.CompletionItemKind,CompletionItemTag:_.CompletionItemTag,CompletionItemInsertTextRule:_.CompletionItemInsertTextRule,SymbolKind:_.SymbolKind,SymbolTag:_.SymbolTag,IndentAction:_.IndentAction,CompletionTriggerKind:_.CompletionTriggerKind,SignatureHelpTriggerKind:_.SignatureHelpTriggerKind,InlayHintKind:_.InlayHintKind,InlineCompletionTriggerKind:_.InlineCompletionTriggerKind,CodeActionTriggerType:_.CodeActionTriggerType,FoldingRangeKind:y.FoldingRangeKind,SelectedSuggestionInfo:y.SelectedSuggestionInfo}}e.createMonacoLanguagesAPI=X}),define(te[924],ie([1,0,39,331,922,923,355]),function($,e,L,I,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,L.EditorOptions.wrappingIndent.defaultValue=0,L.EditorOptions.glyphMargin.defaultValue=!1,L.EditorOptions.autoIndent.defaultValue=3,L.EditorOptions.overviewRulerLanes.defaultValue=2,S.FormattingConflicts.setFormatterSelector((v,C,s)=>Promise.resolve(v[0]));const m=(0,I.createMonacoBaseAPI)();m.editor=(0,y.createMonacoEditorAPI)(),m.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=m.CancellationTokenSource,e.Emitter=m.Emitter,e.KeyCode=m.KeyCode,e.KeyMod=m.KeyMod,e.Position=m.Position,e.Range=m.Range,e.Selection=m.Selection,e.SelectionDirection=m.SelectionDirection,e.MarkerSeverity=m.MarkerSeverity,e.MarkerTag=m.MarkerTag,e.Uri=m.Uri,e.Token=m.Token,e.editor=m.editor,e.languages=m.languages;const _=globalThis.MonacoEnvironment;(_?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=m),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Ci=this&&this.__createBinding||(Object.create?function($,e,L,I){I===void 0&&(I=L);var y=Object.getOwnPropertyDescriptor(e,L);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[L]}}),Object.defineProperty($,I,y)}:function($,e,L,I){I===void 0&&(I=L),$[I]=e[L]}),bi=this&&this.__exportStar||function($,e){for(var L in $)L!=="default"&&!Object.prototype.hasOwnProperty.call(e,L)&&Ci(e,$,L)};define(te[926],ie([1,0,924,920,816,817,786,861,862,821,907,864]),function($,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),bi(L,e)})}).call(this);


"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,s)=>(typeof require!="undefined"?require:r)[s]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var m=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(m(e,r,"default"),s&&m(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},m(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},u={},l=class{static getOrCreate(r){return u[r]||(u[r]=new l(r)),u[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=l.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,a){this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var r=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var g=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var D=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var n in e)r(o,n,{get:e[n],enumerable:!0})},s=(o,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!C.call(o,i)&&i!==n&&r(o,i,{get:()=>e[i],enumerable:!(a=y(e,i))||a.enumerable});return o},u=(o,e,n)=>(s(o,e,"default"),n&&s(n,e,"default")),c=(o,e,n)=>(n=o!=null?p(v(o)):{},s(e||!o||!o.__esModule?r(n,"default",{value:o,enumerable:!0}):n,o)),O=o=>s(r({},"__esModule",{value:!0}),o);var f=D((w,m)=>{var M=c(g("vs/editor/editor.api"));m.exports=M});var R={};b(R,{jsonDefaults:()=>d});var t={};u(t,c(f()));var l=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(e,n,a){this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},j={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},S={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new l("json",j,S);t.languages.json={jsonDefaults:d};function _(){return new Promise((o,e)=>{g(["vs/language/json/jsonMode"],o,e)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(o=>o.setupMode(d))});return O(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var N=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)d(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&d(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?d(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(d({},"__esModule",{value:!0}),n);var _=w((B,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="5.0.2";var l={};D(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),m=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;_modeConfiguration;constructor(e,t,i,r,p){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];!p||p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map