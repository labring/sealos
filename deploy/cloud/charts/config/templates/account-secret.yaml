{{- if .Values.payment.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: payment-secret
  namespace: account-system
stringData:
  {{- if .Values.payment.wechat.enabled }}
  MchID: "{{ .Values.payment.wechat.MchID }}"
  AppID: "{{ .Values.payment.wechat.AppID }}"
  MchAPIv3Key: "{{ .Values.payment.wechat.MchAPIv3Key }}"
  MchCertificateSerialNumber: "{{ .Values.payment.wechat.MchCertificateSerialNumber }}"
  WechatPrivateKey: {{ .Files.Get "files/WechatPrivateKey" | b64enc | quote }}
  {{- end }}
  {{- if .Values.payment.alipay.enabled }}
  ALIPAY_APP_ID: "{{ .Values.payment.alipay.ALIPAY_APP_ID }}"
  ALIPAY_ROOT_CERT: {{ .Files.Get "files/ALIPAY_ROOT_CERT" | b64enc | quote }}
  ALIPAY_PRIVATE_KEY: {{ .Files.Get "files/ALIPAY_PRIVATE_KEY" | b64enc | quote }}
  ALIPAY_CERT_PUBLIC_KEY: {{ .Files.Get "files/ALIPAY_CERT_PUBLIC_KEY" | b64enc | quote }}
  ALIPAY_APP_CERT_PUBLIC_KEY: {{ .Files.Get "files/ALIPAY_APP_CERT_PUBLIC_KEY" | b64enc | quote }}
  {{- end }}
  {{- if .Values.payment.stripe.enabled }}
  STRIPE_API_KEY: "{{ .Values.payment.stripe.STRIPE_API_KEY }}"
  STRIPE_SUCCESS_POSTFIX: "{{ .Values.payment.stripe.STRIPE_SUCCESS_POSTFIX }}"
  STRIPE_CANCEL_POSTFIX: "{{ .Values.payment.stripe.STRIPE_CANCEL_POSTFIX }}"
  STRIPE_CURRENCY: "{{ .Values.payment.stripe.STRIPE_CURRENCY }}"
  {{- end }}
{{- end }}